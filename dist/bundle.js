/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/blockly/blockly.js":
/*!*****************************************!*\
  !*** ./node_modules/blockly/blockly.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */
;(function(root, factory) {
  if (true) { // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
}(this, function() {
// Do not edit this file; automatically generated by gulp.
'use strict';var Blockly={constants:{},LINE_MODE_MULTIPLIER:40,PAGE_MODE_MULTIPLIER:125,DRAG_RADIUS:5,FLYOUT_DRAG_RADIUS:10,SNAP_RADIUS:28};Blockly.CONNECTING_SNAP_RADIUS=Blockly.SNAP_RADIUS;Blockly.CURRENT_CONNECTION_PREFERENCE=8;Blockly.BUMP_DELAY=250;Blockly.BUMP_RANDOMNESS=10;Blockly.COLLAPSE_CHARS=30;Blockly.LONGPRESS=750;Blockly.SOUND_LIMIT=100;Blockly.DRAG_STACK=!0;Blockly.HSV_SATURATION=.45;Blockly.HSV_VALUE=.65;Blockly.SPRITE={width:96,height:124,url:"sprites.png"};Blockly.INPUT_VALUE=1;
Blockly.OUTPUT_VALUE=2;Blockly.NEXT_STATEMENT=3;Blockly.PREVIOUS_STATEMENT=4;Blockly.DUMMY_INPUT=5;Blockly.ALIGN_LEFT=-1;Blockly.ALIGN_CENTRE=0;Blockly.ALIGN_RIGHT=1;Blockly.DRAG_NONE=0;Blockly.DRAG_STICKY=1;Blockly.DRAG_BEGIN=1;Blockly.DRAG_FREE=2;Blockly.OPPOSITE_TYPE=[];Blockly.OPPOSITE_TYPE[Blockly.INPUT_VALUE]=Blockly.OUTPUT_VALUE;Blockly.OPPOSITE_TYPE[Blockly.OUTPUT_VALUE]=Blockly.INPUT_VALUE;Blockly.OPPOSITE_TYPE[Blockly.NEXT_STATEMENT]=Blockly.PREVIOUS_STATEMENT;
Blockly.OPPOSITE_TYPE[Blockly.PREVIOUS_STATEMENT]=Blockly.NEXT_STATEMENT;Blockly.TOOLBOX_AT_TOP=0;Blockly.TOOLBOX_AT_BOTTOM=1;Blockly.TOOLBOX_AT_LEFT=2;Blockly.TOOLBOX_AT_RIGHT=3;Blockly.DELETE_AREA_NONE=null;Blockly.DELETE_AREA_TRASH=1;Blockly.DELETE_AREA_TOOLBOX=2;Blockly.VARIABLE_CATEGORY_NAME="VARIABLE";Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC";Blockly.PROCEDURE_CATEGORY_NAME="PROCEDURE";Blockly.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID";Blockly.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID";Blockly.utils={};Blockly.utils.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();Blockly.Msg={};Blockly.utils.global.Blockly||(Blockly.utils.global.Blockly={});Blockly.utils.global.Blockly.Msg||(Blockly.utils.global.Blockly.Msg=Blockly.Msg);Blockly.utils.colour={};
Blockly.utils.colour.parse=function(a){a=String(a).toLowerCase().trim();var b=Blockly.utils.colour.names[a];if(b)return b;b="0x"==a.substring(0,2)?"#"+a.substring(2):a;b="#"==b[0]?b:"#"+b;if(/^#[0-9a-f]{6}$/.test(b))return b;if(/^#[0-9a-f]{3}$/.test(b))return["#",b[1],b[1],b[2],b[2],b[3],b[3]].join("");var c=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return c&&(a=Number(c[1]),b=Number(c[2]),c=Number(c[3]),0<=a&&256>a&&0<=b&&256>b&&0<=c&&256>c)?Blockly.utils.colour.rgbToHex(a,b,
c):null};Blockly.utils.colour.rgbToHex=function(a,b,c){b=a<<16|b<<8|c;return 16>a?"#"+(16777216|b).toString(16).substr(1):"#"+b.toString(16)};Blockly.utils.colour.hexToRgb=function(a){a=Blockly.utils.colour.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
Blockly.utils.colour.hsvToHex=function(a,b,c){var d=0,e=0,f=0;if(0==b)f=e=d=c;else{var g=Math.floor(a/60),h=a/60-g;a=c*(1-b);var k=c*(1-b*h);b=c*(1-b*(1-h));switch(g){case 1:d=k;e=c;f=a;break;case 2:d=a;e=c;f=b;break;case 3:d=a;e=k;f=c;break;case 4:d=b;e=a;f=c;break;case 5:d=c;e=a;f=k;break;case 6:case 0:d=c,e=b,f=a}}return Blockly.utils.colour.rgbToHex(Math.floor(d),Math.floor(e),Math.floor(f))};
Blockly.utils.colour.blend=function(a,b,c){a=Blockly.utils.colour.parse(a);if(!a)return null;b=Blockly.utils.colour.parse(b);if(!b)return null;a=Blockly.utils.colour.hexToRgb(a);b=Blockly.utils.colour.hexToRgb(b);return Blockly.utils.colour.rgbToHex(Math.round(b[0]+c*(a[0]-b[0])),Math.round(b[1]+c*(a[1]-b[1])),Math.round(b[2]+c*(a[2]-b[2])))};
Blockly.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};Blockly.utils.Coordinate=function(a,b){this.x=a;this.y=b};Blockly.utils.Coordinate.equals=function(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1};Blockly.utils.Coordinate.distance=function(a,b){var c=a.x-b.x;a=a.y-b.y;return Math.sqrt(c*c+a*a)};Blockly.utils.Coordinate.magnitude=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};Blockly.utils.Coordinate.difference=function(a,b){return new Blockly.utils.Coordinate(a.x-b.x,a.y-b.y)};
Blockly.utils.Coordinate.sum=function(a,b){return new Blockly.utils.Coordinate(a.x+b.x,a.y+b.y)};Blockly.utils.Coordinate.prototype.scale=function(a){this.x*=a;this.y*=a;return this};Blockly.utils.Coordinate.prototype.translate=function(a,b){this.x+=a;this.y+=b;return this};Blockly.utils.string={};Blockly.utils.string.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};Blockly.utils.string.shortestStringLength=function(a){return a.length?a.reduce(function(a,c){return a.length<c.length?a:c}).length:0};
Blockly.utils.string.commonWordPrefix=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||Blockly.utils.string.shortestStringLength(a);for(var d=0;d<b;d++){for(var e=a[0][d],f=1;f<a.length;f++)if(e!=a[f][d])return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f][d])&&" "!=e)return c;return b};
Blockly.utils.string.commonWordSuffix=function(a,b){if(!a.length)return 0;if(1==a.length)return a[0].length;var c=0;b=b||Blockly.utils.string.shortestStringLength(a);for(var d=0;d<b;d++){for(var e=a[0].substr(-d-1,1),f=1;f<a.length;f++)if(e!=a[f].substr(-d-1,1))return c;" "==e&&(c=d+1)}for(f=1;f<a.length;f++)if((e=a[f].charAt(a[f].length-d-1))&&" "!=e)return c;return b};Blockly.utils.string.wrap=function(a,b){a=a.split("\n");for(var c=0;c<a.length;c++)a[c]=Blockly.utils.string.wrapLine_(a[c],b);return a.join("\n")};
Blockly.utils.string.wrapLine_=function(a,b){if(a.length<=b)return a;for(var c=a.trim().split(/\s+/),d=0;d<c.length;d++)c[d].length>b&&(b=c[d].length);d=-Infinity;var e=1;do{var f=d;var g=a;a=[];var h=c.length/e,k=1;for(d=0;d<c.length-1;d++)k<(d+1.5)/h?(k++,a[d]=!0):a[d]=!1;a=Blockly.utils.string.wrapMutate_(c,a,b);d=Blockly.utils.string.wrapScore_(c,a,b);a=Blockly.utils.string.wrapToText_(c,a);e++}while(d>f);return g};
Blockly.utils.string.wrapScore_=function(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++)d[d.length-1]+=a[f].length,!0===b[f]?(d.push(0),e.push(a[f].charAt(a[f].length-1))):!1===b[f]&&d[d.length-1]++;a=Math.max.apply(Math,d);for(f=b=0;f<d.length;f++)b-=2*Math.pow(Math.abs(c-d[f]),1.5),b-=Math.pow(a-d[f],1.5),-1!=".?!".indexOf(e[f])?b+=c/3:-1!=",;)]}".indexOf(e[f])&&(b+=c/4);1<d.length&&d[d.length-1]<=d[d.length-2]&&(b+=.5);return b};
Blockly.utils.string.wrapMutate_=function(a,b,c){for(var d=Blockly.utils.string.wrapScore_(a,b,c),e,f=0;f<b.length-1;f++)if(b[f]!=b[f+1]){var g=[].concat(b);g[f]=!g[f];g[f+1]=!g[f+1];var h=Blockly.utils.string.wrapScore_(a,g,c);h>d&&(d=h,e=g)}return e?Blockly.utils.string.wrapMutate_(a,e,c):b};Blockly.utils.string.wrapToText_=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]),void 0!==b[d]&&c.push(b[d]?"\n":" ");return c.join("")};Blockly.utils.Size=function(a,b){this.width=a;this.height=b};Blockly.utils.Size.equals=function(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1};Blockly.utils.style={};Blockly.utils.style.getSize=function(a){if("none"!=Blockly.utils.style.getStyle_(a,"display"))return Blockly.utils.style.getSizeWithDisplay_(a);var b=a.style,c=b.display,d=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";var f=a.offsetWidth;a=a.offsetHeight;b.display=c;b.position=e;b.visibility=d;return new Blockly.utils.Size(f,a)};Blockly.utils.style.getSizeWithDisplay_=function(a){return new Blockly.utils.Size(a.offsetWidth,a.offsetHeight)};
Blockly.utils.style.getStyle_=function(a,b){return Blockly.utils.style.getComputedStyle(a,b)||Blockly.utils.style.getCascadedStyle(a,b)||a.style&&a.style[b]};Blockly.utils.style.getComputedStyle=function(a,b){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[b]||a.getPropertyValue(b)||"":""};Blockly.utils.style.getCascadedStyle=function(a,b){return a.currentStyle?a.currentStyle[b]:null};
Blockly.utils.style.getPageOffset=function(a){var b=new Blockly.utils.Coordinate(0,0);a=a.getBoundingClientRect();var c=document.documentElement;c=new Blockly.utils.Coordinate(window.pageXOffset||c.scrollLeft,window.pageYOffset||c.scrollTop);b.x=a.left+c.x;b.y=a.top+c.y;return b};Blockly.utils.style.getViewportPageOffset=function(){var a=document.body,b=document.documentElement;return new Blockly.utils.Coordinate(a.scrollLeft||b.scrollLeft,a.scrollTop||b.scrollTop)};
Blockly.utils.style.setElementShown=function(a,b){a.style.display=b?"":"none"};Blockly.utils.style.isRightToLeft=function(a){return"rtl"==Blockly.utils.style.getStyle_(a,"direction")};
Blockly.utils.style.getBorderBox=function(a){var b=Blockly.utils.style.getComputedStyle(a,"borderLeftWidth"),c=Blockly.utils.style.getComputedStyle(a,"borderRightWidth"),d=Blockly.utils.style.getComputedStyle(a,"borderTopWidth");a=Blockly.utils.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(d),right:parseFloat(c),bottom:parseFloat(a),left:parseFloat(b)}};
Blockly.utils.style.scrollIntoContainerView=function(a,b,c){a=Blockly.utils.style.getContainerOffsetToScrollInto(a,b,c);b.scrollLeft=a.x;b.scrollTop=a.y};
Blockly.utils.style.getContainerOffsetToScrollInto=function(a,b,c){var d=Blockly.utils.style.getPageOffset(a),e=Blockly.utils.style.getPageOffset(b),f=Blockly.utils.style.getBorderBox(b),g=d.x-e.x-f.left;d=d.y-e.y-f.top;e=Blockly.utils.style.getSizeWithDisplay_(a);a=b.clientWidth-e.width;e=b.clientHeight-e.height;f=b.scrollLeft;b=b.scrollTop;c?(f+=g-a/2,b+=d-e/2):(f+=Math.min(g,Math.max(g-a,0)),b+=Math.min(d,Math.max(d-e,0)));return new Blockly.utils.Coordinate(f,b)};Blockly.utils.userAgent={};
(function(a){function b(a){return-1!=c.indexOf(a.toUpperCase())}Blockly.utils.userAgent.raw=a;var c=Blockly.utils.userAgent.raw.toUpperCase();Blockly.utils.userAgent.IE=b("Trident")||b("MSIE");Blockly.utils.userAgent.EDGE=b("Edge");Blockly.utils.userAgent.JAVA_FX=b("JavaFX");Blockly.utils.userAgent.CHROME=(b("Chrome")||b("CriOS"))&&!Blockly.utils.userAgent.EDGE;Blockly.utils.userAgent.WEBKIT=b("WebKit")&&!Blockly.utils.userAgent.EDGE;Blockly.utils.userAgent.GECKO=b("Gecko")&&!Blockly.utils.userAgent.WEBKIT&&
!Blockly.utils.userAgent.IE&&!Blockly.utils.userAgent.EDGE;Blockly.utils.userAgent.ANDROID=b("Android");Blockly.utils.userAgent.IPAD=b("iPad");Blockly.utils.userAgent.IPOD=b("iPod");Blockly.utils.userAgent.IPHONE=b("iPhone")&&!Blockly.utils.userAgent.IPAD&&!Blockly.utils.userAgent.IPOD;Blockly.utils.userAgent.MAC=b("Macintosh");Blockly.utils.userAgent.TABLET=Blockly.utils.userAgent.IPAD||Blockly.utils.userAgent.ANDROID&&!b("Mobile")||b("Silk");Blockly.utils.userAgent.MOBILE=!Blockly.utils.userAgent.TABLET&&
(Blockly.utils.userAgent.IPOD||Blockly.utils.userAgent.IPHONE||Blockly.utils.userAgent.ANDROID||b("IEMobile"))})(Blockly.utils.global.navigator&&Blockly.utils.global.navigator.userAgent||"");Blockly.utils.noEvent=function(a){a.preventDefault();a.stopPropagation()};Blockly.utils.isTargetInput=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable};
Blockly.utils.getRelativeXY=function(a){var b=new Blockly.utils.Coordinate(0,0),c=a.getAttribute("x");c&&(b.x=parseInt(c,10));if(c=a.getAttribute("y"))b.y=parseInt(c,10);if(c=(c=a.getAttribute("transform"))&&c.match(Blockly.utils.getRelativeXY.XY_REGEX_))b.x+=Number(c[1]),c[3]&&(b.y+=Number(c[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(Blockly.utils.getRelativeXY.XY_STYLE_REGEX_))&&(b.x+=Number(a[1]),a[3]&&(b.y+=Number(a[3])));return b};
Blockly.utils.getInjectionDivXY_=function(a){for(var b=0,c=0;a;){var d=Blockly.utils.getRelativeXY(a);b+=d.x;c+=d.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new Blockly.utils.Coordinate(b,c)};Blockly.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;Blockly.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;
Blockly.utils.isRightButton=function(a){return a.ctrlKey&&Blockly.utils.userAgent.MAC?!0:2==a.button};Blockly.utils.mouseToSvg=function(a,b,c){var d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());return d.matrixTransform(c)};
Blockly.utils.getScrollDeltaPixels=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*Blockly.LINE_MODE_MULTIPLIER,y:a.deltaY*Blockly.LINE_MODE_MULTIPLIER};case 2:return{x:a.deltaX*Blockly.PAGE_MODE_MULTIPLIER,y:a.deltaY*Blockly.PAGE_MODE_MULTIPLIER}}};Blockly.utils.tokenizeInterpolation=function(a){return Blockly.utils.tokenizeInterpolation_(a,!0)};
Blockly.utils.replaceMessageReferences=function(a){if("string"!=typeof a)return a;a=Blockly.utils.tokenizeInterpolation_(a,!1);return a.length?String(a[0]):""};Blockly.utils.checkMessageReferences=function(a){for(var b=!0,c=Blockly.Msg,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++){var f=d[e].toUpperCase();void 0==c[f.slice(6,-1)]&&(console.log("WARNING: No message string for "+d[e]+" in "+a),b=!1)}return b};
Blockly.utils.tokenizeInterpolation_=function(a,b){var c=[],d=a.split("");d.push("");var e=0;a=[];for(var f=null,g=0;g<d.length;g++){var h=d[g];0==e?"%"==h?((h=a.join(""))&&c.push(h),a.length=0,e=1):a.push(h):1==e?"%"==h?(a.push(h),e=0):b&&"0"<=h&&"9">=h?(e=2,f=h,(h=a.join(""))&&c.push(h),a.length=0):"{"==h?e=3:(a.push("%",h),e=0):2==e?"0"<=h&&"9">=h?f+=h:(c.push(parseInt(f,10)),g--,e=0):3==e&&(""==h?(a.splice(0,0,"%{"),g--,e=0):"}"!=h?a.push(h):(e=a.join(""),/[A-Z]\w*/i.test(e)?(h=e.toUpperCase(),
(h=Blockly.utils.string.startsWith(h,"BKY_")?h.substring(4):null)&&h in Blockly.Msg?(e=Blockly.Msg[h],"string"==typeof e?Array.prototype.push.apply(c,Blockly.utils.tokenizeInterpolation_(e,b)):b?c.push(String(e)):c.push(e)):c.push("%{"+e+"}")):c.push("%{"+e+"}"),e=a.length=0))}(h=a.join(""))&&c.push(h);b=[];for(g=a.length=0;g<c.length;++g)"string"==typeof c[g]?a.push(c[g]):((h=a.join(""))&&b.push(h),a.length=0,b.push(c[g]));(h=a.join(""))&&b.push(h);a.length=0;return b};
Blockly.utils.genUid=function(){for(var a=Blockly.utils.genUid.soup_.length,b=[],c=0;20>c;c++)b[c]=Blockly.utils.genUid.soup_.charAt(Math.random()*a);return b.join("")};Blockly.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
Blockly.utils.is3dSupported=function(){if(void 0!==Blockly.utils.is3dSupported.cached_)return Blockly.utils.is3dSupported.cached_;if(!Blockly.utils.global.getComputedStyle)return!1;var a=document.createElement("p"),b="none",c={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var d in c)if(void 0!==a.style[d]){a.style[d]="translate3d(1px,1px,1px)";b=Blockly.utils.global.getComputedStyle(a);
if(!b)return document.body.removeChild(a),!1;b=b.getPropertyValue(c[d])}document.body.removeChild(a);Blockly.utils.is3dSupported.cached_="none"!==b;return Blockly.utils.is3dSupported.cached_};Blockly.utils.runAfterPageLoad=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var b=setInterval(function(){"complete"==document.readyState&&(clearInterval(b),a())},10)};
Blockly.utils.getViewportBBox=function(){var a=Blockly.utils.style.getViewportPageOffset();return{right:document.documentElement.clientWidth+a.x,bottom:document.documentElement.clientHeight+a.y,top:a.y,left:a.x}};Blockly.utils.arrayRemove=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};
Blockly.utils.getDocumentScroll=function(){var a=document.documentElement,b=window;return Blockly.utils.userAgent.IE&&b.pageYOffset!=a.scrollTop?new Blockly.utils.Coordinate(a.scrollLeft,a.scrollTop):new Blockly.utils.Coordinate(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)};Blockly.utils.getBlockTypeCounts=function(a,b){var c=Object.create(null),d=a.getDescendants(!0);b&&(a=a.getNextBlock())&&(a=d.indexOf(a),d.splice(a,d.length-a));for(a=0;b=d[a];a++)c[b.type]?c[b.type]++:c[b.type]=1;return c};
Blockly.utils.screenToWsCoordinates=function(a,b){var c=b.x;b=b.y;var d=a.getInjectionDiv().getBoundingClientRect();c=new Blockly.utils.Coordinate(c-d.left,b-d.top);b=a.getOriginOffsetInPixels();return Blockly.utils.Coordinate.difference(c,b).scale(1/a.scale)};
Blockly.utils.parseBlockColour=function(a){var b="string"==typeof a?Blockly.utils.replaceMessageReferences(a):a,c=Number(b);if(!isNaN(c)&&0<=c&&360>=c)return{hue:c,hex:Blockly.utils.colour.hsvToHex(c,Blockly.HSV_SATURATION,255*Blockly.HSV_VALUE)};if(c=Blockly.utils.colour.parse(b))return{hue:null,hex:c};c='Invalid colour: "'+b+'"';a!=b&&(c+=' (from "'+a+'")');throw Error(c);};Blockly.Events={};Blockly.Events.group_="";Blockly.Events.recordUndo=!0;Blockly.Events.disabled_=0;Blockly.Events.CREATE="create";Blockly.Events.BLOCK_CREATE=Blockly.Events.CREATE;Blockly.Events.DELETE="delete";Blockly.Events.BLOCK_DELETE=Blockly.Events.DELETE;Blockly.Events.CHANGE="change";Blockly.Events.BLOCK_CHANGE=Blockly.Events.CHANGE;Blockly.Events.MOVE="move";Blockly.Events.BLOCK_MOVE=Blockly.Events.MOVE;Blockly.Events.VAR_CREATE="var_create";Blockly.Events.VAR_DELETE="var_delete";
Blockly.Events.VAR_RENAME="var_rename";Blockly.Events.UI="ui";Blockly.Events.COMMENT_CREATE="comment_create";Blockly.Events.COMMENT_DELETE="comment_delete";Blockly.Events.COMMENT_CHANGE="comment_change";Blockly.Events.COMMENT_MOVE="comment_move";Blockly.Events.FINISHED_LOADING="finished_loading";Blockly.Events.BUMP_EVENTS=[Blockly.Events.BLOCK_CREATE,Blockly.Events.BLOCK_MOVE,Blockly.Events.COMMENT_CREATE,Blockly.Events.COMMENT_MOVE];Blockly.Events.FIRE_QUEUE_=[];
Blockly.Events.fire=function(a){Blockly.Events.isEnabled()&&(Blockly.Events.FIRE_QUEUE_.length||setTimeout(Blockly.Events.fireNow_,0),Blockly.Events.FIRE_QUEUE_.push(a))};Blockly.Events.fireNow_=function(){for(var a=Blockly.Events.filter(Blockly.Events.FIRE_QUEUE_,!0),b=Blockly.Events.FIRE_QUEUE_.length=0,c;c=a[b];b++)if(c.workspaceId){var d=Blockly.Workspace.getById(c.workspaceId);d&&d.fireChangeListener(c)}};
Blockly.Events.filter=function(a,b){a=a.slice();b||a.reverse();for(var c=[],d=Object.create(null),e=0,f;f=a[e];e++)if(!f.isNull()){var g=[f.type,f.blockId,f.workspaceId].join(" "),h=d[g],k=h?h.event:null;if(!h)d[g]={event:f,index:e},c.push(f);else if(f.type==Blockly.Events.MOVE&&h.index==e-1)k.newParentId=f.newParentId,k.newInputName=f.newInputName,k.newCoordinate=f.newCoordinate,h.index=e;else if(f.type==Blockly.Events.CHANGE&&f.element==k.element&&f.name==k.name)k.newValue=f.newValue;else if(f.type!=
Blockly.Events.UI||"click"!=f.element||"commentOpen"!=k.element&&"mutatorOpen"!=k.element&&"warningOpen"!=k.element)d[g]={event:f,index:1},c.push(f)}a=c.filter(function(a){return!a.isNull()});b||a.reverse();for(e=1;f=a[e];e++)f.type==Blockly.Events.CHANGE&&"mutation"==f.element&&a.unshift(a.splice(e,1)[0]);return a};Blockly.Events.clearPendingUndo=function(){for(var a=0,b;b=Blockly.Events.FIRE_QUEUE_[a];a++)b.recordUndo=!1};Blockly.Events.disable=function(){Blockly.Events.disabled_++};
Blockly.Events.enable=function(){Blockly.Events.disabled_--};Blockly.Events.isEnabled=function(){return 0==Blockly.Events.disabled_};Blockly.Events.getGroup=function(){return Blockly.Events.group_};Blockly.Events.setGroup=function(a){Blockly.Events.group_="boolean"==typeof a?a?Blockly.utils.genUid():"":a};Blockly.Events.getDescendantIds=function(a){var b=[];a=a.getDescendants(!1);for(var c=0,d;d=a[c];c++)b[c]=d.id;return b};
Blockly.Events.fromJson=function(a,b){switch(a.type){case Blockly.Events.CREATE:var c=new Blockly.Events.Create(null);break;case Blockly.Events.DELETE:c=new Blockly.Events.Delete(null);break;case Blockly.Events.CHANGE:c=new Blockly.Events.Change(null,"","","","");break;case Blockly.Events.MOVE:c=new Blockly.Events.Move(null);break;case Blockly.Events.VAR_CREATE:c=new Blockly.Events.VarCreate(null);break;case Blockly.Events.VAR_DELETE:c=new Blockly.Events.VarDelete(null);break;case Blockly.Events.VAR_RENAME:c=
new Blockly.Events.VarRename(null,"");break;case Blockly.Events.UI:c=new Blockly.Events.Ui(null,"","","");break;case Blockly.Events.COMMENT_CREATE:c=new Blockly.Events.CommentCreate(null);break;case Blockly.Events.COMMENT_CHANGE:c=new Blockly.Events.CommentChange(null,"","");break;case Blockly.Events.COMMENT_MOVE:c=new Blockly.Events.CommentMove(null);break;case Blockly.Events.COMMENT_DELETE:c=new Blockly.Events.CommentDelete(null);break;case Blockly.Events.FINISHED_LOADING:c=new Blockly.Events.FinishedLoading(b);
break;default:throw Error("Unknown event type.");}c.fromJson(a);c.workspaceId=b.id;return c};
Blockly.Events.disableOrphans=function(a){if((a.type==Blockly.Events.MOVE||a.type==Blockly.Events.CREATE)&&a.workspaceId){var b=Blockly.Workspace.getById(a.workspaceId);if(a=b.getBlockById(a.blockId)){var c=a.getParent();if(c&&c.isEnabled())for(b=a.getDescendants(!1),a=0;c=b[a];a++)c.setEnabled(!0);else if((a.outputConnection||a.previousConnection)&&!b.isDragging()){do a.setEnabled(!1),a=a.getNextBlock();while(a)}}}};Blockly.Events.Abstract=function(){this.workspaceId=void 0;this.group=Blockly.Events.getGroup();this.recordUndo=Blockly.Events.recordUndo};Blockly.Events.Abstract.prototype.toJson=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};Blockly.Events.Abstract.prototype.fromJson=function(a){this.group=a.group};Blockly.Events.Abstract.prototype.isNull=function(){return!1};Blockly.Events.Abstract.prototype.run=function(a){};
Blockly.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var a=Blockly.Workspace.getById(this.workspaceId);if(!a)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return a};Blockly.utils.object={};Blockly.utils.object.inherits=function(a,b){a.superClass_=b.prototype;a.prototype=Object.create(b.prototype);a.prototype.constructor=a};Blockly.utils.object.mixin=function(a,b){for(var c in b)a[c]=b[c]};Blockly.utils.object.deepMerge=function(a,b){for(var c in b)a[c]="object"===typeof b[c]?Blockly.utils.object.deepMerge(a[c]||Object.create(null),b[c]):b[c];return a};Blockly.utils.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(b){return a[b]})};Blockly.Events.Ui=function(a,b,c,d){Blockly.Events.Ui.superClass_.constructor.call(this);this.blockId=a?a.id:null;this.workspaceId=a?a.workspace.id:void 0;this.element=b;this.oldValue=c;this.newValue=d;this.recordUndo=!1};Blockly.utils.object.inherits(Blockly.Events.Ui,Blockly.Events.Abstract);Blockly.Events.Ui.prototype.type=Blockly.Events.UI;
Blockly.Events.Ui.prototype.toJson=function(){var a=Blockly.Events.Ui.superClass_.toJson.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.blockId&&(a.blockId=this.blockId);return a};Blockly.Events.Ui.prototype.fromJson=function(a){Blockly.Events.Ui.superClass_.fromJson.call(this,a);this.element=a.element;this.newValue=a.newValue;this.blockId=a.blockId};Blockly.utils.dom={};Blockly.utils.dom.SVG_NS="http://www.w3.org/2000/svg";Blockly.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml";Blockly.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink";Blockly.utils.dom.Node={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};Blockly.utils.dom.cacheWidths_=null;Blockly.utils.dom.cacheReference_=0;Blockly.utils.dom.canvasContext_=null;
Blockly.utils.dom.createSvgElement=function(a,b,c){a=document.createElementNS(Blockly.utils.dom.SVG_NS,a);for(var d in b)a.setAttribute(d,b[d]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);c&&c.appendChild(a);return a};Blockly.utils.dom.addClass=function(a,b){var c=a.getAttribute("class")||"";if(-1!=(" "+c+" ").indexOf(" "+b+" "))return!1;c&&(c+=" ");a.setAttribute("class",c+b);return!0};
Blockly.utils.dom.removeClass=function(a,b){var c=a.getAttribute("class");if(-1==(" "+c+" ").indexOf(" "+b+" "))return!1;c=c.split(/\s+/);for(var d=0;d<c.length;d++)c[d]&&c[d]!=b||(c.splice(d,1),d--);c.length?a.setAttribute("class",c.join(" ")):a.removeAttribute("class");return!0};Blockly.utils.dom.hasClass=function(a,b){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+b+" ")};Blockly.utils.dom.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};
Blockly.utils.dom.insertAfter=function(a,b){var c=b.nextSibling;b=b.parentNode;if(!b)throw Error("Reference node has no parent.");c?b.insertBefore(a,c):b.appendChild(a)};Blockly.utils.dom.containsNode=function(a,b){return!!(a.compareDocumentPosition(b)&Blockly.utils.dom.Node.DOCUMENT_POSITION_CONTAINED_BY)};Blockly.utils.dom.setCssTransform=function(a,b){a.style.transform=b;a.style["-webkit-transform"]=b};
Blockly.utils.dom.startTextWidthCache=function(){Blockly.utils.dom.cacheReference_++;Blockly.utils.dom.cacheWidths_||(Blockly.utils.dom.cacheWidths_={})};Blockly.utils.dom.stopTextWidthCache=function(){Blockly.utils.dom.cacheReference_--;Blockly.utils.dom.cacheReference_||(Blockly.utils.dom.cacheWidths_=null)};
Blockly.utils.dom.getTextWidth=function(a){var b=a.textContent+"\n"+a.className.baseVal,c;if(Blockly.utils.dom.cacheWidths_&&(c=Blockly.utils.dom.cacheWidths_[b]))return c;try{c=Blockly.utils.userAgent.IE||Blockly.utils.userAgent.EDGE?a.getBBox().width:a.getComputedTextLength()}catch(d){return 8*a.textContent.length}Blockly.utils.dom.cacheWidths_&&(Blockly.utils.dom.cacheWidths_[b]=c);return c};
Blockly.utils.dom.getFastTextWidth=function(a,b,c,d){return Blockly.utils.dom.getFastTextWidthWithSizeString(a,b+"pt",c,d)};
Blockly.utils.dom.getFastTextWidthWithSizeString=function(a,b,c,d){var e=a.textContent;a=e+"\n"+a.className.baseVal;var f;if(Blockly.utils.dom.cacheWidths_&&(f=Blockly.utils.dom.cacheWidths_[a]))return f;Blockly.utils.dom.canvasContext_||(f=document.createElement("canvas"),f.className="blocklyComputeCanvas",document.body.appendChild(f),Blockly.utils.dom.canvasContext_=f.getContext("2d"));Blockly.utils.dom.canvasContext_.font=c+" "+b+" "+d;f=Blockly.utils.dom.canvasContext_.measureText(e).width;Blockly.utils.dom.cacheWidths_&&
(Blockly.utils.dom.cacheWidths_[a]=f);return f};
Blockly.utils.dom.measureFontMetrics=function(a,b,c,d){var e=document.createElement("span");e.style.font=c+" "+b+" "+d;e.textContent=a;a=document.createElement("div");a.style.width="1px";a.style.height="0px";b=document.createElement("div");b.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");b.appendChild(e);b.appendChild(a);document.body.appendChild(b);try{c={},b.style.alignItems="baseline",c.baseline=a.offsetTop-e.offsetTop,b.style.alignItems="flex-end",c.height=a.offsetTop-
e.offsetTop}finally{document.body.removeChild(b)}return c};Blockly.BlockDragSurfaceSvg=function(a){this.container_=a;this.createDom()};Blockly.BlockDragSurfaceSvg.prototype.SVG_=null;Blockly.BlockDragSurfaceSvg.prototype.dragGroup_=null;Blockly.BlockDragSurfaceSvg.prototype.container_=null;Blockly.BlockDragSurfaceSvg.prototype.scale_=1;Blockly.BlockDragSurfaceSvg.prototype.surfaceXY_=null;
Blockly.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=Blockly.utils.dom.createSvgElement("svg",{xmlns:Blockly.utils.dom.SVG_NS,"xmlns:html":Blockly.utils.dom.HTML_NS,"xmlns:xlink":Blockly.utils.dom.XLINK_NS,version:"1.1","class":"blocklyBlockDragSurface"},this.container_),this.dragGroup_=Blockly.utils.dom.createSvgElement("g",{},this.SVG_))};
Blockly.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(a){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(a);this.SVG_.style.display="block";this.surfaceXY_=new Blockly.utils.Coordinate(0,0)};Blockly.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(a,b,c){this.scale_=c;a=a.toFixed(0);b=b.toFixed(0);this.dragGroup_.setAttribute("transform","translate("+a+","+b+") scale("+c+")")};
Blockly.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var a=this.surfaceXY_.x,b=this.surfaceXY_.y;a=a.toFixed(0);b=b.toFixed(0);this.SVG_.style.display="block";Blockly.utils.dom.setCssTransform(this.SVG_,"translate3d("+a+"px, "+b+"px, 0px)")};Blockly.BlockDragSurfaceSvg.prototype.translateSurface=function(a,b){this.surfaceXY_=new Blockly.utils.Coordinate(a*this.scale_,b*this.scale_);this.translateSurfaceInternal_()};
Blockly.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var a=Blockly.utils.getRelativeXY(this.SVG_);return new Blockly.utils.Coordinate(a.x/this.scale_,a.y/this.scale_)};Blockly.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_};Blockly.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild};
Blockly.BlockDragSurfaceSvg.prototype.clearAndHide=function(a){a?a.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock());this.SVG_.style.display="none";if(this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null};Blockly.utils.IdGenerator={};Blockly.utils.IdGenerator.nextId_=0;Blockly.utils.IdGenerator.getNextUniqueId=function(){return"blockly:"+(Blockly.utils.IdGenerator.nextId_++).toString(36)};Blockly.Component=function(){this.rightToLeft_=Blockly.Component.defaultRightToLeft;this.id_=null;this.inDocument_=!1;this.parent_=this.element_=null;this.children_=[];this.childIndex_={}};Blockly.Component.defaultRightToLeft=!1;Blockly.Component.Error={ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds"};Blockly.Component.prototype.getId=function(){return this.id_||(this.id_=Blockly.utils.IdGenerator.getNextUniqueId())};
Blockly.Component.prototype.getElement=function(){return this.element_};Blockly.Component.prototype.setElementInternal=function(a){this.element_=a};Blockly.Component.prototype.setParent=function(a){if(this==a)throw Error(Blockly.Component.Error.PARENT_UNABLE_TO_BE_SET);if(a&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=a)throw Error(Blockly.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=a};Blockly.Component.prototype.getParent=function(){return this.parent_};
Blockly.Component.prototype.isInDocument=function(){return this.inDocument_};Blockly.Component.prototype.createDom=function(){this.element_=document.createElement("div")};Blockly.Component.prototype.render=function(a){this.render_(a)};Blockly.Component.prototype.renderBefore=function(a){this.render_(a.parentNode,a)};
Blockly.Component.prototype.render_=function(a,b){if(this.inDocument_)throw Error(Blockly.Component.Error.ALREADY_RENDERED);this.element_||this.createDom();a?a.insertBefore(this.element_,b||null):document.body.appendChild(this.element_);this.parent_&&!this.parent_.isInDocument()||this.enterDocument()};Blockly.Component.prototype.enterDocument=function(){this.inDocument_=!0;this.forEachChild(function(a){!a.isInDocument()&&a.getElement()&&a.enterDocument()})};
Blockly.Component.prototype.exitDocument=function(){this.forEachChild(function(a){a.isInDocument()&&a.exitDocument()});this.inDocument_=!1};Blockly.Component.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())};
Blockly.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument();this.forEachChild(function(a){a.dispose()});this.element_&&Blockly.utils.dom.removeNode(this.element_);this.parent_=this.element_=this.childIndex_=this.children_=null};Blockly.Component.prototype.addChild=function(a,b){this.addChildAt(a,this.getChildCount(),b)};
Blockly.Component.prototype.addChildAt=function(a,b,c){if(a.inDocument_&&(c||!this.inDocument_))throw Error(Blockly.Component.Error.ALREADY_RENDERED);if(0>b||b>this.getChildCount())throw Error(Blockly.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);this.childIndex_[a.getId()]=a;if(a.getParent()==this){var d=this.children_.indexOf(a);-1<d&&this.children_.splice(d,1)}a.setParent(this);this.children_.splice(b,0,a);a.inDocument_&&this.inDocument_&&a.getParent()==this?(c=this.getContentElement(),b=c.childNodes[b]||
null,b!=a.getElement()&&c.insertBefore(a.getElement(),b)):c?(this.element_||this.createDom(),b=this.getChildAt(b+1),a.render_(this.getContentElement(),b?b.element_:null)):this.inDocument_&&!a.inDocument_&&a.element_&&a.element_.parentNode&&a.element_.parentNode.nodeType==Blockly.utils.dom.Node.ELEMENT_NODE&&a.enterDocument()};Blockly.Component.prototype.getContentElement=function(){return this.element_};
Blockly.Component.prototype.setRightToLeft=function(a){if(this.inDocument_)throw Error(Blockly.Component.Error.ALREADY_RENDERED);this.rightToLeft_=a};Blockly.Component.prototype.hasChildren=function(){return 0!=this.children_.length};Blockly.Component.prototype.getChildCount=function(){return this.children_.length};Blockly.Component.prototype.getChild=function(a){return a?this.childIndex_[a]||null:null};Blockly.Component.prototype.getChildAt=function(a){return this.children_[a]||null};
Blockly.Component.prototype.forEachChild=function(a,b){for(var c=0;c<this.children_.length;c++)a.call(b,this.children_[c],c)};Blockly.Component.prototype.indexOfChild=function(a){return this.children_.indexOf(a)};Blockly.Css={};Blockly.Css.injected_=!1;Blockly.Css.register=function(a){if(Blockly.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(Blockly.Css.CONTENT,a);a.length=0};
Blockly.Css.inject=function(a,b){if(!Blockly.Css.injected_){Blockly.Css.injected_=!0;var c=Blockly.Css.CONTENT.join("\n");Blockly.Css.CONTENT.length=0;a&&(a=b.replace(/[\\/]$/,""),c=c.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",c=document.createTextNode(c),a.appendChild(c),document.head.insertBefore(a,document.head.firstChild))}};Blockly.Css.setCursor=function(a){console.warn("Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context")};
Blockly.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;",
"left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;",
"border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {",
"fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",
'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {",
"display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;",
"-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;",
"height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;",
"}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {",
"fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem {","padding-left: 28px;","}",".blocklyWidgetDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl,",".blocklyDropDownDiv .blocklyDropdownMenu .goog-menuitem.goog-menuitem-rtl {",
"padding-left: 5px;","padding-right: 28px;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","}",".blocklyWidgetDiv .goog-menu {",
"background: #fff;","border-color: transparent;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","box-shadow: 0px 0px 3px 1px rgba(0,0,0,.3);","}",".blocklyWidgetDiv .goog-menu.focused {","box-shadow: 0px 0px 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .goog-menu {","cursor: default;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',
"outline: none;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem,",".blocklyDropDownDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","min-width: 7em;","border: none;","padding: 6px 15px;","white-space: nowrap;","cursor: pointer;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem,",".blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyDropDownDiv .goog-menu-noicon .goog-menuitem {",
"padding-left: 12px;","}",".blocklyWidgetDiv .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-content {","font-family: Arial, sans-serif;","font-size: 13px;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","}",".blocklyDropDownDiv .goog-menuitem-content {","color: #000;","}",".blocklyWidgetDiv .goog-menuitem-disabled,",".blocklyDropDownDiv .goog-menuitem-disabled {","cursor: inherit;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {",
"color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: .3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight ,",".blocklyDropDownDiv .goog-menuitem-highlight {","background-color: rgba(0,0,0,.1);","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-icon {",
"background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon,",
".blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {","position: static;","float: left;","margin-left: -24px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {","float: right;","margin-right: -24px;","}",".blocklyComputeCanvas {",
"position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}"];Blockly.utils.math={};Blockly.utils.math.toRadians=function(a){return a*Math.PI/180};Blockly.utils.math.toDegrees=function(a){return 180*a/Math.PI};Blockly.utils.math.clamp=function(a,b,c){if(c<a){var d=c;c=a;a=d}return Math.max(a,Math.min(b,c))};Blockly.DropDownDiv=function(){};Blockly.DropDownDiv.boundsElement_=null;Blockly.DropDownDiv.owner_=null;Blockly.DropDownDiv.positionToField_=null;Blockly.DropDownDiv.ARROW_SIZE=16;Blockly.DropDownDiv.BORDER_SIZE=1;Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING=12;Blockly.DropDownDiv.PADDING_Y=16;Blockly.DropDownDiv.ANIMATION_TIME=.25;Blockly.DropDownDiv.animateOutTimer_=null;Blockly.DropDownDiv.onHide_=null;Blockly.DropDownDiv.rendererClassName_="";Blockly.DropDownDiv.themeClassName_="";
Blockly.DropDownDiv.createDom=function(){if(!Blockly.DropDownDiv.DIV_){var a=document.createElement("div");a.className="blocklyDropDownDiv";(Blockly.parentContainer||document.body).appendChild(a);Blockly.DropDownDiv.DIV_=a;var b=document.createElement("div");b.className="blocklyDropDownContent";a.appendChild(b);Blockly.DropDownDiv.content_=b;b=document.createElement("div");b.className="blocklyDropDownArrow";a.appendChild(b);Blockly.DropDownDiv.arrow_=b;Blockly.DropDownDiv.DIV_.style.opacity=0;Blockly.DropDownDiv.DIV_.style.transition=
"transform "+Blockly.DropDownDiv.ANIMATION_TIME+"s, opacity "+Blockly.DropDownDiv.ANIMATION_TIME+"s";a.addEventListener("focusin",function(){Blockly.utils.dom.addClass(a,"focused")});a.addEventListener("focusout",function(){Blockly.utils.dom.removeClass(a,"focused")})}};Blockly.DropDownDiv.setBoundsElement=function(a){Blockly.DropDownDiv.boundsElement_=a};Blockly.DropDownDiv.getContentDiv=function(){return Blockly.DropDownDiv.content_};
Blockly.DropDownDiv.clearContent=function(){Blockly.DropDownDiv.content_.textContent="";Blockly.DropDownDiv.content_.style.width=""};Blockly.DropDownDiv.setColour=function(a,b){Blockly.DropDownDiv.DIV_.style.backgroundColor=a;Blockly.DropDownDiv.DIV_.style.borderColor=b};Blockly.DropDownDiv.showPositionedByBlock=function(a,b,c,d){return Blockly.DropDownDiv.showPositionedByRect_(Blockly.DropDownDiv.getScaledBboxOfBlock_(b),a,c,d)};
Blockly.DropDownDiv.showPositionedByField=function(a,b,c){Blockly.DropDownDiv.positionToField_=!0;return Blockly.DropDownDiv.showPositionedByRect_(Blockly.DropDownDiv.getScaledBboxOfField_(a),a,b,c)};Blockly.DropDownDiv.getScaledBboxOfBlock_=function(a){var b=a.getSvgRoot(),c=b.getBBox(),d=a.workspace.scale;a=c.height*d;c=c.width*d;b=Blockly.utils.style.getPageOffset(b);return new Blockly.utils.Rect(b.y,b.y+a,b.x,b.x+c)};
Blockly.DropDownDiv.getScaledBboxOfField_=function(a){a=a.getScaledBBox();return new Blockly.utils.Rect(a.top,a.bottom,a.left,a.right)};Blockly.DropDownDiv.showPositionedByRect_=function(a,b,c,d){var e=a.left+(a.right-a.left)/2,f=a.bottom;a=a.top;d&&(a+=d);d=b.getSourceBlock();Blockly.DropDownDiv.setBoundsElement(d.workspace.getParentSvg().parentNode);return Blockly.DropDownDiv.show(b,d.RTL,e,f,e,a,c)};
Blockly.DropDownDiv.show=function(a,b,c,d,e,f,g){Blockly.DropDownDiv.owner_=a;Blockly.DropDownDiv.onHide_=g||null;a=Blockly.DropDownDiv.DIV_;a.style.direction=b?"rtl":"ltr";Blockly.DropDownDiv.rendererClassName_=Blockly.getMainWorkspace().getRenderer().getClassName();Blockly.DropDownDiv.themeClassName_=Blockly.getMainWorkspace().getTheme().getClassName();Blockly.utils.dom.addClass(a,Blockly.DropDownDiv.rendererClassName_);Blockly.utils.dom.addClass(a,Blockly.DropDownDiv.themeClassName_);return Blockly.DropDownDiv.positionInternal_(c,
d,e,f)};Blockly.DropDownDiv.getBoundsInfo_=function(){var a=Blockly.utils.style.getPageOffset(Blockly.DropDownDiv.boundsElement_),b=Blockly.utils.style.getSize(Blockly.DropDownDiv.boundsElement_);return{left:a.x,right:a.x+b.width,top:a.y,bottom:a.y+b.height,width:b.width,height:b.height}};
Blockly.DropDownDiv.getPositionMetrics_=function(a,b,c,d){var e=Blockly.DropDownDiv.getBoundsInfo_(),f=Blockly.utils.style.getSize(Blockly.DropDownDiv.DIV_);return b+f.height<e.bottom?Blockly.DropDownDiv.getPositionBelowMetrics_(a,b,e,f):d-f.height>e.top?Blockly.DropDownDiv.getPositionAboveMetrics_(c,d,e,f):b+f.height<document.documentElement.clientHeight?Blockly.DropDownDiv.getPositionBelowMetrics_(a,b,e,f):d-f.height>document.documentElement.clientTop?Blockly.DropDownDiv.getPositionAboveMetrics_(c,
d,e,f):Blockly.DropDownDiv.getPositionTopOfPageMetrics_(a,e,f)};Blockly.DropDownDiv.getPositionBelowMetrics_=function(a,b,c,d){a=Blockly.DropDownDiv.getPositionX(a,c.left,c.right,d.width);return{initialX:a.divX,initialY:b,finalX:a.divX,finalY:b+Blockly.DropDownDiv.PADDING_Y,arrowX:a.arrowX,arrowY:-(Blockly.DropDownDiv.ARROW_SIZE/2+Blockly.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}};
Blockly.DropDownDiv.getPositionAboveMetrics_=function(a,b,c,d){a=Blockly.DropDownDiv.getPositionX(a,c.left,c.right,d.width);return{initialX:a.divX,initialY:b-d.height,finalX:a.divX,finalY:b-d.height-Blockly.DropDownDiv.PADDING_Y,arrowX:a.arrowX,arrowY:d.height-2*Blockly.DropDownDiv.BORDER_SIZE-Blockly.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}};
Blockly.DropDownDiv.getPositionTopOfPageMetrics_=function(a,b,c){a=Blockly.DropDownDiv.getPositionX(a,b.left,b.right,c.width);return{initialX:a.divX,initialY:0,finalX:a.divX,finalY:0,arrowVisible:!1}};Blockly.DropDownDiv.getPositionX=function(a,b,c,d){var e=a;a=Blockly.utils.math.clamp(b,a-d/2,c-d);e-=Blockly.DropDownDiv.ARROW_SIZE/2;b=Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING;d=Blockly.utils.math.clamp(b,e-a,d-b-Blockly.DropDownDiv.ARROW_SIZE);return{arrowX:d,divX:a}};
Blockly.DropDownDiv.isVisible=function(){return!!Blockly.DropDownDiv.owner_};Blockly.DropDownDiv.hideIfOwner=function(a,b){return Blockly.DropDownDiv.owner_===a?(b?Blockly.DropDownDiv.hideWithoutAnimation():Blockly.DropDownDiv.hide(),!0):!1};
Blockly.DropDownDiv.hide=function(){var a=Blockly.DropDownDiv.DIV_;a.style.transform="translate(0, 0)";a.style.opacity=0;Blockly.DropDownDiv.animateOutTimer_=setTimeout(function(){Blockly.DropDownDiv.hideWithoutAnimation()},1E3*Blockly.DropDownDiv.ANIMATION_TIME);Blockly.DropDownDiv.onHide_&&(Blockly.DropDownDiv.onHide_(),Blockly.DropDownDiv.onHide_=null)};
Blockly.DropDownDiv.hideWithoutAnimation=function(){if(Blockly.DropDownDiv.isVisible()){Blockly.DropDownDiv.animateOutTimer_&&clearTimeout(Blockly.DropDownDiv.animateOutTimer_);var a=Blockly.DropDownDiv.DIV_;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";Blockly.DropDownDiv.onHide_&&(Blockly.DropDownDiv.onHide_(),Blockly.DropDownDiv.onHide_=null);Blockly.DropDownDiv.clearContent();Blockly.DropDownDiv.owner_=
null;Blockly.DropDownDiv.rendererClassName_&&(Blockly.utils.dom.removeClass(a,Blockly.DropDownDiv.rendererClassName_),Blockly.DropDownDiv.rendererClassName_="");Blockly.DropDownDiv.themeClassName_&&(Blockly.utils.dom.removeClass(a,Blockly.DropDownDiv.themeClassName_),Blockly.DropDownDiv.themeClassName_="");Blockly.getMainWorkspace().markFocused()}};
Blockly.DropDownDiv.positionInternal_=function(a,b,c,d){a=Blockly.DropDownDiv.getPositionMetrics_(a,b,c,d);a.arrowVisible?(Blockly.DropDownDiv.arrow_.style.display="",Blockly.DropDownDiv.arrow_.style.transform="translate("+a.arrowX+"px,"+a.arrowY+"px) rotate(45deg)",Blockly.DropDownDiv.arrow_.setAttribute("class",a.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):Blockly.DropDownDiv.arrow_.style.display="none";b=Math.floor(a.initialX);c=Math.floor(a.initialY);
d=Math.floor(a.finalX);var e=Math.floor(a.finalY),f=Blockly.DropDownDiv.DIV_;f.style.left=b+"px";f.style.top=c+"px";f.style.display="block";f.style.opacity=1;f.style.transform="translate("+(d-b)+"px,"+(e-c)+"px)";return a.arrowAtTop};
Blockly.DropDownDiv.repositionForWindowResize=function(){if(Blockly.DropDownDiv.owner_){var a=Blockly.DropDownDiv.owner_,b=Blockly.DropDownDiv.owner_.getSourceBlock();a=Blockly.DropDownDiv.positionToField_?Blockly.DropDownDiv.getScaledBboxOfField_(a):Blockly.DropDownDiv.getScaledBboxOfBlock_(b);b=a.left+(a.right-a.left)/2;Blockly.DropDownDiv.positionInternal_(b,a.bottom,b,a.top)}else Blockly.DropDownDiv.hide()};Blockly.Grid=function(a,b){this.gridPattern_=a;this.spacing_=b.spacing;this.length_=b.length;this.line2_=(this.line1_=a.firstChild)&&this.line1_.nextSibling;this.snapToGrid_=b.snap};Blockly.Grid.prototype.scale_=1;Blockly.Grid.prototype.dispose=function(){this.gridPattern_=null};Blockly.Grid.prototype.shouldSnap=function(){return this.snapToGrid_};Blockly.Grid.prototype.getSpacing=function(){return this.spacing_};Blockly.Grid.prototype.getPatternId=function(){return this.gridPattern_.id};
Blockly.Grid.prototype.update=function(a){this.scale_=a;var b=this.spacing_*a||100;this.gridPattern_.setAttribute("width",b);this.gridPattern_.setAttribute("height",b);b=Math.floor(this.spacing_/2)+.5;var c=b-this.length_/2,d=b+this.length_/2;b*=a;c*=a;d*=a;this.setLineAttributes_(this.line1_,a,c,d,b,b);this.setLineAttributes_(this.line2_,a,b,b,c,d)};
Blockly.Grid.prototype.setLineAttributes_=function(a,b,c,d,e,f){a&&(a.setAttribute("stroke-width",b),a.setAttribute("x1",c),a.setAttribute("y1",e),a.setAttribute("x2",d),a.setAttribute("y2",f))};Blockly.Grid.prototype.moveTo=function(a,b){this.gridPattern_.setAttribute("x",a);this.gridPattern_.setAttribute("y",b);(Blockly.utils.userAgent.IE||Blockly.utils.userAgent.EDGE)&&this.update(this.scale_)};
Blockly.Grid.createDom=function(a,b,c){a=Blockly.utils.dom.createSvgElement("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},c);0<b.length&&0<b.spacing?(Blockly.utils.dom.createSvgElement("line",{stroke:b.colour},a),1<b.length&&Blockly.utils.dom.createSvgElement("line",{stroke:b.colour},a)):Blockly.utils.dom.createSvgElement("line",{},a);return a};Blockly.Theme=function(a,b,c,d){this.name=a;this.blockStyles=b||Object.create(null);this.categoryStyles=c||Object.create(null);this.componentStyles=d||Object.create(null);this.fontStyle=Object.create(null);this.startHats=null};Blockly.Theme.prototype.getClassName=function(){return this.name+"-theme"};Blockly.Theme.prototype.setBlockStyle=function(a,b){this.blockStyles[a]=b};Blockly.Theme.prototype.setCategoryStyle=function(a,b){this.categoryStyles[a]=b};
Blockly.Theme.prototype.getComponentStyle=function(a){return(a=this.componentStyles[a])&&"string"==typeof propertyValue&&this.getComponentStyle(a)?this.getComponentStyle(a):a?String(a):null};Blockly.Theme.prototype.setComponentStyle=function(a,b){this.componentStyles[a]=b};Blockly.Theme.prototype.setFontStyle=function(a){this.fontStyle=a};Blockly.Theme.prototype.setStartHats=function(a){this.startHats=a};
Blockly.Theme.defineTheme=function(a,b){var c=new Blockly.Theme(a),d=b.base;d&&d instanceof Blockly.Theme&&(Blockly.utils.object.deepMerge(c,d),c.name=a);Blockly.utils.object.deepMerge(c.blockStyles,b.blockStyles);Blockly.utils.object.deepMerge(c.categoryStyles,b.categoryStyles);Blockly.utils.object.deepMerge(c.componentStyles,b.componentStyles);Blockly.utils.object.deepMerge(c.fontStyle,b.fontStyle);null!=b.startHats&&(c.startHats=b.startHats);return c};Blockly.Themes={};Blockly.Themes.Classic={};Blockly.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
Blockly.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}};Blockly.Themes.Classic=new Blockly.Theme("classic",Blockly.Themes.Classic.defaultBlockStyles,Blockly.Themes.Classic.categoryStyles);Blockly.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,
N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,
PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255};Blockly.user={};Blockly.user.keyMap={};Blockly.user.keyMap.map_={};Blockly.user.keyMap.modifierKeys={SHIFT:"Shift",CONTROL:"Control",ALT:"Alt",META:"Meta"};Blockly.user.keyMap.setActionForKey=function(a,b){var c=Blockly.user.keyMap.getKeyByAction(b);c&&delete Blockly.user.keyMap.map_[c];Blockly.user.keyMap.map_[a]=b};Blockly.user.keyMap.setKeyMap=function(a){Blockly.user.keyMap.map_=a};Blockly.user.keyMap.getKeyMap=function(){var a={};Blockly.utils.object.mixin(a,Blockly.user.keyMap.map_);return a};
Blockly.user.keyMap.getActionByKeyCode=function(a){return Blockly.user.keyMap.map_[a]};Blockly.user.keyMap.getKeyByAction=function(a){for(var b=Object.keys(Blockly.user.keyMap.map_),c=0,d;d=b[c];c++)if(Blockly.user.keyMap.map_[d].name===a.name)return d;return null};Blockly.user.keyMap.serializeKeyEvent=function(a){for(var b=Blockly.utils.object.values(Blockly.user.keyMap.modifierKeys),c="",d=0,e;e=b[d];d++)a.getModifierState(e)&&(c+=e);return c+=a.keyCode};
Blockly.user.keyMap.checkModifiers_=function(a,b){for(var c=0,d;d=a[c];c++)if(0>b.indexOf(d))throw Error(d+" is not a valid modifier key.");};Blockly.user.keyMap.createSerializedKey=function(a,b){var c="",d=Blockly.utils.object.values(Blockly.user.keyMap.modifierKeys);Blockly.user.keyMap.checkModifiers_(b,d);for(var e=0,f;f=d[e];e++)-1<b.indexOf(f)&&(c+=f);return c+a};
Blockly.user.keyMap.createDefaultKeyMap=function(){var a={},b=Blockly.user.keyMap.createSerializedKey(Blockly.utils.KeyCodes.K,[Blockly.user.keyMap.modifierKeys.CONTROL,Blockly.user.keyMap.modifierKeys.SHIFT]),c=Blockly.user.keyMap.createSerializedKey(Blockly.utils.KeyCodes.W,[Blockly.user.keyMap.modifierKeys.SHIFT]),d=Blockly.user.keyMap.createSerializedKey(Blockly.utils.KeyCodes.A,[Blockly.user.keyMap.modifierKeys.SHIFT]),e=Blockly.user.keyMap.createSerializedKey(Blockly.utils.KeyCodes.S,[Blockly.user.keyMap.modifierKeys.SHIFT]),
f=Blockly.user.keyMap.createSerializedKey(Blockly.utils.KeyCodes.D,[Blockly.user.keyMap.modifierKeys.SHIFT]);a[Blockly.utils.KeyCodes.W]=Blockly.navigation.ACTION_PREVIOUS;a[Blockly.utils.KeyCodes.A]=Blockly.navigation.ACTION_OUT;a[Blockly.utils.KeyCodes.S]=Blockly.navigation.ACTION_NEXT;a[Blockly.utils.KeyCodes.D]=Blockly.navigation.ACTION_IN;a[Blockly.utils.KeyCodes.I]=Blockly.navigation.ACTION_INSERT;a[Blockly.utils.KeyCodes.ENTER]=Blockly.navigation.ACTION_MARK;a[Blockly.utils.KeyCodes.X]=Blockly.navigation.ACTION_DISCONNECT;
a[Blockly.utils.KeyCodes.T]=Blockly.navigation.ACTION_TOOLBOX;a[Blockly.utils.KeyCodes.E]=Blockly.navigation.ACTION_EXIT;a[Blockly.utils.KeyCodes.ESC]=Blockly.navigation.ACTION_EXIT;a[b]=Blockly.navigation.ACTION_TOGGLE_KEYBOARD_NAV;a[c]=Blockly.navigation.ACTION_MOVE_WS_CURSOR_UP;a[d]=Blockly.navigation.ACTION_MOVE_WS_CURSOR_LEFT;a[e]=Blockly.navigation.ACTION_MOVE_WS_CURSOR_DOWN;a[f]=Blockly.navigation.ACTION_MOVE_WS_CURSOR_RIGHT;return a};Blockly.utils.xml={};Blockly.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml";Blockly.utils.xml.document=function(){return document};Blockly.utils.xml.createElement=function(a){return Blockly.utils.xml.document().createElementNS(Blockly.utils.xml.NAME_SPACE,a)};Blockly.utils.xml.createTextNode=function(a){return Blockly.utils.xml.document().createTextNode(a)};Blockly.utils.xml.textToDomDocument=function(a){return(new DOMParser).parseFromString(a,"text/xml")};
Blockly.utils.xml.domToText=function(a){return(new XMLSerializer).serializeToString(a)};Blockly.Events.BlockBase=function(a){Blockly.Events.BlockBase.superClass_.constructor.call(this);this.blockId=a.id;this.workspaceId=a.workspace.id};Blockly.utils.object.inherits(Blockly.Events.BlockBase,Blockly.Events.Abstract);Blockly.Events.BlockBase.prototype.toJson=function(){var a=Blockly.Events.BlockBase.superClass_.toJson.call(this);a.blockId=this.blockId;return a};
Blockly.Events.BlockBase.prototype.fromJson=function(a){Blockly.Events.BlockBase.superClass_.fromJson.call(this,a);this.blockId=a.blockId};Blockly.Events.Change=function(a,b,c,d,e){a&&(Blockly.Events.Change.superClass_.constructor.call(this,a),this.element=b,this.name=c,this.oldValue=d,this.newValue=e)};Blockly.utils.object.inherits(Blockly.Events.Change,Blockly.Events.BlockBase);Blockly.Events.BlockChange=Blockly.Events.Change;Blockly.Events.Change.prototype.type=Blockly.Events.CHANGE;
Blockly.Events.Change.prototype.toJson=function(){var a=Blockly.Events.Change.superClass_.toJson.call(this);a.element=this.element;this.name&&(a.name=this.name);a.newValue=this.newValue;return a};Blockly.Events.Change.prototype.fromJson=function(a){Blockly.Events.Change.superClass_.fromJson.call(this,a);this.element=a.element;this.name=a.name;this.newValue=a.newValue};Blockly.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue};
Blockly.Events.Change.prototype.run=function(a){var b=this.getEventWorkspace_().getBlockById(this.blockId);if(b)switch(b.mutator&&b.mutator.setVisible(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(b=b.getField(this.name))?b.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":b.setCommentText(a||null);break;case "collapsed":b.setCollapsed(!!a);break;case "disabled":b.setEnabled(!a);break;case "inline":b.setInputsInline(!!a);break;case "mutation":var c=
"";b.mutationToDom&&(c=(c=b.mutationToDom())&&Blockly.Xml.domToText(c));if(b.domToMutation){var d=Blockly.Xml.textToDom(a||"<mutation/>");b.domToMutation(d)}Blockly.Events.fire(new Blockly.Events.Change(b,"mutation",null,c,a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)};
Blockly.Events.Create=function(a){a&&(Blockly.Events.Create.superClass_.constructor.call(this,a),this.xml=a.workspace.rendered?Blockly.Xml.blockToDomWithXY(a):Blockly.Xml.blockToDom(a),this.ids=Blockly.Events.getDescendantIds(a))};Blockly.utils.object.inherits(Blockly.Events.Create,Blockly.Events.BlockBase);Blockly.Events.BlockCreate=Blockly.Events.Create;Blockly.Events.Create.prototype.type=Blockly.Events.CREATE;
Blockly.Events.Create.prototype.toJson=function(){var a=Blockly.Events.Create.superClass_.toJson.call(this);a.xml=Blockly.Xml.domToText(this.xml);a.ids=this.ids;return a};Blockly.Events.Create.prototype.fromJson=function(a){Blockly.Events.Create.superClass_.fromJson.call(this,a);this.xml=Blockly.Xml.textToDom(a.xml);this.ids=a.ids};
Blockly.Events.Create.prototype.run=function(a){var b=this.getEventWorkspace_();if(a)a=Blockly.utils.xml.createElement("xml"),a.appendChild(this.xml),Blockly.Xml.domToWorkspace(a,b);else{a=0;for(var c;c=this.ids[a];a++){var d=b.getBlockById(c);d?d.dispose(!1):c==this.blockId&&console.warn("Can't uncreate non-existent block: "+c)}}};
Blockly.Events.Delete=function(a){if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");Blockly.Events.Delete.superClass_.constructor.call(this,a);this.oldXml=a.workspace.rendered?Blockly.Xml.blockToDomWithXY(a):Blockly.Xml.blockToDom(a);this.ids=Blockly.Events.getDescendantIds(a)}};Blockly.utils.object.inherits(Blockly.Events.Delete,Blockly.Events.BlockBase);Blockly.Events.BlockDelete=Blockly.Events.Delete;Blockly.Events.Delete.prototype.type=Blockly.Events.DELETE;
Blockly.Events.Delete.prototype.toJson=function(){var a=Blockly.Events.Delete.superClass_.toJson.call(this);a.ids=this.ids;return a};Blockly.Events.Delete.prototype.fromJson=function(a){Blockly.Events.Delete.superClass_.fromJson.call(this,a);this.ids=a.ids};
Blockly.Events.Delete.prototype.run=function(a){var b=this.getEventWorkspace_();if(a){a=0;for(var c;c=this.ids[a];a++){var d=b.getBlockById(c);d?d.dispose(!1):c==this.blockId&&console.warn("Can't delete non-existent block: "+c)}}else a=Blockly.utils.xml.createElement("xml"),a.appendChild(this.oldXml),Blockly.Xml.domToWorkspace(a,b)};
Blockly.Events.Move=function(a){a&&(Blockly.Events.Move.superClass_.constructor.call(this,a),a=this.currentLocation_(),this.oldParentId=a.parentId,this.oldInputName=a.inputName,this.oldCoordinate=a.coordinate)};Blockly.utils.object.inherits(Blockly.Events.Move,Blockly.Events.BlockBase);Blockly.Events.BlockMove=Blockly.Events.Move;Blockly.Events.Move.prototype.type=Blockly.Events.MOVE;
Blockly.Events.Move.prototype.toJson=function(){var a=Blockly.Events.Move.superClass_.toJson.call(this);this.newParentId&&(a.newParentId=this.newParentId);this.newInputName&&(a.newInputName=this.newInputName);this.newCoordinate&&(a.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y));return a};
Blockly.Events.Move.prototype.fromJson=function(a){Blockly.Events.Move.superClass_.fromJson.call(this,a);this.newParentId=a.newParentId;this.newInputName=a.newInputName;a.newCoordinate&&(a=a.newCoordinate.split(","),this.newCoordinate=new Blockly.utils.Coordinate(Number(a[0]),Number(a[1])))};Blockly.Events.Move.prototype.recordNew=function(){var a=this.currentLocation_();this.newParentId=a.parentId;this.newInputName=a.inputName;this.newCoordinate=a.coordinate};
Blockly.Events.Move.prototype.currentLocation_=function(){var a=this.getEventWorkspace_().getBlockById(this.blockId),b={},c=a.getParent();if(c){if(b.parentId=c.id,a=c.getInputWithBlock(a))b.inputName=a.name}else b.coordinate=a.getRelativeToSurfaceXY();return b};Blockly.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&Blockly.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)};
Blockly.Events.Move.prototype.run=function(a){var b=this.getEventWorkspace_(),c=b.getBlockById(this.blockId);if(c){var d=a?this.newParentId:this.oldParentId,e=a?this.newInputName:this.oldInputName;a=a?this.newCoordinate:this.oldCoordinate;var f=null;if(d&&(f=b.getBlockById(d),!f)){console.warn("Can't connect to non-existent block: "+d);return}c.getParent()&&c.unplug();if(a)e=c.getRelativeToSurfaceXY(),c.moveBy(a.x-e.x,a.y-e.y);else{c=c.outputConnection||c.previousConnection;if(e){if(b=f.getInput(e))var g=
b.connection}else c.type==Blockly.PREVIOUS_STATEMENT&&(g=f.nextConnection);g?c.connect(g):console.warn("Can't connect to non-existent input: "+e)}}else console.warn("Can't move non-existent block: "+this.blockId)};Blockly.Events.FinishedLoading=function(a){this.workspaceId=a.id;this.group=Blockly.Events.getGroup();this.recordUndo=!1};Blockly.utils.object.inherits(Blockly.Events.FinishedLoading,Blockly.Events.Ui);Blockly.Events.FinishedLoading.prototype.type=Blockly.Events.FINISHED_LOADING;Blockly.Events.FinishedLoading.prototype.toJson=function(){var a={type:this.type};this.group&&(a.group=this.group);this.workspaceId&&(a.workspaceId=this.workspaceId);return a};
Blockly.Events.FinishedLoading.prototype.fromJson=function(a){this.workspaceId=a.workspaceId;this.group=a.group};Blockly.Events.VarBase=function(a){Blockly.Events.VarBase.superClass_.constructor.call(this);this.varId=a.getId();this.workspaceId=a.workspace.id};Blockly.utils.object.inherits(Blockly.Events.VarBase,Blockly.Events.Abstract);Blockly.Events.VarBase.prototype.toJson=function(){var a=Blockly.Events.VarBase.superClass_.toJson.call(this);a.varId=this.varId;return a};Blockly.Events.VarBase.prototype.fromJson=function(a){Blockly.Events.VarBase.superClass_.toJson.call(this);this.varId=a.varId};
Blockly.Events.VarCreate=function(a){a&&(Blockly.Events.VarCreate.superClass_.constructor.call(this,a),this.varType=a.type,this.varName=a.name)};Blockly.utils.object.inherits(Blockly.Events.VarCreate,Blockly.Events.VarBase);Blockly.Events.VarCreate.prototype.type=Blockly.Events.VAR_CREATE;Blockly.Events.VarCreate.prototype.toJson=function(){var a=Blockly.Events.VarCreate.superClass_.toJson.call(this);a.varType=this.varType;a.varName=this.varName;return a};
Blockly.Events.VarCreate.prototype.fromJson=function(a){Blockly.Events.VarCreate.superClass_.fromJson.call(this,a);this.varType=a.varType;this.varName=a.varName};Blockly.Events.VarCreate.prototype.run=function(a){var b=this.getEventWorkspace_();a?b.createVariable(this.varName,this.varType,this.varId):b.deleteVariableById(this.varId)};Blockly.Events.VarDelete=function(a){a&&(Blockly.Events.VarDelete.superClass_.constructor.call(this,a),this.varType=a.type,this.varName=a.name)};
Blockly.utils.object.inherits(Blockly.Events.VarDelete,Blockly.Events.VarBase);Blockly.Events.VarDelete.prototype.type=Blockly.Events.VAR_DELETE;Blockly.Events.VarDelete.prototype.toJson=function(){var a=Blockly.Events.VarDelete.superClass_.toJson.call(this);a.varType=this.varType;a.varName=this.varName;return a};Blockly.Events.VarDelete.prototype.fromJson=function(a){Blockly.Events.VarDelete.superClass_.fromJson.call(this,a);this.varType=a.varType;this.varName=a.varName};
Blockly.Events.VarDelete.prototype.run=function(a){var b=this.getEventWorkspace_();a?b.deleteVariableById(this.varId):b.createVariable(this.varName,this.varType,this.varId)};Blockly.Events.VarRename=function(a,b){a&&(Blockly.Events.VarRename.superClass_.constructor.call(this,a),this.oldName=a.name,this.newName=b)};Blockly.utils.object.inherits(Blockly.Events.VarRename,Blockly.Events.VarBase);Blockly.Events.VarRename.prototype.type=Blockly.Events.VAR_RENAME;
Blockly.Events.VarRename.prototype.toJson=function(){var a=Blockly.Events.VarRename.superClass_.toJson.call(this);a.oldName=this.oldName;a.newName=this.newName;return a};Blockly.Events.VarRename.prototype.fromJson=function(a){Blockly.Events.VarRename.superClass_.fromJson.call(this,a);this.oldName=a.oldName;this.newName=a.newName};Blockly.Events.VarRename.prototype.run=function(a){var b=this.getEventWorkspace_();a?b.renameVariableById(this.varId,this.newName):b.renameVariableById(this.varId,this.oldName)};Blockly.Xml={};Blockly.Xml.workspaceToDom=function(a,b){var c=Blockly.utils.xml.createElement("xml"),d=Blockly.Xml.variablesToDom(Blockly.Variables.allUsedVarModels(a));d.hasChildNodes()&&c.appendChild(d);var e=a.getTopComments(!0);d=0;for(var f;f=e[d];d++)c.appendChild(f.toXmlWithXY(b));a=a.getTopBlocks(!0);for(d=0;e=a[d];d++)c.appendChild(Blockly.Xml.blockToDomWithXY(e,b));return c};
Blockly.Xml.variablesToDom=function(a){for(var b=Blockly.utils.xml.createElement("variables"),c=0,d;d=a[c];c++){var e=Blockly.utils.xml.createElement("variable");e.appendChild(Blockly.utils.xml.createTextNode(d.name));d.type&&e.setAttribute("type",d.type);e.id=d.getId();b.appendChild(e)}return b};
Blockly.Xml.blockToDomWithXY=function(a,b){var c;a.workspace.RTL&&(c=a.workspace.getWidth());b=Blockly.Xml.blockToDom(a,b);var d=a.getRelativeToSurfaceXY();b.setAttribute("x",Math.round(a.workspace.RTL?c-d.x:d.x));b.setAttribute("y",Math.round(d.y));return b};Blockly.Xml.fieldToDom_=function(a){if(a.isSerializable()){var b=Blockly.utils.xml.createElement("field");b.setAttribute("name",a.name||"");return a.toXml(b)}return null};
Blockly.Xml.allFieldsToDom_=function(a,b){for(var c=0,d;d=a.inputList[c];c++)for(var e=0,f;f=d.fieldRow[e];e++)(f=Blockly.Xml.fieldToDom_(f))&&b.appendChild(f)};
Blockly.Xml.blockToDom=function(a,b){var c=Blockly.utils.xml.createElement(a.isShadow()?"shadow":"block");c.setAttribute("type",a.type);b||c.setAttribute("id",a.id);if(a.mutationToDom){var d=a.mutationToDom();d&&(d.hasChildNodes()||d.hasAttributes())&&c.appendChild(d)}Blockly.Xml.allFieldsToDom_(a,c);if(d=a.getCommentText()){var e=a.commentModel.size,f=a.commentModel.pinned,g=Blockly.utils.xml.createElement("comment");g.appendChild(Blockly.utils.xml.createTextNode(d));g.setAttribute("pinned",f);g.setAttribute("h",
e.height);g.setAttribute("w",e.width);c.appendChild(g)}a.data&&(d=Blockly.utils.xml.createElement("data"),d.appendChild(Blockly.utils.xml.createTextNode(a.data)),c.appendChild(d));for(e=0;f=a.inputList[e];e++){var h;g=!0;if(f.type!=Blockly.DUMMY_INPUT){var k=f.connection.targetBlock();f.type==Blockly.INPUT_VALUE?h=Blockly.utils.xml.createElement("value"):f.type==Blockly.NEXT_STATEMENT&&(h=Blockly.utils.xml.createElement("statement"));d=f.connection.getShadowDom();!d||k&&k.isShadow()||h.appendChild(Blockly.Xml.cloneShadow_(d,
b));k&&(h.appendChild(Blockly.Xml.blockToDom(k,b)),g=!1);h.setAttribute("name",f.name);g||c.appendChild(h)}}void 0!=a.inputsInline&&a.inputsInline!=a.inputsInlineDefault&&c.setAttribute("inline",a.inputsInline);a.isCollapsed()&&c.setAttribute("collapsed",!0);a.isEnabled()||c.setAttribute("disabled",!0);a.isDeletable()||a.isShadow()||c.setAttribute("deletable",!1);a.isMovable()||a.isShadow()||c.setAttribute("movable",!1);a.isEditable()||c.setAttribute("editable",!1);if(e=a.getNextBlock())h=Blockly.utils.xml.createElement("next"),
h.appendChild(Blockly.Xml.blockToDom(e,b)),c.appendChild(h);d=a.nextConnection&&a.nextConnection.getShadowDom();!d||e&&e.isShadow()||h.appendChild(Blockly.Xml.cloneShadow_(d,b));return c};
Blockly.Xml.cloneShadow_=function(a,b){for(var c=a=a.cloneNode(!0),d;c;)if(b&&"shadow"==c.nodeName&&c.removeAttribute("id"),c.firstChild)c=c.firstChild;else{for(;c&&!c.nextSibling;)d=c,c=c.parentNode,d.nodeType==Blockly.utils.dom.Node.TEXT_NODE&&""==d.data.trim()&&c.firstChild!=d&&Blockly.utils.dom.removeNode(d);c&&(d=c,c=c.nextSibling,d.nodeType==Blockly.utils.dom.Node.TEXT_NODE&&""==d.data.trim()&&Blockly.utils.dom.removeNode(d))}return a};
Blockly.Xml.domToText=function(a){a=Blockly.utils.xml.domToText(a);var b=/(<[^/](?:[^>]*[^/])?>[^<]*)\n([^<]*<\/)/;do{var c=a;a=a.replace(b,"$1&#10;$2")}while(a!=c);return a.replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};
Blockly.Xml.domToPrettyText=function(a){a=Blockly.Xml.domToText(a).split("<");for(var b="",c=1;c<a.length;c++){var d=a[c];"/"==d[0]&&(b=b.substring(2));a[c]=b+"<"+d;"/"!=d[0]&&"/>"!=d.slice(-2)&&(b+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};
Blockly.Xml.textToDom=function(a){var b=Blockly.utils.xml.textToDomDocument(a);if(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return b.documentElement};Blockly.Xml.clearWorkspaceAndLoadFromXml=function(a,b){b.setResizesEnabled(!1);b.clear();a=Blockly.Xml.domToWorkspace(a,b);b.setResizesEnabled(!0);return a};
Blockly.Xml.domToWorkspace=function(a,b){if(a instanceof Blockly.Workspace){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var d;b.RTL&&(d=b.getWidth());c=[];Blockly.utils.dom.startTextWidthCache();var e=Blockly.Events.getGroup();e||Blockly.Events.setGroup(!0);b.setResizesEnabled&&b.setResizesEnabled(!1);var f=!0;try{for(var g=0,h;h=a.childNodes[g];g++){var k=h.nodeName.toLowerCase(),l=h;if("block"==k||"shadow"==k&&!Blockly.Events.recordUndo){var m=
Blockly.Xml.domToBlock(l,b);c.push(m.id);var n=l.hasAttribute("x")?parseInt(l.getAttribute("x"),10):10,p=l.hasAttribute("y")?parseInt(l.getAttribute("y"),10):10;isNaN(n)||isNaN(p)||m.moveBy(b.RTL?d-n:n,p);f=!1}else{if("shadow"==k)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==k)b.rendered?Blockly.WorkspaceCommentSvg?Blockly.WorkspaceCommentSvg.fromXml(l,b,d):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):Blockly.WorkspaceComment?
Blockly.WorkspaceComment.fromXml(l,b):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==k){if(f)Blockly.Xml.domToVariables(l,b);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");f=!1}}}}finally{e||Blockly.Events.setGroup(!1),Blockly.utils.dom.stopTextWidthCache()}b.setResizesEnabled&&b.setResizesEnabled(!0);Blockly.Events.fire(new Blockly.Events.FinishedLoading(b));
return c};Blockly.Xml.appendDomToWorkspace=function(a,b){var c;b.hasOwnProperty("scale")&&(c=b.getBlocksBoundingBox());a=Blockly.Xml.domToWorkspace(a,b);if(c&&c.top!=c.bottom){var d=c.bottom;var e=b.RTL?c.right:c.left;var f=Infinity,g=-Infinity,h=Infinity;for(c=0;c<a.length;c++){var k=b.getBlockById(a[c]).getRelativeToSurfaceXY();k.y<h&&(h=k.y);k.x<f&&(f=k.x);k.x>g&&(g=k.x)}d=d-h+10;e=b.RTL?e-g:e-f;for(c=0;c<a.length;c++)b.getBlockById(a[c]).moveBy(e,d)}return a};
Blockly.Xml.domToBlock=function(a,b){if(a instanceof Blockly.Workspace){var c=a;a=b;b=c;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}Blockly.Events.disable();c=b.getAllVariables();try{var d=Blockly.Xml.domToBlockHeadless_(a,b),e=d.getDescendants(!1);if(b.rendered){d.setConnectionTracking(!1);for(var f=e.length-1;0<=f;f--)e[f].initSvg();for(f=e.length-1;0<=f;f--)e[f].render(!1);setTimeout(function(){d.disposed||d.setConnectionTracking(!0)},1);d.updateDisabled();b.resizeContents()}else for(f=
e.length-1;0<=f;f--)e[f].initModel()}finally{Blockly.Events.enable()}if(Blockly.Events.isEnabled()){a=Blockly.Variables.getAddedVariables(b,c);for(f=0;f<a.length;f++)Blockly.Events.fire(new Blockly.Events.VarCreate(a[f]));Blockly.Events.fire(new Blockly.Events.BlockCreate(d))}return d};
Blockly.Xml.domToVariables=function(a,b){for(var c=0,d;d=a.childNodes[c];c++)if(d.nodeType==Blockly.utils.dom.Node.ELEMENT_NODE){var e=d.getAttribute("type"),f=d.getAttribute("id");b.createVariable(d.textContent,e,f)}};
Blockly.Xml.domToBlockHeadless_=function(a,b){var c=null,d=a.getAttribute("type");if(!d)throw TypeError("Block type unspecified: "+a.outerHTML);var e=a.getAttribute("id");c=b.newBlock(d,e);var f=null;e=0;for(var g;g=a.childNodes[e];e++)if(g.nodeType!=Blockly.utils.dom.Node.TEXT_NODE){var h=f=null;var k=0;for(var l;l=g.childNodes[k];k++)l.nodeType==Blockly.utils.dom.Node.ELEMENT_NODE&&("block"==l.nodeName.toLowerCase()?f=l:"shadow"==l.nodeName.toLowerCase()&&(h=l));!f&&h&&(f=h);l=g.getAttribute("name");
k=g;switch(g.nodeName.toLowerCase()){case "mutation":c.domToMutation&&(c.domToMutation(k),c.initSvg&&c.initSvg());break;case "comment":if(!Blockly.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}f=k.textContent;h="true"==k.getAttribute("pinned");g=parseInt(k.getAttribute("w"),10);k=parseInt(k.getAttribute("h"),10);c.setCommentText(f);c.commentModel.pinned=h;isNaN(g)||isNaN(k)||(c.commentModel.size=new Blockly.utils.Size(g,k));h&&c.getCommentIcon&&!c.isInFlyout&&
setTimeout(function(){c.getCommentIcon().setVisible(!0)},1);break;case "data":c.data=g.textContent;break;case "title":case "field":Blockly.Xml.domToField_(c,l,k);break;case "value":case "statement":k=c.getInput(l);if(!k){console.warn("Ignoring non-existent input "+l+" in block "+d);break}h&&k.connection.setShadowDom(h);if(f)if(f=Blockly.Xml.domToBlockHeadless_(f,b),f.outputConnection)k.connection.connect(f.outputConnection);else if(f.previousConnection)k.connection.connect(f.previousConnection);else throw TypeError("Child block does not have output or previous statement.");
break;case "next":h&&c.nextConnection&&c.nextConnection.setShadowDom(h);if(f){if(!c.nextConnection)throw TypeError("Next statement does not exist.");if(c.nextConnection.isConnected())throw TypeError("Next statement is already connected.");f=Blockly.Xml.domToBlockHeadless_(f,b);if(!f.previousConnection)throw TypeError("Next block does not have previous statement.");c.nextConnection.connect(f.previousConnection)}break;default:console.warn("Ignoring unknown tag: "+g.nodeName)}}(e=a.getAttribute("inline"))&&
c.setInputsInline("true"==e);(e=a.getAttribute("disabled"))&&c.setEnabled("true"!=e&&"disabled"!=e);(e=a.getAttribute("deletable"))&&c.setDeletable("true"==e);(e=a.getAttribute("movable"))&&c.setMovable("true"==e);(e=a.getAttribute("editable"))&&c.setEditable("true"==e);(e=a.getAttribute("collapsed"))&&c.setCollapsed("true"==e);if("shadow"==a.nodeName.toLowerCase()){a=c.getChildren(!1);for(e=0;b=a[e];e++)if(!b.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(c.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");
c.setShadow(!0)}return c};Blockly.Xml.domToField_=function(a,b,c){var d=a.getField(b);d?d.fromXml(c):console.warn("Ignoring non-existent field "+b+" in block "+a.type)};Blockly.Xml.deleteNext=function(a){for(var b=0,c;c=a.childNodes[b];b++)if("next"==c.nodeName.toLowerCase()){a.removeChild(c);break}};Blockly.Options=function(a){var b=!!a.readOnly;if(b)var c=null,d=!1,e=!1,f=!1,g=!1,h=!1,k=!1;else{c=Blockly.Options.parseToolboxTree(a.toolbox||null);d=!(!c||!c.getElementsByTagName("category").length);e=a.trashcan;void 0===e&&(e=d);var l=a.maxTrashcanContents;e?void 0===l&&(l=32):l=0;f=a.collapse;void 0===f&&(f=d);g=a.comments;void 0===g&&(g=d);h=a.disable;void 0===h&&(h=d);k=a.sounds;void 0===k&&(k=!0)}var m=!!a.rtl,n=a.horizontalLayout;void 0===n&&(n=!1);var p=a.toolboxPosition;p="end"!==p;p=n?
p?Blockly.TOOLBOX_AT_TOP:Blockly.TOOLBOX_AT_BOTTOM:p==m?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT;var q=a.css;void 0===q&&(q=!0);var r="https://blockly-demo.appspot.com/static/media/";a.media?r=a.media:a.path&&(r=a.path+"media/");var t=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,u=a.keyMap||Blockly.user.keyMap.createDefaultKeyMap(),v=a.renderer||"geras";this.RTL=m;this.oneBasedIndex=t;this.collapse=f;this.comments=g;this.disable=h;this.readOnly=b;this.maxBlocks=a.maxBlocks||Infinity;this.maxInstances=
a.maxInstances;this.pathToMedia=r;this.hasCategories=d;this.moveOptions=Blockly.Options.parseMoveOptions(a,d);this.hasScrollbars=this.moveOptions.scrollbars;this.hasTrashcan=e;this.maxTrashcanContents=l;this.hasSounds=k;this.hasCss=q;this.horizontalLayout=n;this.languageTree=c;this.gridOptions=Blockly.Options.parseGridOptions_(a);this.zoomOptions=Blockly.Options.parseZoomOptions_(a);this.toolboxPosition=p;this.theme=Blockly.Options.parseThemeOptions_(a);this.keyMap=u;this.renderer=v;this.rendererOverrides=
a.rendererOverrides;this.gridPattern=void 0;this.parentWorkspace=a.parentWorkspace};Blockly.BlocklyOptions=function(){};Blockly.Options.parseMoveOptions=function(a,b){var c=a.move||{},d={};d.scrollbars=void 0===c.scrollbars&&void 0===a.scrollbars?b:!!c.scrollbars||!!a.scrollbars;d.wheel=d.scrollbars&&void 0!==c.wheel?!!c.wheel:!1;d.drag=d.scrollbars?void 0===c.drag?!0:!!c.drag:!1;return d};
Blockly.Options.parseZoomOptions_=function(a){a=a.zoom||{};var b={};b.controls=void 0===a.controls?!1:!!a.controls;b.wheel=void 0===a.wheel?!1:!!a.wheel;b.startScale=void 0===a.startScale?1:Number(a.startScale);b.maxScale=void 0===a.maxScale?3:Number(a.maxScale);b.minScale=void 0===a.minScale?.3:Number(a.minScale);b.scaleSpeed=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);b.pinch=void 0===a.pinch?b.wheel||b.controls:!!a.pinch;return b};
Blockly.Options.parseGridOptions_=function(a){a=a.grid||{};var b={};b.spacing=Number(a.spacing)||0;b.colour=a.colour||"#888";b.length=void 0===a.length?1:Number(a.length);b.snap=0<b.spacing&&!!a.snap;return b};Blockly.Options.parseThemeOptions_=function(a){a=a.theme||Blockly.Themes.Classic;return a instanceof Blockly.Theme?a:Blockly.Theme.defineTheme("builtin",a)};
Blockly.Options.parseToolboxTree=function(a){if(a){if("string"!=typeof a&&(Blockly.utils.userAgent.IE&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=Blockly.Xml.textToDom(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};Blockly.Touch={};Blockly.Touch.TOUCH_ENABLED="ontouchstart"in Blockly.utils.global||!!(Blockly.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!Blockly.utils.global.navigator||!Blockly.utils.global.navigator.maxTouchPoints&&!Blockly.utils.global.navigator.msMaxTouchPoints);Blockly.Touch.touchIdentifier_=null;Blockly.Touch.TOUCH_MAP={};
Blockly.utils.global.PointerEvent?Blockly.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:Blockly.Touch.TOUCH_ENABLED&&(Blockly.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});Blockly.longPid_=0;
Blockly.longStart=function(a,b){Blockly.longStop_();a.changedTouches&&1!=a.changedTouches.length||(Blockly.longPid_=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);b&&b.handleRightClick(a)},Blockly.LONGPRESS))};Blockly.longStop_=function(){Blockly.longPid_&&(clearTimeout(Blockly.longPid_),Blockly.longPid_=0)};Blockly.Touch.clearTouchIdentifier=function(){Blockly.Touch.touchIdentifier_=null};
Blockly.Touch.shouldHandleEvent=function(a){return!Blockly.Touch.isMouseOrTouchEvent(a)||Blockly.Touch.checkTouchIdentifier(a)};Blockly.Touch.getTouchIdentifierFromEvent=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};
Blockly.Touch.checkTouchIdentifier=function(a){var b=Blockly.Touch.getTouchIdentifierFromEvent(a);return void 0!==Blockly.Touch.touchIdentifier_&&null!==Blockly.Touch.touchIdentifier_?Blockly.Touch.touchIdentifier_==b:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(Blockly.Touch.touchIdentifier_=b,!0):!1};Blockly.Touch.setClientFromTouch=function(a){if(Blockly.utils.string.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};
Blockly.Touch.isMouseOrTouchEvent=function(a){return Blockly.utils.string.startsWith(a.type,"touch")||Blockly.utils.string.startsWith(a.type,"mouse")||Blockly.utils.string.startsWith(a.type,"pointer")};Blockly.Touch.isTouchEvent=function(a){return Blockly.utils.string.startsWith(a.type,"touch")||Blockly.utils.string.startsWith(a.type,"pointer")};
Blockly.Touch.splitEventByTouches=function(a){var b=[];if(a.changedTouches)for(var c=0;c<a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else b.push(a);return b};Blockly.ScrollbarPair=function(a){this.workspace_=a;this.hScroll=new Blockly.Scrollbar(a,!0,!0,"blocklyMainWorkspaceScrollbar");this.vScroll=new Blockly.Scrollbar(a,!1,!0,"blocklyMainWorkspaceScrollbar");this.corner_=Blockly.utils.dom.createSvgElement("rect",{height:Blockly.Scrollbar.scrollbarThickness,width:Blockly.Scrollbar.scrollbarThickness,"class":"blocklyScrollbarBackground"},null);Blockly.utils.dom.insertAfter(this.corner_,a.getBubbleCanvas())};
Blockly.ScrollbarPair.prototype.oldHostMetrics_=null;Blockly.ScrollbarPair.prototype.dispose=function(){Blockly.utils.dom.removeNode(this.corner_);this.oldHostMetrics_=this.workspace_=this.corner_=null;this.hScroll.dispose();this.hScroll=null;this.vScroll.dispose();this.vScroll=null};
Blockly.ScrollbarPair.prototype.resize=function(){var a=this.workspace_.getMetrics();if(a){var b=!1,c=!1;this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==a.viewWidth&&this.oldHostMetrics_.viewHeight==a.viewHeight&&this.oldHostMetrics_.absoluteTop==a.absoluteTop&&this.oldHostMetrics_.absoluteLeft==a.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.contentWidth==a.contentWidth&&this.oldHostMetrics_.viewLeft==a.viewLeft&&this.oldHostMetrics_.contentLeft==a.contentLeft||(b=!0),this.oldHostMetrics_&&
this.oldHostMetrics_.contentHeight==a.contentHeight&&this.oldHostMetrics_.viewTop==a.viewTop&&this.oldHostMetrics_.contentTop==a.contentTop||(c=!0)):c=b=!0;b&&this.hScroll.resize(a);c&&this.vScroll.resize(a);this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==a.viewWidth&&this.oldHostMetrics_.absoluteLeft==a.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position_.x);this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==a.viewHeight&&this.oldHostMetrics_.absoluteTop==a.absoluteTop||this.corner_.setAttribute("y",
this.hScroll.position_.y);this.oldHostMetrics_=a}};Blockly.ScrollbarPair.prototype.set=function(a,b){var c={};a*=this.hScroll.ratio_;b*=this.vScroll.ratio_;var d=this.vScroll.scrollViewSize_;c.x=this.getRatio_(a,this.hScroll.scrollViewSize_);c.y=this.getRatio_(b,d);this.workspace_.setMetrics(c);this.hScroll.setHandlePosition(a);this.vScroll.setHandlePosition(b)};Blockly.ScrollbarPair.prototype.getRatio_=function(a,b){a/=b;return isNaN(a)?0:a};
Blockly.Scrollbar=function(a,b,c,d){this.workspace_=a;this.pair_=c||!1;this.horizontal_=b;this.oldHostMetrics_=null;this.createDom_(d);this.position_=new Blockly.utils.Coordinate(0,0);a=Blockly.Scrollbar.scrollbarThickness;b?(this.svgBackground_.setAttribute("height",a),this.outerSvg_.setAttribute("height",a),this.svgHandle_.setAttribute("height",a-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",a),this.outerSvg_.setAttribute("width",
a),this.svgHandle_.setAttribute("width",a-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y");this.onMouseDownBarWrapper_=Blockly.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDownBar_);this.onMouseDownHandleWrapper_=Blockly.bindEventWithChecks_(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)};Blockly.Scrollbar.prototype.origin_=new Blockly.utils.Coordinate(0,0);Blockly.Scrollbar.prototype.startDragMouse_=0;
Blockly.Scrollbar.prototype.scrollViewSize_=0;Blockly.Scrollbar.prototype.handleLength_=0;Blockly.Scrollbar.prototype.handlePosition_=0;Blockly.Scrollbar.prototype.isVisible_=!0;Blockly.Scrollbar.prototype.containerVisible_=!0;Blockly.Scrollbar.scrollbarThickness=15;Blockly.Touch.TOUCH_ENABLED&&(Blockly.Scrollbar.scrollbarThickness=25);
Blockly.Scrollbar.metricsAreEquivalent_=function(a,b){return a&&b&&a.viewWidth==b.viewWidth&&a.viewHeight==b.viewHeight&&a.viewLeft==b.viewLeft&&a.viewTop==b.viewTop&&a.absoluteTop==b.absoluteTop&&a.absoluteLeft==b.absoluteLeft&&a.contentWidth==b.contentWidth&&a.contentHeight==b.contentHeight&&a.contentLeft==b.contentLeft&&a.contentTop==b.contentTop?!0:!1};
Blockly.Scrollbar.prototype.dispose=function(){this.cleanUp_();Blockly.unbindEvent_(this.onMouseDownBarWrapper_);this.onMouseDownBarWrapper_=null;Blockly.unbindEvent_(this.onMouseDownHandleWrapper_);this.onMouseDownHandleWrapper_=null;Blockly.utils.dom.removeNode(this.outerSvg_);this.svgBackground_=this.svgGroup_=this.outerSvg_=null;this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null);this.workspace_=null};
Blockly.Scrollbar.prototype.setHandleLength_=function(a){this.handleLength_=a;this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)};Blockly.Scrollbar.prototype.setHandlePosition=function(a){this.handlePosition_=a;this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)};
Blockly.Scrollbar.prototype.setScrollViewSize_=function(a){this.scrollViewSize_=a;this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollViewSize_);this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollViewSize_)};Blockly.ScrollbarPair.prototype.setContainerVisible=function(a){this.hScroll.setContainerVisible(a);this.vScroll.setContainerVisible(a)};
Blockly.Scrollbar.prototype.setPosition_=function(a,b){this.position_.x=a;this.position_.y=b;Blockly.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position_.x+this.origin_.x)+"px,"+(this.position_.y+this.origin_.y)+"px)")};Blockly.Scrollbar.prototype.resize=function(a){if(!a&&(a=this.workspace_.getMetrics(),!a))return;Blockly.Scrollbar.metricsAreEquivalent_(a,this.oldHostMetrics_)||(this.oldHostMetrics_=a,this.horizontal_?this.resizeHorizontal_(a):this.resizeVertical_(a),this.onScroll_())};
Blockly.Scrollbar.prototype.resizeHorizontal_=function(a){this.resizeViewHorizontal(a)};Blockly.Scrollbar.prototype.resizeViewHorizontal=function(a){var b=a.viewWidth-1;this.pair_&&(b-=Blockly.Scrollbar.scrollbarThickness);this.setScrollViewSize_(Math.max(0,b));b=a.absoluteLeft+.5;this.pair_&&this.workspace_.RTL&&(b+=Blockly.Scrollbar.scrollbarThickness);this.setPosition_(b,a.absoluteTop+a.viewHeight-Blockly.Scrollbar.scrollbarThickness-.5);this.resizeContentHorizontal(a)};
Blockly.Scrollbar.prototype.resizeContentHorizontal=function(a){this.pair_||this.setVisible(this.scrollViewSize_<a.contentWidth);this.ratio_=this.scrollViewSize_/a.contentWidth;if(-Infinity==this.ratio_||Infinity==this.ratio_||isNaN(this.ratio_))this.ratio_=0;this.setHandleLength_(Math.max(0,a.viewWidth*this.ratio_));this.setHandlePosition(this.constrainHandle_((a.viewLeft-a.contentLeft)*this.ratio_))};Blockly.Scrollbar.prototype.resizeVertical_=function(a){this.resizeViewVertical(a)};
Blockly.Scrollbar.prototype.resizeViewVertical=function(a){var b=a.viewHeight-1;this.pair_&&(b-=Blockly.Scrollbar.scrollbarThickness);this.setScrollViewSize_(Math.max(0,b));b=a.absoluteLeft+.5;this.workspace_.RTL||(b+=a.viewWidth-Blockly.Scrollbar.scrollbarThickness-1);this.setPosition_(b,a.absoluteTop+.5);this.resizeContentVertical(a)};
Blockly.Scrollbar.prototype.resizeContentVertical=function(a){this.pair_||this.setVisible(this.scrollViewSize_<a.contentHeight);this.ratio_=this.scrollViewSize_/a.contentHeight;if(-Infinity==this.ratio_||Infinity==this.ratio_||isNaN(this.ratio_))this.ratio_=0;this.setHandleLength_(Math.max(0,a.viewHeight*this.ratio_));this.setHandlePosition(this.constrainHandle_((a.viewTop-a.contentTop)*this.ratio_))};
Blockly.Scrollbar.prototype.createDom_=function(a){var b="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");a&&(b+=" "+a);this.outerSvg_=Blockly.utils.dom.createSvgElement("svg",{"class":b},null);this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{},this.outerSvg_);this.svgBackground_=Blockly.utils.dom.createSvgElement("rect",{"class":"blocklyScrollbarBackground"},this.svgGroup_);a=Math.floor((Blockly.Scrollbar.scrollbarThickness-5)/2);this.svgHandle_=Blockly.utils.dom.createSvgElement("rect",
{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.svgGroup_);this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill");this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity");Blockly.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())};Blockly.Scrollbar.prototype.isVisible=function(){return this.isVisible_};
Blockly.Scrollbar.prototype.setContainerVisible=function(a){var b=a!=this.containerVisible_;this.containerVisible_=a;b&&this.updateDisplay_()};Blockly.Scrollbar.prototype.setVisible=function(a){var b=a!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=a;b&&this.updateDisplay_()};
Blockly.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")};
Blockly.Scrollbar.prototype.onMouseDownBar_=function(a){this.workspace_.markFocused();Blockly.Touch.clearTouchIdentifier();this.cleanUp_();if(Blockly.utils.isRightButton(a))a.stopPropagation();else{var b=Blockly.utils.mouseToSvg(a,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());b=this.horizontal_?b.x:b.y;var c=Blockly.utils.getInjectionDivXY_(this.svgHandle_);c=this.horizontal_?c.x:c.y;var d=this.handlePosition_,e=.95*this.handleLength_;b<=c?d-=e:b>=c+this.handleLength_&&(d+=
e);this.setHandlePosition(this.constrainHandle_(d));this.onScroll_();a.stopPropagation();a.preventDefault()}};
Blockly.Scrollbar.prototype.onMouseDownHandle_=function(a){this.workspace_.markFocused();this.cleanUp_();Blockly.utils.isRightButton(a)?a.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?a.clientX:a.clientY,Blockly.Scrollbar.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,this.onMouseUpHandle_),Blockly.Scrollbar.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.onMouseMoveHandle_),
a.stopPropagation(),a.preventDefault())};Blockly.Scrollbar.prototype.onMouseMoveHandle_=function(a){this.setHandlePosition(this.constrainHandle_(this.startDragHandle+((this.horizontal_?a.clientX:a.clientY)-this.startDragMouse_)));this.onScroll_()};Blockly.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface();Blockly.Touch.clearTouchIdentifier();this.cleanUp_()};
Blockly.Scrollbar.prototype.cleanUp_=function(){Blockly.hideChaff(!0);Blockly.Scrollbar.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseUpWrapper_),Blockly.Scrollbar.onMouseUpWrapper_=null);Blockly.Scrollbar.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseMoveWrapper_),Blockly.Scrollbar.onMouseMoveWrapper_=null)};
Blockly.Scrollbar.prototype.constrainHandle_=function(a){return a=0>=a||isNaN(a)||this.scrollViewSize_<this.handleLength_?0:Math.min(a,this.scrollViewSize_-this.handleLength_)};Blockly.Scrollbar.prototype.onScroll_=function(){var a=this.handlePosition_/this.scrollViewSize_;isNaN(a)&&(a=0);var b={};this.horizontal_?b.x=a:b.y=a;this.workspace_.setMetrics(b)};Blockly.Scrollbar.prototype.set=function(a){this.setHandlePosition(this.constrainHandle_(a*this.ratio_));this.onScroll_()};
Blockly.Scrollbar.prototype.setOrigin=function(a,b){this.origin_=new Blockly.utils.Coordinate(a,b)};Blockly.Tooltip={};Blockly.Tooltip.visible=!1;Blockly.Tooltip.blocked_=!1;Blockly.Tooltip.LIMIT=50;Blockly.Tooltip.mouseOutPid_=0;Blockly.Tooltip.showPid_=0;Blockly.Tooltip.lastX_=0;Blockly.Tooltip.lastY_=0;Blockly.Tooltip.element_=null;Blockly.Tooltip.poisonedElement_=null;Blockly.Tooltip.OFFSET_X=0;Blockly.Tooltip.OFFSET_Y=10;Blockly.Tooltip.RADIUS_OK=10;Blockly.Tooltip.HOVER_MS=750;Blockly.Tooltip.MARGINS=5;Blockly.Tooltip.DIV=null;
Blockly.Tooltip.createDom=function(){Blockly.Tooltip.DIV||(Blockly.Tooltip.DIV=document.createElement("div"),Blockly.Tooltip.DIV.className="blocklyTooltipDiv",(Blockly.parentContainer||document.body).appendChild(Blockly.Tooltip.DIV))};
Blockly.Tooltip.bindMouseEvents=function(a){a.mouseOverWrapper_=Blockly.bindEvent_(a,"mouseover",null,Blockly.Tooltip.onMouseOver_);a.mouseOutWrapper_=Blockly.bindEvent_(a,"mouseout",null,Blockly.Tooltip.onMouseOut_);a.addEventListener("mousemove",Blockly.Tooltip.onMouseMove_,!1)};Blockly.Tooltip.unbindMouseEvents=function(a){a&&(Blockly.unbindEvent_(a.mouseOverWrapper_),Blockly.unbindEvent_(a.mouseOutWrapper_),a.removeEventListener("mousemove",Blockly.Tooltip.onMouseMove_))};
Blockly.Tooltip.onMouseOver_=function(a){if(!Blockly.Tooltip.blocked_){for(a=a.currentTarget;"string"!=typeof a.tooltip&&"function"!=typeof a.tooltip;)a=a.tooltip;Blockly.Tooltip.element_!=a&&(Blockly.Tooltip.hide(),Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.element_=a);clearTimeout(Blockly.Tooltip.mouseOutPid_)}};
Blockly.Tooltip.onMouseOut_=function(a){Blockly.Tooltip.blocked_||(Blockly.Tooltip.mouseOutPid_=setTimeout(function(){Blockly.Tooltip.element_=null;Blockly.Tooltip.poisonedElement_=null;Blockly.Tooltip.hide()},1),clearTimeout(Blockly.Tooltip.showPid_))};
Blockly.Tooltip.onMouseMove_=function(a){if(Blockly.Tooltip.element_&&Blockly.Tooltip.element_.tooltip&&!Blockly.Tooltip.blocked_)if(Blockly.Tooltip.visible){var b=Blockly.Tooltip.lastX_-a.pageX;a=Blockly.Tooltip.lastY_-a.pageY;Math.sqrt(b*b+a*a)>Blockly.Tooltip.RADIUS_OK&&Blockly.Tooltip.hide()}else Blockly.Tooltip.poisonedElement_!=Blockly.Tooltip.element_&&(clearTimeout(Blockly.Tooltip.showPid_),Blockly.Tooltip.lastX_=a.pageX,Blockly.Tooltip.lastY_=a.pageY,Blockly.Tooltip.showPid_=setTimeout(Blockly.Tooltip.show_,
Blockly.Tooltip.HOVER_MS))};Blockly.Tooltip.dispose=function(){Blockly.Tooltip.element_=null;Blockly.Tooltip.poisonedElement_=null;Blockly.Tooltip.hide()};Blockly.Tooltip.hide=function(){Blockly.Tooltip.visible&&(Blockly.Tooltip.visible=!1,Blockly.Tooltip.DIV&&(Blockly.Tooltip.DIV.style.display="none"));Blockly.Tooltip.showPid_&&clearTimeout(Blockly.Tooltip.showPid_)};Blockly.Tooltip.block=function(){Blockly.Tooltip.hide();Blockly.Tooltip.blocked_=!0};
Blockly.Tooltip.unblock=function(){Blockly.Tooltip.blocked_=!1};
Blockly.Tooltip.show_=function(){if(!Blockly.Tooltip.blocked_&&(Blockly.Tooltip.poisonedElement_=Blockly.Tooltip.element_,Blockly.Tooltip.DIV)){Blockly.Tooltip.DIV.textContent="";for(var a=Blockly.Tooltip.element_.tooltip;"function"==typeof a;)a=a();a=Blockly.utils.string.wrap(a,Blockly.Tooltip.LIMIT);a=a.split("\n");for(var b=0;b<a.length;b++){var c=document.createElement("div");c.appendChild(document.createTextNode(a[b]));Blockly.Tooltip.DIV.appendChild(c)}a=Blockly.Tooltip.element_.RTL;b=document.documentElement.clientWidth;
c=document.documentElement.clientHeight;Blockly.Tooltip.DIV.style.direction=a?"rtl":"ltr";Blockly.Tooltip.DIV.style.display="block";Blockly.Tooltip.visible=!0;var d=Blockly.Tooltip.lastX_;d=a?d-(Blockly.Tooltip.OFFSET_X+Blockly.Tooltip.DIV.offsetWidth):d+Blockly.Tooltip.OFFSET_X;var e=Blockly.Tooltip.lastY_+Blockly.Tooltip.OFFSET_Y;e+Blockly.Tooltip.DIV.offsetHeight>c+window.scrollY&&(e-=Blockly.Tooltip.DIV.offsetHeight+2*Blockly.Tooltip.OFFSET_Y);a?d=Math.max(Blockly.Tooltip.MARGINS-window.scrollX,
d):d+Blockly.Tooltip.DIV.offsetWidth>b+window.scrollX-2*Blockly.Tooltip.MARGINS&&(d=b-Blockly.Tooltip.DIV.offsetWidth-2*Blockly.Tooltip.MARGINS);Blockly.Tooltip.DIV.style.top=e+"px";Blockly.Tooltip.DIV.style.left=d+"px"}};Blockly.WorkspaceDragSurfaceSvg=function(a){this.container_=a;this.createDom()};Blockly.WorkspaceDragSurfaceSvg.prototype.SVG_=null;Blockly.WorkspaceDragSurfaceSvg.prototype.dragGroup_=null;Blockly.WorkspaceDragSurfaceSvg.prototype.container_=null;
Blockly.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=Blockly.utils.dom.createSvgElement("svg",{xmlns:Blockly.utils.dom.SVG_NS,"xmlns:html":Blockly.utils.dom.HTML_NS,"xmlns:xlink":Blockly.utils.dom.XLINK_NS,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))};
Blockly.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(a,b){a=a.toFixed(0);b=b.toFixed(0);this.SVG_.style.display="block";Blockly.utils.dom.setCssTransform(this.SVG_,"translate3d("+a+"px, "+b+"px, 0px)")};Blockly.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return Blockly.utils.getRelativeXY(this.SVG_)};
Blockly.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var b=this.SVG_.childNodes[0],c=this.SVG_.childNodes[1];if(!(b&&c&&Blockly.utils.dom.hasClass(b,"blocklyBlockCanvas")&&Blockly.utils.dom.hasClass(c,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.previousSibling_?Blockly.utils.dom.insertAfter(b,this.previousSibling_):a.insertBefore(b,a.firstChild);
Blockly.utils.dom.insertAfter(c,b);this.SVG_.style.display="none";if(this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");Blockly.utils.dom.setCssTransform(this.SVG_,"");this.previousSibling_=null};
Blockly.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(a,b,c,d,e,f){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=c;a.setAttribute("transform","translate(0, 0) scale("+f+")");b.setAttribute("transform","translate(0, 0) scale("+f+")");this.SVG_.setAttribute("width",d);this.SVG_.setAttribute("height",e);this.SVG_.appendChild(a);this.SVG_.appendChild(b);this.SVG_.style.display="block"};Blockly.ASTNode=function(a,b,c){if(!b)throw Error("Cannot create a node without a location.");this.type_=a;this.isConnection_=Blockly.ASTNode.isConnectionType_(a);this.location_=b;this.processParams_(c||null)};Blockly.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"};Blockly.ASTNode.NAVIGATE_ALL_FIELDS=!1;Blockly.ASTNode.DEFAULT_OFFSET_Y=-20;Blockly.ASTNode.isConnectionType_=function(a){switch(a){case Blockly.ASTNode.types.PREVIOUS:case Blockly.ASTNode.types.NEXT:case Blockly.ASTNode.types.INPUT:case Blockly.ASTNode.types.OUTPUT:return!0}return!1};
Blockly.ASTNode.createFieldNode=function(a){return a?new Blockly.ASTNode(Blockly.ASTNode.types.FIELD,a):null};
Blockly.ASTNode.createConnectionNode=function(a){return a?a.type==Blockly.INPUT_VALUE||a.type==Blockly.NEXT_STATEMENT&&a.getParentInput()?Blockly.ASTNode.createInputNode(a.getParentInput()):a.type==Blockly.NEXT_STATEMENT?new Blockly.ASTNode(Blockly.ASTNode.types.NEXT,a):a.type==Blockly.OUTPUT_VALUE?new Blockly.ASTNode(Blockly.ASTNode.types.OUTPUT,a):a.type==Blockly.PREVIOUS_STATEMENT?new Blockly.ASTNode(Blockly.ASTNode.types.PREVIOUS,a):null:null};
Blockly.ASTNode.createInputNode=function(a){return a&&a.connection?new Blockly.ASTNode(Blockly.ASTNode.types.INPUT,a.connection):null};Blockly.ASTNode.createBlockNode=function(a){return a?new Blockly.ASTNode(Blockly.ASTNode.types.BLOCK,a):null};Blockly.ASTNode.createStackNode=function(a){return a?new Blockly.ASTNode(Blockly.ASTNode.types.STACK,a):null};Blockly.ASTNode.createWorkspaceNode=function(a,b){return b&&a?new Blockly.ASTNode(Blockly.ASTNode.types.WORKSPACE,a,{wsCoordinate:b}):null};
Blockly.ASTNode.prototype.processParams_=function(a){a&&a.wsCoordinate&&(this.wsCoordinate_=a.wsCoordinate)};Blockly.ASTNode.prototype.getLocation=function(){return this.location_};Blockly.ASTNode.prototype.getType=function(){return this.type_};Blockly.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_};Blockly.ASTNode.prototype.isConnection=function(){return this.isConnection_};
Blockly.ASTNode.prototype.findNextForInput_=function(){var a=this.location_.getParentInput(),b=a.getSourceBlock();a=b.inputList.indexOf(a)+1;for(var c;c=b.inputList[a];a++){for(var d=c.fieldRow,e=0,f;f=d[e];e++)if(f.isClickable()||Blockly.ASTNode.NAVIGATE_ALL_FIELDS)return Blockly.ASTNode.createFieldNode(f);if(c.connection)return Blockly.ASTNode.createInputNode(c)}return null};
Blockly.ASTNode.prototype.findNextForField_=function(){var a=this.location_,b=a.getParentInput(),c=a.getSourceBlock(),d=c.inputList.indexOf(b);for(a=b.fieldRow.indexOf(a)+1;b=c.inputList[d];d++){for(var e=b.fieldRow;a<e.length;){if(e[a].isClickable()||Blockly.ASTNode.NAVIGATE_ALL_FIELDS)return Blockly.ASTNode.createFieldNode(e[a]);a++}a=0;if(b.connection)return Blockly.ASTNode.createInputNode(b)}return null};
Blockly.ASTNode.prototype.findPrevForInput_=function(){for(var a=this.location_.getParentInput(),b=a.getSourceBlock(),c=b.inputList.indexOf(a),d;d=b.inputList[c];c--){if(d.connection&&d!==a)return Blockly.ASTNode.createInputNode(d);d=d.fieldRow;for(var e=d.length-1,f;f=d[e];e--)if(f.isClickable()||Blockly.ASTNode.NAVIGATE_ALL_FIELDS)return Blockly.ASTNode.createFieldNode(f)}return null};
Blockly.ASTNode.prototype.findPrevForField_=function(){var a=this.location_,b=a.getParentInput(),c=a.getSourceBlock(),d=c.inputList.indexOf(b);a=b.fieldRow.indexOf(a)-1;for(var e;e=c.inputList[d];d--){if(e.connection&&e!==b)return Blockly.ASTNode.createInputNode(e);for(e=e.fieldRow;-1<a;){if(e[a].isClickable()||Blockly.ASTNode.NAVIGATE_ALL_FIELDS)return Blockly.ASTNode.createFieldNode(e[a]);a--}0<=d-1&&(a=c.inputList[d-1].fieldRow.length-1)}return null};
Blockly.ASTNode.prototype.navigateBetweenStacks_=function(a){var b=this.getLocation();b instanceof Blockly.Block||(b=b.getSourceBlock());if(!b||!b.workspace)return null;var c=b.getRootBlock();b=c.workspace.getTopBlocks(!0);for(var d=0,e;e=b[d];d++)if(c.id==e.id)return a=d+(a?1:-1),-1==a||a==b.length?null:Blockly.ASTNode.createStackNode(b[a]);throw Error("Couldn't find "+(a?"next":"previous")+" stack?!");};
Blockly.ASTNode.prototype.findTopASTNodeForBlock_=function(a){var b=a.previousConnection||a.outputConnection;return b?Blockly.ASTNode.createConnectionNode(b):Blockly.ASTNode.createBlockNode(a)};Blockly.ASTNode.prototype.getOutAstNodeForBlock_=function(a){if(!a)return null;a=a.getTopStackBlock();var b=a.previousConnection||a.outputConnection;return b&&b.targetConnection&&b.targetConnection.getParentInput()?Blockly.ASTNode.createInputNode(b.targetConnection.getParentInput()):Blockly.ASTNode.createStackNode(a)};
Blockly.ASTNode.prototype.findFirstFieldOrInput_=function(a){a=a.inputList;for(var b=0,c;c=a[b];b++){for(var d=c.fieldRow,e=0,f;f=d[e];e++)if(f.isClickable()||Blockly.ASTNode.NAVIGATE_ALL_FIELDS)return Blockly.ASTNode.createFieldNode(f);if(c.connection)return Blockly.ASTNode.createInputNode(c)}return null};
Blockly.ASTNode.prototype.getSourceBlock=function(){return this.getType()===Blockly.ASTNode.types.BLOCK?this.getLocation():this.getType()===Blockly.ASTNode.types.STACK?this.getLocation():this.getType()===Blockly.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()};
Blockly.ASTNode.prototype.next=function(){switch(this.type_){case Blockly.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case Blockly.ASTNode.types.OUTPUT:return Blockly.ASTNode.createBlockNode(this.location_.getSourceBlock());case Blockly.ASTNode.types.FIELD:return this.findNextForField_();case Blockly.ASTNode.types.INPUT:return this.findNextForInput_();case Blockly.ASTNode.types.BLOCK:return Blockly.ASTNode.createConnectionNode(this.location_.nextConnection);case Blockly.ASTNode.types.PREVIOUS:return Blockly.ASTNode.createBlockNode(this.location_.getSourceBlock());
case Blockly.ASTNode.types.NEXT:return Blockly.ASTNode.createConnectionNode(this.location_.targetConnection)}return null};Blockly.ASTNode.prototype.in=function(){switch(this.type_){case Blockly.ASTNode.types.WORKSPACE:var a=this.location_.getTopBlocks(!0);if(0<a.length)return Blockly.ASTNode.createStackNode(a[0]);break;case Blockly.ASTNode.types.STACK:return a=this.location_,this.findTopASTNodeForBlock_(a);case Blockly.ASTNode.types.BLOCK:return a=this.location_,this.findFirstFieldOrInput_(a);case Blockly.ASTNode.types.INPUT:return Blockly.ASTNode.createConnectionNode(this.location_.targetConnection)}return null};
Blockly.ASTNode.prototype.prev=function(){switch(this.type_){case Blockly.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case Blockly.ASTNode.types.FIELD:return this.findPrevForField_();case Blockly.ASTNode.types.INPUT:return this.findPrevForInput_();case Blockly.ASTNode.types.BLOCK:var a=this.location_;return Blockly.ASTNode.createConnectionNode(a.previousConnection||a.outputConnection);case Blockly.ASTNode.types.PREVIOUS:if((a=this.location_.targetConnection)&&!a.getParentInput())return Blockly.ASTNode.createConnectionNode(a);
break;case Blockly.ASTNode.types.NEXT:return Blockly.ASTNode.createBlockNode(this.location_.getSourceBlock())}return null};
Blockly.ASTNode.prototype.out=function(){switch(this.type_){case Blockly.ASTNode.types.STACK:var a=this.location_.getRelativeToSurfaceXY();a=new Blockly.utils.Coordinate(a.x,a.y+Blockly.ASTNode.DEFAULT_OFFSET_Y);return Blockly.ASTNode.createWorkspaceNode(this.location_.workspace,a);case Blockly.ASTNode.types.OUTPUT:return(a=this.location_.targetConnection)?Blockly.ASTNode.createConnectionNode(a):Blockly.ASTNode.createStackNode(this.location_.getSourceBlock());case Blockly.ASTNode.types.FIELD:return Blockly.ASTNode.createBlockNode(this.location_.getSourceBlock());
case Blockly.ASTNode.types.INPUT:return Blockly.ASTNode.createBlockNode(this.location_.getSourceBlock());case Blockly.ASTNode.types.BLOCK:return this.getOutAstNodeForBlock_(this.location_);case Blockly.ASTNode.types.PREVIOUS:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock());case Blockly.ASTNode.types.NEXT:return this.getOutAstNodeForBlock_(this.location_.getSourceBlock())}return null};Blockly.Blocks=Object.create(null);Blockly.Connection=function(a,b){this.sourceBlock_=a;this.type=b};Blockly.Connection.CAN_CONNECT=0;Blockly.Connection.REASON_SELF_CONNECTION=1;Blockly.Connection.REASON_WRONG_TYPE=2;Blockly.Connection.REASON_TARGET_NULL=3;Blockly.Connection.REASON_CHECKS_FAILED=4;Blockly.Connection.REASON_DIFFERENT_WORKSPACES=5;Blockly.Connection.REASON_SHADOW_PARENT=6;Blockly.Connection.prototype.targetConnection=null;Blockly.Connection.prototype.disposed=!1;Blockly.Connection.prototype.check_=null;
Blockly.Connection.prototype.shadowDom_=null;Blockly.Connection.prototype.x=0;Blockly.Connection.prototype.y=0;
Blockly.Connection.prototype.connect_=function(a){var b=this,c=b.getSourceBlock(),d=a.getSourceBlock();a.isConnected()&&a.disconnect();if(b.isConnected()){var e=b.targetBlock(),f=b.getShadowDom();b.setShadowDom(null);if(e.isShadow())f=Blockly.Xml.blockToDom(e),e.dispose(!1),e=null;else if(b.type==Blockly.INPUT_VALUE){if(!e.outputConnection)throw Error("Orphan block does not have an output connection.");var g=Blockly.Connection.lastConnectionInRow(d,e);g&&(e.outputConnection.connect(g),e=null)}else if(b.type==
Blockly.NEXT_STATEMENT){if(!e.previousConnection)throw Error("Orphan block does not have a previous connection.");for(g=d;g.nextConnection;){var h=g.getNextBlock();if(h&&!h.isShadow())g=h;else{e.previousConnection.checkType(g.nextConnection)&&(g.nextConnection.connect(e.previousConnection),e=null);break}}}if(e&&(b.disconnect(),Blockly.Events.recordUndo)){var k=Blockly.Events.getGroup();setTimeout(function(){if(e.workspace&&!e.getParent()){Blockly.Events.setGroup(k);if(e.outputConnection)e.outputConnection.onFailedConnect(b);
else if(e.previousConnection)e.previousConnection.onFailedConnect(b);Blockly.Events.setGroup(!1)}},Blockly.BUMP_DELAY)}b.setShadowDom(f)}var l;Blockly.Events.isEnabled()&&(l=new Blockly.Events.BlockMove(d));Blockly.Connection.connectReciprocally_(b,a);d.setParent(c);l&&(l.recordNew(),Blockly.Events.fire(l))};Blockly.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var a=this.targetBlock();a.isShadow()?a.dispose(!1):a.unplug()}this.disposed=!0};
Blockly.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_};Blockly.Connection.prototype.isSuperior=function(){return this.type==Blockly.INPUT_VALUE||this.type==Blockly.NEXT_STATEMENT};Blockly.Connection.prototype.isConnected=function(){return!!this.targetConnection};
Blockly.Connection.prototype.canConnectWithReason=function(a){if(!a)return Blockly.Connection.REASON_TARGET_NULL;if(this.isSuperior())var b=this.sourceBlock_,c=a.getSourceBlock();else c=this.sourceBlock_,b=a.getSourceBlock();return b&&b==c?Blockly.Connection.REASON_SELF_CONNECTION:a.type!=Blockly.OPPOSITE_TYPE[this.type]?Blockly.Connection.REASON_WRONG_TYPE:b&&c&&b.workspace!==c.workspace?Blockly.Connection.REASON_DIFFERENT_WORKSPACES:this.checkType(a)?b.isShadow()&&!c.isShadow()?Blockly.Connection.REASON_SHADOW_PARENT:
Blockly.Connection.CAN_CONNECT:Blockly.Connection.REASON_CHECKS_FAILED};
Blockly.Connection.prototype.checkConnection=function(a){switch(this.canConnectWithReason(a)){case Blockly.Connection.CAN_CONNECT:break;case Blockly.Connection.REASON_SELF_CONNECTION:throw Error("Attempted to connect a block to itself.");case Blockly.Connection.REASON_DIFFERENT_WORKSPACES:throw Error("Blocks not on same workspace.");case Blockly.Connection.REASON_WRONG_TYPE:throw Error("Attempt to connect incompatible types.");case Blockly.Connection.REASON_TARGET_NULL:throw Error("Target connection is null.");
case Blockly.Connection.REASON_CHECKS_FAILED:throw Error("Connection checks failed. "+(this+" expected "+this.check_+", found "+a.check_));case Blockly.Connection.REASON_SHADOW_PARENT:throw Error("Connecting non-shadow to shadow block.");default:throw Error("Unknown connection failure: this should never happen!");}};
Blockly.Connection.prototype.canConnectToPrevious_=function(a){if(this.targetConnection||-1!=Blockly.draggingConnections.indexOf(a))return!1;if(!a.targetConnection)return!0;a=a.targetBlock();return a.isInsertionMarker()?!a.getPreviousBlock():!1};
Blockly.Connection.prototype.isConnectionAllowed=function(a){if(a.sourceBlock_.isInsertionMarker()||this.canConnectWithReason(a)!=Blockly.Connection.CAN_CONNECT)return!1;switch(a.type){case Blockly.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(a);case Blockly.OUTPUT_VALUE:if(a.isConnected()&&!a.targetBlock().isInsertionMarker()||this.isConnected())return!1;break;case Blockly.INPUT_VALUE:if(a.isConnected()&&!a.targetBlock().isMovable()&&!a.targetBlock().isShadow())return!1;break;case Blockly.NEXT_STATEMENT:if(a.isConnected()&&
!this.sourceBlock_.nextConnection&&!a.targetBlock().isShadow()&&a.targetBlock().nextConnection)return!1;break;default:throw Error("Unknown connection type in isConnectionAllowed");}return-1!=Blockly.draggingConnections.indexOf(a)?!1:!0};Blockly.Connection.prototype.onFailedConnect=function(a){};
Blockly.Connection.prototype.connect=function(a){if(this.targetConnection!=a){this.checkConnection(a);var b=Blockly.Events.getGroup();b||Blockly.Events.setGroup(!0);this.isSuperior()?this.connect_(a):a.connect_(this);b||Blockly.Events.setGroup(!1)}};Blockly.Connection.connectReciprocally_=function(a,b){if(!a||!b)throw Error("Cannot connect null connections.");a.targetConnection=b;b.targetConnection=a};
Blockly.Connection.singleConnection_=function(a,b){for(var c=null,d=0;d<a.inputList.length;d++){var e=a.inputList[d].connection;if(e&&e.type==Blockly.INPUT_VALUE&&b.outputConnection.checkType(e)){if(c)return null;c=e}}return c};Blockly.Connection.lastConnectionInRow=function(a,b){for(var c;c=Blockly.Connection.singleConnection_(a,b);)if(a=c.targetBlock(),!a||a.isShadow())return c;return null};
Blockly.Connection.prototype.disconnect=function(){var a=this.targetConnection;if(!a)throw Error("Source connection not connected.");if(a.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var b=this.sourceBlock_;var c=a.getSourceBlock();a=this}else b=a.getSourceBlock(),c=this.sourceBlock_;var d=Blockly.Events.getGroup();d||Blockly.Events.setGroup(!0);this.disconnectInternal_(b,c);a.respawnShadow_();d||Blockly.Events.setGroup(!1)};
Blockly.Connection.prototype.disconnectInternal_=function(a,b){var c;Blockly.Events.isEnabled()&&(c=new Blockly.Events.BlockMove(b));this.targetConnection=this.targetConnection.targetConnection=null;b.setParent(null);c&&(c.recordNew(),Blockly.Events.fire(c))};
Blockly.Connection.prototype.respawnShadow_=function(){var a=this.getSourceBlock(),b=this.getShadowDom();if(a.workspace&&b&&Blockly.Events.recordUndo)if(a=Blockly.Xml.domToBlock(b,a.workspace),a.outputConnection)this.connect(a.outputConnection);else if(a.previousConnection)this.connect(a.previousConnection);else throw Error("Child block does not have output or previous statement.");};
Blockly.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null};Blockly.Connection.prototype.checkType=function(a){if(!this.check_||!a.check_)return!0;for(var b=0;b<this.check_.length;b++)if(-1!=a.check_.indexOf(this.check_[b]))return!0;return!1};Blockly.Connection.prototype.checkType_=function(a){console.warn("Deprecated call to Blockly.Connection.prototype.checkType_, use Blockly.Connection.prototype.checkType instead.");return this.checkType(a)};
Blockly.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.checkType(this.targetConnection)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()};Blockly.Connection.prototype.setCheck=function(a){a?(Array.isArray(a)||(a=[a]),this.check_=a,this.onCheckChanged_()):this.check_=null;return this};Blockly.Connection.prototype.getCheck=function(){return this.check_};Blockly.Connection.prototype.setShadowDom=function(a){this.shadowDom_=a};
Blockly.Connection.prototype.getShadowDom=function(){return this.shadowDom_};Blockly.Connection.prototype.neighbours=function(a){return[]};Blockly.Connection.prototype.getParentInput=function(){for(var a=null,b=this.sourceBlock_,c=b.inputList,d=0;d<b.inputList.length;d++)if(c[d].connection===this){a=c[d];break}return a};
Blockly.Connection.prototype.toString=function(){var a=this.sourceBlock_;if(a)if(a.outputConnection==this)var b="Output Connection of ";else if(a.previousConnection==this)b="Previous Connection of ";else if(a.nextConnection==this)b="Next Connection of ";else{b=null;for(var c=0,d;d=a.inputList[c];c++)if(d.connection==this){b=d;break}if(b)b='Input "'+b.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}else return"Orphan Connection";
return b+a.toDevString()};Blockly.Extensions={};Blockly.Extensions.ALL_={};Blockly.Extensions.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(Blockly.Extensions.ALL_[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof b)throw Error('Error: Extension "'+a+'" must be a function');Blockly.Extensions.ALL_[a]=b};
Blockly.Extensions.registerMixin=function(a,b){if(!b||"object"!=typeof b)throw Error('Error: Mixin "'+a+'" must be a object');Blockly.Extensions.register(a,function(){this.mixin(b)})};
Blockly.Extensions.registerMutator=function(a,b,c,d){var e='Error when registering mutator "'+a+'": ';Blockly.Extensions.checkHasFunction_(e,b.domToMutation,"domToMutation");Blockly.Extensions.checkHasFunction_(e,b.mutationToDom,"mutationToDom");var f=Blockly.Extensions.checkMutatorDialog_(b,e);if(c&&"function"!=typeof c)throw Error('Extension "'+a+'" is not a function');Blockly.Extensions.register(a,function(){if(f){if(!Blockly.Mutator)throw Error(e+"Missing require for Blockly.Mutator");this.setMutator(new Blockly.Mutator(d||
[]))}this.mixin(b);c&&c.apply(this)})};Blockly.Extensions.unregister=function(a){Blockly.Extensions.ALL_[a]?delete Blockly.Extensions.ALL_[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
Blockly.Extensions.apply=function(a,b,c){var d=Blockly.Extensions.ALL_[a];if("function"!=typeof d)throw Error('Error: Extension "'+a+'" not found.');if(c)Blockly.Extensions.checkNoMutatorProperties_(a,b);else var e=Blockly.Extensions.getMutatorProperties_(b);d.apply(b);if(c)Blockly.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+a+'": ',b);else if(!Blockly.Extensions.mutatorPropertiesMatch_(e,b))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');
};Blockly.Extensions.checkHasFunction_=function(a,b,c){if(!b)throw Error(a+'missing required property "'+c+'"');if("function"!=typeof b)throw Error(a+'" required property "'+c+'" must be a function');};Blockly.Extensions.checkNoMutatorProperties_=function(a,b){if(Blockly.Extensions.getMutatorProperties_(b).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+b.id);};
Blockly.Extensions.checkMutatorDialog_=function(a,b){var c=void 0!==a.compose,d=void 0!==a.decompose;if(c&&d){if("function"!=typeof a.compose)throw Error(b+"compose must be a function.");if("function"!=typeof a.decompose)throw Error(b+"decompose must be a function.");return!0}if(c||d)throw Error(b+'Must have both or neither of "compose" and "decompose"');return!1};
Blockly.Extensions.checkBlockHasMutatorProperties_=function(a,b){if("function"!=typeof b.domToMutation)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof b.mutationToDom)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');Blockly.Extensions.checkMutatorDialog_(b,a)};
Blockly.Extensions.getMutatorProperties_=function(a){var b=[];void 0!==a.domToMutation&&b.push(a.domToMutation);void 0!==a.mutationToDom&&b.push(a.mutationToDom);void 0!==a.compose&&b.push(a.compose);void 0!==a.decompose&&b.push(a.decompose);return b};Blockly.Extensions.mutatorPropertiesMatch_=function(a,b){b=Blockly.Extensions.getMutatorProperties_(b);if(b.length!=a.length)return!1;for(var c=0;c<b.length;c++)if(a[c]!=b[c])return!1;return!0};
Blockly.Extensions.buildTooltipForDropdown=function(a,b){var c=[];"object"==typeof document&&Blockly.utils.runAfterPageLoad(function(){for(var a in b)Blockly.utils.checkMessageReferences(b[a])});return function(){this.type&&-1==c.indexOf(this.type)&&(Blockly.Extensions.checkDropdownOptionsInTable_(this,a,b),c.push(this.type));this.setTooltip(function(){var d=String(this.getFieldValue(a)),e=b[d];null==e?-1==c.indexOf(this.type)&&(d="No tooltip mapping for value "+d+" of field "+a,null!=this.type&&
(d+=" of block type "+this.type),console.warn(d+".")):e=Blockly.utils.replaceMessageReferences(e);return e}.bind(this))}};Blockly.Extensions.checkDropdownOptionsInTable_=function(a,b,c){var d=a.getField(b);if(!d.isOptionListDynamic()){d=d.getOptions();for(var e=0;e<d.length;++e){var f=d[e][1];null==c[f]&&console.warn("No tooltip mapping for value "+f+" of field "+b+" of block type "+a.type)}}};
Blockly.Extensions.buildTooltipWithFieldText=function(a,b){"object"==typeof document&&Blockly.utils.runAfterPageLoad(function(){Blockly.utils.checkMessageReferences(a)});return function(){this.setTooltip(function(){var c=this.getField(b);return Blockly.utils.replaceMessageReferences(a).replace("%1",c?c.getText():"")}.bind(this))}};
Blockly.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip;this.setTooltip(function(){var a=this.getParent();return a&&a.getInputsInline()&&a.tooltip||this.tooltipWhenNotConnected_}.bind(this))};Blockly.Extensions.register("parent_tooltip_when_inline",Blockly.Extensions.extensionParentTooltip_);Blockly.fieldRegistry={};Blockly.fieldRegistry.typeMap_={};Blockly.fieldRegistry.register=function(a,b){if("string"!=typeof a||""==a.trim())throw Error('Invalid field type "'+a+'". The type must be a non-empty string.');if(Blockly.fieldRegistry.typeMap_[a])throw Error('Error: Field "'+a+'" is already registered.');if(!b||"function"!=typeof b.fromJson)throw Error('Field "'+b+'" must have a fromJson function');a=a.toLowerCase();Blockly.fieldRegistry.typeMap_[a]=b};
Blockly.fieldRegistry.unregister=function(a){Blockly.fieldRegistry.typeMap_[a]?delete Blockly.fieldRegistry.typeMap_[a]:console.warn('No field mapping for type "'+a+'" found to unregister')};
Blockly.fieldRegistry.fromJson=function(a){var b=a.type.toLowerCase();b=Blockly.fieldRegistry.typeMap_[b];return b?b.fromJson(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};Blockly.blockAnimations={};Blockly.blockAnimations.disconnectPid_=0;Blockly.blockAnimations.disconnectGroup_=null;Blockly.blockAnimations.disposeUiEffect=function(a){var b=a.workspace,c=a.getSvgRoot();b.getAudioManager().play("delete");a=b.getSvgXY(c);c=c.cloneNode(!0);c.translateX_=a.x;c.translateY_=a.y;c.setAttribute("transform","translate("+a.x+","+a.y+")");b.getParentSvg().appendChild(c);c.bBox_=c.getBBox();Blockly.blockAnimations.disposeUiStep_(c,b.RTL,new Date,b.scale)};
Blockly.blockAnimations.disposeUiStep_=function(a,b,c,d){var e=(new Date-c)/150;1<e?Blockly.utils.dom.removeNode(a):(a.setAttribute("transform","translate("+(a.translateX_+(b?-1:1)*a.bBox_.width*d/2*e)+","+(a.translateY_+a.bBox_.height*d*e)+") scale("+(1-e)*d+")"),setTimeout(Blockly.blockAnimations.disposeUiStep_,10,a,b,c,d))};
Blockly.blockAnimations.connectionUiEffect=function(a){var b=a.workspace,c=b.scale;b.getAudioManager().play("click");if(!(1>c)){var d=b.getSvgXY(a.getSvgRoot());a.outputConnection?(d.x+=(a.RTL?3:-3)*c,d.y+=13*c):a.previousConnection&&(d.x+=(a.RTL?-23:23)*c,d.y+=3*c);a=Blockly.utils.dom.createSvgElement("circle",{cx:d.x,cy:d.y,r:0,fill:"none",stroke:"#888","stroke-width":10},b.getParentSvg());Blockly.blockAnimations.connectionUiStep_(a,new Date,c)}};
Blockly.blockAnimations.connectionUiStep_=function(a,b,c){var d=(new Date-b)/150;1<d?Blockly.utils.dom.removeNode(a):(a.setAttribute("r",25*d*c),a.style.opacity=1-d,Blockly.blockAnimations.disconnectPid_=setTimeout(Blockly.blockAnimations.connectionUiStep_,10,a,b,c))};
Blockly.blockAnimations.disconnectUiEffect=function(a){a.workspace.getAudioManager().play("disconnect");if(!(1>a.workspace.scale)){var b=a.getHeightWidth().height;b=Math.atan(10/b)/Math.PI*180;a.RTL||(b*=-1);Blockly.blockAnimations.disconnectUiStep_(a.getSvgRoot(),b,new Date)}};
Blockly.blockAnimations.disconnectUiStep_=function(a,b,c){var d=(new Date-c)/200;1<d?a.skew_="":(a.skew_="skewX("+Math.round(Math.sin(d*Math.PI*3)*(1-d)*b)+")",Blockly.blockAnimations.disconnectGroup_=a,Blockly.blockAnimations.disconnectPid_=setTimeout(Blockly.blockAnimations.disconnectUiStep_,10,a,b,c));a.setAttribute("transform",a.translate_+a.skew_)};
Blockly.blockAnimations.disconnectUiStop=function(){if(Blockly.blockAnimations.disconnectGroup_){clearTimeout(Blockly.blockAnimations.disconnectPid_);var a=Blockly.blockAnimations.disconnectGroup_;a.skew_="";a.setAttribute("transform",a.translate_);Blockly.blockAnimations.disconnectGroup_=null}};Blockly.InsertionMarkerManager=function(a){this.topBlock_=Blockly.selected=a;this.workspace_=a.workspace;this.lastMarker_=this.lastOnStack_=null;this.firstMarker_=this.createMarkerBlock_(this.topBlock_);this.localConnection_=this.closestConnection_=null;this.wouldDeleteBlock_=!1;this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null;this.availableConnections_=this.initAvailableConnections_()};Blockly.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2};
Blockly.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0;Blockly.Events.disable();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{Blockly.Events.enable()}};Blockly.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_};Blockly.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_};
Blockly.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(Blockly.Events.disable(),this.hidePreview_(),Blockly.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var a=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;Blockly.blockAnimations.connectionUiEffect(a.getSourceBlock());this.topBlock_.getRootBlock().bringToFront()}};
Blockly.InsertionMarkerManager.prototype.update=function(a,b){var c=this.getCandidate_(a);if((this.wouldDeleteBlock_=this.shouldDelete_(c,b))||this.shouldUpdatePreviews_(c,a))Blockly.Events.disable(),this.maybeHidePreview_(c),this.maybeShowPreview_(c),Blockly.Events.enable()};
Blockly.InsertionMarkerManager.prototype.createMarkerBlock_=function(a){var b=a.type;Blockly.Events.disable();try{var c=this.workspace_.newBlock(b);c.setInsertionMarker(!0);if(a.mutationToDom){var d=a.mutationToDom();d&&c.domToMutation(d)}c.setCollapsed(a.isCollapsed());c.setInputsInline(a.getInputsInline());for(b=0;b<a.inputList.length;b++){var e=a.inputList[b];if(e.isVisible()){var f=c.inputList[b];for(d=0;d<e.fieldRow.length;d++)f.fieldRow[d].setValue(e.fieldRow[d].getValue())}}c.initSvg();c.getSvgRoot().setAttribute("visibility",
"hidden")}finally{Blockly.Events.enable()}return c};Blockly.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var a=this.topBlock_.getConnections_(!1),b=this.topBlock_.lastConnectionInStack();b&&b!=this.topBlock_.nextConnection&&(a.push(b),this.lastOnStack_=b,this.lastMarker_=this.createMarkerBlock_(b.getSourceBlock()));return a};
Blockly.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(a,b){var c=a.local,d=a.closest;a=a.radius;if(c&&d){if(this.localConnection_&&this.closestConnection_){if(this.closestConnection_==d&&this.localConnection_==c)return!1;c=this.localConnection_.x+b.x-this.closestConnection_.x;b=this.localConnection_.y+b.y-this.closestConnection_.y;b=Math.sqrt(c*c+b*b);return!(d&&a>b-Blockly.CURRENT_CONNECTION_PREFERENCE)}if(this.localConnection_||this.closestConnection_)console.error("Only one of localConnection_ and closestConnection_ was set.");
else return!0}else return!(!this.localConnection_||!this.closestConnection_);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0};Blockly.InsertionMarkerManager.prototype.getCandidate_=function(a){for(var b=this.getStartRadius_(),c=null,d=null,e=0;e<this.availableConnections_.length;e++){var f=this.availableConnections_[e],g=f.closest(b,a);g.connection&&(c=g.connection,d=f,b=g.radius)}return{closest:c,local:d,radius:b}};
Blockly.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?Blockly.CONNECTING_SNAP_RADIUS:Blockly.SNAP_RADIUS};Blockly.InsertionMarkerManager.prototype.shouldDelete_=function(a,b){a=a&&!!a.closest&&b!=Blockly.DELETE_AREA_TOOLBOX;return!!b&&!this.topBlock_.getParent()&&this.topBlock_.isDeletable()&&!a};
Blockly.InsertionMarkerManager.prototype.maybeShowPreview_=function(a){if(!this.wouldDeleteBlock_){var b=a.closest;a=a.local;b&&(b==this.closestConnection_||b.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=b,this.localConnection_=a,this.showPreview_()))}};
Blockly.InsertionMarkerManager.prototype.showPreview_=function(){var a=this.closestConnection_,b=this.workspace_.getRenderer();switch(b.getConnectionPreviewMethod(a,this.localConnection_,this.topBlock_)){case Blockly.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case Blockly.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case Blockly.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_()}a&&
b.shouldHighlightConnection(a)&&a.highlight()};Blockly.InsertionMarkerManager.prototype.maybeHidePreview_=function(a){if(a.closest){var b=this.closestConnection_!=a.closest;a=this.localConnection_!=a.local;this.closestConnection_&&this.localConnection_&&(b||a||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null};
Blockly.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight();this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()};
Blockly.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var a=this.localConnection_,b=this.closestConnection_,c=this.lastOnStack_&&a==this.lastOnStack_?this.lastMarker_:this.firstMarker_;a=c.getMatchingConnection(a.getSourceBlock(),a);if(a==this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");c.render();c.rendered=!0;c.getSvgRoot().setAttribute("visibility","visible");a&&b&&c.positionNearConnection(a,b);b&&a.connect(b);this.markerConnection_=
a};
Blockly.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var a=this.markerConnection_,b=a.getSourceBlock(),c=b.nextConnection,d=b.previousConnection,e=b.outputConnection;e=a.type==Blockly.INPUT_VALUE&&!(e&&e.targetConnection);!(a!=c||d&&d.targetConnection)||e?a.targetBlock().unplug(!1):a.type==Blockly.NEXT_STATEMENT&&a!=c?(c=a.targetConnection,c.getSourceBlock().unplug(!1),d=d?d.targetConnection:null,b.unplug(!0),d&&d.connect(c)):b.unplug(!0);if(a.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=
null;b.getSvgRoot().setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")};Blockly.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var a=this.closestConnection_;this.highlightedBlock_=a.getSourceBlock();this.highlightedBlock_.highlightShapeForInput(a,!0)};
Blockly.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1);this.highlightedBlock_=null};Blockly.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock();this.fadedBlock_.fadeForReplacement(!0)};Blockly.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1);this.fadedBlock_=null};
Blockly.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var a=[];this.firstMarker_&&a.push(this.firstMarker_);this.lastMarker_&&a.push(this.lastMarker_);return a};Blockly.BlockDragger=function(a,b){this.draggingBlock_=a;this.workspace_=b;this.draggedConnectionManager_=new Blockly.InsertionMarkerManager(this.draggingBlock_);this.deleteArea_=null;this.wouldDeleteBlock_=!1;this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY();this.dragIconData_=Blockly.BlockDragger.initIconData_(a)};Blockly.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0;this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()};
Blockly.BlockDragger.initIconData_=function(a){var b=[];a=a.getDescendants(!1);for(var c=0,d;d=a[c];c++){d=d.getIcons();for(var e=0;e<d.length;e++){var f={location:d[e].getIconLocation(),icon:d[e]};b.push(f)}}return b};
Blockly.BlockDragger.prototype.startBlockDrag=function(a,b){Blockly.Events.getGroup()||Blockly.Events.setGroup(!0);this.fireDragStartEvent_();this.workspace_.isMutator&&this.draggingBlock_.bringToFront();Blockly.utils.dom.startTextWidthCache();this.workspace_.setResizesEnabled(!1);Blockly.blockAnimations.disconnectUiStop();if(this.draggingBlock_.getParent()||b&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())this.draggingBlock_.unplug(b),a=this.pixelsToWorkspaceUnits_(a),
a=Blockly.utils.Coordinate.sum(this.startXY_,a),this.draggingBlock_.translate(a.x,a.y),Blockly.blockAnimations.disconnectUiEffect(this.draggingBlock_);this.draggingBlock_.setDragging(!0);this.draggingBlock_.moveToDragSurface();if(a=this.workspace_.getToolbox())b=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",a.addStyle(b)};
Blockly.BlockDragger.prototype.fireDragStartEvent_=function(){var a=new Blockly.Events.Ui(this.draggingBlock_,"dragStart",null,this.draggingBlock_.getDescendants(!1));Blockly.Events.fire(a)};Blockly.BlockDragger.prototype.dragBlock=function(a,b){b=this.pixelsToWorkspaceUnits_(b);var c=Blockly.utils.Coordinate.sum(this.startXY_,b);this.draggingBlock_.moveDuringDrag(c);this.dragIcons_(b);this.deleteArea_=this.workspace_.isDeleteArea(a);this.draggedConnectionManager_.update(b,this.deleteArea_);this.updateCursorDuringBlockDrag_()};
Blockly.BlockDragger.prototype.endBlockDrag=function(a,b){this.dragBlock(a,b);this.dragIconData_=[];this.fireDragEndEvent_();Blockly.utils.dom.stopTextWidthCache();Blockly.blockAnimations.disconnectUiStop();a=this.pixelsToWorkspaceUnits_(b);b=Blockly.utils.Coordinate.sum(this.startXY_,a);this.draggingBlock_.moveOffDragSurface(b);this.maybeDeleteBlock_()||(this.draggingBlock_.moveConnections(a.x,a.y),this.draggingBlock_.setDragging(!1),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?
this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump());this.workspace_.setResizesEnabled(!0);if(a=this.workspace_.getToolbox())b=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",a.removeStyle(b);Blockly.Events.setGroup(!1)};Blockly.BlockDragger.prototype.fireDragEndEvent_=function(){var a=new Blockly.Events.Ui(this.draggingBlock_,"dragStop",this.draggingBlock_.getDescendants(!1),null);Blockly.Events.fire(a)};
Blockly.BlockDragger.prototype.fireMoveEvent_=function(){var a=new Blockly.Events.BlockMove(this.draggingBlock_);a.oldCoordinate=this.startXY_;a.recordNew();Blockly.Events.fire(a)};Blockly.BlockDragger.prototype.maybeDeleteBlock_=function(){var a=this.workspace_.trashcan;this.wouldDeleteBlock_?(a&&setTimeout(a.close.bind(a),100),this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),Blockly.draggingConnections=[]):a&&a.close();return this.wouldDeleteBlock_};
Blockly.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock();var a=this.workspace_.trashcan;this.wouldDeleteBlock_?(this.draggingBlock_.setDeleteStyle(!0),this.deleteArea_==Blockly.DELETE_AREA_TRASH&&a&&a.setOpen(!0)):(this.draggingBlock_.setDeleteStyle(!1),a&&a.setOpen(!1))};
Blockly.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(a){a=new Blockly.utils.Coordinate(a.x/this.workspace_.scale,a.y/this.workspace_.scale);this.workspace_.isMutator&&a.scale(1/this.workspace_.options.parentWorkspace.scale);return a};Blockly.BlockDragger.prototype.dragIcons_=function(a){for(var b=0;b<this.dragIconData_.length;b++){var c=this.dragIconData_[b];c.icon.setIconLocation(Blockly.utils.Coordinate.sum(c.location,a))}};
Blockly.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]};Blockly.VariableMap=function(a){this.variableMap_=Object.create(null);this.workspace=a};Blockly.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)};Blockly.VariableMap.prototype.renameVariable=function(a,b){var c=this.getVariable(b,a.type),d=this.workspace.getAllBlocks(!1);Blockly.Events.setGroup(!0);try{c&&c.getId()!=a.getId()?this.renameVariableWithConflict_(a,b,c,d):this.renameVariableAndUses_(a,b,d)}finally{Blockly.Events.setGroup(!1)}};
Blockly.VariableMap.prototype.renameVariableById=function(a,b){var c=this.getVariableById(a);if(!c)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.renameVariable(c,b)};Blockly.VariableMap.prototype.renameVariableAndUses_=function(a,b,c){Blockly.Events.fire(new Blockly.Events.VarRename(a,b));a.name=b;for(b=0;b<c.length;b++)c[b].updateVarName(a)};
Blockly.VariableMap.prototype.renameVariableWithConflict_=function(a,b,c,d){var e=a.type;b!=c.name&&this.renameVariableAndUses_(c,b,d);for(b=0;b<d.length;b++)d[b].renameVarById(a.getId(),c.getId());Blockly.Events.fire(new Blockly.Events.VarDelete(a));a=this.getVariablesOfType(e).indexOf(a);this.variableMap_[e].splice(a,1)};
Blockly.VariableMap.prototype.createVariable=function(a,b,c){var d=this.getVariable(a,b);if(d){if(c&&d.getId()!=c)throw Error('Variable "'+a+'" is already in use and its id is "'+d.getId()+'" which conflicts with the passed in id, "'+c+'".');return d}if(c&&this.getVariableById(c))throw Error('Variable id, "'+c+'", is already in use.');d=c||Blockly.utils.genUid();b=b||"";d=new Blockly.VariableModel(this.workspace,a,b,d);a=this.variableMap_[b]||[];a.push(d);delete this.variableMap_[b];this.variableMap_[b]=
a;return d};Blockly.VariableMap.prototype.deleteVariable=function(a){for(var b=this.variableMap_[a.type],c=0,d;d=b[c];c++)if(d.getId()==a.getId()){b.splice(c,1);Blockly.Events.fire(new Blockly.Events.VarDelete(a));break}};
Blockly.VariableMap.prototype.deleteVariableById=function(a){var b=this.getVariableById(a);if(b){var c=b.name,d=this.getVariableUsesById(a);a=0;for(var e;e=d[a];a++)if("procedures_defnoreturn"==e.type||"procedures_defreturn"==e.type){a=e.getFieldValue("NAME");c=Blockly.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",c).replace("%2",a);Blockly.alert(c);return}var f=this;1<d.length?(c=Blockly.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(d.length)).replace("%2",c),Blockly.confirm(c,function(a){a&&
b&&f.deleteVariableInternal(b,d)})):f.deleteVariableInternal(b,d)}else console.warn("Can't delete non-existent variable: "+a)};Blockly.VariableMap.prototype.deleteVariableInternal=function(a,b){var c=Blockly.Events.getGroup();c||Blockly.Events.setGroup(!0);try{for(var d=0;d<b.length;d++)b[d].dispose(!0);this.deleteVariable(a)}finally{c||Blockly.Events.setGroup(!1)}};
Blockly.VariableMap.prototype.getVariable=function(a,b){if(b=this.variableMap_[b||""])for(var c=0,d;d=b[c];c++)if(Blockly.Names.equals(d.name,a))return d;return null};Blockly.VariableMap.prototype.getVariableById=function(a){for(var b=Object.keys(this.variableMap_),c=0;c<b.length;c++)for(var d=b[c],e=0,f;f=this.variableMap_[d][e];e++)if(f.getId()==a)return f;return null};Blockly.VariableMap.prototype.getVariablesOfType=function(a){return(a=this.variableMap_[a||""])?a.slice():[]};
Blockly.VariableMap.prototype.getVariableTypes=function(a){var b={};Blockly.utils.object.mixin(b,this.variableMap_);a&&a.getPotentialVariableMap()&&Blockly.utils.object.mixin(b,a.getPotentialVariableMap().variableMap_);a=Object.keys(b);b=!1;for(var c=0;c<a.length;c++)""==a[c]&&(b=!0);b||a.push("");return a};Blockly.VariableMap.prototype.getAllVariables=function(){var a=[],b;for(b in this.variableMap_)a=a.concat(this.variableMap_[b]);return a};
Blockly.VariableMap.prototype.getAllVariableNames=function(){var a=[],b;for(b in this.variableMap_)for(var c=this.variableMap_[b],d=0,e;e=c[d];d++)a.push(e.name);return a};Blockly.VariableMap.prototype.getVariableUsesById=function(a){for(var b=[],c=this.workspace.getAllBlocks(!1),d=0;d<c.length;d++){var e=c[d].getVarModels();if(e)for(var f=0;f<e.length;f++)e[f].getId()==a&&b.push(c[d])}return b};Blockly.Workspace=function(a){this.id=Blockly.utils.genUid();Blockly.Workspace.WorkspaceDB_[this.id]=this;this.options=a||new Blockly.Options({});this.RTL=!!this.options.RTL;this.horizontalLayout=!!this.options.horizontalLayout;this.toolboxPosition=this.options.toolboxPosition;this.topBlocks_=[];this.topComments_=[];this.commentDB_=Object.create(null);this.listeners_=[];this.undoStack_=[];this.redoStack_=[];this.blockDB_=Object.create(null);this.typedBlocksDB_=Object.create(null);this.variableMap_=
new Blockly.VariableMap(this);this.potentialVariableMap_=null};Blockly.Workspace.prototype.rendered=!1;Blockly.Workspace.prototype.isClearing=!1;Blockly.Workspace.prototype.MAX_UNDO=1024;Blockly.Workspace.prototype.connectionDBList=null;Blockly.Workspace.prototype.dispose=function(){this.listeners_.length=0;this.clear();delete Blockly.Workspace.WorkspaceDB_[this.id]};Blockly.Workspace.SCAN_ANGLE=3;
Blockly.Workspace.prototype.sortObjects_=function(a,b){a=a.getRelativeToSurfaceXY();b=b.getRelativeToSurfaceXY();return a.y+Blockly.Workspace.prototype.sortObjects_.offset*a.x-(b.y+Blockly.Workspace.prototype.sortObjects_.offset*b.x)};Blockly.Workspace.prototype.addTopBlock=function(a){this.topBlocks_.push(a)};Blockly.Workspace.prototype.removeTopBlock=function(a){if(!Blockly.utils.arrayRemove(this.topBlocks_,a))throw Error("Block not present in workspace's list of top-most blocks.");};
Blockly.Workspace.prototype.getTopBlocks=function(a){var b=[].concat(this.topBlocks_);a&&1<b.length&&(this.sortObjects_.offset=Math.sin(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),b.sort(this.sortObjects_));return b};Blockly.Workspace.prototype.addTypedBlock=function(a){this.typedBlocksDB_[a.type]||(this.typedBlocksDB_[a.type]=[]);this.typedBlocksDB_[a.type].push(a)};
Blockly.Workspace.prototype.removeTypedBlock=function(a){this.typedBlocksDB_[a.type].splice(this.typedBlocksDB_[a.type].indexOf(a),1);this.typedBlocksDB_[a.type].length||delete this.typedBlocksDB_[a.type]};
Blockly.Workspace.prototype.getBlocksByType=function(a,b){if(!this.typedBlocksDB_[a])return[];a=this.typedBlocksDB_[a].slice(0);b&&1<a.length&&(this.sortObjects_.offset=Math.sin(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),a.sort(this.sortObjects_));return a};
Blockly.Workspace.prototype.addTopComment=function(a){this.topComments_.push(a);this.commentDB_[a.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+a.id+'"');this.commentDB_[a.id]=a};Blockly.Workspace.prototype.removeTopComment=function(a){if(!Blockly.utils.arrayRemove(this.topComments_,a))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[a.id]};
Blockly.Workspace.prototype.getTopComments=function(a){var b=[].concat(this.topComments_);a&&1<b.length&&(this.sortObjects_.offset=Math.sin(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),b.sort(this.sortObjects_));return b};
Blockly.Workspace.prototype.getAllBlocks=function(a){if(a){a=this.getTopBlocks(!0);for(var b=[],c=0;c<a.length;c++)b.push.apply(b,a[c].getDescendants(!0))}else for(b=this.getTopBlocks(!1),c=0;c<b.length;c++)b.push.apply(b,b[c].getChildren(!1));return b.filter(function(a){return!a.isInsertionMarker()})};
Blockly.Workspace.prototype.clear=function(){this.isClearing=!0;try{var a=Blockly.Events.getGroup();for(a||Blockly.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose(!1);a||Blockly.Events.setGroup(!1);this.variableMap_.clear();this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}};
Blockly.Workspace.prototype.renameVariableById=function(a,b){this.variableMap_.renameVariableById(a,b)};Blockly.Workspace.prototype.createVariable=function(a,b,c){return this.variableMap_.createVariable(a,b,c)};Blockly.Workspace.prototype.getVariableUsesById=function(a){return this.variableMap_.getVariableUsesById(a)};Blockly.Workspace.prototype.deleteVariableById=function(a){this.variableMap_.deleteVariableById(a)};
Blockly.Workspace.prototype.deleteVariableInternal_=function(a,b){this.variableMap_.deleteVariableInternal(a,b)};Blockly.Workspace.prototype.variableIndexOf=function(a){console.warn("Deprecated call to Blockly.Workspace.prototype.variableIndexOf");return-1};Blockly.Workspace.prototype.getVariable=function(a,b){return this.variableMap_.getVariable(a,b)};Blockly.Workspace.prototype.getVariableById=function(a){return this.variableMap_.getVariableById(a)};
Blockly.Workspace.prototype.getVariablesOfType=function(a){return this.variableMap_.getVariablesOfType(a)};Blockly.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)};Blockly.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()};Blockly.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()};Blockly.Workspace.prototype.getWidth=function(){return 0};
Blockly.Workspace.prototype.newBlock=function(a,b){return new Blockly.Block(this,a,b)};Blockly.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?Infinity:this.options.maxBlocks-this.getAllBlocks(!1).length};Blockly.Workspace.prototype.remainingCapacityOfType=function(a){return this.options.maxInstances?(this.options.maxInstances[a]||Infinity)-this.getBlocksByType(a,!1).length:Infinity};
Blockly.Workspace.prototype.isCapacityAvailable=function(a){if(!this.hasBlockLimits())return!0;var b=0,c;for(c in a){if(a[c]>this.remainingCapacityOfType(c))return!1;b+=a[c]}return b>this.remainingCapacity()?!1:!0};Blockly.Workspace.prototype.hasBlockLimits=function(){return Infinity!=this.options.maxBlocks||!!this.options.maxInstances};
Blockly.Workspace.prototype.undo=function(a){var b=a?this.redoStack_:this.undoStack_,c=a?this.undoStack_:this.redoStack_,d=b.pop();if(d){for(var e=[d];b.length&&d.group&&d.group==b[b.length-1].group;)e.push(b.pop());for(b=0;d=e[b];b++)c.push(d);e=Blockly.Events.filter(e,a);Blockly.Events.recordUndo=!1;try{for(b=0;d=e[b];b++)d.run(a)}finally{Blockly.Events.recordUndo=!0}}};Blockly.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0;this.redoStack_.length=0;Blockly.Events.clearPendingUndo()};
Blockly.Workspace.prototype.addChangeListener=function(a){this.listeners_.push(a);return a};Blockly.Workspace.prototype.removeChangeListener=function(a){Blockly.utils.arrayRemove(this.listeners_,a)};Blockly.Workspace.prototype.fireChangeListener=function(a){if(a.recordUndo)for(this.undoStack_.push(a),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var b=0,c;c=this.listeners_[b];b++)c(a)};
Blockly.Workspace.prototype.getBlockById=function(a){return this.blockDB_[a]||null};Blockly.Workspace.prototype.setBlockById=function(a,b){this.blockDB_[a]=b};Blockly.Workspace.prototype.removeBlockById=function(a){delete this.blockDB_[a]};Blockly.Workspace.prototype.getCommentById=function(a){return this.commentDB_[a]||null};Blockly.Workspace.prototype.allInputsFilled=function(a){for(var b=this.getTopBlocks(!1),c=0,d;d=b[c];c++)if(!d.allInputsFilled(a))return!1;return!0};
Blockly.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_};Blockly.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new Blockly.VariableMap(this)};Blockly.Workspace.prototype.getVariableMap=function(){return this.variableMap_};Blockly.Workspace.prototype.setVariableMap=function(a){this.variableMap_=a};Blockly.Workspace.WorkspaceDB_=Object.create(null);
Blockly.Workspace.getById=function(a){return Blockly.Workspace.WorkspaceDB_[a]||null};Blockly.Workspace.getAll=function(){var a=[],b;for(b in Blockly.Workspace.WorkspaceDB_)a.push(Blockly.Workspace.WorkspaceDB_[b]);return a};Blockly.Bubble=function(a,b,c,d,e,f){this.workspace_=a;this.content_=b;this.shape_=c;this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null;this.disposed=!1;c=Blockly.Bubble.ARROW_ANGLE;this.workspace_.RTL&&(c=-c);this.arrow_radians_=Blockly.utils.math.toRadians(c);a.getBubbleCanvas().appendChild(this.createDom_(b,!(!e||!f)));this.setAnchorLocation(d);e&&f||(a=this.content_.getBBox(),e=a.width+2*Blockly.Bubble.BORDER_WIDTH,f=a.height+2*Blockly.Bubble.BORDER_WIDTH);
this.setBubbleSize(e,f);this.positionBubble_();this.renderArrow_();this.rendered_=!0};Blockly.Bubble.BORDER_WIDTH=6;Blockly.Bubble.ARROW_THICKNESS=5;Blockly.Bubble.ARROW_ANGLE=20;Blockly.Bubble.ARROW_BEND=4;Blockly.Bubble.ANCHOR_RADIUS=8;Blockly.Bubble.onMouseUpWrapper_=null;Blockly.Bubble.onMouseMoveWrapper_=null;
Blockly.Bubble.unbindDragEvents_=function(){Blockly.Bubble.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseUpWrapper_),Blockly.Bubble.onMouseUpWrapper_=null);Blockly.Bubble.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseMoveWrapper_),Blockly.Bubble.onMouseMoveWrapper_=null)};Blockly.Bubble.bubbleMouseUp_=function(a){Blockly.Touch.clearTouchIdentifier();Blockly.Bubble.unbindDragEvents_()};Blockly.Bubble.prototype.rendered_=!1;Blockly.Bubble.prototype.anchorXY_=null;
Blockly.Bubble.prototype.relativeLeft_=0;Blockly.Bubble.prototype.relativeTop_=0;Blockly.Bubble.prototype.width_=0;Blockly.Bubble.prototype.height_=0;Blockly.Bubble.prototype.autoLayout_=!0;
Blockly.Bubble.prototype.createDom_=function(a,b){this.bubbleGroup_=Blockly.utils.dom.createSvgElement("g",{},null);var c={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};Blockly.utils.userAgent.JAVA_FX&&(c={});c=Blockly.utils.dom.createSvgElement("g",c,this.bubbleGroup_);this.bubbleArrow_=Blockly.utils.dom.createSvgElement("path",{},c);this.bubbleBack_=Blockly.utils.dom.createSvgElement("rect",{"class":"blocklyDraggable",x:0,y:0,rx:Blockly.Bubble.BORDER_WIDTH,ry:Blockly.Bubble.BORDER_WIDTH},
c);b?(this.resizeGroup_=Blockly.utils.dom.createSvgElement("g",{"class":this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),b=2*Blockly.Bubble.BORDER_WIDTH,Blockly.utils.dom.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,b.toString())},this.resizeGroup_),Blockly.utils.dom.createSvgElement("line",{"class":"blocklyResizeLine",x1:b/3,y1:b-1,x2:b-1,y2:b/3},this.resizeGroup_),Blockly.utils.dom.createSvgElement("line",{"class":"blocklyResizeLine",x1:2*b/3,y1:b-1,x2:b-
1,y2:2*b/3},this.resizeGroup_)):this.resizeGroup_=null;this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=Blockly.bindEventWithChecks_(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=Blockly.bindEventWithChecks_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_)));this.bubbleGroup_.appendChild(a);return this.bubbleGroup_};Blockly.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_};
Blockly.Bubble.prototype.setSvgId=function(a){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=a)};Blockly.Bubble.prototype.bubbleMouseDown_=function(a){var b=this.workspace_.getGesture(a);b&&b.handleBubbleStart(a,this)};Blockly.Bubble.prototype.showContextMenu=function(a){};Blockly.Bubble.prototype.isDeletable=function(){return!1};
Blockly.Bubble.prototype.resizeMouseDown_=function(a){this.promote();Blockly.Bubble.unbindDragEvents_();Blockly.utils.isRightButton(a)||(this.workspace_.startDrag(a,new Blockly.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,Blockly.Bubble.bubbleMouseUp_),Blockly.Bubble.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.resizeMouseMove_),Blockly.hideChaff());
a.stopPropagation()};Blockly.Bubble.prototype.resizeMouseMove_=function(a){this.autoLayout_=!1;a=this.workspace_.moveDrag(a);this.setBubbleSize(this.workspace_.RTL?-a.x:a.x,a.y);this.workspace_.RTL&&this.positionBubble_()};Blockly.Bubble.prototype.registerResizeEvent=function(a){this.resizeCallback_=a};Blockly.Bubble.prototype.registerMoveEvent=function(a){this.moveCallback_=a};
Blockly.Bubble.prototype.promote=function(){var a=this.bubbleGroup_.parentNode;return a.lastChild!==this.bubbleGroup_?(a.appendChild(this.bubbleGroup_),!0):!1};Blockly.Bubble.prototype.setAnchorLocation=function(a){this.anchorXY_=a;this.rendered_&&this.positionBubble_()};
Blockly.Bubble.prototype.layoutBubble_=function(){var a=this.workspace_.getMetrics();a.viewLeft/=this.workspace_.scale;a.viewWidth/=this.workspace_.scale;a.viewTop/=this.workspace_.scale;a.viewHeight/=this.workspace_.scale;var b=this.getOptimalRelativeLeft_(a),c=this.getOptimalRelativeTop_(a),d=this.shape_.getBBox(),e={x:b,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},f={x:-this.width_-30,y:c};c={x:d.width,y:c};var g={x:b,y:d.height};b=d.width<d.height?c:g;d=d.width<
d.height?g:c;c=this.getOverlap_(e,a);g=this.getOverlap_(f,a);var h=this.getOverlap_(b,a);a=this.getOverlap_(d,a);a=Math.max(c,g,h,a);c==a?(this.relativeLeft_=e.x,this.relativeTop_=e.y):g==a?(this.relativeLeft_=f.x,this.relativeTop_=f.y):h==a?(this.relativeLeft_=b.x,this.relativeTop_=b.y):(this.relativeLeft_=d.x,this.relativeTop_=d.y)};
Blockly.Bubble.prototype.getOverlap_=function(a,b){var c=this.workspace_.RTL?this.anchorXY_.x-a.x-this.width_:a.x+this.anchorXY_.x;a=a.y+this.anchorXY_.y;return Math.max(0,Math.min(1,(Math.min(c+this.width_,b.viewLeft+b.viewWidth)-Math.max(c,b.viewLeft))*(Math.min(a+this.height_,b.viewTop+b.viewHeight)-Math.max(a,b.viewTop))/(this.width_*this.height_)))};
Blockly.Bubble.prototype.getOptimalRelativeLeft_=function(a){var b=-this.width_/4;if(this.width_>a.viewWidth)return b;if(this.workspace_.RTL)var c=this.anchorXY_.x-b,d=c-this.width_,e=a.viewLeft+a.viewWidth,f=a.viewLeft+Blockly.Scrollbar.scrollbarThickness/this.workspace_.scale;else d=b+this.anchorXY_.x,c=d+this.width_,f=a.viewLeft,e=a.viewLeft+a.viewWidth-Blockly.Scrollbar.scrollbarThickness/this.workspace_.scale;this.workspace_.RTL?d<f?b=-(f-this.anchorXY_.x+this.width_):c>e&&(b=-(e-this.anchorXY_.x)):
d<f?b=f-this.anchorXY_.x:c>e&&(b=e-this.anchorXY_.x-this.width_);return b};Blockly.Bubble.prototype.getOptimalRelativeTop_=function(a){var b=-this.height_/4;if(this.height_>a.viewHeight)return b;var c=this.anchorXY_.y+b,d=c+this.height_,e=a.viewTop;a=a.viewTop+a.viewHeight-Blockly.Scrollbar.scrollbarThickness/this.workspace_.scale;var f=this.anchorXY_.y;c<e?b=e-f:d>a&&(b=a-f-this.height_);return b};
Blockly.Bubble.prototype.positionBubble_=function(){var a=this.anchorXY_.x;a=this.workspace_.RTL?a-(this.relativeLeft_+this.width_):a+this.relativeLeft_;this.moveTo(a,this.relativeTop_+this.anchorXY_.y)};Blockly.Bubble.prototype.moveTo=function(a,b){this.bubbleGroup_.setAttribute("transform","translate("+a+","+b+")")};Blockly.Bubble.prototype.setDragging=function(a){!a&&this.moveCallback_&&this.moveCallback_()};
Blockly.Bubble.prototype.getBubbleSize=function(){return new Blockly.utils.Size(this.width_,this.height_)};
Blockly.Bubble.prototype.setBubbleSize=function(a,b){var c=2*Blockly.Bubble.BORDER_WIDTH;a=Math.max(a,c+45);b=Math.max(b,c+20);this.width_=a;this.height_=b;this.bubbleBack_.setAttribute("width",a);this.bubbleBack_.setAttribute("height",b);this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*Blockly.Bubble.BORDER_WIDTH+","+(b-c)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(a-c)+","+(b-c)+")"));this.autoLayout_&&this.layoutBubble_();
this.positionBubble_();this.renderArrow_();this.resizeCallback_&&this.resizeCallback_()};
Blockly.Bubble.prototype.renderArrow_=function(){var a=[],b=this.width_/2,c=this.height_/2,d=-this.relativeLeft_,e=-this.relativeTop_;if(b==d&&c==e)a.push("M "+b+","+c);else{e-=c;d-=b;this.workspace_.RTL&&(d*=-1);var f=Math.sqrt(e*e+d*d),g=Math.acos(d/f);0>e&&(g=2*Math.PI-g);var h=g+Math.PI/2;h>2*Math.PI&&(h-=2*Math.PI);var k=Math.sin(h),l=Math.cos(h),m=this.getBubbleSize();h=(m.width+m.height)/Blockly.Bubble.ARROW_THICKNESS;h=Math.min(h,m.width,m.height)/4;m=1-Blockly.Bubble.ANCHOR_RADIUS/f;d=b+
m*d;e=c+m*e;m=b+h*l;var n=c+h*k;b-=h*l;c-=h*k;k=g+this.arrow_radians_;k>2*Math.PI&&(k-=2*Math.PI);g=Math.sin(k)*f/Blockly.Bubble.ARROW_BEND;f=Math.cos(k)*f/Blockly.Bubble.ARROW_BEND;a.push("M"+m+","+n);a.push("C"+(m+f)+","+(n+g)+" "+d+","+e+" "+d+","+e);a.push("C"+d+","+e+" "+(b+f)+","+(c+g)+" "+b+","+c)}a.push("z");this.bubbleArrow_.setAttribute("d",a.join(" "))};Blockly.Bubble.prototype.setColour=function(a){this.bubbleBack_.setAttribute("fill",a);this.bubbleArrow_.setAttribute("fill",a)};
Blockly.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&Blockly.unbindEvent_(this.onMouseDownBubbleWrapper_);this.onMouseDownResizeWrapper_&&Blockly.unbindEvent_(this.onMouseDownResizeWrapper_);Blockly.Bubble.unbindDragEvents_();Blockly.utils.dom.removeNode(this.bubbleGroup_);this.disposed=!0};
Blockly.Bubble.prototype.moveDuringDrag=function(a,b){a?a.translateSurface(b.x,b.y):this.moveTo(b.x,b.y);this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-b.x-this.width_:b.x-this.anchorXY_.x;this.relativeTop_=b.y-this.anchorXY_.y;this.renderArrow_()};Blockly.Bubble.prototype.getRelativeToSurfaceXY=function(){return new Blockly.utils.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)};
Blockly.Bubble.prototype.setAutoLayout=function(a){this.autoLayout_=a};Blockly.Events.CommentBase=function(a){this.commentId=a.id;this.workspaceId=a.workspace.id;this.group=Blockly.Events.getGroup();this.recordUndo=Blockly.Events.recordUndo};Blockly.utils.object.inherits(Blockly.Events.CommentBase,Blockly.Events.Abstract);Blockly.Events.CommentBase.prototype.toJson=function(){var a=Blockly.Events.CommentBase.superClass_.toJson.call(this);this.commentId&&(a.commentId=this.commentId);return a};
Blockly.Events.CommentBase.prototype.fromJson=function(a){Blockly.Events.CommentBase.superClass_.fromJson.call(this,a);this.commentId=a.commentId};Blockly.Events.CommentChange=function(a,b,c){a&&(Blockly.Events.CommentChange.superClass_.constructor.call(this,a),this.oldContents_=b,this.newContents_=c)};Blockly.utils.object.inherits(Blockly.Events.CommentChange,Blockly.Events.CommentBase);Blockly.Events.CommentChange.prototype.type=Blockly.Events.COMMENT_CHANGE;
Blockly.Events.CommentChange.prototype.toJson=function(){var a=Blockly.Events.CommentChange.superClass_.toJson.call(this);a.newContents=this.newContents_;return a};Blockly.Events.CommentChange.prototype.fromJson=function(a){Blockly.Events.CommentChange.superClass_.fromJson.call(this,a);this.newContents_=a.newValue};Blockly.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_};
Blockly.Events.CommentChange.prototype.run=function(a){var b=this.getEventWorkspace_().getCommentById(this.commentId);b?b.setContent(a?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)};Blockly.Events.CommentCreate=function(a){a&&(Blockly.Events.CommentCreate.superClass_.constructor.call(this,a),this.xml=a.toXmlWithXY())};Blockly.utils.object.inherits(Blockly.Events.CommentCreate,Blockly.Events.CommentBase);
Blockly.Events.CommentCreate.prototype.type=Blockly.Events.COMMENT_CREATE;Blockly.Events.CommentCreate.prototype.toJson=function(){var a=Blockly.Events.CommentCreate.superClass_.toJson.call(this);a.xml=Blockly.Xml.domToText(this.xml);return a};Blockly.Events.CommentCreate.prototype.fromJson=function(a){Blockly.Events.CommentCreate.superClass_.fromJson.call(this,a);this.xml=Blockly.Xml.textToDom(a.xml)};
Blockly.Events.CommentCreate.prototype.run=function(a){Blockly.Events.CommentCreateDeleteHelper(this,a)};Blockly.Events.CommentCreateDeleteHelper=function(a,b){var c=a.getEventWorkspace_();b?(b=Blockly.utils.xml.createElement("xml"),b.appendChild(a.xml),Blockly.Xml.domToWorkspace(b,c)):(c=c.getCommentById(a.commentId))?c.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.commentId)};
Blockly.Events.CommentDelete=function(a){a&&(Blockly.Events.CommentDelete.superClass_.constructor.call(this,a),this.xml=a.toXmlWithXY())};Blockly.utils.object.inherits(Blockly.Events.CommentDelete,Blockly.Events.CommentBase);Blockly.Events.CommentDelete.prototype.type=Blockly.Events.COMMENT_DELETE;Blockly.Events.CommentDelete.prototype.toJson=function(){return Blockly.Events.CommentDelete.superClass_.toJson.call(this)};
Blockly.Events.CommentDelete.prototype.fromJson=function(a){Blockly.Events.CommentDelete.superClass_.fromJson.call(this,a)};Blockly.Events.CommentDelete.prototype.run=function(a){Blockly.Events.CommentCreateDeleteHelper(this,!a)};Blockly.Events.CommentMove=function(a){a&&(Blockly.Events.CommentMove.superClass_.constructor.call(this,a),this.comment_=a,this.oldCoordinate_=a.getXY(),this.newCoordinate_=null)};Blockly.utils.object.inherits(Blockly.Events.CommentMove,Blockly.Events.CommentBase);
Blockly.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY();this.comment_=null};Blockly.Events.CommentMove.prototype.type=Blockly.Events.COMMENT_MOVE;Blockly.Events.CommentMove.prototype.setOldCoordinate=function(a){this.oldCoordinate_=a};
Blockly.Events.CommentMove.prototype.toJson=function(){var a=Blockly.Events.CommentMove.superClass_.toJson.call(this);this.newCoordinate_&&(a.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y));return a};Blockly.Events.CommentMove.prototype.fromJson=function(a){Blockly.Events.CommentMove.superClass_.fromJson.call(this,a);a.newCoordinate&&(a=a.newCoordinate.split(","),this.newCoordinate_=new Blockly.utils.Coordinate(Number(a[0]),Number(a[1])))};
Blockly.Events.CommentMove.prototype.isNull=function(){return Blockly.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)};Blockly.Events.CommentMove.prototype.run=function(a){var b=this.getEventWorkspace_().getCommentById(this.commentId);if(b){a=a?this.newCoordinate_:this.oldCoordinate_;var c=b.getXY();b.moveBy(a.x-c.x,a.y-c.y)}else console.warn("Can't move non-existent comment: "+this.commentId)};Blockly.BubbleDragger=function(a,b){this.draggingBubble_=a;this.workspace_=b;this.deleteArea_=null;this.wouldDeleteBubble_=!1;this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY();this.dragSurface_=Blockly.utils.is3dSupported()&&b.getBlockDragSurface()?b.getBlockDragSurface():null};Blockly.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null};
Blockly.BubbleDragger.prototype.startBubbleDrag=function(){Blockly.Events.getGroup()||Blockly.Events.setGroup(!0);this.workspace_.setResizesEnabled(!1);this.draggingBubble_.setAutoLayout(!1);this.dragSurface_&&this.moveToDragSurface_();this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0);var a=this.workspace_.getToolbox();if(a){var b=this.draggingBubble_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";a.addStyle(b)}};
Blockly.BubbleDragger.prototype.dragBubble=function(a,b){b=this.pixelsToWorkspaceUnits_(b);b=Blockly.utils.Coordinate.sum(this.startXY_,b);this.draggingBubble_.moveDuringDrag(this.dragSurface_,b);this.draggingBubble_.isDeletable()&&(this.deleteArea_=this.workspace_.isDeleteArea(a),this.updateCursorDuringBubbleDrag_())};
Blockly.BubbleDragger.prototype.maybeDeleteBubble_=function(){var a=this.workspace_.trashcan;this.wouldDeleteBubble_?(a&&setTimeout(a.close.bind(a),100),this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):a&&a.close();return this.wouldDeleteBubble_};
Blockly.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.wouldDeleteBubble_=this.deleteArea_!=Blockly.DELETE_AREA_NONE;var a=this.workspace_.trashcan;this.wouldDeleteBubble_?(this.draggingBubble_.setDeleteStyle(!0),this.deleteArea_==Blockly.DELETE_AREA_TRASH&&a&&a.setOpen(!0)):(this.draggingBubble_.setDeleteStyle(!1),a&&a.setOpen(!1))};
Blockly.BubbleDragger.prototype.endBubbleDrag=function(a,b){this.dragBubble(a,b);a=this.pixelsToWorkspaceUnits_(b);a=Blockly.utils.Coordinate.sum(this.startXY_,a);this.draggingBubble_.moveTo(a.x,a.y);this.maybeDeleteBubble_()||(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_());this.workspace_.setResizesEnabled(!0);this.workspace_.getToolbox()&&(a=this.draggingBubble_.isDeletable()?
"blocklyToolboxDelete":"blocklyToolboxGrab",this.workspace_.getToolbox().removeStyle(a));Blockly.Events.setGroup(!1)};Blockly.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var a=new Blockly.Events.CommentMove(this.draggingBubble_);a.setOldCoordinate(this.startXY_);a.recordNew();Blockly.Events.fire(a)}};
Blockly.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(a){a=new Blockly.utils.Coordinate(a.x/this.workspace_.scale,a.y/this.workspace_.scale);this.workspace_.isMutator&&a.scale(1/this.workspace_.options.parentWorkspace.scale);return a};Blockly.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0);this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y);this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())};Blockly.WorkspaceDragger=function(a){this.workspace_=a;this.startScrollXY_=new Blockly.utils.Coordinate(a.scrollX,a.scrollY)};Blockly.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null};Blockly.WorkspaceDragger.prototype.startDrag=function(){Blockly.selected&&Blockly.selected.unselect();this.workspace_.setupDragSurface()};Blockly.WorkspaceDragger.prototype.endDrag=function(a){this.drag(a);this.workspace_.resetDragSurface()};
Blockly.WorkspaceDragger.prototype.drag=function(a){a=Blockly.utils.Coordinate.sum(this.startScrollXY_,a);this.workspace_.scroll(a.x,a.y)};Blockly.FlyoutDragger=function(a){Blockly.FlyoutDragger.superClass_.constructor.call(this,a.getWorkspace());this.scrollbar_=a.scrollbar_;this.horizontalLayout_=a.horizontalLayout_};Blockly.utils.object.inherits(Blockly.FlyoutDragger,Blockly.WorkspaceDragger);Blockly.FlyoutDragger.prototype.drag=function(a){a=Blockly.utils.Coordinate.sum(this.startScrollXY_,a);this.horizontalLayout_?this.scrollbar_.set(-a.x):this.scrollbar_.set(-a.y)};Blockly.Action=function(a,b){this.name=a;this.desc=b};Blockly.navigation={};Blockly.navigation.loggingCallback=null;Blockly.navigation.STATE_FLYOUT=1;Blockly.navigation.STATE_WS=2;Blockly.navigation.STATE_TOOLBOX=3;Blockly.navigation.WS_MOVE_DISTANCE=40;Blockly.navigation.currentState_=Blockly.navigation.STATE_WS;
Blockly.navigation.actionNames={PREVIOUS:"previous",NEXT:"next",IN:"in",OUT:"out",INSERT:"insert",MARK:"mark",DISCONNECT:"disconnect",TOOLBOX:"toolbox",EXIT:"exit",TOGGLE_KEYBOARD_NAV:"toggle_keyboard_nav",MOVE_WS_CURSOR_UP:"move workspace cursor up",MOVE_WS_CURSOR_DOWN:"move workspace cursor down",MOVE_WS_CURSOR_LEFT:"move workspace cursor left",MOVE_WS_CURSOR_RIGHT:"move workspace cursor right"};Blockly.navigation.MARKER_NAME="local_marker_1";Blockly.navigation.getMarker=function(){return Blockly.getMainWorkspace().getMarker(Blockly.navigation.MARKER_NAME)};
Blockly.navigation.focusToolbox_=function(){var a=Blockly.getMainWorkspace().getToolbox();a&&(Blockly.navigation.currentState_=Blockly.navigation.STATE_TOOLBOX,Blockly.navigation.resetFlyout_(!1),Blockly.navigation.getMarker().getCurNode()||Blockly.navigation.markAtCursor_(),a.selectFirstCategory())};
Blockly.navigation.focusFlyout_=function(){Blockly.navigation.currentState_=Blockly.navigation.STATE_FLYOUT;var a=Blockly.getMainWorkspace();var b=a.getToolbox();a=b?b.flyout_:a.getFlyout();Blockly.navigation.getMarker().getCurNode()||Blockly.navigation.markAtCursor_();a&&a.getWorkspace()&&(a=a.getWorkspace().getTopBlocks(!0),0<a.length&&(a=a[0],a=Blockly.ASTNode.createStackNode(a),Blockly.navigation.getFlyoutCursor_().setCurNode(a)))};
Blockly.navigation.focusWorkspace_=function(){Blockly.hideChaff();var a=Blockly.getMainWorkspace(),b=a.getCursor(),c=!!a.getToolbox(),d=a.getTopBlocks(!0);Blockly.navigation.resetFlyout_(c);Blockly.navigation.currentState_=Blockly.navigation.STATE_WS;0<d.length?b.setCurNode(Blockly.navigation.getTopNode(d[0])):(c=new Blockly.utils.Coordinate(100,100),a=Blockly.ASTNode.createWorkspaceNode(a,c),b.setCurNode(a))};
Blockly.navigation.getFlyoutCursor_=function(){var a=Blockly.getMainWorkspace(),b=null;a.rendered&&(b=(a=(b=a.getToolbox())?b.flyout_:a.getFlyout())?a.workspace_.getCursor():null);return b};
Blockly.navigation.insertFromFlyout=function(){var a=Blockly.getMainWorkspace(),b=a.getFlyout();if(b&&b.isVisible()){var c=Blockly.navigation.getFlyoutCursor_().getCurNode().getLocation();c.isEnabled()?(b=b.createBlock(c),b.render(),b.setConnectionTracking(!0),a.getCursor().setCurNode(Blockly.ASTNode.createBlockNode(b)),Blockly.navigation.modify_()||Blockly.navigation.warn_("Something went wrong while inserting a block from the flyout."),Blockly.navigation.focusWorkspace_(),a.getCursor().setCurNode(Blockly.navigation.getTopNode(b)),
Blockly.navigation.removeMark_()):Blockly.navigation.warn_("Can't insert a disabled block.")}else Blockly.navigation.warn_("Trying to insert from the flyout when the flyout does not  exist or is not visible")};Blockly.navigation.resetFlyout_=function(a){Blockly.navigation.getFlyoutCursor_()&&(Blockly.navigation.getFlyoutCursor_().hide(),a&&Blockly.getMainWorkspace().getFlyout().hide())};
Blockly.navigation.modifyWarn_=function(){var a=Blockly.navigation.getMarker().getCurNode(),b=Blockly.getMainWorkspace().getCursor().getCurNode();if(!a)return Blockly.navigation.warn_("Cannot insert with no marked node."),!1;if(!b)return Blockly.navigation.warn_("Cannot insert with no cursor node."),!1;a=a.getType();b=b.getType();return a==Blockly.ASTNode.types.FIELD?(Blockly.navigation.warn_("Should not have been able to mark a field."),!1):a==Blockly.ASTNode.types.BLOCK?(Blockly.navigation.warn_("Should not have been able to mark a block."),
!1):a==Blockly.ASTNode.types.STACK?(Blockly.navigation.warn_("Should not have been able to mark a stack."),!1):b==Blockly.ASTNode.types.FIELD?(Blockly.navigation.warn_("Cannot attach a field to anything else."),!1):b==Blockly.ASTNode.types.WORKSPACE?(Blockly.navigation.warn_("Cannot attach a workspace to anything else."),!1):!0};
Blockly.navigation.moveBlockToWorkspace_=function(a,b){if(!a)return!1;if(a.isShadow())return Blockly.navigation.warn_("Cannot move a shadow block to the workspace."),!1;a.getParent()&&a.unplug(!1);a.moveTo(b.getWsCoordinate());return!0};
Blockly.navigation.modify_=function(){var a=Blockly.navigation.getMarker().getCurNode(),b=Blockly.getMainWorkspace().getCursor().getCurNode();if(!Blockly.navigation.modifyWarn_())return!1;var c=a.getType(),d=b.getType(),e=b.getLocation(),f=a.getLocation();if(a.isConnection()&&b.isConnection())return Blockly.navigation.connect_(e,f);if(a.isConnection()&&(d==Blockly.ASTNode.types.BLOCK||d==Blockly.ASTNode.types.STACK))return Blockly.navigation.insertBlock(e,f);if(c==Blockly.ASTNode.types.WORKSPACE)return b=
b?b.getSourceBlock():null,Blockly.navigation.moveBlockToWorkspace_(b,a);Blockly.navigation.warn_("Unexpected state in Blockly.navigation.modify_.");return!1};Blockly.navigation.disconnectChild_=function(a,b){var c=a.getSourceBlock(),d=b.getSourceBlock();c.getRootBlock()==d.getRootBlock()&&(-1<c.getDescendants(!1).indexOf(d)?Blockly.navigation.getInferiorConnection_(b).disconnect():Blockly.navigation.getInferiorConnection_(a).disconnect())};
Blockly.navigation.moveAndConnect_=function(a,b){if(!a||!b)return!1;var c=a.getSourceBlock();return b.canConnectWithReason(a)==Blockly.Connection.CAN_CONNECT?(Blockly.navigation.disconnectChild_(a,b),b.isSuperior()||c.getRootBlock().positionNearConnection(a,b),b.connect(a),!0):!1};Blockly.navigation.getInferiorConnection_=function(a){var b=a.getSourceBlock();return a.isSuperior()?b.previousConnection?b.previousConnection:b.outputConnection?b.outputConnection:null:a};
Blockly.navigation.getSuperiorConnection_=function(a){return a.isSuperior()?a:a.targetConnection?a.targetConnection:null};
Blockly.navigation.connect_=function(a,b){if(!a||!b)return!1;var c=Blockly.navigation.getInferiorConnection_(a),d=Blockly.navigation.getSuperiorConnection_(b),e=Blockly.navigation.getSuperiorConnection_(a),f=Blockly.navigation.getInferiorConnection_(b);if(c&&d&&Blockly.navigation.moveAndConnect_(c,d)||e&&f&&Blockly.navigation.moveAndConnect_(e,f)||Blockly.navigation.moveAndConnect_(a,b))return!0;try{b.checkConnection(a)}catch(g){Blockly.navigation.warn_("Connection failed with error: "+g)}return!1};
Blockly.navigation.insertBlock=function(a,b){switch(b.type){case Blockly.PREVIOUS_STATEMENT:if(Blockly.navigation.connect_(a.nextConnection,b))return!0;break;case Blockly.NEXT_STATEMENT:if(Blockly.navigation.connect_(a.previousConnection,b))return!0;break;case Blockly.INPUT_VALUE:if(Blockly.navigation.connect_(a.outputConnection,b))return!0;break;case Blockly.OUTPUT_VALUE:for(var c=0;c<a.inputList.length;c++){var d=a.inputList[c].connection;if(d&&d.type===Blockly.INPUT_VALUE&&Blockly.navigation.connect_(d,
b))return!0}if(a.outputConnection&&Blockly.navigation.connect_(a.outputConnection,b))return!0}Blockly.navigation.warn_("This block can not be inserted at the marked location.");return!1};
Blockly.navigation.disconnectBlocks_=function(){var a=Blockly.getMainWorkspace(),b=a.getCursor().getCurNode();if(b.isConnection()){var c=b.getLocation();c.isConnected()?(b=c.isSuperior()?c:c.targetConnection,c=c.isSuperior()?c.targetConnection:c,c.getSourceBlock().isShadow()?Blockly.navigation.log_("Cannot disconnect a shadow block"):(b.disconnect(),c.bumpAwayFrom(b),b.getSourceBlock().getRootBlock().bringToFront(),b=Blockly.ASTNode.createConnectionNode(b),a.getCursor().setCurNode(b))):Blockly.navigation.log_("Cannot disconnect unconnected connection")}else Blockly.navigation.log_("Cannot disconnect blocks when the cursor is not on a connection")};
Blockly.navigation.markAtCursor_=function(){Blockly.navigation.getMarker().setCurNode(Blockly.getMainWorkspace().getCursor().getCurNode())};Blockly.navigation.removeMark_=function(){var a=Blockly.navigation.getMarker();a.setCurNode(null);a.hide()};Blockly.navigation.setState=function(a){Blockly.navigation.currentState_=a};Blockly.navigation.getTopNode=function(a){var b=a.previousConnection||a.outputConnection;return b?Blockly.ASTNode.createConnectionNode(b):Blockly.ASTNode.createBlockNode(a)};
Blockly.navigation.moveCursorOnBlockDelete=function(a){var b=Blockly.getMainWorkspace();if(b&&(b=b.getCursor())){var c=b.getCurNode();c=c?c.getSourceBlock():null;c===a?c.getParent()?(a=c.previousConnection||c.outputConnection)&&b.setCurNode(Blockly.ASTNode.createConnectionNode(a.targetConnection)):b.setCurNode(Blockly.ASTNode.createWorkspaceNode(c.workspace,c.getRelativeToSurfaceXY())):c&&-1<a.getChildren(!1).indexOf(c)&&b.setCurNode(Blockly.ASTNode.createWorkspaceNode(c.workspace,c.getRelativeToSurfaceXY()))}};
Blockly.navigation.moveCursorOnBlockMutation=function(a){var b=Blockly.getMainWorkspace().getCursor();if(b){var c=b.getCurNode();c=c?c.getSourceBlock():null;c===a&&b.setCurNode(Blockly.ASTNode.createBlockNode(c))}};Blockly.navigation.enableKeyboardAccessibility=function(){Blockly.getMainWorkspace().keyboardAccessibilityMode||(Blockly.getMainWorkspace().keyboardAccessibilityMode=!0,Blockly.navigation.focusWorkspace_())};
Blockly.navigation.disableKeyboardAccessibility=function(){if(Blockly.getMainWorkspace().keyboardAccessibilityMode){var a=Blockly.getMainWorkspace();Blockly.getMainWorkspace().keyboardAccessibilityMode=!1;a.getCursor().hide();Blockly.navigation.getMarker().hide();Blockly.navigation.getFlyoutCursor_()&&Blockly.navigation.getFlyoutCursor_().hide()}};Blockly.navigation.log_=function(a){Blockly.navigation.loggingCallback?Blockly.navigation.loggingCallback("log",a):console.log(a)};
Blockly.navigation.warn_=function(a){Blockly.navigation.loggingCallback?Blockly.navigation.loggingCallback("warn",a):console.warn(a)};Blockly.navigation.error_=function(a){Blockly.navigation.loggingCallback?Blockly.navigation.loggingCallback("error",a):console.error(a)};Blockly.navigation.onKeyPress=function(a){a=Blockly.user.keyMap.serializeKeyEvent(a);return(a=Blockly.user.keyMap.getActionByKeyCode(a))?Blockly.navigation.onBlocklyAction(a):!1};
Blockly.navigation.onBlocklyAction=function(a){var b=Blockly.getMainWorkspace().options.readOnly,c=!1;Blockly.getMainWorkspace().keyboardAccessibilityMode?b?-1<Blockly.navigation.READONLY_ACTION_LIST.indexOf(a)&&(c=Blockly.navigation.handleActions_(a)):c=Blockly.navigation.handleActions_(a):a.name===Blockly.navigation.actionNames.TOGGLE_KEYBOARD_NAV&&(Blockly.navigation.enableKeyboardAccessibility(),c=!0);return c};
Blockly.navigation.handleActions_=function(a){return a.name==Blockly.navigation.actionNames.TOOLBOX||Blockly.navigation.currentState_==Blockly.navigation.STATE_TOOLBOX?Blockly.navigation.toolboxOnAction_(a):a.name==Blockly.navigation.actionNames.TOGGLE_KEYBOARD_NAV?(Blockly.navigation.disableKeyboardAccessibility(),!0):Blockly.navigation.currentState_==Blockly.navigation.STATE_WS?Blockly.navigation.workspaceOnAction_(a):Blockly.navigation.currentState_==Blockly.navigation.STATE_FLYOUT?Blockly.navigation.flyoutOnAction_(a):
!1};Blockly.navigation.flyoutOnAction_=function(a){var b=Blockly.getMainWorkspace(),c=b.getToolbox();if((b=c?c.flyout_:b.getFlyout())&&b.onBlocklyAction(a))return!0;switch(a.name){case Blockly.navigation.actionNames.OUT:return Blockly.navigation.focusToolbox_(),!0;case Blockly.navigation.actionNames.MARK:return Blockly.navigation.insertFromFlyout(),!0;case Blockly.navigation.actionNames.EXIT:return Blockly.navigation.focusWorkspace_(),!0;default:return!1}};
Blockly.navigation.toolboxOnAction_=function(a){var b=Blockly.getMainWorkspace(),c=b.getToolbox();return c&&c.onBlocklyAction(a)?!0:a.name===Blockly.navigation.actionNames.TOOLBOX?(b.getToolbox()?Blockly.navigation.focusToolbox_():Blockly.navigation.focusFlyout_(),!0):a.name===Blockly.navigation.actionNames.IN?(Blockly.navigation.focusFlyout_(),!0):a.name===Blockly.navigation.actionNames.EXIT?(Blockly.navigation.focusWorkspace_(),!0):!1};
Blockly.navigation.moveWSCursor_=function(a,b){var c=Blockly.getMainWorkspace().getCursor(),d=Blockly.getMainWorkspace().getCursor().getCurNode();if(d.getType()!==Blockly.ASTNode.types.WORKSPACE)return!1;d=d.getWsCoordinate();a=a*Blockly.navigation.WS_MOVE_DISTANCE+d.x;b=b*Blockly.navigation.WS_MOVE_DISTANCE+d.y;c.setCurNode(Blockly.ASTNode.createWorkspaceNode(Blockly.getMainWorkspace(),new Blockly.utils.Coordinate(a,b)));return!0};
Blockly.navigation.workspaceOnAction_=function(a){if(Blockly.getMainWorkspace().getCursor().onBlocklyAction(a))return!0;switch(a.name){case Blockly.navigation.actionNames.INSERT:return Blockly.navigation.modify_(),!0;case Blockly.navigation.actionNames.MARK:return Blockly.navigation.handleEnterForWS_(),!0;case Blockly.navigation.actionNames.DISCONNECT:return Blockly.navigation.disconnectBlocks_(),!0;case Blockly.navigation.actionNames.MOVE_WS_CURSOR_UP:return Blockly.navigation.moveWSCursor_(0,-1);
case Blockly.navigation.actionNames.MOVE_WS_CURSOR_DOWN:return Blockly.navigation.moveWSCursor_(0,1);case Blockly.navigation.actionNames.MOVE_WS_CURSOR_LEFT:return Blockly.navigation.moveWSCursor_(-1,0);case Blockly.navigation.actionNames.MOVE_WS_CURSOR_RIGHT:return Blockly.navigation.moveWSCursor_(1,0);default:return!1}};
Blockly.navigation.handleEnterForWS_=function(){var a=Blockly.getMainWorkspace().getCursor().getCurNode(),b=a.getType();b==Blockly.ASTNode.types.FIELD?a.getLocation().showEditor():a.isConnection()||b==Blockly.ASTNode.types.WORKSPACE?Blockly.navigation.markAtCursor_():b==Blockly.ASTNode.types.BLOCK?Blockly.navigation.warn_("Cannot mark a block."):b==Blockly.ASTNode.types.STACK&&Blockly.navigation.warn_("Cannot mark a stack.")};
Blockly.navigation.ACTION_PREVIOUS=new Blockly.Action(Blockly.navigation.actionNames.PREVIOUS,"Go to the previous location.");Blockly.navigation.ACTION_OUT=new Blockly.Action(Blockly.navigation.actionNames.OUT,"Go to the parent of the current location.");Blockly.navigation.ACTION_NEXT=new Blockly.Action(Blockly.navigation.actionNames.NEXT,"Go to the next location.");Blockly.navigation.ACTION_IN=new Blockly.Action(Blockly.navigation.actionNames.IN,"Go to the first child of the current location.");
Blockly.navigation.ACTION_INSERT=new Blockly.Action(Blockly.navigation.actionNames.INSERT,"Connect the current location to the marked location.");Blockly.navigation.ACTION_MARK=new Blockly.Action(Blockly.navigation.actionNames.MARK,"Mark the current location.");Blockly.navigation.ACTION_DISCONNECT=new Blockly.Action(Blockly.navigation.actionNames.DISCONNECT,"Disconnect the block at the current location from its parent.");
Blockly.navigation.ACTION_TOOLBOX=new Blockly.Action(Blockly.navigation.actionNames.TOOLBOX,"Open the toolbox.");Blockly.navigation.ACTION_EXIT=new Blockly.Action(Blockly.navigation.actionNames.EXIT,"Close the current modal, such as a toolbox or field editor.");Blockly.navigation.ACTION_TOGGLE_KEYBOARD_NAV=new Blockly.Action(Blockly.navigation.actionNames.TOGGLE_KEYBOARD_NAV,"Turns on and off keyboard navigation.");
Blockly.navigation.ACTION_MOVE_WS_CURSOR_LEFT=new Blockly.Action(Blockly.navigation.actionNames.MOVE_WS_CURSOR_LEFT,"Move the workspace cursor to the lefts.");Blockly.navigation.ACTION_MOVE_WS_CURSOR_RIGHT=new Blockly.Action(Blockly.navigation.actionNames.MOVE_WS_CURSOR_RIGHT,"Move the workspace cursor to the right.");Blockly.navigation.ACTION_MOVE_WS_CURSOR_UP=new Blockly.Action(Blockly.navigation.actionNames.MOVE_WS_CURSOR_UP,"Move the workspace cursor up.");
Blockly.navigation.ACTION_MOVE_WS_CURSOR_DOWN=new Blockly.Action(Blockly.navigation.actionNames.MOVE_WS_CURSOR_DOWN,"Move the workspace cursor down.");Blockly.navigation.READONLY_ACTION_LIST=[Blockly.navigation.ACTION_PREVIOUS,Blockly.navigation.ACTION_OUT,Blockly.navigation.ACTION_IN,Blockly.navigation.ACTION_NEXT,Blockly.navigation.ACTION_TOGGLE_KEYBOARD_NAV];Blockly.Gesture=function(a,b){this.mouseDownXY_=null;this.currentDragDeltaXY_=new Blockly.utils.Coordinate(0,0);this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null;this.creatorWorkspace_=b;this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1;this.mostRecentEvent_=a;this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null;this.isEnding_=this.hasStarted_=
this.calledUpdateIsDragging_=!1;this.healStack_=!Blockly.DRAG_STACK};Blockly.Gesture.prototype.dispose=function(){Blockly.Touch.clearTouchIdentifier();Blockly.Tooltip.unblock();this.creatorWorkspace_.clearGesture();this.onMoveWrapper_&&Blockly.unbindEvent_(this.onMoveWrapper_);this.onUpWrapper_&&Blockly.unbindEvent_(this.onUpWrapper_);this.blockDragger_&&this.blockDragger_.dispose();this.workspaceDragger_&&this.workspaceDragger_.dispose();this.bubbleDragger_&&this.bubbleDragger_.dispose()};
Blockly.Gesture.prototype.updateFromEvent_=function(a){var b=new Blockly.utils.Coordinate(a.clientX,a.clientY);this.updateDragDelta_(b)&&(this.updateIsDragging_(),Blockly.longStop_());this.mostRecentEvent_=a};
Blockly.Gesture.prototype.updateDragDelta_=function(a){this.currentDragDeltaXY_=Blockly.utils.Coordinate.difference(a,this.mouseDownXY_);return this.hasExceededDragRadius_?!1:this.hasExceededDragRadius_=Blockly.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?Blockly.FLYOUT_DRAG_RADIUS:Blockly.DRAG_RADIUS)};
Blockly.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return this.targetBlock_&&this.flyout_.isBlockCreatable_(this.targetBlock_)?!this.flyout_.isScrollable()||this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)?(this.startWorkspace_=this.flyout_.targetWorkspace_,this.startWorkspace_.updateScreenCalculationsIfScrolled(),Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),
!0):!1:!1};Blockly.Gesture.prototype.updateIsDraggingBubble_=function(){if(!this.startBubble_)return!1;this.isDraggingBubble_=!0;this.startDraggingBubble_();return!0};Blockly.Gesture.prototype.updateIsDraggingBlock_=function(){if(!this.targetBlock_)return!1;this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0);return this.isDraggingBlock_?(this.startDraggingBlock_(),!0):!1};
Blockly.Gesture.prototype.updateIsDraggingWorkspace_=function(){if(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())this.workspaceDragger_=this.flyout_?new Blockly.FlyoutDragger(this.flyout_):new Blockly.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag()};
Blockly.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0;this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()};
Blockly.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new Blockly.BlockDragger(this.targetBlock_,this.startWorkspace_);this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_,this.healStack_);this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_)};
Blockly.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new Blockly.BubbleDragger(this.startBubble_,this.startWorkspace_);this.bubbleDragger_.startBubbleDrag();this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)};
Blockly.Gesture.prototype.doStart=function(a){Blockly.utils.isTargetInput(a)?this.cancel():(this.hasStarted_=!0,Blockly.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),Blockly.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=a,Blockly.Tooltip.block(),this.targetBlock_&&(!this.targetBlock_.isInFlyout&&a.shiftKey&&this.targetBlock_.workspace.keyboardAccessibilityMode?
this.creatorWorkspace_.getCursor().setCurNode(Blockly.navigation.getTopNode(this.targetBlock_)):this.targetBlock_.select()),Blockly.utils.isRightButton(a)?this.handleRightClick(a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||Blockly.longStart(a,this),this.mouseDownXY_=new Blockly.utils.Coordinate(a.clientX,a.clientY),this.healStack_=a.altKey||a.ctrlKey||a.metaKey,this.bindMouseEvents(a)))};
Blockly.Gesture.prototype.bindMouseEvents=function(a){this.onMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this));this.onUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this));a.preventDefault();a.stopPropagation()};
Blockly.Gesture.prototype.handleMove=function(a){this.updateFromEvent_(a);this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_);a.preventDefault();a.stopPropagation()};
Blockly.Gesture.prototype.handleUp=function(a){this.updateFromEvent_(a);Blockly.longStop_();this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(a,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(a,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():
this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(a),a.preventDefault(),a.stopPropagation(),this.dispose())};
Blockly.Gesture.prototype.cancel=function(){this.isEnding_||(Blockly.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())};
Blockly.Gesture.prototype.handleRightClick=function(a){this.targetBlock_?(this.bringBlockToFront_(),Blockly.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(a)):this.startBubble_?this.startBubble_.showContextMenu(a):this.startWorkspace_&&!this.flyout_&&(Blockly.hideChaff(),this.startWorkspace_.showContextMenu(a));a.preventDefault();a.stopPropagation();this.dispose()};
Blockly.Gesture.prototype.handleWsStart=function(a,b){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(b);this.mostRecentEvent_=a;this.doStart(a);this.startWorkspace_.keyboardAccessibilityMode&&Blockly.navigation.setState(Blockly.navigation.STATE_WS)};
Blockly.Gesture.prototype.handleFlyoutStart=function(a,b){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(b);this.handleWsStart(a,b.getWorkspace())};Blockly.Gesture.prototype.handleBlockStart=function(a,b){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(b);this.mostRecentEvent_=a};
Blockly.Gesture.prototype.handleBubbleStart=function(a,b){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(b);this.mostRecentEvent_=a};Blockly.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus();this.startBubble_.select&&this.startBubble_.select()};Blockly.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_);this.bringBlockToFront_()};
Blockly.Gesture.prototype.doBlockClick_=function(){this.flyout_&&this.flyout_.autoClose?this.targetBlock_.isEnabled()&&(Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump()):Blockly.Events.fire(new Blockly.Events.Ui(this.startBlock_,"click",void 0,void 0));this.bringBlockToFront_();Blockly.Events.setGroup(!1)};
Blockly.Gesture.prototype.doWorkspaceClick_=function(a){var b=this.creatorWorkspace_;a.shiftKey&&b.keyboardAccessibilityMode?(a=new Blockly.utils.Coordinate(a.clientX,a.clientY),a=Blockly.utils.screenToWsCoordinates(b,a),a=Blockly.ASTNode.createWorkspaceNode(b,a),b.getCursor().setCurNode(a)):Blockly.selected&&Blockly.selected.unselect()};Blockly.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()};
Blockly.Gesture.prototype.setStartField=function(a){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=a)};Blockly.Gesture.prototype.setStartBubble=function(a){this.startBubble_||(this.startBubble_=a)};Blockly.Gesture.prototype.setStartBlock=function(a){this.startBlock_||this.startBubble_||(this.startBlock_=a,a.isInFlyout&&a!=a.getRootBlock()?this.setTargetBlock_(a.getRootBlock()):this.setTargetBlock_(a))};
Blockly.Gesture.prototype.setTargetBlock_=function(a){a.isShadow()?this.setTargetBlock_(a.getParent()):this.targetBlock_=a};Blockly.Gesture.prototype.setStartWorkspace_=function(a){this.startWorkspace_||(this.startWorkspace_=a)};Blockly.Gesture.prototype.setStartFlyout_=function(a){this.flyout_||(this.flyout_=a)};Blockly.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_};
Blockly.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()};Blockly.Gesture.prototype.isFieldClick_=function(){return(this.startField_?this.startField_.isClickable():!1)&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)};Blockly.Gesture.prototype.isWorkspaceClick_=function(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_};
Blockly.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_};Blockly.Gesture.prototype.hasStarted=function(){return this.hasStarted_};Blockly.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]};Blockly.Gesture.inProgress=function(){for(var a=Blockly.Workspace.getAll(),b=0,c;c=a[b];b++)if(c.currentGesture_)return!0;return!1};Blockly.Field=function(a,b,c){this.tooltip_=this.validator_=this.value_=null;this.size_=new Blockly.utils.Size(0,0);this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null;c&&this.configure_(c);this.setValue(a);b&&this.setValidator(b)};Blockly.Field.prototype.name=void 0;Blockly.Field.prototype.disposed=!1;Blockly.Field.prototype.maxDisplayLength=50;Blockly.Field.prototype.sourceBlock_=null;
Blockly.Field.prototype.isDirty_=!0;Blockly.Field.prototype.visible_=!0;Blockly.Field.prototype.clickTarget_=null;Blockly.Field.NBSP="\u00a0";Blockly.Field.prototype.EDITABLE=!0;Blockly.Field.prototype.SERIALIZABLE=!1;Blockly.Field.prototype.configure_=function(a){var b=a.tooltip;"string"==typeof b&&(b=Blockly.utils.replaceMessageReferences(a.tooltip));b&&this.setTooltip(b)};
Blockly.Field.prototype.setSourceBlock=function(a){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=a};Blockly.Field.prototype.getConstants=function(){!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants());return this.constants_};Blockly.Field.prototype.getSourceBlock=function(){return this.sourceBlock_};
Blockly.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=Blockly.utils.dom.createSvgElement("g",{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())};Blockly.Field.prototype.initView=function(){this.createBorderRect_();this.createTextElement_()};Blockly.Field.prototype.initModel=function(){};
Blockly.Field.prototype.createBorderRect_=function(){this.borderRect_=Blockly.utils.dom.createSvgElement("rect",{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,"class":"blocklyFieldRect"},this.fieldGroup_)};
Blockly.Field.prototype.createTextElement_=function(){this.textElement_=Blockly.utils.dom.createSvgElement("text",{"class":"blocklyText"},this.fieldGroup_);this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central");this.textContent_=document.createTextNode("");this.textElement_.appendChild(this.textContent_)};
Blockly.Field.prototype.bindEvents_=function(){Blockly.Tooltip.bindMouseEvents(this.getClickTarget_());this.mouseDownWrapper_=Blockly.bindEventWithChecks_(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)};Blockly.Field.prototype.fromXml=function(a){this.setValue(a.textContent)};Blockly.Field.prototype.toXml=function(a){a.textContent=this.getValue();return a};
Blockly.Field.prototype.dispose=function(){Blockly.DropDownDiv.hideIfOwner(this);Blockly.WidgetDiv.hideIfOwner(this);Blockly.Tooltip.unbindMouseEvents(this.getClickTarget_());this.mouseDownWrapper_&&Blockly.unbindEvent_(this.mouseDownWrapper_);Blockly.utils.dom.removeNode(this.fieldGroup_);this.disposed=!0};
Blockly.Field.prototype.updateEditable=function(){var a=this.fieldGroup_;this.EDITABLE&&a&&(this.sourceBlock_.isEditable()?(Blockly.utils.dom.addClass(a,"blocklyEditableText"),Blockly.utils.dom.removeClass(a,"blocklyNonEditableText"),a.style.cursor=this.CURSOR):(Blockly.utils.dom.addClass(a,"blocklyNonEditableText"),Blockly.utils.dom.removeClass(a,"blocklyEditableText"),a.style.cursor=""))};
Blockly.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"===typeof this.showEditor_};Blockly.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()};
Blockly.Field.prototype.isSerializable=function(){var a=!1;this.name&&(this.SERIALIZABLE?a=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),a=!0));return a};Blockly.Field.prototype.isVisible=function(){return this.visible_};
Blockly.Field.prototype.setVisible=function(a){if(this.visible_!=a){this.visible_=a;var b=this.getSvgRoot();b&&(b.style.display=a?"block":"none")}};Blockly.Field.prototype.setValidator=function(a){this.validator_=a};Blockly.Field.prototype.getValidator=function(){return this.validator_};Blockly.Field.prototype.classValidator=function(a){return a};
Blockly.Field.prototype.callValidator=function(a){var b=this.classValidator(a);if(null===b)return null;void 0!==b&&(a=b);if(b=this.getValidator()){b=b.call(this,a);if(null===b)return null;void 0!==b&&(a=b)}return a};Blockly.Field.prototype.getSvgRoot=function(){return this.fieldGroup_};Blockly.Field.prototype.applyColour=function(){};Blockly.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_());this.updateSize_()};
Blockly.Field.prototype.showEditor=function(a){this.isClickable()&&this.showEditor_(a)};Blockly.Field.prototype.updateWidth=function(){console.warn("Deprecated call to updateWidth, call Blockly.Field.updateSize_ to force an update to the size of the field, or Blockly.utils.dom.getTextWidth() to check the size of the field.");this.updateSize_()};
Blockly.Field.prototype.updateSize_=function(a){var b=this.getConstants();a=void 0!=a?a:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var c=2*a,d=b.FIELD_TEXT_HEIGHT,e=0;this.textElement_&&(e=Blockly.utils.dom.getFastTextWidth(this.textElement_,b.FIELD_TEXT_FONTSIZE,b.FIELD_TEXT_FONTWEIGHT,b.FIELD_TEXT_FONTFAMILY),c+=e);this.borderRect_&&(d=Math.max(d,b.FIELD_BORDER_RECT_HEIGHT));this.size_.height=d;this.size_.width=c;this.positionTextElement_(a,e);this.positionBorderRect_()};
Blockly.Field.prototype.positionTextElement_=function(a,b){if(this.textElement_){var c=this.getConstants(),d=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-b-a:a);this.textElement_.setAttribute("y",c.FIELD_TEXT_BASELINE_CENTER?d:d-c.FIELD_TEXT_HEIGHT/2+c.FIELD_TEXT_BASELINE)}};
Blockly.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))};
Blockly.Field.prototype.getSize=function(){if(!this.isVisible())return new Blockly.utils.Size(0,0);this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_());return this.size_};
Blockly.Field.prototype.getScaledBBox=function(){if(this.borderRect_)a=this.borderRect_.getBoundingClientRect(),c=Blockly.utils.style.getPageOffset(this.borderRect_),d=a.width,a=a.height;else{var a=this.sourceBlock_.getHeightWidth(),b=this.sourceBlock_.workspace.scale,c=this.getAbsoluteXY_(),d=a.width*b;a=a.height*b;Blockly.utils.userAgent.GECKO?(c.x+=1.5*b,c.y+=1.5*b):Blockly.utils.userAgent.EDGE||Blockly.utils.userAgent.IE||(c.x-=.5*b,c.y-=.5*b);d+=1*b;a+=1*b}return{top:c.y,bottom:c.y+a,left:c.x,
right:c.x+d}};Blockly.Field.prototype.getDisplayText_=function(){var a=this.getText();if(!a)return Blockly.Field.NBSP;a.length>this.maxDisplayLength&&(a=a.substring(0,this.maxDisplayLength-2)+"\u2026");a=a.replace(/\s/g,Blockly.Field.NBSP);this.sourceBlock_&&this.sourceBlock_.RTL&&(a+="\u200f");return a};Blockly.Field.prototype.getText=function(){if(this.getText_){var a=this.getText_.call(this);if(null!==a)return String(a)}return String(this.getValue())};
Blockly.Field.prototype.setText=function(a){throw Error("setText method is deprecated");};Blockly.Field.prototype.markDirty=function(){this.isDirty_=!0;this.constants_=null};Blockly.Field.prototype.forceRerender=function(){this.isDirty_=!0;this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())};
Blockly.Field.prototype.setValue=function(a){if(null!==a){var b=this.doClassValidation_(a);a=this.processValidation_(a,b);if(!(a instanceof Error)){if(b=this.getValidator())if(b=b.call(this,a),a=this.processValidation_(a,b),a instanceof Error)return;b=this.getValue();b!==a&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name||null,b,a)),this.doValueUpdate_(a),this.isDirty_&&this.forceRerender())}}};
Blockly.Field.prototype.processValidation_=function(a,b){if(null===b)return this.doValueInvalid_(a),this.isDirty_&&this.forceRerender(),Error();void 0!==b&&(a=b);return a};Blockly.Field.prototype.getValue=function(){return this.value_};Blockly.Field.prototype.doClassValidation_=function(a){return null===a||void 0===a?null:a=this.classValidator(a)};Blockly.Field.prototype.doValueUpdate_=function(a){this.value_=a;this.isDirty_=!0};Blockly.Field.prototype.doValueInvalid_=function(a){};
Blockly.Field.prototype.onMouseDown_=function(a){this.sourceBlock_&&this.sourceBlock_.workspace&&(a=this.sourceBlock_.workspace.getGesture(a))&&a.setStartField(this)};Blockly.Field.prototype.setTooltip=function(a){var b=this.getClickTarget_();b?b.tooltip=a||""===a?a:this.sourceBlock_:this.tooltip_=a};Blockly.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()};Blockly.Field.prototype.getAbsoluteXY_=function(){return Blockly.utils.style.getPageOffset(this.getClickTarget_())};
Blockly.Field.prototype.referencesVariables=function(){return!1};Blockly.Field.prototype.getParentInput=function(){for(var a=null,b=this.sourceBlock_,c=b.inputList,d=0;d<b.inputList.length;d++)for(var e=c[d],f=e.fieldRow,g=0;g<f.length;g++)if(f[g]===this){a=e;break}return a};Blockly.Field.prototype.getFlipRtl=function(){return!1};Blockly.Field.prototype.isTabNavigable=function(){return!1};Blockly.Field.prototype.onBlocklyAction=function(a){return!1};
Blockly.Field.prototype.setCursorSvg=function(a){a?(this.fieldGroup_.appendChild(a),this.cursorSvg_=a):this.cursorSvg_=null};Blockly.Field.prototype.setMarkerSvg=function(a){a?(this.fieldGroup_.appendChild(a),this.markerSvg_=a):this.markerSvg_=null};Blockly.Field.prototype.updateMarkers_=function(){var a=this.sourceBlock_.workspace;a.keyboardAccessibilityMode&&this.cursorSvg_&&a.getCursor().draw();a.keyboardAccessibilityMode&&this.markerSvg_&&a.getMarker(Blockly.navigation.MARKER_NAME).draw()};Blockly.FieldLabel=function(a,b,c){this.class_=null;null==a&&(a="");Blockly.FieldLabel.superClass_.constructor.call(this,a,null,c);c||(this.class_=b||null)};Blockly.utils.object.inherits(Blockly.FieldLabel,Blockly.Field);Blockly.FieldLabel.fromJson=function(a){var b=Blockly.utils.replaceMessageReferences(a.text);return new Blockly.FieldLabel(b,void 0,a)};Blockly.FieldLabel.prototype.EDITABLE=!1;
Blockly.FieldLabel.prototype.configure_=function(a){Blockly.FieldLabel.superClass_.configure_.call(this,a);this.class_=a["class"]};Blockly.FieldLabel.prototype.initView=function(){this.createTextElement_();this.class_&&Blockly.utils.dom.addClass(this.textElement_,this.class_)};Blockly.FieldLabel.prototype.doClassValidation_=function(a){return null===a||void 0===a?null:String(a)};
Blockly.FieldLabel.prototype.setClass=function(a){this.textElement_&&(this.class_&&Blockly.utils.dom.removeClass(this.textElement_,this.class_),a&&Blockly.utils.dom.addClass(this.textElement_,a));this.class_=a};Blockly.fieldRegistry.register("field_label",Blockly.FieldLabel);Blockly.Input=function(a,b,c,d){if(a!=Blockly.DUMMY_INPUT&&!b)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=b;this.sourceBlock_=c;this.connection=d;this.fieldRow=[]};Blockly.Input.prototype.align=Blockly.ALIGN_LEFT;Blockly.Input.prototype.visible_=!0;Blockly.Input.prototype.getSourceBlock=function(){return this.sourceBlock_};Blockly.Input.prototype.appendField=function(a,b){this.insertFieldAt(this.fieldRow.length,a,b);return this};
Blockly.Input.prototype.insertFieldAt=function(a,b,c){if(0>a||a>this.fieldRow.length)throw Error("index "+a+" out of bounds.");if(!(b||""==b&&c))return a;"string"==typeof b&&(b=new Blockly.FieldLabel(b));b.setSourceBlock(this.sourceBlock_);this.sourceBlock_.rendered&&b.init();b.name=c;b.prefixField&&(a=this.insertFieldAt(a,b.prefixField));this.fieldRow.splice(a,0,b);++a;b.suffixField&&(a=this.insertFieldAt(a,b.suffixField));this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours());
return a};Blockly.Input.prototype.removeField=function(a){for(var b=0,c;c=this.fieldRow[b];b++)if(c.name===a){c.dispose();this.fieldRow.splice(b,1);this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours());return}throw Error('Field "%s" not found.',a);};Blockly.Input.prototype.isVisible=function(){return this.visible_};
Blockly.Input.prototype.setVisible=function(a){var b=[];if(this.visible_==a)return b;for(var c=(this.visible_=a)?"block":"none",d=0,e;e=this.fieldRow[d];d++)e.setVisible(a);this.connection&&(a?b=this.connection.startTrackingAll():this.connection.stopTrackingAll(),d=this.connection.targetBlock())&&(d.getSvgRoot().style.display=c,a||(d.rendered=!1));return b};Blockly.Input.prototype.markDirty=function(){for(var a=0,b;b=this.fieldRow[a];a++)b.markDirty()};
Blockly.Input.prototype.setCheck=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.setCheck(a);return this};Blockly.Input.prototype.setAlign=function(a){this.align=a;this.sourceBlock_.rendered&&this.sourceBlock_.render();return this};Blockly.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var a=0;a<this.fieldRow.length;a++)this.fieldRow[a].init()};
Blockly.Input.prototype.dispose=function(){for(var a=0,b;b=this.fieldRow[a];a++)b.dispose();this.connection&&this.connection.dispose();this.sourceBlock_=null};Blockly.Block=function(a,b,c){if(Blockly.Generator&&"undefined"!=typeof Blockly.Generator.prototype[b])throw Error('Block prototypeName "'+b+'" conflicts with Blockly.Generator members.');this.id=c&&!a.getBlockById(c)?c:Blockly.utils.genUid();a.setBlockById(this.id,this);this.previousConnection=this.nextConnection=this.outputConnection=null;this.inputList=[];this.inputsInline=void 0;this.disabled=!1;this.tooltip="";this.contextMenu=!0;this.parentBlock_=null;this.childBlocks_=[];this.editable_=this.movable_=
this.deletable_=!0;this.collapsed_=this.isShadow_=!1;this.comment=this.outputShape_=null;this.commentModel={text:null,pinned:!1,size:new Blockly.utils.Size(160,80)};this.xy_=new Blockly.utils.Coordinate(0,0);this.workspace=a;this.isInFlyout=a.isFlyout;this.isInMutator=a.isMutator;this.RTL=a.RTL;this.isInsertionMarker_=!1;this.hat=void 0;this.statementInputCount=0;if(b){this.type=b;c=Blockly.Blocks[b];if(!c||"object"!=typeof c)throw TypeError("Unknown block type: "+b);Blockly.utils.object.mixin(this,
c)}a.addTopBlock(this);a.addTypedBlock(this);"function"==typeof this.init&&this.init();this.inputsInlineDefault=this.inputsInline;if(Blockly.Events.isEnabled()){(a=Blockly.Events.getGroup())||Blockly.Events.setGroup(!0);try{Blockly.Events.fire(new Blockly.Events.BlockCreate(this))}finally{a||Blockly.Events.setGroup(!1)}}"function"==typeof this.onchange&&this.setOnChange(this.onchange)};Blockly.Block.prototype.data=null;Blockly.Block.prototype.disposed=!1;Blockly.Block.prototype.hue_=null;
Blockly.Block.prototype.colour_="#000000";Blockly.Block.prototype.styleName_=null;
Blockly.Block.prototype.dispose=function(a){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_);this.unplug(a);Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockDelete(this));Blockly.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null);Blockly.selected==this&&(Blockly.selected=null);for(var b=this.childBlocks_.length-
1;0<=b;b--)this.childBlocks_[b].dispose(!1);b=0;for(var c;c=this.inputList[b];b++)c.dispose();this.inputList.length=0;var d=this.getConnections_(!0);b=0;for(var e;e=d[b];b++)e.dispose()}finally{Blockly.Events.enable(),this.disposed=!0}}};Blockly.Block.prototype.initModel=function(){for(var a=0,b;b=this.inputList[a];a++)for(var c=0,d;d=b.fieldRow[c];c++)d.initModel&&d.initModel()};Blockly.Block.prototype.unplug=function(a){this.outputConnection?this.unplugFromRow_(a):this.previousConnection&&this.unplugFromStack_(a)};
Blockly.Block.prototype.unplugFromRow_=function(a){var b=null;this.outputConnection.isConnected()&&(b=this.outputConnection.targetConnection,this.outputConnection.disconnect());if(b&&a&&(a=this.getOnlyValueConnection_())&&a.isConnected()&&!a.targetBlock().isShadow())if(a=a.targetConnection,a.disconnect(),a.checkType(b))b.connect(a);else a.onFailedConnect(b)};
Blockly.Block.prototype.getOnlyValueConnection_=function(){for(var a=null,b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;if(c&&c.type==Blockly.INPUT_VALUE&&c.targetConnection){if(a)return null;a=c}}return a};
Blockly.Block.prototype.unplugFromStack_=function(a){var b=null;this.previousConnection.isConnected()&&(b=this.previousConnection.targetConnection,this.previousConnection.disconnect());var c=this.getNextBlock();a&&c&&!c.isShadow()&&(a=this.nextConnection.targetConnection,a.disconnect(),b&&b.checkType(a)&&b.connect(a))};
Blockly.Block.prototype.getConnections_=function(a){a=[];this.outputConnection&&a.push(this.outputConnection);this.previousConnection&&a.push(this.previousConnection);this.nextConnection&&a.push(this.nextConnection);for(var b=0,c;c=this.inputList[b];b++)c.connection&&a.push(c.connection);return a};Blockly.Block.prototype.lastConnectionInStack=function(){for(var a=this.nextConnection;a;){var b=a.targetBlock();if(!b)return a;a=b.nextConnection}return null};Blockly.Block.prototype.bumpNeighbours=function(){console.warn("Not expected to reach Block.bumpNeighbours function. BlockSvg.bumpNeighbours was expected to be called instead.")};
Blockly.Block.prototype.getParent=function(){return this.parentBlock_};Blockly.Block.prototype.getInputWithBlock=function(a){for(var b=0,c;c=this.inputList[b];b++)if(c.connection&&c.connection.targetBlock()==a)return c;return null};Blockly.Block.prototype.getSurroundParent=function(){var a=this;do{var b=a;a=a.getParent();if(!a)return null}while(a.getNextBlock()==b);return a};Blockly.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()};
Blockly.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()};Blockly.Block.prototype.getFirstStatementConnection=function(){for(var a=0,b;b=this.inputList[a];a++)if(b.connection&&b.connection.type==Blockly.NEXT_STATEMENT)return b.connection;return null};Blockly.Block.prototype.getRootBlock=function(){var a=this;do{var b=a;a=b.parentBlock_}while(a);return b};
Blockly.Block.prototype.getTopStackBlock=function(){var a=this;do var b=a.getPreviousBlock();while(b&&b.getNextBlock()==a&&(a=b));return a};Blockly.Block.prototype.getChildren=function(a){if(!a)return this.childBlocks_;a=[];for(var b=0,c;c=this.inputList[b];b++)c.connection&&(c=c.connection.targetBlock())&&a.push(c);(b=this.getNextBlock())&&a.push(b);return a};
Blockly.Block.prototype.setParent=function(a){if(a!=this.parentBlock_){if(this.parentBlock_){Blockly.utils.arrayRemove(this.parentBlock_.childBlocks_,this);if(this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=a)?a.childBlocks_.push(this):this.workspace.addTopBlock(this)}};
Blockly.Block.prototype.getDescendants=function(a){for(var b=[this],c=this.getChildren(a),d,e=0;d=c[e];e++)b.push.apply(b,d.getDescendants(a));return b};Blockly.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)};Blockly.Block.prototype.setDeletable=function(a){this.deletable_=a};Blockly.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)};
Blockly.Block.prototype.setMovable=function(a){this.movable_=a};Blockly.Block.prototype.isDuplicatable=function(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(Blockly.utils.getBlockTypeCounts(this,!0)):!0};Blockly.Block.prototype.isShadow=function(){return this.isShadow_};Blockly.Block.prototype.setShadow=function(a){this.isShadow_=a};Blockly.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_};
Blockly.Block.prototype.setInsertionMarker=function(a){this.isInsertionMarker_=a};Blockly.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)};Blockly.Block.prototype.setEditable=function(a){this.editable_=a;a=0;for(var b;b=this.inputList[a];a++)for(var c=0,d;d=b.fieldRow[c];c++)d.updateEditable()};Blockly.Block.prototype.isDisposed=function(){return this.disposed};
Blockly.Block.prototype.getMatchingConnection=function(a,b){var c=this.getConnections_(!0);a=a.getConnections_(!0);if(c.length!=a.length)throw Error("Connection lists did not match in length.");for(var d=0;d<a.length;d++)if(a[d]==b)return c[d];return null};Blockly.Block.prototype.setHelpUrl=function(a){this.helpUrl=a};Blockly.Block.prototype.setTooltip=function(a){this.tooltip=a};Blockly.Block.prototype.getColour=function(){return this.colour_};Blockly.Block.prototype.getStyleName=function(){return this.styleName_};
Blockly.Block.prototype.getHue=function(){return this.hue_};Blockly.Block.prototype.setColour=function(a){a=Blockly.utils.parseBlockColour(a);this.hue_=a.hue;this.colour_=a.hex};Blockly.Block.prototype.setStyle=function(a){this.styleName_=a};Blockly.Block.prototype.setOnChange=function(a){if(a&&"function"!=typeof a)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_);if(this.onchange=a)this.onchangeWrapper_=a.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_)};
Blockly.Block.prototype.getField=function(a){for(var b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)if(e.name==a)return e;return null};Blockly.Block.prototype.getVars=function(){for(var a=[],b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)e.referencesVariables()&&a.push(e.getValue());return a};
Blockly.Block.prototype.getVarModels=function(){for(var a=[],b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)e.referencesVariables()&&(e=this.workspace.getVariableById(e.getValue()))&&a.push(e);return a};Blockly.Block.prototype.updateVarName=function(a){for(var b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)e.referencesVariables()&&a.getId()==e.getValue()&&e.refreshVariableName()};
Blockly.Block.prototype.renameVarById=function(a,b){for(var c=0,d;d=this.inputList[c];c++)for(var e=0,f;f=d.fieldRow[e];e++)f.referencesVariables()&&a==f.getValue()&&f.setValue(b)};Blockly.Block.prototype.getFieldValue=function(a){return(a=this.getField(a))?a.getValue():null};Blockly.Block.prototype.setFieldValue=function(a,b){var c=this.getField(b);if(!c)throw Error('Field "'+b+'" not found.');c.setValue(a)};
Blockly.Block.prototype.setPreviousStatement=function(a,b){if(a){void 0===b&&(b=null);if(!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(Blockly.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(b)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose();
this.previousConnection=null}};Blockly.Block.prototype.setNextStatement=function(a,b){if(a)void 0===b&&(b=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Blockly.NEXT_STATEMENT)),this.nextConnection.setCheck(b);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose();this.nextConnection=null}};
Blockly.Block.prototype.setOutput=function(a,b){if(a){void 0===b&&(b=null);if(!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(Blockly.OUTPUT_VALUE)}this.outputConnection.setCheck(b)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose();this.outputConnection=
null}};Blockly.Block.prototype.setInputsInline=function(a){this.inputsInline!=a&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"inline",null,this.inputsInline,a)),this.inputsInline=a)};
Blockly.Block.prototype.getInputsInline=function(){if(void 0!=this.inputsInline)return this.inputsInline;for(var a=1;a<this.inputList.length;a++)if(this.inputList[a-1].type==Blockly.DUMMY_INPUT&&this.inputList[a].type==Blockly.DUMMY_INPUT)return!1;for(a=1;a<this.inputList.length;a++)if(this.inputList[a-1].type==Blockly.INPUT_VALUE&&this.inputList[a].type==Blockly.DUMMY_INPUT)return!0;return!1};Blockly.Block.prototype.setOutputShape=function(a){this.outputShape_=a};
Blockly.Block.prototype.getOutputShape=function(){return this.outputShape_};Blockly.Block.prototype.setDisabled=function(a){console.warn("Deprecated call to Blockly.Block.prototype.setDisabled, use Blockly.Block.prototype.setEnabled instead.");this.setEnabled(!a)};Blockly.Block.prototype.isEnabled=function(){return!this.disabled};
Blockly.Block.prototype.setEnabled=function(a){this.isEnabled()!=a&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};Blockly.Block.prototype.getInheritedDisabled=function(){for(var a=this.getSurroundParent();a;){if(a.disabled)return!0;a=a.getSurroundParent()}return!1};Blockly.Block.prototype.isCollapsed=function(){return this.collapsed_};
Blockly.Block.prototype.setCollapsed=function(a){this.collapsed_!=a&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"collapsed",null,this.collapsed_,a)),this.collapsed_=a)};
Blockly.Block.prototype.toString=function(a,b){var c=[],d=b||"?";if(this.collapsed_)c.push(this.getInput("_TEMP_COLLAPSED_INPUT").fieldRow[0].getText());else for(var e=0,f;f=this.inputList[e];e++){for(var g=0,h;h=f.fieldRow[g];g++)c.push(h.getText());f.connection&&((f=f.connection.targetBlock())?c.push(f.toString(void 0,b)):c.push(d))}c=c.join(" ").trim()||"???";a&&c.length>a&&(c=c.substring(0,a-3)+"...");return c};
Blockly.Block.prototype.appendValueInput=function(a){return this.appendInput_(Blockly.INPUT_VALUE,a)};Blockly.Block.prototype.appendStatementInput=function(a){return this.appendInput_(Blockly.NEXT_STATEMENT,a)};Blockly.Block.prototype.appendDummyInput=function(a){return this.appendInput_(Blockly.DUMMY_INPUT,a||"")};
Blockly.Block.prototype.jsonInit=function(a){var b=a.type?'Block "'+a.type+'": ':"";if(a.output&&a.previousStatement)throw Error(b+"Must not have both an output and a previousStatement.");a.style&&a.style.hat&&(this.hat=a.style.hat,a.style=null);if(a.style&&a.colour)throw Error(b+"Must not have both a colour and a style.");a.style?this.jsonInitStyle_(a,b):this.jsonInitColour_(a,b);for(var c=0;void 0!==a["message"+c];)this.interpolate_(a["message"+c],a["args"+c]||[],a["lastDummyAlign"+c],b),c++;void 0!==
a.inputsInline&&this.setInputsInline(a.inputsInline);void 0!==a.output&&this.setOutput(!0,a.output);void 0!==a.outputShape&&this.setOutputShape(a.outputShape);void 0!==a.previousStatement&&this.setPreviousStatement(!0,a.previousStatement);void 0!==a.nextStatement&&this.setNextStatement(!0,a.nextStatement);void 0!==a.tooltip&&(c=a.tooltip,c=Blockly.utils.replaceMessageReferences(c),this.setTooltip(c));void 0!==a.enableContextMenu&&(c=a.enableContextMenu,this.contextMenu=!!c);void 0!==a.helpUrl&&(c=
a.helpUrl,c=Blockly.utils.replaceMessageReferences(c),this.setHelpUrl(c));"string"==typeof a.extensions&&(console.warn(b+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+a.type+"' block."),a.extensions=[a.extensions]);void 0!==a.mutator&&Blockly.Extensions.apply(a.mutator,this,!0);if(Array.isArray(a.extensions))for(a=a.extensions,b=0;b<a.length;++b)Blockly.Extensions.apply(a[b],this,!1)};
Blockly.Block.prototype.jsonInitColour_=function(a,b){if("colour"in a)if(void 0===a.colour)console.warn(b+"Undefined colour value.");else{a=a.colour;try{this.setColour(a)}catch(c){console.warn(b+"Illegal colour value: ",a)}}};Blockly.Block.prototype.jsonInitStyle_=function(a,b){a=a.style;try{this.setStyle(a)}catch(c){console.warn(b+"Style does not exist: ",a)}};
Blockly.Block.prototype.mixin=function(a,b){if(void 0!==b&&"boolean"!=typeof b)throw Error("opt_disableCheck must be a boolean if provided");if(!b){b=[];for(var c in a)void 0!==this[c]&&b.push(c);if(b.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(b));}Blockly.utils.object.mixin(this,a)};
Blockly.Block.prototype.interpolate_=function(a,b,c,d){var e=Blockly.utils.tokenizeInterpolation(a),f=[],g=0;a=[];for(var h=0;h<e.length;h++){var k=e[h];if("number"==typeof k){if(0>=k||k>b.length)throw Error('Block "'+this.type+'": Message index %'+k+" out of range.");if(f[k])throw Error('Block "'+this.type+'": Message index %'+k+" duplicated.");f[k]=!0;g++;a.push(b[k-1])}else(k=k.trim())&&a.push(k)}if(g!=b.length)throw Error('Block "'+this.type+'": Message does not reference all '+b.length+" arg(s).");
a.length&&("string"==typeof a[a.length-1]||Blockly.utils.string.startsWith(a[a.length-1].type,"field_"))&&(h={type:"input_dummy"},c&&(h.align=c),a.push(h));c={LEFT:Blockly.ALIGN_LEFT,RIGHT:Blockly.ALIGN_RIGHT,CENTRE:Blockly.ALIGN_CENTRE,CENTER:Blockly.ALIGN_CENTRE};b=[];for(h=0;h<a.length;h++)if(f=a[h],"string"==typeof f)b.push([f,void 0]);else{e=g=null;do if(k=!1,"string"==typeof f)g=new Blockly.FieldLabel(f);else switch(f.type){case "input_value":e=this.appendValueInput(f.name);break;case "input_statement":e=
this.appendStatementInput(f.name);break;case "input_dummy":e=this.appendDummyInput(f.name);break;default:g=Blockly.fieldRegistry.fromJson(f),!g&&f.alt&&(f=f.alt,k=!0)}while(k);if(g)b.push([g,f.name]);else if(e){f.check&&e.setCheck(f.check);f.align&&(g=c[f.align.toUpperCase()],void 0===g?console.warn(d+"Illegal align value: ",f.align):e.setAlign(g));for(f=0;f<b.length;f++)e.appendField(b[f][0],b[f][1]);b.length=0}}};
Blockly.Block.prototype.appendInput_=function(a,b){var c=null;if(a==Blockly.INPUT_VALUE||a==Blockly.NEXT_STATEMENT)c=this.makeConnection_(a);a==Blockly.NEXT_STATEMENT&&this.statementInputCount++;a=new Blockly.Input(a,b,this,c);this.inputList.push(a);return a};
Blockly.Block.prototype.moveInputBefore=function(a,b){if(a!=b){for(var c=-1,d=b?-1:this.inputList.length,e=0,f;f=this.inputList[e];e++)if(f.name==a){if(c=e,-1!=d)break}else if(b&&f.name==b&&(d=e,-1!=c))break;if(-1==c)throw Error('Named input "'+a+'" not found.');if(-1==d)throw Error('Reference input "'+b+'" not found.');this.moveNumberedInputBefore(c,d)}};
Blockly.Block.prototype.moveNumberedInputBefore=function(a,b){if(a==b)throw Error("Can't move input to itself.");if(a>=this.inputList.length)throw RangeError("Input index "+a+" out of bounds.");if(b>this.inputList.length)throw RangeError("Reference input "+b+" out of bounds.");var c=this.inputList[a];this.inputList.splice(a,1);a<b&&b--;this.inputList.splice(b,0,c)};
Blockly.Block.prototype.removeInput=function(a,b){for(var c=0,d;d=this.inputList[c];c++)if(d.name==a){d.type==Blockly.NEXT_STATEMENT&&this.statementInputCount--;d.dispose();this.inputList.splice(c,1);return}if(!b)throw Error("Input not found: "+a);};Blockly.Block.prototype.getInput=function(a){for(var b=0,c;c=this.inputList[b];b++)if(c.name==a)return c;return null};Blockly.Block.prototype.getInputTargetBlock=function(a){return(a=this.getInput(a))&&a.connection&&a.connection.targetBlock()};
Blockly.Block.prototype.getCommentText=function(){return this.commentModel.text};Blockly.Block.prototype.setCommentText=function(a){this.commentModel.text!=a&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"comment",null,this.commentModel.text,a)),this.comment=this.commentModel.text=a)};Blockly.Block.prototype.setWarningText=function(a,b){};Blockly.Block.prototype.setMutator=function(a){};Blockly.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_};
Blockly.Block.prototype.moveBy=function(a,b){if(this.parentBlock_)throw Error("Block has parent.");var c=new Blockly.Events.BlockMove(this);this.xy_.translate(a,b);c.recordNew();Blockly.Events.fire(c)};Blockly.Block.prototype.makeConnection_=function(a){return new Blockly.Connection(this,a)};
Blockly.Block.prototype.allInputsFilled=function(a){void 0===a&&(a=!0);if(!a&&this.isShadow())return!1;for(var b=0,c;c=this.inputList[b];b++)if(c.connection&&(c=c.connection.targetBlock(),!c||!c.allInputsFilled(a)))return!1;return(b=this.getNextBlock())?b.allInputsFilled(a):!0};Blockly.Block.prototype.toDevString=function(){var a=this.type?'"'+this.type+'" block':"Block";this.id&&(a+=' (id="'+this.id+'")');return a};Blockly.blockRendering={};Blockly.blockRendering.IPathObject=function(a,b){};Blockly.utils.aria={};Blockly.utils.aria.ARIA_PREFIX_="aria-";Blockly.utils.aria.ROLE_ATTRIBUTE_="role";Blockly.utils.aria.Role={GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"};
Blockly.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"};Blockly.utils.aria.setRole=function(a,b){a.setAttribute(Blockly.utils.aria.ROLE_ATTRIBUTE_,b)};
Blockly.utils.aria.setState=function(a,b,c){Array.isArray(c)&&(c=c.join(" "));a.setAttribute(Blockly.utils.aria.ARIA_PREFIX_+b,c)};Blockly.Menu=function(){Blockly.Component.call(this);this.openingCoords=null;this.highlightedIndex_=-1;this.onKeyDownWrapper_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=null};Blockly.utils.object.inherits(Blockly.Menu,Blockly.Component);
Blockly.Menu.prototype.createDom=function(){var a=document.createElement("div");a.id=this.getId();this.setElementInternal(a);a.className="goog-menu goog-menu-vertical blocklyNonSelectable";a.tabIndex=0;Blockly.utils.aria.setRole(a,this.roleName_||Blockly.utils.aria.Role.MENU)};Blockly.Menu.prototype.focus=function(){var a=this.getElement();a&&(a.focus({preventScroll:!0}),Blockly.utils.dom.addClass(a,"focused"))};
Blockly.Menu.prototype.blur=function(){var a=this.getElement();a&&(a.blur(),Blockly.utils.dom.removeClass(a,"focused"))};Blockly.Menu.prototype.setRole=function(a){this.roleName_=a};Blockly.Menu.prototype.enterDocument=function(){Blockly.Menu.superClass_.enterDocument.call(this);this.forEachChild(function(a){a.isInDocument()&&this.registerChildId_(a)},this);this.attachEvents_()};Blockly.Menu.prototype.exitDocument=function(){this.setHighlightedIndex(-1);Blockly.Menu.superClass_.exitDocument.call(this)};
Blockly.Menu.prototype.disposeInternal=function(){Blockly.Menu.superClass_.disposeInternal.call(this);this.detachEvents_()};
Blockly.Menu.prototype.attachEvents_=function(){var a=this.getElement();this.mouseOverHandler_=Blockly.bindEventWithChecks_(a,"mouseover",this,this.handleMouseOver_,!0);this.clickHandler_=Blockly.bindEventWithChecks_(a,"click",this,this.handleClick_,!0);this.mouseEnterHandler_=Blockly.bindEventWithChecks_(a,"mouseenter",this,this.handleMouseEnter_,!0);this.mouseLeaveHandler_=Blockly.bindEventWithChecks_(a,"mouseleave",this,this.handleMouseLeave_,!0);this.onKeyDownWrapper_=Blockly.bindEventWithChecks_(a,
"keydown",this,this.handleKeyEvent)};
Blockly.Menu.prototype.detachEvents_=function(){this.mouseOverHandler_&&(Blockly.unbindEvent_(this.mouseOverHandler_),this.mouseOverHandler_=null);this.clickHandler_&&(Blockly.unbindEvent_(this.clickHandler_),this.clickHandler_=null);this.mouseEnterHandler_&&(Blockly.unbindEvent_(this.mouseEnterHandler_),this.mouseEnterHandler_=null);this.mouseLeaveHandler_&&(Blockly.unbindEvent_(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null);this.onKeyDownWrapper_&&(Blockly.unbindEvent_(this.onKeyDownWrapper_),this.onKeyDownWrapper_=
null)};Blockly.Menu.prototype.childElementIdMap_=null;Blockly.Menu.prototype.registerChildId_=function(a){var b=a.getElement();b=b.id||(b.id=a.getId());this.childElementIdMap_||(this.childElementIdMap_={});this.childElementIdMap_[b]=a};Blockly.Menu.prototype.getMenuItem=function(a){if(this.childElementIdMap_)for(var b=this.getElement();a&&a!==b;){var c=a.id;if(c in this.childElementIdMap_)return this.childElementIdMap_[c];a=a.parentNode}return null};
Blockly.Menu.prototype.unhighlightCurrent=function(){var a=this.getHighlighted();a&&a.setHighlighted(!1)};Blockly.Menu.prototype.clearHighlighted=function(){this.unhighlightCurrent();this.setHighlightedIndex(-1)};Blockly.Menu.prototype.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)};
Blockly.Menu.prototype.setHighlightedIndex=function(a){var b=this.getChildAt(a);b?(b.setHighlighted(!0),this.highlightedIndex_=a):-1<this.highlightedIndex_&&(this.getHighlighted().setHighlighted(!1),this.highlightedIndex_=-1);b&&Blockly.utils.style.scrollIntoContainerView(b.getElement(),this.getElement())};Blockly.Menu.prototype.setHighlighted=function(a){this.setHighlightedIndex(this.indexOfChild(a))};
Blockly.Menu.prototype.highlightNext=function(){this.unhighlightCurrent();this.highlightHelper(function(a,b){return(a+1)%b},this.highlightedIndex_)};Blockly.Menu.prototype.highlightPrevious=function(){this.unhighlightCurrent();this.highlightHelper(function(a,b){a--;return 0>a?b-1:a},this.highlightedIndex_)};
Blockly.Menu.prototype.highlightHelper=function(a,b){b=0>b?-1:b;var c=this.getChildCount();b=a.call(this,b,c);for(var d=0;d<=c;){var e=this.getChildAt(b);if(e&&this.canHighlightItem(e))return this.setHighlightedIndex(b),!0;d++;b=a.call(this,b,c)}return!1};Blockly.Menu.prototype.canHighlightItem=function(a){return a.isEnabled()};
Blockly.Menu.prototype.handleMouseOver_=function(a){if(a=this.getMenuItem(a.target))a.isEnabled()?this.getHighlighted()!==a&&(this.unhighlightCurrent(),this.setHighlighted(a)):this.unhighlightCurrent()};Blockly.Menu.prototype.handleClick_=function(a){var b=this.openingCoords;this.openingCoords=null;if(b&&"number"===typeof a.clientX){var c=new Blockly.utils.Coordinate(a.clientX,a.clientY);if(1>Blockly.utils.Coordinate.distance(b,c))return}(b=this.getMenuItem(a.target))&&b.handleClick(a)&&a.preventDefault()};
Blockly.Menu.prototype.handleMouseEnter_=function(a){this.focus()};Blockly.Menu.prototype.handleMouseLeave_=function(a){this.getElement()&&(this.blur(),this.clearHighlighted())};Blockly.Menu.prototype.handleKeyEvent=function(a){return 0!=this.getChildCount()&&this.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!0):!1};
Blockly.Menu.prototype.handleKeyEventInternal=function(a){var b=this.getHighlighted();if(b&&"function"==typeof b.handleKeyEvent&&b.handleKeyEvent(a))return!0;if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!1;switch(a.keyCode){case Blockly.utils.KeyCodes.ENTER:b&&b.performActionInternal(a);break;case Blockly.utils.KeyCodes.UP:this.highlightPrevious();break;case Blockly.utils.KeyCodes.DOWN:this.highlightNext();break;default:return!1}return!0};Blockly.MenuItem=function(a,b){Blockly.Component.call(this);this.setContentInternal(a);this.setValue(b);this.enabled_=!0};Blockly.utils.object.inherits(Blockly.MenuItem,Blockly.Component);
Blockly.MenuItem.prototype.createDom=function(){var a=document.createElement("div");a.id=this.getId();this.setElementInternal(a);a.className="goog-menuitem goog-option "+(this.enabled_?"":"goog-menuitem-disabled ")+(this.checked_?"goog-option-selected ":"")+(this.rightToLeft_?"goog-menuitem-rtl ":"");var b=this.getContentWrapperDom();a.appendChild(b);var c=this.getCheckboxDom();c&&b.appendChild(c);b.appendChild(this.getContentDom());Blockly.utils.aria.setRole(a,this.roleName_||(this.checkable_?Blockly.utils.aria.Role.MENUITEMCHECKBOX:
Blockly.utils.aria.Role.MENUITEM));Blockly.utils.aria.setState(a,Blockly.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1)};Blockly.MenuItem.prototype.getCheckboxDom=function(){if(!this.checkable_)return null;var a=document.createElement("div");a.className="goog-menuitem-checkbox";return a};Blockly.MenuItem.prototype.getContentDom=function(){var a=this.content_;"string"===typeof a&&(a=document.createTextNode(a));return a};
Blockly.MenuItem.prototype.getContentWrapperDom=function(){var a=document.createElement("div");a.className="goog-menuitem-content";return a};Blockly.MenuItem.prototype.setContentInternal=function(a){this.content_=a};Blockly.MenuItem.prototype.setValue=function(a){this.value_=a};Blockly.MenuItem.prototype.getValue=function(){return this.value_};Blockly.MenuItem.prototype.setRole=function(a){this.roleName_=a};Blockly.MenuItem.prototype.setCheckable=function(a){this.checkable_=a};
Blockly.MenuItem.prototype.setChecked=function(a){if(this.checkable_){this.checked_=a;var b=this.getElement();b&&this.isEnabled()&&(a?(Blockly.utils.dom.addClass(b,"goog-option-selected"),Blockly.utils.aria.setState(b,Blockly.utils.aria.State.SELECTED,!0)):(Blockly.utils.dom.removeClass(b,"goog-option-selected"),Blockly.utils.aria.setState(b,Blockly.utils.aria.State.SELECTED,!1)))}};
Blockly.MenuItem.prototype.setHighlighted=function(a){this.highlight_=a;var b=this.getElement();b&&this.isEnabled()&&(a?Blockly.utils.dom.addClass(b,"goog-menuitem-highlight"):Blockly.utils.dom.removeClass(b,"goog-menuitem-highlight"))};Blockly.MenuItem.prototype.isEnabled=function(){return this.enabled_};Blockly.MenuItem.prototype.setEnabled=function(a){this.enabled_=a;(a=this.getElement())&&(this.enabled_?Blockly.utils.dom.removeClass(a,"goog-menuitem-disabled"):Blockly.utils.dom.addClass(a,"goog-menuitem-disabled"))};
Blockly.MenuItem.prototype.handleClick=function(a){this.isEnabled()&&(this.setHighlighted(!0),this.performActionInternal())};Blockly.MenuItem.prototype.performActionInternal=function(){this.checkable_&&this.setChecked(!this.checked_);this.actionHandler_&&this.actionHandler_.call(this.actionHandlerObj_,this)};Blockly.MenuItem.prototype.onAction=function(a,b){this.actionHandler_=a;this.actionHandlerObj_=b};Blockly.utils.uiMenu={};Blockly.utils.uiMenu.getSize=function(a){a=a.getElement();var b=Blockly.utils.style.getSize(a);b.height=a.scrollHeight;return b};Blockly.utils.uiMenu.adjustBBoxesForRTL=function(a,b,c){b.left+=c.width;b.right+=c.width;a.left+=c.width;a.right+=c.width};Blockly.ContextMenu={};Blockly.ContextMenu.currentBlock=null;Blockly.ContextMenu.eventWrapper_=null;Blockly.ContextMenu.show=function(a,b,c){Blockly.WidgetDiv.show(Blockly.ContextMenu,c,null);if(b.length){var d=Blockly.ContextMenu.populate_(b,c);Blockly.ContextMenu.position_(d,a,c);setTimeout(function(){d.getElement().focus()},1);Blockly.ContextMenu.currentBlock=null}else Blockly.ContextMenu.hide()};
Blockly.ContextMenu.populate_=function(a,b){var c=new Blockly.Menu;c.setRightToLeft(b);for(var d=0,e;e=a[d];d++){var f=new Blockly.MenuItem(e.text);f.setRightToLeft(b);c.addChild(f,!0);f.setEnabled(e.enabled);if(e.enabled)f.onAction(function(){Blockly.ContextMenu.hide();this.callback()},e)}return c};
Blockly.ContextMenu.position_=function(a,b,c){var d=Blockly.utils.getViewportBBox();b={top:b.clientY+d.top,bottom:b.clientY+d.top,left:b.clientX+d.left,right:b.clientX+d.left};Blockly.ContextMenu.createWidget_(a);var e=Blockly.utils.uiMenu.getSize(a);c&&Blockly.utils.uiMenu.adjustBBoxesForRTL(d,b,e);Blockly.WidgetDiv.positionWithAnchor(d,b,e,c);a.getElement().focus()};
Blockly.ContextMenu.createWidget_=function(a){a.render(Blockly.WidgetDiv.DIV);var b=a.getElement();Blockly.utils.dom.addClass(b,"blocklyContextMenu");Blockly.bindEventWithChecks_(b,"contextmenu",null,Blockly.utils.noEvent);a.focus()};Blockly.ContextMenu.hide=function(){Blockly.WidgetDiv.hideIfOwner(Blockly.ContextMenu);Blockly.ContextMenu.currentBlock=null;Blockly.ContextMenu.eventWrapper_&&(Blockly.unbindEvent_(Blockly.ContextMenu.eventWrapper_),Blockly.ContextMenu.eventWrapper_=null)};
Blockly.ContextMenu.callbackFactory=function(a,b){return function(){Blockly.Events.disable();try{var c=Blockly.Xml.domToBlock(b,a.workspace),d=a.getRelativeToSurfaceXY();d.x=a.RTL?d.x-Blockly.SNAP_RADIUS:d.x+Blockly.SNAP_RADIUS;d.y+=2*Blockly.SNAP_RADIUS;c.moveBy(d.x,d.y)}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&!c.isShadow()&&Blockly.Events.fire(new Blockly.Events.BlockCreate(c));c.select()}};
Blockly.ContextMenu.blockDeleteOption=function(a){var b=a.getDescendants(!1).length,c=a.getNextBlock();c&&(b-=c.getDescendants(!1).length);return{text:1==b?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(b)),enabled:!0,callback:function(){Blockly.Events.setGroup(!0);a.dispose(!0,!0);Blockly.Events.setGroup(!1)}}};Blockly.ContextMenu.blockHelpOption=function(a){return{enabled:!("function"==typeof a.helpUrl?!a.helpUrl():!a.helpUrl),text:Blockly.Msg.HELP,callback:function(){a.showHelp()}}};
Blockly.ContextMenu.blockDuplicateOption=function(a){var b=a.isDuplicatable();return{text:Blockly.Msg.DUPLICATE_BLOCK,enabled:b,callback:function(){Blockly.duplicate(a)}}};Blockly.ContextMenu.blockCommentOption=function(a){var b={enabled:!Blockly.utils.userAgent.IE};a.getCommentIcon()?(b.text=Blockly.Msg.REMOVE_COMMENT,b.callback=function(){a.setCommentText(null)}):(b.text=Blockly.Msg.ADD_COMMENT,b.callback=function(){a.setCommentText("")});return b};
Blockly.ContextMenu.commentDeleteOption=function(a){return{text:Blockly.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){Blockly.Events.setGroup(!0);a.dispose(!0,!0);Blockly.Events.setGroup(!1)}}};Blockly.ContextMenu.commentDuplicateOption=function(a){return{text:Blockly.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){Blockly.duplicate(a)}}};
Blockly.ContextMenu.workspaceCommentOption=function(a,b){if(!Blockly.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var c={enabled:!Blockly.utils.userAgent.IE};c.text=Blockly.Msg.ADD_COMMENT;c.callback=function(){var c=new Blockly.WorkspaceCommentSvg(a,Blockly.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,Blockly.WorkspaceCommentSvg.DEFAULT_SIZE,Blockly.WorkspaceCommentSvg.DEFAULT_SIZE),e=a.getInjectionDiv().getBoundingClientRect();e=new Blockly.utils.Coordinate(b.clientX-
e.left,b.clientY-e.top);var f=a.getOriginOffsetInPixels();e=Blockly.utils.Coordinate.difference(e,f);e.scale(1/a.scale);c.moveBy(e.x,e.y);a.rendered&&(c.initSvg(),c.render(),c.select())};return c};Blockly.RenderedConnection=function(a,b){Blockly.RenderedConnection.superClass_.constructor.call(this,a,b);this.db_=a.workspace.connectionDBList[b];this.dbOpposite_=a.workspace.connectionDBList[Blockly.OPPOSITE_TYPE[b]];this.offsetInBlock_=new Blockly.utils.Coordinate(0,0);this.trackedState_=Blockly.RenderedConnection.TrackedState.WILL_TRACK};Blockly.utils.object.inherits(Blockly.RenderedConnection,Blockly.Connection);Blockly.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1};
Blockly.RenderedConnection.prototype.dispose=function(){Blockly.RenderedConnection.superClass_.dispose.call(this);this.trackedState_==Blockly.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)};Blockly.RenderedConnection.prototype.getSourceBlock=function(){return Blockly.RenderedConnection.superClass_.getSourceBlock.call(this)};Blockly.RenderedConnection.prototype.targetBlock=function(){return Blockly.RenderedConnection.superClass_.targetBlock.call(this)};
Blockly.RenderedConnection.prototype.distanceFrom=function(a){var b=this.x-a.x;a=this.y-a.y;return Math.sqrt(b*b+a*a)};
Blockly.RenderedConnection.prototype.bumpAwayFrom=function(a){if(!this.sourceBlock_.workspace.isDragging()){var b=this.sourceBlock_.getRootBlock();if(!b.isInFlyout){var c=!1;if(!b.isMovable()){b=a.getSourceBlock().getRootBlock();if(!b.isMovable())return;a=this;c=!0}var d=Blockly.selected==b;d||b.addSelect();var e=a.x+Blockly.SNAP_RADIUS+Math.floor(Math.random()*Blockly.BUMP_RANDOMNESS)-this.x,f=a.y+Blockly.SNAP_RADIUS+Math.floor(Math.random()*Blockly.BUMP_RANDOMNESS)-this.y;c&&(f=-f);b.RTL&&(e=a.x-
Blockly.SNAP_RADIUS-Math.floor(Math.random()*Blockly.BUMP_RANDOMNESS)-this.x);b.moveBy(e,f);d||b.removeSelect()}}};
Blockly.RenderedConnection.prototype.moveTo=function(a,b){this.trackedState_==Blockly.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,b),this.trackedState_=Blockly.RenderedConnection.TrackedState.TRACKED):this.trackedState_==Blockly.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,b));this.x=a;this.y=b};Blockly.RenderedConnection.prototype.moveBy=function(a,b){this.moveTo(this.x+a,this.y+b)};
Blockly.RenderedConnection.prototype.moveToOffset=function(a){this.moveTo(a.x+this.offsetInBlock_.x,a.y+this.offsetInBlock_.y)};Blockly.RenderedConnection.prototype.setOffsetInBlock=function(a,b){this.offsetInBlock_.x=a;this.offsetInBlock_.y=b};Blockly.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_};
Blockly.RenderedConnection.prototype.tighten=function(){var a=this.targetConnection.x-this.x,b=this.targetConnection.y-this.y;if(0!=a||0!=b){var c=this.targetBlock(),d=c.getSvgRoot();if(!d)throw Error("block is not rendered.");d=Blockly.utils.getRelativeXY(d);c.getSvgRoot().setAttribute("transform","translate("+(d.x-a)+","+(d.y-b)+")");c.moveConnections(-a,-b)}};Blockly.RenderedConnection.prototype.closest=function(a,b){return this.dbOpposite_.searchForClosest(this,a,b)};
Blockly.RenderedConnection.prototype.highlight=function(){var a=this.sourceBlock_.workspace.getRenderer().getConstants();var b=a.shapeFor(this);this.type==Blockly.INPUT_VALUE||this.type==Blockly.OUTPUT_VALUE?(a=a.TAB_OFFSET_FROM_TOP,b=Blockly.utils.svgPaths.moveBy(0,-a)+Blockly.utils.svgPaths.lineOnAxis("v",a)+b.pathDown+Blockly.utils.svgPaths.lineOnAxis("v",a)):(a=a.NOTCH_OFFSET_LEFT-a.CORNER_RADIUS,b=Blockly.utils.svgPaths.moveBy(-a,0)+Blockly.utils.svgPaths.lineOnAxis("h",a)+b.pathLeft+Blockly.utils.svgPaths.lineOnAxis("h",
a));a=this.sourceBlock_.getRelativeToSurfaceXY();Blockly.Connection.highlightedPath_=Blockly.utils.dom.createSvgElement("path",{"class":"blocklyHighlightedConnectionPath",d:b,transform:"translate("+(this.x-a.x)+","+(this.y-a.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())};Blockly.RenderedConnection.prototype.unhighlight=function(){Blockly.utils.dom.removeNode(Blockly.Connection.highlightedPath_);delete Blockly.Connection.highlightedPath_};
Blockly.RenderedConnection.prototype.setTracking=function(a){a&&this.trackedState_==Blockly.RenderedConnection.TrackedState.TRACKED||!a&&this.trackedState_==Blockly.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(a?(this.db_.addConnection(this,this.y),this.trackedState_=Blockly.RenderedConnection.TrackedState.TRACKED):(this.trackedState_==Blockly.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=Blockly.RenderedConnection.TrackedState.UNTRACKED))};
Blockly.RenderedConnection.prototype.stopTrackingAll=function(){this.setTracking(!1);if(this.targetConnection)for(var a=this.targetBlock().getDescendants(!1),b=0;b<a.length;b++){for(var c=a[b],d=c.getConnections_(!0),e=0;e<d.length;e++)d[e].setTracking(!1);c=c.getIcons();for(e=0;e<c.length;e++)c[e].setVisible(!1)}};
Blockly.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var a=[];if(this.type!=Blockly.INPUT_VALUE&&this.type!=Blockly.NEXT_STATEMENT)return a;var b=this.targetBlock();if(b){if(b.isCollapsed()){var c=[];b.outputConnection&&c.push(b.outputConnection);b.nextConnection&&c.push(b.nextConnection);b.previousConnection&&c.push(b.previousConnection)}else c=b.getConnections_(!0);for(var d=0;d<c.length;d++)a.push.apply(a,c[d].startTrackingAll());a.length||(a[0]=b)}return a};
Blockly.RenderedConnection.prototype.isConnectionAllowed=function(a,b){return this.distanceFrom(a)>b?!1:Blockly.RenderedConnection.superClass_.isConnectionAllowed.call(this,a)};Blockly.RenderedConnection.prototype.onFailedConnect=function(a){this.bumpAwayFrom(a)};Blockly.RenderedConnection.prototype.disconnectInternal_=function(a,b){Blockly.RenderedConnection.superClass_.disconnectInternal_.call(this,a,b);a.rendered&&a.render();b.rendered&&(b.updateDisabled(),b.render())};
Blockly.RenderedConnection.prototype.respawnShadow_=function(){var a=this.getSourceBlock(),b=this.getShadowDom();if(a.workspace&&b&&Blockly.Events.recordUndo){Blockly.RenderedConnection.superClass_.respawnShadow_.call(this);b=this.targetBlock();if(!b)throw Error("Couldn't respawn the shadow block that should exist here.");b.initSvg();b.render(!1);a.rendered&&a.render()}};Blockly.RenderedConnection.prototype.neighbours=function(a){return this.dbOpposite_.getNeighbours(this,a)};
Blockly.RenderedConnection.prototype.connect_=function(a){Blockly.RenderedConnection.superClass_.connect_.call(this,a);var b=this.getSourceBlock();a=a.getSourceBlock();b.rendered&&b.updateDisabled();a.rendered&&a.updateDisabled();b.rendered&&a.rendered&&(this.type==Blockly.NEXT_STATEMENT||this.type==Blockly.PREVIOUS_STATEMENT?a.render():b.render())};
Blockly.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.checkType(this.targetConnection)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())};Blockly.Marker=function(){this.drawer_=this.curNode_=this.colour=null;this.type="marker"};Blockly.Marker.prototype.setDrawer=function(a){this.drawer_=a};Blockly.Marker.prototype.getDrawer=function(){return this.drawer_};Blockly.Marker.prototype.getCurNode=function(){return this.curNode_};Blockly.Marker.prototype.setCurNode=function(a){var b=this.curNode_;this.curNode_=a;this.drawer_&&this.drawer_.draw(b,this.curNode_)};
Blockly.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)};Blockly.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()};Blockly.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()};Blockly.Cursor=function(){Blockly.Cursor.superClass_.constructor.call(this);this.type="cursor"};Blockly.utils.object.inherits(Blockly.Cursor,Blockly.Marker);Blockly.Cursor.prototype.next=function(){var a=this.getCurNode();if(!a)return null;for(a=a.next();a&&a.next()&&(a.getType()==Blockly.ASTNode.types.NEXT||a.getType()==Blockly.ASTNode.types.BLOCK);)a=a.next();a&&this.setCurNode(a);return a};
Blockly.Cursor.prototype.in=function(){var a=this.getCurNode();if(!a)return null;if(a.getType()==Blockly.ASTNode.types.PREVIOUS||a.getType()==Blockly.ASTNode.types.OUTPUT)a=a.next();(a=a.in())&&this.setCurNode(a);return a};Blockly.Cursor.prototype.prev=function(){var a=this.getCurNode();if(!a)return null;for(a=a.prev();a&&a.prev()&&(a.getType()==Blockly.ASTNode.types.NEXT||a.getType()==Blockly.ASTNode.types.BLOCK);)a=a.prev();a&&this.setCurNode(a);return a};
Blockly.Cursor.prototype.out=function(){var a=this.getCurNode();if(!a)return null;(a=a.out())&&a.getType()==Blockly.ASTNode.types.BLOCK&&(a=a.prev()||a);a&&this.setCurNode(a);return a};
Blockly.Cursor.prototype.onBlocklyAction=function(a){if(this.getCurNode()&&this.getCurNode().getType()===Blockly.ASTNode.types.FIELD&&this.getCurNode().getLocation().onBlocklyAction(a))return!0;switch(a.name){case Blockly.navigation.actionNames.PREVIOUS:return this.prev(),!0;case Blockly.navigation.actionNames.OUT:return this.out(),!0;case Blockly.navigation.actionNames.NEXT:return this.next(),!0;case Blockly.navigation.actionNames.IN:return this.in(),!0;default:return!1}};Blockly.BasicCursor=function(){Blockly.BasicCursor.superClass_.constructor.call(this)};Blockly.utils.object.inherits(Blockly.BasicCursor,Blockly.Cursor);Blockly.BasicCursor.prototype.next=function(){var a=this.getCurNode();if(!a)return null;(a=this.getNextNode_(a,this.validNode_))&&this.setCurNode(a);return a};Blockly.BasicCursor.prototype.in=function(){return this.next()};
Blockly.BasicCursor.prototype.prev=function(){var a=this.getCurNode();if(!a)return null;(a=this.getPreviousNode_(a,this.validNode_))&&this.setCurNode(a);return a};Blockly.BasicCursor.prototype.out=function(){return this.prev()};Blockly.BasicCursor.prototype.getNextNode_=function(a,b){if(!a)return null;var c=a.in()||a.next();if(b(c))return c;if(c)return this.getNextNode_(c,b);a=this.findSiblingOrParent_(a.out());return b(a)?a:a?this.getNextNode_(a,b):null};
Blockly.BasicCursor.prototype.getPreviousNode_=function(a,b){if(!a)return null;var c=a.prev();c=c?this.getRightMostChild_(c):a.out();return b(c)?c:c?this.getPreviousNode_(c,b):null};Blockly.BasicCursor.prototype.validNode_=function(a){var b=!1;a=a&&a.getType();if(a==Blockly.ASTNode.types.OUTPUT||a==Blockly.ASTNode.types.INPUT||a==Blockly.ASTNode.types.FIELD||a==Blockly.ASTNode.types.NEXT||a==Blockly.ASTNode.types.PREVIOUS||a==Blockly.ASTNode.types.WORKSPACE)b=!0;return b};
Blockly.BasicCursor.prototype.findSiblingOrParent_=function(a){if(!a)return null;var b=a.next();return b?b:this.findSiblingOrParent_(a.out())};Blockly.BasicCursor.prototype.getRightMostChild_=function(a){if(!a.in())return a;for(a=a.in();a.next();)a=a.next();return this.getRightMostChild_(a)};Blockly.TabNavigateCursor=function(){Blockly.TabNavigateCursor.superClass_.constructor.call(this)};Blockly.utils.object.inherits(Blockly.TabNavigateCursor,Blockly.BasicCursor);Blockly.TabNavigateCursor.prototype.validNode_=function(a){var b=!1,c=a&&a.getType();a&&(a=a.getLocation(),c==Blockly.ASTNode.types.FIELD&&a&&a.isTabNavigable()&&a.isClickable()&&(b=!0));return b};Blockly.utils.Rect=function(a,b,c,d){this.top=a;this.bottom=b;this.left=c;this.right=d};Blockly.utils.Rect.prototype.contains=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};Blockly.BlockSvg=function(a,b,c){this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{},null);this.svgGroup_.translate_="";this.style=a.getRenderer().getConstants().getBlockStyle(null);this.pathObject=a.getRenderer().makePathObject(this.svgGroup_,this.style);this.rendered=!1;this.workspace=a;this.previousConnection=this.nextConnection=this.outputConnection=null;this.useDragSurface_=Blockly.utils.is3dSupported()&&!!a.getBlockDragSurface();var d=this.pathObject.svgPath;d.tooltip=this;Blockly.Tooltip.bindMouseEvents(d);
Blockly.BlockSvg.superClass_.constructor.call(this,a,b,c);this.svgGroup_.dataset&&(this.svgGroup_.dataset.id=this.id)};Blockly.utils.object.inherits(Blockly.BlockSvg,Blockly.Block);Blockly.BlockSvg.prototype.height=0;Blockly.BlockSvg.prototype.width=0;Blockly.BlockSvg.prototype.dragStartXY_=null;Blockly.BlockSvg.prototype.warningTextDb_=null;Blockly.BlockSvg.INLINE=-1;Blockly.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";
Blockly.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var a=0,b;b=this.inputList[a];a++)b.init();b=this.getIcons();for(a=0;a<b.length;a++)b[a].createIcon();this.applyColour();this.pathObject.updateMovable(this.isMovable());a=this.getSvgRoot();this.workspace.options.readOnly||this.eventsInit_||!a||Blockly.bindEventWithChecks_(a,"mousedown",this,this.onMouseDown_);this.eventsInit_=!0;a.parentNode||this.workspace.getCanvas().appendChild(a)};
Blockly.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary};Blockly.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary};Blockly.BlockSvg.prototype.getColourShadow=function(){return this.getColourSecondary()};Blockly.BlockSvg.prototype.getColourBorder=function(){return{colourBorder:this.getColourTertiary(),colourLight:null,colourDark:null}};
Blockly.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(Blockly.selected!=this){var a=null;if(Blockly.selected){a=Blockly.selected.id;Blockly.Events.disable();try{Blockly.selected.unselect()}finally{Blockly.Events.enable()}}a=new Blockly.Events.Ui(null,"selected",a,this.id);a.workspaceId=this.workspace.id;Blockly.Events.fire(a);Blockly.selected=this;this.addSelect()}};
Blockly.BlockSvg.prototype.unselect=function(){if(Blockly.selected==this){var a=new Blockly.Events.Ui(null,"selected",this.id,null);a.workspaceId=this.workspace.id;Blockly.Events.fire(a);Blockly.selected=null;this.removeSelect()}};Blockly.BlockSvg.prototype.mutator=null;Blockly.BlockSvg.prototype.comment=null;Blockly.BlockSvg.prototype.commentIcon_=null;Blockly.BlockSvg.prototype.warning=null;
Blockly.BlockSvg.prototype.getIcons=function(){var a=[];this.mutator&&a.push(this.mutator);this.commentIcon_&&a.push(this.commentIcon_);this.warning&&a.push(this.warning);return a};
Blockly.BlockSvg.prototype.setParent=function(a){var b=this.parentBlock_;if(a!=b){Blockly.utils.dom.startTextWidthCache();Blockly.BlockSvg.superClass_.setParent.call(this,a);Blockly.utils.dom.stopTextWidthCache();var c=this.getSvgRoot();if(!this.workspace.isClearing&&c){var d=this.getRelativeToSurfaceXY();a?(a.getSvgRoot().appendChild(c),a=this.getRelativeToSurfaceXY(),this.moveConnections(a.x-d.x,a.y-d.y)):b&&(this.workspace.getCanvas().appendChild(c),this.translate(d.x,d.y));this.applyColour()}}};
Blockly.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var a=0,b=0,c=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,d=this.getSvgRoot();if(d){do{var e=Blockly.utils.getRelativeXY(d);a+=e.x;b+=e.y;this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()==d&&(e=this.workspace.getBlockDragSurface().getSurfaceTranslation(),a+=e.x,b+=e.y);d=d.parentNode}while(d&&d!=this.workspace.getCanvas()&&d!=c)}return new Blockly.utils.Coordinate(a,b)};
Blockly.BlockSvg.prototype.moveBy=function(a,b){if(this.parentBlock_)throw Error("Block has parent.");var c=Blockly.Events.isEnabled();if(c)var d=new Blockly.Events.BlockMove(this);var e=this.getRelativeToSurfaceXY();this.translate(e.x+a,e.y+b);this.moveConnections(a,b);c&&(d.recordNew(),Blockly.Events.fire(d));this.workspace.resizeContents()};Blockly.BlockSvg.prototype.translate=function(a,b){this.getSvgRoot().setAttribute("transform","translate("+a+","+b+")")};
Blockly.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var a=this.getRelativeToSurfaceXY();this.clearTransformAttributes_();this.workspace.getBlockDragSurface().translateSurface(a.x,a.y);(a=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(a)}};Blockly.BlockSvg.prototype.moveTo=function(a){var b=this.getRelativeToSurfaceXY();this.moveBy(a.x-b.x,a.y-b.y)};
Blockly.BlockSvg.prototype.moveOffDragSurface=function(a){this.useDragSurface_&&(this.translate(a.x,a.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))};Blockly.BlockSvg.prototype.moveDuringDrag=function(a){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(a.x,a.y):(this.svgGroup_.translate_="translate("+a.x+","+a.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))};
Blockly.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")};Blockly.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var a=this.workspace.getGrid();if(a&&a.shouldSnap()){var b=a.getSpacing(),c=b/2,d=this.getRelativeToSurfaceXY();a=Math.round((d.x-c)/b)*b+c-d.x;b=Math.round((d.y-c)/b)*b+c-d.y;a=Math.round(a);b=Math.round(b);0==a&&0==b||this.moveBy(a,b)}}};
Blockly.BlockSvg.prototype.getBoundingRectangle=function(){var a=this.getRelativeToSurfaceXY(),b=this.getHeightWidth();if(this.RTL){var c=a.x-b.width;var d=a.x}else c=a.x,d=a.x+b.width;return new Blockly.utils.Rect(a.y,a.y+b.height,c,d)};Blockly.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var a=0,b;b=this.inputList[a];a++)b.markDirty()};
Blockly.BlockSvg.prototype.setCollapsed=function(a){if(this.collapsed_!=a){for(var b=[],c=0,d;d=this.inputList[c];c++)b.push.apply(b,d.setVisible(!a));if(a){d=this.getIcons();for(c=0;c<d.length;c++)d[c].setVisible(!1);c=this.toString(Blockly.COLLAPSE_CHARS);this.appendDummyInput("_TEMP_COLLAPSED_INPUT").appendField(c).init();d=this.getDescendants(!0);if(c=this.getNextBlock())c=d.indexOf(c),d.splice(c,d.length-c);c=1;for(var e;e=d[c];c++)if(e.warning){this.setWarningText(Blockly.Msg.COLLAPSED_WARNINGS_WARNING,
Blockly.BlockSvg.COLLAPSED_WARNING_ID);break}}else this.removeInput("_TEMP_COLLAPSED_INPUT"),this.warning&&(this.warning.setText("",Blockly.BlockSvg.COLLAPSED_WARNING_ID),Object.keys(this.warning.text_).length||this.setWarningText(null));Blockly.BlockSvg.superClass_.setCollapsed.call(this,a);b.length||(b[0]=this);if(this.rendered)for(c=0;e=b[c];c++)e.render()}};
Blockly.BlockSvg.prototype.tab=function(a,b){var c=new Blockly.TabNavigateCursor;c.setCurNode(Blockly.ASTNode.createFieldNode(a));a=c.getCurNode();c.onBlocklyAction(b?Blockly.navigation.ACTION_NEXT:Blockly.navigation.ACTION_PREVIOUS);(b=c.getCurNode())&&b!==a&&(b.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(b))};
Blockly.BlockSvg.prototype.onMouseDown_=function(a){var b=this.workspace&&this.workspace.getGesture(a);b&&b.handleBlockStart(a,this)};Blockly.BlockSvg.prototype.showHelp=function(){var a="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;a&&window.open(a)};
Blockly.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var a=this,b=[];if(!this.isInFlyout){this.isDeletable()&&this.isMovable()&&b.push(Blockly.ContextMenu.blockDuplicateOption(a));this.workspace.options.comments&&!this.collapsed_&&this.isEditable()&&b.push(Blockly.ContextMenu.blockCommentOption(a));if(this.isMovable())if(this.collapsed_)this.workspace.options.collapse&&(c={enabled:!0},c.text=Blockly.Msg.EXPAND_BLOCK,c.callback=
function(){a.setCollapsed(!1)},b.push(c));else{for(var c=1;c<this.inputList.length;c++)if(this.inputList[c-1].type!=Blockly.NEXT_STATEMENT&&this.inputList[c].type!=Blockly.NEXT_STATEMENT){c={enabled:!0};var d=this.getInputsInline();c.text=d?Blockly.Msg.EXTERNAL_INPUTS:Blockly.Msg.INLINE_INPUTS;c.callback=function(){a.setInputsInline(!d)};b.push(c);break}this.workspace.options.collapse&&(c={enabled:!0},c.text=Blockly.Msg.COLLAPSE_BLOCK,c.callback=function(){a.setCollapsed(!0)},b.push(c))}this.workspace.options.disable&&
this.isEditable()&&(c={text:this.isEnabled()?Blockly.Msg.DISABLE_BLOCK:Blockly.Msg.ENABLE_BLOCK,enabled:!this.getInheritedDisabled(),callback:function(){var b=Blockly.Events.getGroup();b||Blockly.Events.setGroup(!0);a.setEnabled(!a.isEnabled());b||Blockly.Events.setGroup(!1)}},b.push(c));this.isDeletable()&&b.push(Blockly.ContextMenu.blockDeleteOption(a))}b.push(Blockly.ContextMenu.blockHelpOption(a));this.customContextMenu&&this.customContextMenu(b);return b};
Blockly.BlockSvg.prototype.showContextMenu=function(a){var b=this.generateContextMenu();b&&b.length&&(Blockly.ContextMenu.show(a,b,this.RTL),Blockly.ContextMenu.currentBlock=this)};Blockly.BlockSvg.prototype.moveConnections=function(a,b){if(this.rendered){for(var c=this.getConnections_(!1),d=0;d<c.length;d++)c[d].moveBy(a,b);c=this.getIcons();for(d=0;d<c.length;d++)c[d].computeIconLocation();for(d=0;d<this.childBlocks_.length;d++)this.childBlocks_[d].moveConnections(a,b)}};
Blockly.BlockSvg.prototype.setDragging=function(a){if(a){var b=this.getSvgRoot();b.translate_="";b.skew_="";Blockly.draggingConnections=Blockly.draggingConnections.concat(this.getConnections_(!0));Blockly.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else Blockly.draggingConnections=[],Blockly.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(b=0;b<this.childBlocks_.length;b++)this.childBlocks_[b].setDragging(a)};
Blockly.BlockSvg.prototype.setMovable=function(a){Blockly.BlockSvg.superClass_.setMovable.call(this,a);this.pathObject.updateMovable(a)};Blockly.BlockSvg.prototype.setEditable=function(a){Blockly.BlockSvg.superClass_.setEditable.call(this,a);a=this.getIcons();for(var b=0;b<a.length;b++)a[b].updateEditable()};Blockly.BlockSvg.prototype.setShadow=function(a){Blockly.BlockSvg.superClass_.setShadow.call(this,a);this.applyColour()};
Blockly.BlockSvg.prototype.setInsertionMarker=function(a){this.isInsertionMarker_!=a&&(this.isInsertionMarker_=a)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))};Blockly.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_};
Blockly.BlockSvg.prototype.dispose=function(a,b){if(this.workspace){Blockly.Tooltip.dispose();Blockly.Tooltip.unbindMouseEvents(this.pathObject.svgPath);Blockly.utils.dom.startTextWidthCache();var c=this.workspace;Blockly.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture());Blockly.ContextMenu.currentBlock==this&&Blockly.ContextMenu.hide();this.workspace.keyboardAccessibilityMode&&Blockly.navigation.moveCursorOnBlockDelete(this);b&&this.rendered&&(this.unplug(a),Blockly.blockAnimations.disposeUiEffect(this));
this.rendered=!1;if(this.warningTextDb_){for(var d in this.warningTextDb_)clearTimeout(this.warningTextDb_[d]);this.warningTextDb_=null}b=this.getIcons();for(d=0;d<b.length;d++)b[d].dispose();Blockly.BlockSvg.superClass_.dispose.call(this,!!a);Blockly.utils.dom.removeNode(this.svgGroup_);c.resizeContents();this.svgGroup_=null;Blockly.utils.dom.stopTextWidthCache()}};
Blockly.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var a=this.getIcons(),b=0;b<a.length;b++)a[b].applyColour();for(a=0;b=this.inputList[a];a++)for(var c=0,d;d=b.fieldRow[c];c++)d.applyColour()};Blockly.BlockSvg.prototype.updateDisabled=function(){var a=this.getChildren(!1);this.applyColour();for(var b=0,c;c=a[b];b++)c.updateDisabled()};Blockly.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_};
Blockly.BlockSvg.prototype.setCommentText=function(a){if(!Blockly.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=a&&(Blockly.BlockSvg.superClass_.setCommentText.call(this,a),a=null!=a,!!this.commentIcon_==a?this.commentIcon_.updateText():(a?this.comment=this.commentIcon_=new Blockly.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))};
Blockly.BlockSvg.prototype.setWarningText=function(a,b){if(!Blockly.Warning)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var c=b||"";if(c)this.warningTextDb_[c]&&(clearTimeout(this.warningTextDb_[c]),delete this.warningTextDb_[c]);else for(var d in this.warningTextDb_)clearTimeout(this.warningTextDb_[d]),delete this.warningTextDb_[d];if(this.workspace.isDragging()){var e=this;this.warningTextDb_[c]=setTimeout(function(){e.workspace&&
(delete e.warningTextDb_[c],e.setWarningText(a,c))},100)}else{this.isInFlyout&&(a=null);b=this.getSurroundParent();for(d=null;b;)b.isCollapsed()&&(d=b),b=b.getSurroundParent();d&&d.setWarningText(Blockly.Msg.COLLAPSED_WARNINGS_WARNING,Blockly.BlockSvg.COLLAPSED_WARNING_ID);b=!1;"string"==typeof a?(this.warning||(this.warning=new Blockly.Warning(this),b=!0),this.warning.setText(a,c)):this.warning&&!c?(this.warning.dispose(),b=!0):this.warning&&(b=this.warning.getText(),this.warning.setText("",c),(d=
this.warning.getText())||this.warning.dispose(),b=b!=d);b&&this.rendered&&(this.render(),this.bumpNeighbours())}};Blockly.BlockSvg.prototype.setMutator=function(a){this.mutator&&this.mutator!==a&&this.mutator.dispose();a&&(a.setBlock(this),this.mutator=a,a.createIcon());this.rendered&&(this.render(),this.bumpNeighbours())};
Blockly.BlockSvg.prototype.setDisabled=function(a){console.warn("Deprecated call to Blockly.BlockSvg.prototype.setDisabled, use Blockly.BlockSvg.prototype.setEnabled instead.");this.setEnabled(!a)};Blockly.BlockSvg.prototype.setEnabled=function(a){this.isEnabled()!=a&&(Blockly.BlockSvg.superClass_.setEnabled.call(this,a),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())};Blockly.BlockSvg.prototype.setHighlighted=function(a){this.rendered&&this.pathObject.updateHighlighted(a)};
Blockly.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)};Blockly.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)};Blockly.BlockSvg.prototype.setDeleteStyle=function(a){this.pathObject.updateDraggingDelete(a)};Blockly.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary};
Blockly.BlockSvg.prototype.setColour=function(a){Blockly.BlockSvg.superClass_.setColour.call(this,a);a=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_);this.pathObject.setStyle(a.style);this.style=a.style;this.styleName_=a.name;this.applyColour()};
Blockly.BlockSvg.prototype.setStyle=function(a){var b=this.workspace.getRenderer().getConstants().getBlockStyle(a);this.styleName_=a;if(b)this.hat=b.hat,this.pathObject.setStyle(b),this.colour_=b.colourPrimary,this.style=b,this.applyColour();else throw Error("Invalid style name: "+a);};Blockly.BlockSvg.prototype.bringToFront=function(){var a=this;do{var b=a.getSvgRoot(),c=b.parentNode,d=c.childNodes;d[d.length-1]!==b&&c.appendChild(b);a=a.getParent()}while(a)};
Blockly.BlockSvg.prototype.setPreviousStatement=function(a,b){Blockly.BlockSvg.superClass_.setPreviousStatement.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours())};Blockly.BlockSvg.prototype.setNextStatement=function(a,b){Blockly.BlockSvg.superClass_.setNextStatement.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours())};Blockly.BlockSvg.prototype.setOutput=function(a,b){Blockly.BlockSvg.superClass_.setOutput.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours())};
Blockly.BlockSvg.prototype.setInputsInline=function(a){Blockly.BlockSvg.superClass_.setInputsInline.call(this,a);this.rendered&&(this.render(),this.bumpNeighbours())};Blockly.BlockSvg.prototype.removeInput=function(a,b){Blockly.BlockSvg.superClass_.removeInput.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours())};Blockly.BlockSvg.prototype.moveNumberedInputBefore=function(a,b){Blockly.BlockSvg.superClass_.moveNumberedInputBefore.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours())};
Blockly.BlockSvg.prototype.appendInput_=function(a,b){a=Blockly.BlockSvg.superClass_.appendInput_.call(this,a,b);this.rendered&&(this.render(),this.bumpNeighbours());return a};
Blockly.BlockSvg.prototype.setConnectionTracking=function(a){this.previousConnection&&this.previousConnection.setTracking(a);this.outputConnection&&this.outputConnection.setTracking(a);if(this.nextConnection){this.nextConnection.setTracking(a);var b=this.nextConnection.targetBlock();b&&b.setConnectionTracking(a)}if(!this.collapsed_)for(b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;c&&(c.setTracking(a),(c=c.targetBlock())&&c.setConnectionTracking(a))}};
Blockly.BlockSvg.prototype.getConnections_=function(a){var b=[];if(a||this.rendered)if(this.outputConnection&&b.push(this.outputConnection),this.previousConnection&&b.push(this.previousConnection),this.nextConnection&&b.push(this.nextConnection),a||!this.collapsed_){a=0;for(var c;c=this.inputList[a];a++)c.connection&&b.push(c.connection)}return b};Blockly.BlockSvg.prototype.lastConnectionInStack=function(){return Blockly.BlockSvg.superClass_.lastConnectionInStack.call(this)};
Blockly.BlockSvg.prototype.getMatchingConnection=function(a,b){return Blockly.BlockSvg.superClass_.getMatchingConnection.call(this,a,b)};Blockly.BlockSvg.prototype.makeConnection_=function(a){return new Blockly.RenderedConnection(this,a)};
Blockly.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var a=this.getRootBlock();if(!a.isInFlyout)for(var b=this.getConnections_(!1),c=0,d;d=b[c];c++){d.isConnected()&&d.isSuperior()&&d.targetBlock().bumpNeighbours();for(var e=d.neighbours(Blockly.SNAP_RADIUS),f=0,g;g=e[f];f++)d.isConnected()&&g.isConnected()||g.getSourceBlock().getRootBlock()!=a&&(d.isSuperior()?g.bumpAwayFrom(d):d.bumpAwayFrom(g))}}};
Blockly.BlockSvg.prototype.scheduleSnapAndBump=function(){var a=this,b=Blockly.Events.getGroup();setTimeout(function(){Blockly.Events.setGroup(b);a.snapToGrid();Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY/2);setTimeout(function(){Blockly.Events.setGroup(b);a.bumpNeighbours();Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY)};Blockly.BlockSvg.prototype.positionNearConnection=function(a,b){a.type!=Blockly.NEXT_STATEMENT&&a.type!=Blockly.INPUT_VALUE||this.moveBy(b.x-a.x,b.y-a.y)};
Blockly.BlockSvg.prototype.getParent=function(){return Blockly.BlockSvg.superClass_.getParent.call(this)};Blockly.BlockSvg.prototype.getRootBlock=function(){return Blockly.BlockSvg.superClass_.getRootBlock.call(this)};
Blockly.BlockSvg.prototype.render=function(a){Blockly.utils.dom.startTextWidthCache();this.rendered=!0;this.workspace.getRenderer().render(this);this.updateConnectionLocations_();!1!==a&&((a=this.getParent())?a.render(!0):this.workspace.resizeContents());Blockly.utils.dom.stopTextWidthCache();this.updateMarkers_()};
Blockly.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw();this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(Blockly.navigation.MARKER_NAME).draw()};
Blockly.BlockSvg.prototype.updateConnectionLocations_=function(){var a=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(a);this.outputConnection&&this.outputConnection.moveToOffset(a);for(var b=0;b<this.inputList.length;b++){var c=this.inputList[b].connection;c&&(c.moveToOffset(a),c.isConnected()&&c.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(a),this.nextConnection.isConnected()&&this.nextConnection.tighten())};
Blockly.BlockSvg.prototype.setCursorSvg=function(a){this.pathObject.setCursorSvg(a)};Blockly.BlockSvg.prototype.setMarkerSvg=function(a){this.pathObject.setMarkerSvg(a)};Blockly.BlockSvg.prototype.getHeightWidth=function(){var a=this.height,b=this.width,c=this.getNextBlock();if(c){c=c.getHeightWidth();var d=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;a+=c.height-d;b=Math.max(b,c.width)}return{height:a,width:b}};Blockly.BlockSvg.prototype.fadeForReplacement=function(a){this.pathObject.updateReplacementFade(a)};
Blockly.BlockSvg.prototype.highlightShapeForInput=function(a,b){this.pathObject.updateShapeForInputHighlight(a,b)};Blockly.blockRendering.rendererMap_={};Blockly.blockRendering.useDebugger=!1;Blockly.blockRendering.register=function(a,b){if(Blockly.blockRendering.rendererMap_[a])throw Error("Renderer has already been registered.");Blockly.blockRendering.rendererMap_[a]=b};Blockly.blockRendering.unregister=function(a){Blockly.blockRendering.rendererMap_[a]?delete Blockly.blockRendering.rendererMap_[a]:console.warn('No renderer mapping for name "'+a+'" found to unregister')};
Blockly.blockRendering.startDebugger=function(){Blockly.blockRendering.useDebugger=!0};Blockly.blockRendering.stopDebugger=function(){Blockly.blockRendering.useDebugger=!1};Blockly.blockRendering.init=function(a,b,c){if(!Blockly.blockRendering.rendererMap_[a])throw Error("Renderer not registered: ",a);a=new Blockly.blockRendering.rendererMap_[a](a);a.init(b,c);return a};Blockly.ConnectionDB=function(){this.connections_=[]};Blockly.ConnectionDB.prototype.addConnection=function(a,b){b=this.calculateIndexForYPos_(b);this.connections_.splice(b,0,a)};
Blockly.ConnectionDB.prototype.findIndexOfConnection_=function(a,b){if(!this.connections_.length)return-1;var c=this.calculateIndexForYPos_(b);if(c>=this.connections_.length)return-1;b=a.y;for(var d=c;0<=d&&this.connections_[d].y==b;){if(this.connections_[d]==a)return d;d--}for(;c<this.connections_.length&&this.connections_[c].y==b;){if(this.connections_[c]==a)return c;c++}return-1};
Blockly.ConnectionDB.prototype.calculateIndexForYPos_=function(a){if(!this.connections_.length)return 0;for(var b=0,c=this.connections_.length;b<c;){var d=Math.floor((b+c)/2);if(this.connections_[d].y<a)b=d+1;else if(this.connections_[d].y>a)c=d;else{b=d;break}}return b};Blockly.ConnectionDB.prototype.removeConnection=function(a,b){a=this.findIndexOfConnection_(a,b);if(-1==a)throw Error("Unable to find connection in connectionDB.");this.connections_.splice(a,1)};
Blockly.ConnectionDB.prototype.getNeighbours=function(a,b){function c(a){var c=e-d[a].x,g=f-d[a].y;Math.sqrt(c*c+g*g)<=b&&k.push(d[a]);return g<b}var d=this.connections_,e=a.x,f=a.y;a=0;for(var g=d.length-2,h=g;a<h;)d[h].y<f?a=h:g=h,h=Math.floor((a+g)/2);var k=[];g=a=h;if(d.length){for(;0<=a&&c(a);)a--;do g++;while(g<d.length&&c(g))}return k};Blockly.ConnectionDB.prototype.isInYRange_=function(a,b,c){return Math.abs(this.connections_[a].y-b)<=c};
Blockly.ConnectionDB.prototype.searchForClosest=function(a,b,c){if(!this.connections_.length)return{connection:null,radius:b};var d=a.y,e=a.x;a.x=e+c.x;a.y=d+c.y;var f=this.calculateIndexForYPos_(a.y);c=null;for(var g=b,h,k=f-1;0<=k&&this.isInYRange_(k,a.y,b);)h=this.connections_[k],a.isConnectionAllowed(h,g)&&(c=h,g=h.distanceFrom(a)),k--;for(;f<this.connections_.length&&this.isInYRange_(f,a.y,b);)h=this.connections_[f],a.isConnectionAllowed(h,g)&&(c=h,g=h.distanceFrom(a)),f++;a.x=e;a.y=d;return{connection:c,
radius:g}};Blockly.ConnectionDB.init=function(){var a=[];a[Blockly.INPUT_VALUE]=new Blockly.ConnectionDB;a[Blockly.OUTPUT_VALUE]=new Blockly.ConnectionDB;a[Blockly.NEXT_STATEMENT]=new Blockly.ConnectionDB;a[Blockly.PREVIOUS_STATEMENT]=new Blockly.ConnectionDB;return a};Blockly.MarkerManager=function(a){this.cursorSvg_=this.cursor_=null;this.markers_={};this.workspace_=a};Blockly.MarkerManager.prototype.registerMarker=function(a,b){this.markers_[a]&&this.unregisterMarker(a);b.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,b));this.setMarkerSvg(b.getDrawer().createDom());this.markers_[a]=b};
Blockly.MarkerManager.prototype.unregisterMarker=function(a){var b=this.markers_[a];if(b)b.dispose(),delete this.markers_[a];else throw Error("Marker with id "+a+" does not exist. Can only unregistermarkers that exist.");};Blockly.MarkerManager.prototype.getCursor=function(){return this.cursor_};Blockly.MarkerManager.prototype.getMarker=function(a){return this.markers_[a]};
Blockly.MarkerManager.prototype.setCursor=function(a){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose();if(this.cursor_=a)a=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(a),this.setCursorSvg(this.cursor_.getDrawer().createDom())};Blockly.MarkerManager.prototype.setCursorSvg=function(a){a?(this.workspace_.getBlockCanvas().appendChild(a),this.cursorSvg_=a):this.cursorSvg_=null};
Blockly.MarkerManager.prototype.setMarkerSvg=function(a){a?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(a,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(a)):this.markerSvg_=null};Blockly.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()};
Blockly.MarkerManager.prototype.dispose=function(){for(var a=Object.keys(this.markers_),b=0,c;c=a[b];b++)this.unregisterMarker(c);this.markers_=null;this.cursor_.dispose();this.cursor_=null};Blockly.ThemeManager=function(a,b){this.workspace_=a;this.theme_=b;this.subscribedWorkspaces_=[];this.componentDB_=Object.create(null)};Blockly.ThemeManager.prototype.getTheme=function(){return this.theme_};
Blockly.ThemeManager.prototype.setTheme=function(a){var b=this.theme_;this.theme_=a;if(a=this.workspace_.getInjectionDiv())b&&Blockly.utils.dom.removeClass(a,b.getClassName()),Blockly.utils.dom.addClass(a,this.theme_.getClassName());for(b=0;a=this.subscribedWorkspaces_[b];b++)a.refreshTheme();b=0;a=Object.keys(this.componentDB_);for(var c;c=a[b];b++)for(var d=0,e;e=this.componentDB_[c][d];d++){var f=e.element;e=e.propertyName;var g=this.theme_&&this.theme_.getComponentStyle(c);f.style[e]=g||""}Blockly.hideChaff()};
Blockly.ThemeManager.prototype.subscribeWorkspace=function(a){this.subscribedWorkspaces_.push(a)};Blockly.ThemeManager.prototype.unsubscribeWorkspace=function(a){a=this.subscribedWorkspaces_.indexOf(a);if(0>a)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(a,1)};
Blockly.ThemeManager.prototype.subscribe=function(a,b,c){this.componentDB_[b]||(this.componentDB_[b]=[]);this.componentDB_[b].push({element:a,propertyName:c});b=this.theme_&&this.theme_.getComponentStyle(b);a.style[c]=b||""};Blockly.ThemeManager.prototype.unsubscribe=function(a){if(a)for(var b=Object.keys(this.componentDB_),c=0,d;d=b[c];c++){for(var e=this.componentDB_[d],f=e.length-1;0<=f;f--)e[f].element===a&&e.splice(f,1);this.componentDB_[d].length||delete this.componentDB_[d]}};
Blockly.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null};Blockly.TouchGesture=function(a,b){Blockly.TouchGesture.superClass_.constructor.call(this,a,b);this.isMultiTouch_=!1;this.cachedPoints_=Object.create(null);this.startDistance_=this.previousScale_=0;this.isPinchZoomEnabled_=this.onStartWrapper_=null};Blockly.utils.object.inherits(Blockly.TouchGesture,Blockly.Gesture);Blockly.TouchGesture.ZOOM_IN_MULTIPLIER=5;Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER=6;
Blockly.TouchGesture.prototype.doStart=function(a){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch;Blockly.TouchGesture.superClass_.doStart.call(this,a);!this.isEnding_&&Blockly.Touch.isTouchEvent(a)&&this.handleTouchStart(a)};
Blockly.TouchGesture.prototype.bindMouseEvents=function(a){this.onStartWrapper_=Blockly.bindEventWithChecks_(document,"mousedown",null,this.handleStart.bind(this),!0);this.onMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this),!0);this.onUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this),!0);a.preventDefault();a.stopPropagation()};
Blockly.TouchGesture.prototype.handleStart=function(a){!this.isDragging()&&Blockly.Touch.isTouchEvent(a)&&(this.handleTouchStart(a),this.isMultiTouch()&&Blockly.longStop_())};Blockly.TouchGesture.prototype.handleMove=function(a){this.isDragging()?Blockly.Touch.shouldHandleEvent(a)&&Blockly.TouchGesture.superClass_.handleMove.call(this,a):this.isMultiTouch()?(Blockly.Touch.isTouchEvent(a)&&this.handleTouchMove(a),Blockly.longStop_()):Blockly.TouchGesture.superClass_.handleMove.call(this,a)};
Blockly.TouchGesture.prototype.handleUp=function(a){Blockly.Touch.isTouchEvent(a)&&!this.isDragging()&&this.handleTouchEnd(a);!this.isMultiTouch()||this.isDragging()?Blockly.Touch.shouldHandleEvent(a)&&Blockly.TouchGesture.superClass_.handleUp.call(this,a):(a.preventDefault(),a.stopPropagation(),this.dispose())};Blockly.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_};
Blockly.TouchGesture.prototype.dispose=function(){Blockly.TouchGesture.superClass_.dispose.call(this);this.onStartWrapper_&&Blockly.unbindEvent_(this.onStartWrapper_)};Blockly.TouchGesture.prototype.handleTouchStart=function(a){var b=Blockly.Touch.getTouchIdentifierFromEvent(a);this.cachedPoints_[b]=this.getTouchPoint(a);b=Object.keys(this.cachedPoints_);2==b.length&&(this.startDistance_=Blockly.utils.Coordinate.distance(this.cachedPoints_[b[0]],this.cachedPoints_[b[1]]),this.isMultiTouch_=!0,a.preventDefault())};
Blockly.TouchGesture.prototype.handleTouchMove=function(a){var b=Blockly.Touch.getTouchIdentifierFromEvent(a);this.cachedPoints_[b]=this.getTouchPoint(a);b=Object.keys(this.cachedPoints_);this.isPinchZoomEnabled_&&2===b.length?this.handlePinch_(a):Blockly.TouchGesture.superClass_.handleMove.call(this,a)};
Blockly.TouchGesture.prototype.handlePinch_=function(a){var b=Object.keys(this.cachedPoints_);b=Blockly.utils.Coordinate.distance(this.cachedPoints_[b[0]],this.cachedPoints_[b[1]])/this.startDistance_;if(0<this.previousScale_&&Infinity>this.previousScale_){var c=b-this.previousScale_;c=0<c?c*Blockly.TouchGesture.ZOOM_IN_MULTIPLIER:c*Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER;var d=this.startWorkspace_,e=Blockly.utils.mouseToSvg(a,d.getParentSvg(),d.getInverseScreenCTM());d.zoom(e.x,e.y,c)}this.previousScale_=
b;a.preventDefault()};Blockly.TouchGesture.prototype.handleTouchEnd=function(a){a=Blockly.Touch.getTouchIdentifierFromEvent(a);this.cachedPoints_[a]&&delete this.cachedPoints_[a];2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)};Blockly.TouchGesture.prototype.getTouchPoint=function(a){return this.startWorkspace_?new Blockly.utils.Coordinate(a.pageX?a.pageX:a.changedTouches[0].pageX,a.pageY?a.pageY:a.changedTouches[0].pageY):null};Blockly.WorkspaceAudio=function(a){this.parentWorkspace_=a;this.SOUNDS_=Object.create(null)};Blockly.WorkspaceAudio.prototype.lastSound_=null;Blockly.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null};
Blockly.WorkspaceAudio.prototype.load=function(a,b){if(a.length){try{var c=new Blockly.utils.global.Audio}catch(h){return}for(var d,e=0;e<a.length;e++){var f=a[e],g=f.match(/\.(\w+)$/);if(g&&c.canPlayType("audio/"+g[1])){d=new Blockly.utils.global.Audio(f);break}}d&&d.play&&(this.SOUNDS_[b]=d)}};
Blockly.WorkspaceAudio.prototype.preload=function(){for(var a in this.SOUNDS_){var b=this.SOUNDS_[a];b.volume=.01;var c=b.play();void 0!==c?c.then(b.pause).catch(function(){}):b.pause();if(Blockly.utils.userAgent.IPAD||Blockly.utils.userAgent.IPHONE)break}};
Blockly.WorkspaceAudio.prototype.play=function(a,b){var c=this.SOUNDS_[a];c?(a=new Date,null!=this.lastSound_&&a-this.lastSound_<Blockly.SOUND_LIMIT||(this.lastSound_=a,c=Blockly.utils.userAgent.IPAD||Blockly.utils.userAgent.ANDROID?c:c.cloneNode(),c.volume=void 0===b?1:b,c.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(a,b)};Blockly.WorkspaceSvg=function(a,b,c){Blockly.WorkspaceSvg.superClass_.constructor.call(this,a);this.getMetrics=a.getMetrics||Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_;this.setMetrics=a.setMetrics||Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_;this.connectionDBList=Blockly.ConnectionDB.init();b&&(this.blockDragSurface_=b);c&&(this.workspaceDragSurface_=c);this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&Blockly.utils.is3dSupported();this.highlightedBlocks_=[];this.audioManager_=
new Blockly.WorkspaceAudio(a.parentWorkspace);this.grid_=this.options.gridPattern?new Blockly.Grid(a.gridPattern,a.gridOptions):null;this.markerManager_=new Blockly.MarkerManager(this);this.toolboxCategoryCallbacks_={};this.flyoutButtonCallbacks_={};Blockly.Variables&&Blockly.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(Blockly.VARIABLE_CATEGORY_NAME,Blockly.Variables.flyoutCategory);Blockly.VariablesDynamic&&Blockly.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME,
Blockly.VariablesDynamic.flyoutCategory);Blockly.Procedures&&Blockly.Procedures.flyoutCategory&&(this.registerToolboxCategoryCallback(Blockly.PROCEDURE_CATEGORY_NAME,Blockly.Procedures.flyoutCategory),this.addChangeListener(Blockly.Procedures.mutatorOpenListener));this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new Blockly.ThemeManager(this,this.options.theme||Blockly.Themes.Classic);this.themeManager_.subscribeWorkspace(this);this.renderer_=Blockly.blockRendering.init(this.options.renderer||
"geras",this.getTheme(),this.options.rendererOverrides);this.cachedParentSvg_=null;this.keyboardAccessibilityMode=!1};Blockly.utils.object.inherits(Blockly.WorkspaceSvg,Blockly.Workspace);Blockly.WorkspaceSvg.prototype.resizeHandlerWrapper_=null;Blockly.WorkspaceSvg.prototype.rendered=!0;Blockly.WorkspaceSvg.prototype.isVisible_=!0;Blockly.WorkspaceSvg.prototype.isFlyout=!1;Blockly.WorkspaceSvg.prototype.isMutator=!1;Blockly.WorkspaceSvg.prototype.resizesEnabled_=!0;
Blockly.WorkspaceSvg.prototype.scrollX=0;Blockly.WorkspaceSvg.prototype.scrollY=0;Blockly.WorkspaceSvg.prototype.startScrollX=0;Blockly.WorkspaceSvg.prototype.startScrollY=0;Blockly.WorkspaceSvg.prototype.dragDeltaXY_=null;Blockly.WorkspaceSvg.prototype.scale=1;Blockly.WorkspaceSvg.prototype.trashcan=null;Blockly.WorkspaceSvg.prototype.scrollbar=null;Blockly.WorkspaceSvg.prototype.flyout_=null;Blockly.WorkspaceSvg.prototype.toolbox_=null;Blockly.WorkspaceSvg.prototype.currentGesture_=null;
Blockly.WorkspaceSvg.prototype.blockDragSurface_=null;Blockly.WorkspaceSvg.prototype.workspaceDragSurface_=null;Blockly.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1;Blockly.WorkspaceSvg.prototype.isDragSurfaceActive_=!1;Blockly.WorkspaceSvg.prototype.injectionDiv_=null;Blockly.WorkspaceSvg.prototype.lastRecordedPageScroll_=null;Blockly.WorkspaceSvg.prototype.targetWorkspace=null;Blockly.WorkspaceSvg.prototype.inverseScreenCTM_=null;Blockly.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0;
Blockly.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_};Blockly.WorkspaceSvg.prototype.setCursorSvg=function(a){this.markerManager_.setCursorSvg(a)};Blockly.WorkspaceSvg.prototype.setMarkerSvg=function(a){this.markerManager_.setMarkerSvg(a)};Blockly.WorkspaceSvg.prototype.getMarker=function(a){return this.markerManager_?this.markerManager_.getMarker(a):null};
Blockly.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null};Blockly.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_};Blockly.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_};Blockly.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()};Blockly.WorkspaceSvg.prototype.setTheme=function(a){a||(a=Blockly.Themes.Classic);this.themeManager_.setTheme(a)};
Blockly.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme());this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(a){return void 0!==a.getStyleName()}));this.refreshToolboxSelection();this.toolbox_&&this.toolbox_.updateColourFromTheme();this.isVisible()&&this.setVisible(!0);var a=new Blockly.Events.Ui(null,"theme",null,null);a.workspaceId=this.id;Blockly.Events.fire(a)};
Blockly.WorkspaceSvg.prototype.updateBlockStyles_=function(a){for(var b=0,c;c=a[b];b++){var d=c.getStyleName();d&&(c.setStyle(d),c.mutator&&c.mutator.updateBlockStyle())}};Blockly.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var a=this.getParentSvg().getScreenCTM();a&&(this.inverseScreenCTM_=a.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_};
Blockly.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0};Blockly.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_};
Blockly.WorkspaceSvg.prototype.getSvgXY=function(a){var b=0,c=0,d=1;if(Blockly.utils.dom.containsNode(this.getCanvas(),a)||Blockly.utils.dom.containsNode(this.getBubbleCanvas(),a))d=this.scale;do{var e=Blockly.utils.getRelativeXY(a);if(a==this.getCanvas()||a==this.getBubbleCanvas())d=1;b+=e.x*d;c+=e.y*d;a=a.parentNode}while(a&&a!=this.getParentSvg());return new Blockly.utils.Coordinate(b,c)};Blockly.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return Blockly.utils.getInjectionDivXY_(this.getCanvas())};
Blockly.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var a=this.svgGroup_;a;){if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=a;break}a=a.parentNode}return this.injectionDiv_};Blockly.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_};Blockly.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(a){this.resizeHandlerWrapper_=a};
Blockly.WorkspaceSvg.prototype.createDom=function(a){this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{"class":"blocklyWorkspace"},null);a&&(this.svgBackground_=Blockly.utils.dom.createSvgElement("rect",{height:"100%",width:"100%","class":a},this.svgGroup_),"blocklyMainBackground"==a&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill"));this.svgBlockCanvas_=Blockly.utils.dom.createSvgElement("g",
{"class":"blocklyBlockCanvas"},this.svgGroup_);this.svgBubbleCanvas_=Blockly.utils.dom.createSvgElement("g",{"class":"blocklyBubbleCanvas"},this.svgGroup_);this.isFlyout||(Blockly.bindEventWithChecks_(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),Blockly.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.onMouseWheel_));if(this.options.hasCategories){if(!Blockly.Toolbox)throw Error("Missing require for Blockly.Toolbox");this.toolbox_=new Blockly.Toolbox(this)}this.grid_&&this.grid_.update(this.scale);
this.recordDeleteAreas();this.markerManager_.setCursor(new Blockly.Cursor);this.markerManager_.registerMarker(Blockly.navigation.MARKER_NAME,new Blockly.Marker);this.renderer_.createDom(this.svgGroup_,this.getTheme());return this.svgGroup_};
Blockly.WorkspaceSvg.prototype.dispose=function(){this.rendered=!1;this.currentGesture_&&this.currentGesture_.cancel();this.svgGroup_&&(Blockly.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null);this.svgBubbleCanvas_=this.svgBlockCanvas_=null;this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null);this.flyout_&&(this.flyout_.dispose(),this.flyout_=null);this.trashcan&&(this.trashcan.dispose(),this.trashcan=null);this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null);this.zoomControls_&&
(this.zoomControls_.dispose(),this.zoomControls_=null);this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null);this.grid_&&(this.grid_.dispose(),this.grid_=null);this.renderer_.dispose();this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null));this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null);Blockly.WorkspaceSvg.superClass_.dispose.call(this);
this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null;if(!this.options.parentWorkspace){var a=this.getParentSvg().parentNode;a&&Blockly.utils.dom.removeNode(a)}this.resizeHandlerWrapper_&&(Blockly.unbindEvent_(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)};Blockly.WorkspaceSvg.prototype.newBlock=function(a,b){return new Blockly.BlockSvg(this,a,b)};
Blockly.WorkspaceSvg.prototype.addTrashcan=function(){if(!Blockly.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new Blockly.Trashcan(this);var a=this.trashcan.createDom();this.svgGroup_.insertBefore(a,this.svgBlockCanvas_)};Blockly.WorkspaceSvg.prototype.addZoomControls=function(){if(!Blockly.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new Blockly.ZoomControls(this);var a=this.zoomControls_.createDom();this.svgGroup_.appendChild(a)};
Blockly.WorkspaceSvg.prototype.addFlyout=function(a){var b=new Blockly.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides});b.toolboxPosition=this.options.toolboxPosition;if(this.horizontalLayout){if(!Blockly.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout_=new Blockly.HorizontalFlyout(b)}else{if(!Blockly.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");
this.flyout_=new Blockly.VerticalFlyout(b)}this.flyout_.autoClose=!1;this.flyout_.getWorkspace().setVisible(!0);return this.flyout_.createDom(a)};Blockly.WorkspaceSvg.prototype.getFlyout=function(a){return this.flyout_||a?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null};Blockly.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_};Blockly.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM();this.recordDeleteAreas()};
Blockly.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())};Blockly.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position();this.flyout_&&this.flyout_.position();this.trashcan&&this.trashcan.position();this.zoomControls_&&this.zoomControls_.position();this.scrollbar&&this.scrollbar.resize();this.updateScreenCalculations_()};
Blockly.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var a=Blockly.utils.getDocumentScroll();Blockly.utils.Coordinate.equals(this.lastRecordedPageScroll_,a)||(this.lastRecordedPageScroll_=a,this.updateScreenCalculations_())};Blockly.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_};Blockly.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_};
Blockly.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var a=this.svgGroup_;a;){if("svg"==a.tagName){this.cachedParentSvg_=a;break}a=a.parentNode}return this.cachedParentSvg_};
Blockly.WorkspaceSvg.prototype.translate=function(a,b){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(a,b);else{var c="translate("+a+","+b+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",c);this.svgBubbleCanvas_.setAttribute("transform",c)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(a,b,this.scale);this.grid_&&this.grid_.moveTo(a,b)};
Blockly.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var a=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_);a="translate("+a.x+","+a.y+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",a);this.svgBubbleCanvas_.setAttribute("transform",a)}};
Blockly.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var a=this.svgBlockCanvas_.previousSibling,b=parseInt(this.getParentSvg().getAttribute("width"),10),c=parseInt(this.getParentSvg().getAttribute("height"),10),d=Blockly.utils.getRelativeXY(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),a,b,c,this.scale);this.workspaceDragSurface_.translateSurface(d.x,
d.y)}};Blockly.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_};Blockly.WorkspaceSvg.prototype.getWidth=function(){var a=this.getMetrics();return a?a.viewWidth/this.scale:0};
Blockly.WorkspaceSvg.prototype.setVisible=function(a){this.isVisible_=a;if(this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(a),this.getFlyout()&&this.getFlyout().setContainerVisible(a),this.getParentSvg().style.display=a?"block":"none",this.toolbox_&&(this.toolbox_.HtmlDiv.style.display=a?"block":"none"),a){a=this.getAllBlocks(!1);for(var b=a.length-1;0<=b;b--)a[b].markDirty();this.render();this.toolbox_&&this.toolbox_.position()}else Blockly.hideChaff(!0)};
Blockly.WorkspaceSvg.prototype.render=function(){for(var a=this.getAllBlocks(!1),b=a.length-1;0<=b;b--)a[b].render(!1);if(this.currentGesture_)for(a=this.currentGesture_.getInsertionMarkers(),b=0;b<a.length;b++)a[b].render(!1);this.markerManager_.updateMarkers()};Blockly.WorkspaceSvg.prototype.traceOn=function(){console.warn("Deprecated call to traceOn, delete this.")};
Blockly.WorkspaceSvg.prototype.highlightBlock=function(a,b){if(void 0===b){for(var c=0,d;d=this.highlightedBlocks_[c];c++)d.setHighlighted(!1);this.highlightedBlocks_.length=0}if(d=a?this.getBlockById(a):null)(a=void 0===b||b)?-1==this.highlightedBlocks_.indexOf(d)&&this.highlightedBlocks_.push(d):Blockly.utils.arrayRemove(this.highlightedBlocks_,d),d.setHighlighted(a)};
Blockly.WorkspaceSvg.prototype.paste=function(a){!this.rendered||a.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==a.tagName.toLowerCase()?this.pasteWorkspaceComment_(a):this.pasteBlock_(a))};
Blockly.WorkspaceSvg.prototype.pasteBlock_=function(a){Blockly.Events.disable();try{var b=Blockly.Xml.domToBlock(a,this),c=this.getMarker(Blockly.navigation.MARKER_NAME).getCurNode();if(this.keyboardAccessibilityMode&&c&&c.isConnection()){var d=c.getLocation();Blockly.navigation.insertBlock(b,d);return}var e=parseInt(a.getAttribute("x"),10),f=parseInt(a.getAttribute("y"),10);if(!isNaN(e)&&!isNaN(f)){this.RTL&&(e=-e);do{a=!1;var g=this.getAllBlocks(!1);c=0;for(var h;h=g[c];c++){var k=h.getRelativeToSurfaceXY();
if(1>=Math.abs(e-k.x)&&1>=Math.abs(f-k.y)){a=!0;break}}if(!a){var l=b.getConnections_(!1);c=0;for(var m;m=l[c];c++)if(m.closest(Blockly.SNAP_RADIUS,new Blockly.utils.Coordinate(e,f)).connection){a=!0;break}}a&&(e=this.RTL?e-Blockly.SNAP_RADIUS:e+Blockly.SNAP_RADIUS,f+=2*Blockly.SNAP_RADIUS)}while(a);b.moveBy(e,f)}}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&!b.isShadow()&&Blockly.Events.fire(new Blockly.Events.BlockCreate(b));b.select()};
Blockly.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(a){Blockly.Events.disable();try{var b=Blockly.WorkspaceCommentSvg.fromXml(a,this),c=parseInt(a.getAttribute("x"),10),d=parseInt(a.getAttribute("y"),10);isNaN(c)||isNaN(d)||(this.RTL&&(c=-c),b.moveBy(c+50,d+50))}finally{Blockly.Events.enable()}Blockly.Events.isEnabled();b.select()};
Blockly.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var a=this.isFlyout?this.targetWorkspace:this;a&&!a.currentGesture_&&a.toolbox_&&a.toolbox_.getFlyout()&&a.toolbox_.refreshSelection()};Blockly.WorkspaceSvg.prototype.renameVariableById=function(a,b){Blockly.WorkspaceSvg.superClass_.renameVariableById.call(this,a,b);this.refreshToolboxSelection()};Blockly.WorkspaceSvg.prototype.deleteVariableById=function(a){Blockly.WorkspaceSvg.superClass_.deleteVariableById.call(this,a);this.refreshToolboxSelection()};
Blockly.WorkspaceSvg.prototype.createVariable=function(a,b,c){a=Blockly.WorkspaceSvg.superClass_.createVariable.call(this,a,b,c);this.refreshToolboxSelection();return a};Blockly.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan&&this.svgGroup_.parentNode?this.trashcan.getClientRect():null;this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_?this.toolbox_.getClientRect():null};
Blockly.WorkspaceSvg.prototype.isDeleteArea=function(a){return this.deleteAreaTrash_&&this.deleteAreaTrash_.contains(a.clientX,a.clientY)?Blockly.DELETE_AREA_TRASH:this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(a.clientX,a.clientY)?Blockly.DELETE_AREA_TOOLBOX:Blockly.DELETE_AREA_NONE};Blockly.WorkspaceSvg.prototype.onMouseDown_=function(a){var b=this.getGesture(a);b&&b.handleWsStart(a,this)};
Blockly.WorkspaceSvg.prototype.startDrag=function(a,b){a=Blockly.utils.mouseToSvg(a,this.getParentSvg(),this.getInverseScreenCTM());a.x/=this.scale;a.y/=this.scale;this.dragDeltaXY_=Blockly.utils.Coordinate.difference(b,a)};Blockly.WorkspaceSvg.prototype.moveDrag=function(a){a=Blockly.utils.mouseToSvg(a,this.getParentSvg(),this.getInverseScreenCTM());a.x/=this.scale;a.y/=this.scale;return Blockly.utils.Coordinate.sum(this.dragDeltaXY_,a)};
Blockly.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()};Blockly.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag};
Blockly.WorkspaceSvg.prototype.isContentBounded=function(){return this.options.moveOptions&&this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.controls||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch};
Blockly.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch};
Blockly.WorkspaceSvg.prototype.onMouseWheel_=function(a){if(Blockly.Gesture.inProgress())a.preventDefault(),a.stopPropagation();else{var b=this.options.zoomOptions&&this.options.zoomOptions.wheel,c=this.options.moveOptions&&this.options.moveOptions.wheel;if(b||c){var d=Blockly.utils.getScrollDeltaPixels(a);!b||!a.ctrlKey&&c?(b=this.scrollX-d.x,c=this.scrollY-d.y,a.shiftKey&&!d.x&&(b=this.scrollX-d.y,c=this.scrollY),this.scroll(b,c)):(d=-d.y/50,b=Blockly.utils.mouseToSvg(a,this.getParentSvg(),this.getInverseScreenCTM()),
this.zoom(b.x,b.y,d));a.preventDefault()}}};Blockly.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var a=this.getTopBlocks(!1),b=this.getTopComments(!1);a=a.concat(b);if(!a.length)return new Blockly.utils.Rect(0,0,0,0);b=a[0].getBoundingRectangle();for(var c=1;c<a.length;c++){var d=a[c].getBoundingRectangle();d.top<b.top&&(b.top=d.top);d.bottom>b.bottom&&(b.bottom=d.bottom);d.left<b.left&&(b.left=d.left);d.right>b.right&&(b.right=d.right)}return b};
Blockly.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1);Blockly.Events.setGroup(!0);for(var a=this.getTopBlocks(!0),b=0,c=0,d;d=a[c];c++)if(d.isMovable()){var e=d.getRelativeToSurfaceXY();d.moveBy(-e.x,b-e.y);d.snapToGrid();b=d.getRelativeToSurfaceXY().y+d.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}Blockly.Events.setGroup(!1);this.setResizesEnabled(!0)};
Blockly.WorkspaceSvg.prototype.showContextMenu=function(a){function b(a){if(a.isDeletable())p=p.concat(a.getDescendants(!1));else{a=a.getChildren(!1);for(var c=0;c<a.length;c++)b(a[c])}}function c(){Blockly.Events.setGroup(f);var a=p.shift();a&&(a.workspace?(a.dispose(!1,!0),setTimeout(c,10)):c());Blockly.Events.setGroup(!1)}if(!this.options.readOnly&&!this.isFlyout){var d=[],e=this.getTopBlocks(!0),f=Blockly.utils.genUid(),g=this,h={};h.text=Blockly.Msg.UNDO;h.enabled=0<this.undoStack_.length;h.callback=
this.undo.bind(this,!1);d.push(h);h={};h.text=Blockly.Msg.REDO;h.enabled=0<this.redoStack_.length;h.callback=this.undo.bind(this,!0);d.push(h);this.isMovable()&&(h={},h.text=Blockly.Msg.CLEAN_UP,h.enabled=1<e.length,h.callback=this.cleanUp.bind(this),d.push(h));if(this.options.collapse){for(var k=h=!1,l=0;l<e.length;l++)for(var m=e[l];m;)m.isCollapsed()?h=!0:k=!0,m=m.getNextBlock();var n=function(a){for(var b=0,c=0;c<e.length;c++)for(var d=e[c];d;)setTimeout(d.setCollapsed.bind(d,a),b),d=d.getNextBlock(),
b+=10};k={enabled:k};k.text=Blockly.Msg.COLLAPSE_ALL;k.callback=function(){n(!0)};d.push(k);h={enabled:h};h.text=Blockly.Msg.EXPAND_ALL;h.callback=function(){n(!1)};d.push(h)}var p=[];for(l=0;l<e.length;l++)b(e[l]);h={text:1==p.length?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(p.length)),enabled:0<p.length,callback:function(){g.currentGesture_&&g.currentGesture_.cancel();2>p.length?c():Blockly.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace("%1",p.length),function(a){a&&
c()})}};d.push(h);this.configureContextMenu&&this.configureContextMenu(d,a);Blockly.ContextMenu.show(a,d,this.RTL)}};
Blockly.WorkspaceSvg.prototype.updateToolbox=function(a){if(a=Blockly.Options.parseToolboxTree(a)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(a.getElementsByTagName("category").length){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=a;this.toolbox_.renderTree(a)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=
a;this.flyout_.show(a.childNodes)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.");};Blockly.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(Blockly.mainWorkspace=this,this.setBrowserFocus())};Blockly.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(a){try{this.getParentSvg().parentNode.setActive()}catch(b){this.getParentSvg().parentNode.focus({preventScroll:!0})}}};
Blockly.WorkspaceSvg.prototype.zoom=function(a,b,c){c=Math.pow(this.options.zoomOptions.scaleSpeed,c);var d=this.scale*c;if(this.scale!=d){d>this.options.zoomOptions.maxScale?c=this.options.zoomOptions.maxScale/this.scale:d<this.options.zoomOptions.minScale&&(c=this.options.zoomOptions.minScale/this.scale);var e=this.getCanvas().getCTM(),f=this.getParentSvg().createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(1-c),b*(1-c)).scale(c);this.scrollX=e.e;this.scrollY=
e.f;this.setScale(d)}};Blockly.WorkspaceSvg.prototype.zoomCenter=function(a){var b=this.getMetrics();if(this.flyout_){var c=b.svgWidth/2;b=b.svgHeight/2}else c=b.viewWidth/2+b.absoluteLeft,b=b.viewHeight/2+b.absoluteTop;this.zoom(c,b,a)};
Blockly.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var a=this.getMetrics(),b=a.viewWidth;a=a.viewHeight;var c=this.getBlocksBoundingBox(),d=c.right-c.left;c=c.bottom-c.top;d&&(this.flyout_&&(this.horizontalLayout?(a+=this.flyout_.getHeight(),c+=this.flyout_.getHeight()/this.scale):(b+=this.flyout_.getWidth(),d+=this.flyout_.getWidth()/this.scale)),this.setScale(Math.min(b/d,a/c)),this.scrollCenter())}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")};
Blockly.WorkspaceSvg.prototype.beginCanvasTransition=function(){Blockly.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning");Blockly.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")};Blockly.WorkspaceSvg.prototype.endCanvasTransition=function(){Blockly.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning");Blockly.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")};
Blockly.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var a=this.getMetrics(),b=(a.contentWidth-a.viewWidth)/2,c=(a.contentHeight-a.viewHeight)/2;b=-b-a.contentLeft;c=-c-a.contentTop;this.scroll(b,c)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")};
Blockly.WorkspaceSvg.prototype.centerOnBlock=function(a){if(this.isMovable()){if(a=a?this.getBlockById(a):null){var b=a.getRelativeToSurfaceXY(),c=a.getHeightWidth(),d=this.scale;a=(b.x+(this.RTL?-1:1)*c.width/2)*d;b=(b.y+c.height/2)*d;c=this.getMetrics();this.scroll(-(a-c.viewWidth/2),-(b-c.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")};
Blockly.WorkspaceSvg.prototype.setScale=function(a){this.options.zoomOptions.maxScale&&a>this.options.zoomOptions.maxScale?a=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&a<this.options.zoomOptions.minScale&&(a=this.options.zoomOptions.minScale);this.scale=a;Blockly.hideChaff(!1);this.flyout_&&(this.flyout_.reflow(),this.recordDeleteAreas());this.grid_&&this.grid_.update(this.scale);a=this.getMetrics();this.scrollX-=a.absoluteLeft;this.scrollY-=a.absoluteTop;a.viewLeft+=a.absoluteLeft;
a.viewTop+=a.absoluteTop;this.scroll(this.scrollX,this.scrollY);this.scrollbar&&(this.flyout_?(this.scrollbar.hScroll.resizeViewHorizontal(a),this.scrollbar.vScroll.resizeViewVertical(a)):(this.scrollbar.hScroll.resizeContentHorizontal(a),this.scrollbar.vScroll.resizeContentVertical(a)))};Blockly.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale};
Blockly.WorkspaceSvg.prototype.scroll=function(a,b){Blockly.hideChaff(!0);var c=this.getMetrics(),d=c.contentWidth+c.contentLeft-c.viewWidth,e=c.contentHeight+c.contentTop-c.viewHeight;a=Math.min(a,-c.contentLeft);b=Math.min(b,-c.contentTop);a=Math.max(a,-d);b=Math.max(b,-e);this.scrollX=a;this.scrollY=b;this.scrollbar&&(this.scrollbar.hScroll.setHandlePosition(-(a+c.contentLeft)*this.scrollbar.hScroll.ratio_),this.scrollbar.vScroll.setHandlePosition(-(b+c.contentTop)*this.scrollbar.vScroll.ratio_));
a+=c.absoluteLeft;b+=c.absoluteTop;this.translate(a,b)};Blockly.WorkspaceSvg.getDimensionsPx_=function(a){var b=0,c=0;a&&(b=a.getWidth(),c=a.getHeight());return{width:b,height:c}};Blockly.WorkspaceSvg.getContentDimensions_=function(a,b){return a.isContentBounded()?Blockly.WorkspaceSvg.getContentDimensionsBounded_(a,b):Blockly.WorkspaceSvg.getContentDimensionsExact_(a)};
Blockly.WorkspaceSvg.getContentDimensionsExact_=function(a){var b=a.getBlocksBoundingBox(),c=a.scale;a=b.top*c;var d=b.bottom*c,e=b.left*c;b=b.right*c;return{top:a,bottom:d,left:e,right:b,width:b-e,height:d-a}};
Blockly.WorkspaceSvg.getContentDimensionsBounded_=function(a,b){a=Blockly.WorkspaceSvg.getContentDimensionsExact_(a);var c=b.width;b=b.height;var d=c/2,e=b/2,f=Math.min(a.left-d,a.right-c),g=Math.min(a.top-e,a.bottom-b);return{left:f,top:g,height:Math.max(a.bottom+e,a.top+b)-g,width:Math.max(a.right+d,a.left+c)-f}};
Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_=function(){var a=Blockly.WorkspaceSvg.getDimensionsPx_(this.toolbox_),b=Blockly.WorkspaceSvg.getDimensionsPx_(this.flyout_),c=Blockly.svgSize(this.getParentSvg()),d={height:c.height,width:c.width};if(this.toolbox_)if(this.toolboxPosition==Blockly.TOOLBOX_AT_TOP||this.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM)d.height-=a.height;else{if(this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT||this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT)d.width-=a.width}else if(this.flyout_)if(this.toolboxPosition==
Blockly.TOOLBOX_AT_TOP||this.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM)d.height-=b.height;else if(this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT||this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT)d.width-=b.width;var e=Blockly.WorkspaceSvg.getContentDimensions_(this,d),f=0;this.toolbox_&&this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT?f=a.width:this.flyout_&&this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(f=b.width);var g=0;this.toolbox_&&this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?g=a.height:this.flyout_&&
this.toolboxPosition==Blockly.TOOLBOX_AT_TOP&&(g=b.height);return{contentHeight:e.height,contentWidth:e.width,contentTop:e.top,contentLeft:e.left,viewHeight:d.height,viewWidth:d.width,viewTop:-this.scrollY,viewLeft:-this.scrollX,absoluteTop:g,absoluteLeft:f,svgHeight:c.height,svgWidth:c.width,toolboxWidth:a.width,toolboxHeight:a.height,flyoutWidth:b.width,flyoutHeight:b.height,toolboxPosition:this.toolboxPosition}};
Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(a){var b=this.getMetrics();"number"==typeof a.x&&(this.scrollX=-b.contentWidth*a.x-b.contentLeft);"number"==typeof a.y&&(this.scrollY=-b.contentHeight*a.y-b.contentTop);this.translate(this.scrollX+b.absoluteLeft,this.scrollY+b.absoluteTop)};Blockly.WorkspaceSvg.prototype.getBlockById=function(a){return Blockly.WorkspaceSvg.superClass_.getBlockById.call(this,a)};
Blockly.WorkspaceSvg.prototype.getTopBlocks=function(a){return Blockly.WorkspaceSvg.superClass_.getTopBlocks.call(this,a)};Blockly.WorkspaceSvg.prototype.setResizesEnabled=function(a){var b=!this.resizesEnabled_&&a;this.resizesEnabled_=a;b&&this.resizeContents()};Blockly.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1);Blockly.WorkspaceSvg.superClass_.clear.call(this);this.setResizesEnabled(!0)};
Blockly.WorkspaceSvg.prototype.registerButtonCallback=function(a,b){if("function"!=typeof b)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[a]=b};Blockly.WorkspaceSvg.prototype.getButtonCallback=function(a){return(a=this.flyoutButtonCallbacks_[a])?a:null};Blockly.WorkspaceSvg.prototype.removeButtonCallback=function(a){this.flyoutButtonCallbacks_[a]=null};
Blockly.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(a,b){if("function"!=typeof b)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[a]=b};Blockly.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(a){return this.toolboxCategoryCallbacks_[a]||null};Blockly.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(a){this.toolboxCategoryCallbacks_[a]=null};
Blockly.WorkspaceSvg.prototype.getGesture=function(a){var b="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,c=this.currentGesture_;return c?b&&c.hasStarted()?(console.warn("Tried to start the same gesture twice."),c.cancel(),null):c:b?this.currentGesture_=new Blockly.TouchGesture(a,this):null};Blockly.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null};Blockly.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()};
Blockly.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_};Blockly.WorkspaceSvg.prototype.getGrid=function(){return this.grid_};Blockly.inject=function(a,b){Blockly.checkBlockColourConstants();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!Blockly.utils.dom.containsNode(document,a))throw Error("Error: container is not in current document.");b=new Blockly.Options(b||{});var c=document.createElement("div");c.className="injectionDiv";c.tabIndex=0;Blockly.utils.aria.setState(c,Blockly.utils.aria.State.LABEL,Blockly.Msg.WORKSPACE_ARIA_LABEL);a.appendChild(c);a=Blockly.createDom_(c,b);var d=
new Blockly.BlockDragSurfaceSvg(c),e=new Blockly.WorkspaceDragSurfaceSvg(c),f=Blockly.createMainWorkspace_(a,b,d,e);Blockly.user.keyMap.setKeyMap(b.keyMap);Blockly.init_(f);Blockly.mainWorkspace=f;Blockly.svgResize(f);c.addEventListener("focusin",function(){Blockly.mainWorkspace=f});return f};
Blockly.createDom_=function(a,b){a.setAttribute("dir","LTR");Blockly.Component.defaultRightToLeft=b.RTL;Blockly.Css.inject(b.hasCss,b.pathToMedia);a=Blockly.utils.dom.createSvgElement("svg",{xmlns:Blockly.utils.dom.SVG_NS,"xmlns:html":Blockly.utils.dom.HTML_NS,"xmlns:xlink":Blockly.utils.dom.XLINK_NS,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var c=Blockly.utils.dom.createSvgElement("defs",{},a),d=String(Math.random()).substring(2);b.gridPattern=Blockly.Grid.createDom(d,b.gridOptions,c);
return a};
Blockly.createMainWorkspace_=function(a,b,c,d){b.parentWorkspace=null;var e=new Blockly.WorkspaceSvg(b,c,d);b=e.options;e.scale=b.zoomOptions.startScale;a.appendChild(e.createDom("blocklyMainBackground"));Blockly.utils.dom.addClass(e.getInjectionDiv(),e.getRenderer().getClassName());Blockly.utils.dom.addClass(e.getInjectionDiv(),e.getTheme().getClassName());!b.hasCategories&&b.languageTree&&(c=e.addFlyout("svg"),Blockly.utils.dom.insertAfter(c,a));b.hasTrashcan&&e.addTrashcan();b.zoomOptions&&b.zoomOptions.controls&&
e.addZoomControls();e.getThemeManager().subscribe(a,"workspaceBackgroundColour","background-color");e.translate(0,0);b.readOnly||e.isMovable()||e.addChangeListener(function(a){if(!e.isDragging()&&!e.isMovable()&&-1!=Blockly.Events.BUMP_EVENTS.indexOf(a.type)){var b=Object.create(null),c=e.getMetrics(),d=e.scale;b.RTL=e.RTL;b.viewLeft=c.viewLeft/d;b.viewTop=c.viewTop/d;b.viewRight=(c.viewLeft+c.viewWidth)/d;b.viewBottom=(c.viewTop+c.viewHeight)/d;e.isContentBounded()?(c=e.getBlocksBoundingBox(),b.contentLeft=
c.left,b.contentTop=c.top,b.contentRight=c.right,b.contentBottom=c.bottom):(b.contentLeft=c.contentLeft/d,b.contentTop=c.contentTop/d,b.contentRight=(c.contentLeft+c.contentWidth)/d,b.contentBottom=(c.contentTop+c.contentHeight)/d);if(b.contentTop<b.viewTop||b.contentBottom>b.viewBottom||b.contentLeft<b.viewLeft||b.contentRight>b.viewRight){c=null;a&&(c=Blockly.Events.getGroup(),Blockly.Events.setGroup(a.group));switch(a.type){case Blockly.Events.BLOCK_CREATE:case Blockly.Events.BLOCK_MOVE:var f=
e.getBlockById(a.blockId);f&&(f=f.getRootBlock());break;case Blockly.Events.COMMENT_CREATE:case Blockly.Events.COMMENT_MOVE:f=e.getCommentById(a.commentId)}if(f){d=f.getBoundingRectangle();d.height=d.bottom-d.top;d.width=d.right-d.left;var m=b.viewTop,n=b.viewBottom-d.height;n=Math.max(m,n);m=Blockly.utils.math.clamp(m,d.top,n)-d.top;n=b.viewLeft;var p=b.viewRight-d.width;b.RTL?n=Math.min(p,n):p=Math.max(n,p);b=Blockly.utils.math.clamp(n,d.left,p)-d.left;f.moveBy(b,m)}a&&(!a.group&&f&&console.log("WARNING: Moved object in bounds but there was no event group. This may break undo."),
null!==c&&Blockly.Events.setGroup(c))}}});Blockly.svgResize(e);Blockly.WidgetDiv.createDom();Blockly.DropDownDiv.createDom();Blockly.Tooltip.createDom();return e};
Blockly.init_=function(a){var b=a.options,c=a.getParentSvg();Blockly.bindEventWithChecks_(c.parentNode,"contextmenu",null,function(a){Blockly.utils.isTargetInput(a)||a.preventDefault()});c=Blockly.bindEventWithChecks_(window,"resize",null,function(){Blockly.hideChaff(!0);Blockly.svgResize(a)});a.setResizeHandlerWrapper(c);Blockly.inject.bindDocumentEvents_();if(b.languageTree){c=a.getToolbox();var d=a.getFlyout(!0);c?c.init():d&&(d.init(a),d.show(b.languageTree.childNodes),d.scrollToStart())}c=Blockly.Scrollbar.scrollbarThickness;
b.hasTrashcan&&(c=a.trashcan.init(c));b.zoomOptions&&b.zoomOptions.controls&&a.zoomControls_.init(c);b.moveOptions&&b.moveOptions.scrollbars?(a.scrollbar=new Blockly.ScrollbarPair(a),a.scrollbar.resize()):a.setMetrics({x:.5,y:.5});b.hasSounds&&Blockly.inject.loadSounds_(b.pathToMedia,a)};
Blockly.inject.bindDocumentEvents_=function(){Blockly.documentEventsBound_||(Blockly.bindEventWithChecks_(document,"scroll",null,function(){for(var a=Blockly.Workspace.getAll(),b=0,c;c=a[b];b++)c.updateInverseScreenCTM&&c.updateInverseScreenCTM()}),Blockly.bindEventWithChecks_(document,"keydown",null,Blockly.onKeyDown),Blockly.bindEvent_(document,"touchend",null,Blockly.longStop_),Blockly.bindEvent_(document,"touchcancel",null,Blockly.longStop_),Blockly.utils.userAgent.IPAD&&Blockly.bindEventWithChecks_(window,
"orientationchange",document,function(){Blockly.svgResize(Blockly.getMainWorkspace())}));Blockly.documentEventsBound_=!0};
Blockly.inject.loadSounds_=function(a,b){var c=b.getAudioManager();c.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");c.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");c.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var d=[];a=function(){for(;d.length;)Blockly.unbindEvent_(d.pop());c.preload()};d.push(Blockly.bindEventWithChecks_(document,"mousemove",null,a,!0));d.push(Blockly.bindEventWithChecks_(document,"touchstart",null,a,!0))};Blockly.Names=function(a,b){this.variablePrefix_=b||"";this.reservedDict_=Object.create(null);if(a)for(a=a.split(","),b=0;b<a.length;b++)this.reservedDict_[a[b]]=!0;this.reset()};Blockly.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE";Blockly.Names.prototype.reset=function(){this.db_=Object.create(null);this.dbReverse_=Object.create(null);this.variableMap_=null};Blockly.Names.prototype.setVariableMap=function(a){this.variableMap_=a};
Blockly.Names.prototype.getNameForUserVariable_=function(a){return this.variableMap_?(a=this.variableMap_.getVariableById(a))?a.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),null)};
Blockly.Names.prototype.getName=function(a,b){if(b==Blockly.VARIABLE_CATEGORY_NAME){var c=this.getNameForUserVariable_(a);c&&(a=c)}c=a.toLowerCase()+"_"+b;var d=b==Blockly.VARIABLE_CATEGORY_NAME||b==Blockly.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";if(c in this.db_)return d+this.db_[c];a=this.getDistinctName(a,b);this.db_[c]=a.substr(d.length);return a};
Blockly.Names.prototype.getDistinctName=function(a,b){a=this.safeName_(a);for(var c="";this.dbReverse_[a+c]||a+c in this.reservedDict_;)c=c?c+1:2;a+=c;this.dbReverse_[a]=!0;return(b==Blockly.VARIABLE_CATEGORY_NAME||b==Blockly.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+a};Blockly.Names.prototype.safeName_=function(a){a?(a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(a[0])&&(a="my_"+a)):a=Blockly.Msg.UNNAMED_KEY||"unnamed";return a};
Blockly.Names.equals=function(a,b){return a.toLowerCase()==b.toLowerCase()};Blockly.Procedures={};Blockly.Procedures.NAME_TYPE=Blockly.PROCEDURE_CATEGORY_NAME;Blockly.Procedures.DEFAULT_ARG="x";Blockly.Procedures.allProcedures=function(a){a=a.getAllBlocks(!1);for(var b=[],c=[],d=0;d<a.length;d++)if(a[d].getProcedureDef){var e=a[d].getProcedureDef();e&&(e[2]?b.push(e):c.push(e))}c.sort(Blockly.Procedures.procTupleComparator_);b.sort(Blockly.Procedures.procTupleComparator_);return[c,b]};Blockly.Procedures.procTupleComparator_=function(a,b){return a[0].toLowerCase().localeCompare(b[0].toLowerCase())};
Blockly.Procedures.findLegalName=function(a,b){if(b.isInFlyout)return a;for(a=a||Blockly.Msg.UNNAMED_KEY||"unnamed";!Blockly.Procedures.isLegalName_(a,b.workspace,b);){var c=a.match(/^(.*?)(\d+)$/);a=c?c[1]+(parseInt(c[2],10)+1):a+"2"}return a};Blockly.Procedures.isLegalName_=function(a,b,c){return!Blockly.Procedures.isNameUsed(a,b,c)};
Blockly.Procedures.isNameUsed=function(a,b,c){b=b.getAllBlocks(!1);for(var d=0;d<b.length;d++)if(b[d]!=c&&b[d].getProcedureDef){var e=b[d].getProcedureDef();if(Blockly.Names.equals(e[0],a))return!0}return!1};Blockly.Procedures.rename=function(a){a=a.trim();var b=Blockly.Procedures.findLegalName(a,this.getSourceBlock()),c=this.getValue();if(c!=a&&c!=b){a=this.getSourceBlock().workspace.getAllBlocks(!1);for(var d=0;d<a.length;d++)a[d].renameProcedure&&a[d].renameProcedure(c,b)}return b};
Blockly.Procedures.flyoutCategory=function(a){function b(a,b){for(var d=0;d<a.length;d++){var e=a[d][0],f=a[d][1],g=Blockly.utils.xml.createElement("block");g.setAttribute("type",b);g.setAttribute("gap",16);var n=Blockly.utils.xml.createElement("mutation");n.setAttribute("name",e);g.appendChild(n);for(e=0;e<f.length;e++){var p=Blockly.utils.xml.createElement("arg");p.setAttribute("name",f[e]);n.appendChild(p)}c.push(g)}}var c=[];if(Blockly.Blocks.procedures_defnoreturn){var d=Blockly.utils.xml.createElement("block");
d.setAttribute("type","procedures_defnoreturn");d.setAttribute("gap",16);var e=Blockly.utils.xml.createElement("field");e.setAttribute("name","NAME");e.appendChild(Blockly.utils.xml.createTextNode(Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE));d.appendChild(e);c.push(d)}Blockly.Blocks.procedures_defreturn&&(d=Blockly.utils.xml.createElement("block"),d.setAttribute("type","procedures_defreturn"),d.setAttribute("gap",16),e=Blockly.utils.xml.createElement("field"),e.setAttribute("name","NAME"),e.appendChild(Blockly.utils.xml.createTextNode(Blockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),
d.appendChild(e),c.push(d));Blockly.Blocks.procedures_ifreturn&&(d=Blockly.utils.xml.createElement("block"),d.setAttribute("type","procedures_ifreturn"),d.setAttribute("gap",16),c.push(d));c.length&&c[c.length-1].setAttribute("gap",24);a=Blockly.Procedures.allProcedures(a);b(a[0],"procedures_callnoreturn");b(a[1],"procedures_callreturn");return c};
Blockly.Procedures.updateMutatorFlyout_=function(a){for(var b=[],c=a.getBlocksByType("procedures_mutatorarg",!1),d=0,e;e=c[d];d++)b.push(e.getFieldValue("NAME"));c=Blockly.utils.xml.createElement("xml");d=Blockly.utils.xml.createElement("block");d.setAttribute("type","procedures_mutatorarg");e=Blockly.utils.xml.createElement("field");e.setAttribute("name","NAME");b=Blockly.Variables.generateUniqueNameFromOptions(Blockly.Procedures.DEFAULT_ARG,b);b=Blockly.utils.xml.createTextNode(b);e.appendChild(b);
d.appendChild(e);c.appendChild(d);a.updateToolbox(c)};Blockly.Procedures.mutatorOpenListener=function(a){if(a.type==Blockly.Events.UI&&"mutatorOpen"==a.element&&a.newValue){a=Blockly.Workspace.getById(a.workspaceId).getBlockById(a.blockId);var b=a.type;if("procedures_defnoreturn"==b||"procedures_defreturn"==b)a=a.mutator.getWorkspace(),Blockly.Procedures.updateMutatorFlyout_(a),a.addChangeListener(Blockly.Procedures.mutatorChangeListener_)}};
Blockly.Procedures.mutatorChangeListener_=function(a){if(a.type==Blockly.Events.BLOCK_CREATE||a.type==Blockly.Events.BLOCK_DELETE||a.type==Blockly.Events.BLOCK_CHANGE)a=Blockly.Workspace.getById(a.workspaceId),Blockly.Procedures.updateMutatorFlyout_(a)};Blockly.Procedures.getCallers=function(a,b){var c=[];b=b.getAllBlocks(!1);for(var d=0;d<b.length;d++)if(b[d].getProcedureCall){var e=b[d].getProcedureCall();e&&Blockly.Names.equals(e,a)&&c.push(b[d])}return c};
Blockly.Procedures.mutateCallers=function(a){var b=Blockly.Events.recordUndo,c=a.getProcedureDef()[0],d=a.mutationToDom(!0);a=Blockly.Procedures.getCallers(c,a.workspace);c=0;for(var e;e=a[c];c++){var f=e.mutationToDom();f=f&&Blockly.Xml.domToText(f);e.domToMutation(d);var g=e.mutationToDom();g=g&&Blockly.Xml.domToText(g);f!=g&&(Blockly.Events.recordUndo=!1,Blockly.Events.fire(new Blockly.Events.BlockChange(e,"mutation",null,f,g)),Blockly.Events.recordUndo=b)}};
Blockly.Procedures.getDefinition=function(a,b){b=b.getTopBlocks(!1);for(var c=0;c<b.length;c++)if(b[c].getProcedureDef){var d=b[c].getProcedureDef();if(d&&Blockly.Names.equals(d[0],a))return b[c]}return null};Blockly.VariableModel=function(a,b,c,d){this.workspace=a;this.name=b;this.type=c||"";this.id_=d||Blockly.utils.genUid();Blockly.Events.fire(new Blockly.Events.VarCreate(this))};Blockly.VariableModel.prototype.getId=function(){return this.id_};Blockly.VariableModel.compareByName=function(a,b){a=a.name.toLowerCase();b=b.name.toLowerCase();return a<b?-1:a==b?0:1};Blockly.Variables={};Blockly.Variables.NAME_TYPE=Blockly.VARIABLE_CATEGORY_NAME;Blockly.Variables.allUsedVarModels=function(a){var b=a.getAllBlocks(!1);a=Object.create(null);for(var c=0;c<b.length;c++){var d=b[c].getVarModels();if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.getId();g&&(a[g]=f)}}b=[];for(g in a)b.push(a[g]);return b};Blockly.Variables.allUsedVariables=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")};
Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={};
Blockly.Variables.allDeveloperVariables=function(a){a=a.getAllBlocks(!1);for(var b=Object.create(null),c=0,d;d=a[c];c++){var e=d.getDeveloperVariables;!e&&d.getDeveloperVars&&(e=d.getDeveloperVars,Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[d.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+d.type+"')"),Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[d.type]=!0));if(e)for(d=e(),e=0;e<d.length;e++)b[d[e]]=!0}return Object.keys(b)};
Blockly.Variables.flyoutCategory=function(a){var b=[],c=document.createElement("button");c.setAttribute("text","%{BKY_NEW_VARIABLE}");c.setAttribute("callbackKey","CREATE_VARIABLE");a.registerButtonCallback("CREATE_VARIABLE",function(a){Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace())});b.push(c);a=Blockly.Variables.flyoutCategoryBlocks(a);return b=b.concat(a)};
Blockly.Variables.flyoutCategoryBlocks=function(a){a=a.getVariablesOfType("");var b=[];if(0<a.length){var c=a[a.length-1];if(Blockly.Blocks.variables_set){var d=Blockly.utils.xml.createElement("block");d.setAttribute("type","variables_set");d.setAttribute("gap",Blockly.Blocks.math_change?8:24);d.appendChild(Blockly.Variables.generateVariableFieldDom(c));b.push(d)}Blockly.Blocks.math_change&&(d=Blockly.utils.xml.createElement("block"),d.setAttribute("type","math_change"),d.setAttribute("gap",Blockly.Blocks.variables_get?
20:8),d.appendChild(Blockly.Variables.generateVariableFieldDom(c)),c=Blockly.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),d.appendChild(c),b.push(d));if(Blockly.Blocks.variables_get){a.sort(Blockly.VariableModel.compareByName);c=0;for(var e;e=a[c];c++)d=Blockly.utils.xml.createElement("block"),d.setAttribute("type","variables_get"),d.setAttribute("gap",8),d.appendChild(Blockly.Variables.generateVariableFieldDom(e)),b.push(d)}}return b};
Blockly.Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh";Blockly.Variables.generateUniqueName=function(a){return Blockly.Variables.generateUniqueNameFromOptions(Blockly.Variables.VAR_LETTER_OPTIONS.charAt(0),a.getAllVariableNames())};
Blockly.Variables.generateUniqueNameFromOptions=function(a,b){if(!b.length)return a;for(var c=Blockly.Variables.VAR_LETTER_OPTIONS,d="",e=c.indexOf(a);;){for(var f=!1,g=0;g<b.length;g++)if(b[g].toLowerCase()==a){f=!0;break}if(!f)return a;e++;e==c.length&&(e=0,d=Number(d)+1);a=c.charAt(e)+d}};
Blockly.Variables.createVariableButtonHandler=function(a,b,c){var d=c||"",e=function(c){Blockly.Variables.promptName(Blockly.Msg.NEW_VARIABLE_TITLE,c,function(c){if(c){var f=Blockly.Variables.nameUsedWithAnyType_(c,a);if(f){if(f.type==d)var g=Blockly.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",f.name);else g=Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,g=g.replace("%1",f.name).replace("%2",f.type);Blockly.alert(g,function(){e(c)})}else a.createVariable(c,d),b&&b(c)}else b&&b(null)})};e("")};
Blockly.Variables.createVariable=Blockly.Variables.createVariableButtonHandler;
Blockly.Variables.renameVariable=function(a,b,c){var d=function(e){var f=Blockly.Msg.RENAME_VARIABLE_TITLE.replace("%1",b.name);Blockly.Variables.promptName(f,e,function(e){if(e){var f=Blockly.Variables.nameUsedWithOtherType_(e,b.type,a);f?(f=Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",f.name).replace("%2",f.type),Blockly.alert(f,function(){d(e)})):(a.renameVariableById(b.getId(),e),c&&c(e))}else c&&c(null)})};d("")};
Blockly.Variables.promptName=function(a,b,c){Blockly.prompt(a,b,function(a){a&&(a=a.replace(/[\s\xa0]+/g," ").trim(),a==Blockly.Msg.RENAME_VARIABLE||a==Blockly.Msg.NEW_VARIABLE)&&(a=null);c(a)})};Blockly.Variables.nameUsedWithOtherType_=function(a,b,c){c=c.getVariableMap().getAllVariables();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a&&e.type!=b)return e;return null};
Blockly.Variables.nameUsedWithAnyType_=function(a,b){b=b.getVariableMap().getAllVariables();a=a.toLowerCase();for(var c=0,d;d=b[c];c++)if(d.name.toLowerCase()==a)return d;return null};Blockly.Variables.generateVariableFieldDom=function(a){var b=Blockly.utils.xml.createElement("field");b.setAttribute("name","VAR");b.setAttribute("id",a.getId());b.setAttribute("variabletype",a.type);a=Blockly.utils.xml.createTextNode(a.name);b.appendChild(a);return b};
Blockly.Variables.getOrCreateVariablePackage=function(a,b,c,d){var e=Blockly.Variables.getVariable(a,b,c,d);e||(e=Blockly.Variables.createVariable_(a,b,c,d));return e};Blockly.Variables.getVariable=function(a,b,c,d){var e=a.getPotentialVariableMap(),f=null;if(b&&(f=a.getVariableById(b),!f&&e&&(f=e.getVariableById(b)),f))return f;if(c){if(void 0==d)throw Error("Tried to look up a variable by name without a type");f=a.getVariable(c,d);!f&&e&&(f=e.getVariable(c,d))}return f};
Blockly.Variables.createVariable_=function(a,b,c,d){var e=a.getPotentialVariableMap();c||(c=Blockly.Variables.generateUniqueName(a.isFlyout?a.targetWorkspace:a));return e?e.createVariable(c,d,b):a.createVariable(c,d,b)};Blockly.Variables.getAddedVariables=function(a,b){a=a.getAllVariables();var c=[];if(b.length!=a.length)for(var d=0;d<a.length;d++){var e=a[d];-1==b.indexOf(e)&&c.push(e)}return c};Blockly.WidgetDiv={};Blockly.WidgetDiv.owner_=null;Blockly.WidgetDiv.dispose_=null;Blockly.WidgetDiv.rendererClassName_="";Blockly.WidgetDiv.themeClassName_="";Blockly.WidgetDiv.createDom=function(){Blockly.WidgetDiv.DIV||(Blockly.WidgetDiv.DIV=document.createElement("div"),Blockly.WidgetDiv.DIV.className="blocklyWidgetDiv",(Blockly.parentContainer||document.body).appendChild(Blockly.WidgetDiv.DIV))};
Blockly.WidgetDiv.show=function(a,b,c){Blockly.WidgetDiv.hide();Blockly.WidgetDiv.owner_=a;Blockly.WidgetDiv.dispose_=c;a=Blockly.WidgetDiv.DIV;a.style.direction=b?"rtl":"ltr";a.style.display="block";Blockly.WidgetDiv.rendererClassName_=Blockly.getMainWorkspace().getRenderer().getClassName();Blockly.WidgetDiv.themeClassName_=Blockly.getMainWorkspace().getTheme().getClassName();Blockly.utils.dom.addClass(a,Blockly.WidgetDiv.rendererClassName_);Blockly.utils.dom.addClass(a,Blockly.WidgetDiv.themeClassName_)};
Blockly.WidgetDiv.hide=function(){if(Blockly.WidgetDiv.isVisible()){Blockly.WidgetDiv.owner_=null;var a=Blockly.WidgetDiv.DIV;a.style.display="none";a.style.left="";a.style.top="";Blockly.WidgetDiv.dispose_&&Blockly.WidgetDiv.dispose_();Blockly.WidgetDiv.dispose_=null;a.textContent="";Blockly.WidgetDiv.rendererClassName_&&(Blockly.utils.dom.removeClass(a,Blockly.WidgetDiv.rendererClassName_),Blockly.WidgetDiv.rendererClassName_="");Blockly.WidgetDiv.themeClassName_&&(Blockly.utils.dom.removeClass(a,
Blockly.WidgetDiv.themeClassName_),Blockly.WidgetDiv.themeClassName_="");Blockly.getMainWorkspace().markFocused()}};Blockly.WidgetDiv.isVisible=function(){return!!Blockly.WidgetDiv.owner_};Blockly.WidgetDiv.hideIfOwner=function(a){Blockly.WidgetDiv.owner_==a&&Blockly.WidgetDiv.hide()};Blockly.WidgetDiv.positionInternal_=function(a,b,c){Blockly.WidgetDiv.DIV.style.left=a+"px";Blockly.WidgetDiv.DIV.style.top=b+"px";Blockly.WidgetDiv.DIV.style.height=c+"px"};
Blockly.WidgetDiv.positionWithAnchor=function(a,b,c,d){var e=Blockly.WidgetDiv.calculateY_(a,b,c);a=Blockly.WidgetDiv.calculateX_(a,b,c,d);0>e?Blockly.WidgetDiv.positionInternal_(a,0,c.height+e):Blockly.WidgetDiv.positionInternal_(a,e,c.height)};Blockly.WidgetDiv.calculateX_=function(a,b,c,d){if(d)return b=Math.max(b.right-c.width,a.left),Math.min(b,a.right-c.width);b=Math.min(b.left,a.right-c.width);return Math.max(b,a.left)};
Blockly.WidgetDiv.calculateY_=function(a,b,c){return b.bottom+c.height>=a.bottom?b.top-c.height:b.bottom};Blockly.VERSION="3.20200402.1";Blockly.mainWorkspace=null;Blockly.selected=null;Blockly.draggingConnections=[];Blockly.clipboardXml_=null;Blockly.clipboardSource_=null;Blockly.clipboardTypeCounts_=null;Blockly.cache3dSupported_=null;Blockly.parentContainer=null;Blockly.svgSize=function(a){return{width:a.cachedWidth_,height:a.cachedHeight_}};Blockly.resizeSvgContents=function(a){a.resizeContents()};
Blockly.svgResize=function(a){for(;a.options.parentWorkspace;)a=a.options.parentWorkspace;var b=a.getParentSvg(),c=b.parentNode;if(c){var d=c.offsetWidth;c=c.offsetHeight;b.cachedWidth_!=d&&(b.setAttribute("width",d+"px"),b.cachedWidth_=d);b.cachedHeight_!=c&&(b.setAttribute("height",c+"px"),b.cachedHeight_=c);a.resize()}};
Blockly.onKeyDown=function(a){var b=Blockly.mainWorkspace;if(b&&!(Blockly.utils.isTargetInput(a)||b.rendered&&!b.isVisible()))if(b.options.readOnly)Blockly.navigation.onKeyPress(a);else{var c=!1;if(a.keyCode==Blockly.utils.KeyCodes.ESC)Blockly.hideChaff(),Blockly.navigation.onBlocklyAction(Blockly.navigation.ACTION_EXIT);else{if(Blockly.navigation.onKeyPress(a))return;if(a.keyCode==Blockly.utils.KeyCodes.BACKSPACE||a.keyCode==Blockly.utils.KeyCodes.DELETE){a.preventDefault();if(Blockly.Gesture.inProgress())return;
Blockly.selected&&Blockly.selected.isDeletable()&&(c=!0)}else if(a.altKey||a.ctrlKey||a.metaKey){if(Blockly.Gesture.inProgress())return;Blockly.selected&&Blockly.selected.isDeletable()&&Blockly.selected.isMovable()&&(a.keyCode==Blockly.utils.KeyCodes.C?(Blockly.hideChaff(),Blockly.copy_(Blockly.selected)):a.keyCode!=Blockly.utils.KeyCodes.X||Blockly.selected.workspace.isFlyout||(Blockly.copy_(Blockly.selected),c=!0));a.keyCode==Blockly.utils.KeyCodes.V?Blockly.clipboardXml_&&(a=Blockly.clipboardSource_,
a.isFlyout&&(a=a.targetWorkspace),Blockly.clipboardTypeCounts_&&a.isCapacityAvailable(Blockly.clipboardTypeCounts_)&&(Blockly.Events.setGroup(!0),a.paste(Blockly.clipboardXml_),Blockly.Events.setGroup(!1))):a.keyCode==Blockly.utils.KeyCodes.Z&&(Blockly.hideChaff(),b.undo(a.shiftKey))}}c&&!Blockly.selected.workspace.isFlyout&&(Blockly.Events.setGroup(!0),Blockly.hideChaff(),Blockly.selected.dispose(!0,!0),Blockly.Events.setGroup(!1))}};
Blockly.copy_=function(a){if(a.isComment)var b=a.toXmlWithXY();else{b=Blockly.Xml.blockToDom(a,!0);Blockly.Xml.deleteNext(b);var c=a.getRelativeToSurfaceXY();b.setAttribute("x",a.RTL?-c.x:c.x);b.setAttribute("y",c.y)}Blockly.clipboardXml_=b;Blockly.clipboardSource_=a.workspace;Blockly.clipboardTypeCounts_=a.isComment?null:Blockly.utils.getBlockTypeCounts(a,!0)};
Blockly.duplicate=function(a){var b=Blockly.clipboardXml_,c=Blockly.clipboardSource_;Blockly.copy_(a);a.workspace.paste(Blockly.clipboardXml_);Blockly.clipboardXml_=b;Blockly.clipboardSource_=c};Blockly.onContextMenu_=function(a){Blockly.utils.isTargetInput(a)||a.preventDefault()};
Blockly.hideChaff=function(a){Blockly.Tooltip.hide();Blockly.WidgetDiv.hide();Blockly.DropDownDiv.hideWithoutAnimation();a||(a=Blockly.getMainWorkspace(),a.trashcan&&a.trashcan.flyout&&a.trashcan.flyout.hide(),(a=a.getToolbox())&&a.getFlyout()&&a.getFlyout().autoClose&&a.clearSelection())};Blockly.getMainWorkspace=function(){return Blockly.mainWorkspace};Blockly.alert=function(a,b){alert(a);b&&b()};Blockly.confirm=function(a,b){b(confirm(a))};Blockly.prompt=function(a,b,c){c(prompt(a,b))};
Blockly.jsonInitFactory_=function(a){return function(){this.jsonInit(a)}};
Blockly.defineBlocksWithJsonArray=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(c){var d=c.type;null==d||""===d?console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping."):(Blockly.Blocks[d]&&console.warn("Block definition #"+b+' in JSON array overwrites prior definition of "'+d+'".'),Blockly.Blocks[d]={init:Blockly.jsonInitFactory_(c)})}else console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}};
Blockly.bindEventWithChecks_=function(a,b,c,d,e,f){var g=!1,h=function(a){var b=!e;a=Blockly.Touch.splitEventByTouches(a);for(var f=0,h;h=a[f];f++)if(!b||Blockly.Touch.shouldHandleEvent(h))Blockly.Touch.setClientFromTouch(h),c?d.call(c,h):d(h),g=!0},k=[];if(Blockly.utils.global.PointerEvent&&b in Blockly.Touch.TOUCH_MAP)for(var l=0,m;m=Blockly.Touch.TOUCH_MAP[b][l];l++)a.addEventListener(m,h,!1),k.push([a,m,h]);else if(a.addEventListener(b,h,!1),k.push([a,b,h]),b in Blockly.Touch.TOUCH_MAP){var n=
function(a){h(a);var b=!f;g&&b&&a.preventDefault()};for(l=0;m=Blockly.Touch.TOUCH_MAP[b][l];l++)a.addEventListener(m,n,!1),k.push([a,m,n])}return k};
Blockly.bindEvent_=function(a,b,c,d){var e=function(a){c?d.call(c,a):d(a)},f=[];if(Blockly.utils.global.PointerEvent&&b in Blockly.Touch.TOUCH_MAP)for(var g=0,h;h=Blockly.Touch.TOUCH_MAP[b][g];g++)a.addEventListener(h,e,!1),f.push([a,h,e]);else if(a.addEventListener(b,e,!1),f.push([a,b,e]),b in Blockly.Touch.TOUCH_MAP){var k=function(a){if(a.changedTouches&&1==a.changedTouches.length){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}e(a);a.preventDefault()};for(g=0;h=Blockly.Touch.TOUCH_MAP[b][g];g++)a.addEventListener(h,
k,!1),f.push([a,h,k])}return f};Blockly.unbindEvent_=function(a){for(;a.length;){var b=a.pop(),c=b[2];b[0].removeEventListener(b[1],c,!1)}return c};Blockly.isNumber=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};Blockly.hueToHex=function(a){return Blockly.utils.colour.hsvToHex(a,Blockly.HSV_SATURATION,255*Blockly.HSV_VALUE)};
Blockly.checkBlockColourConstants=function(){Blockly.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0);Blockly.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210);Blockly.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0);Blockly.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120);Blockly.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0);Blockly.checkBlockColourConstant_("MATH_HUE",["Constants","Math",
"HUE"],230);Blockly.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0);Blockly.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160);Blockly.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0);Blockly.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260);Blockly.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0);Blockly.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20);Blockly.checkBlockColourConstant_("VARIABLES_HUE",
["Blocks","variables","HUE"],void 0);Blockly.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330);Blockly.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);Blockly.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};
Blockly.checkBlockColourConstant_=function(a,b,c){for(var d="Blockly",e=Blockly,f=0;f<b.length;++f)d+="."+b[f],e&&(e=e[b[f]]);e&&e!==c&&(a=(void 0===c?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",d).replace("%2",a),console.warn(a))};Blockly.setParentContainer=function(a){Blockly.parentContainer=a};Blockly.Icon=function(a){this.block_=a};Blockly.Icon.prototype.collapseHidden=!0;Blockly.Icon.prototype.SIZE=17;Blockly.Icon.prototype.bubble_=null;Blockly.Icon.prototype.iconXY_=null;
Blockly.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=Blockly.utils.dom.createSvgElement("g",{"class":"blocklyIconGroup"},null),this.block_.isInFlyout&&Blockly.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),Blockly.bindEventWithChecks_(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())};
Blockly.Icon.prototype.dispose=function(){Blockly.utils.dom.removeNode(this.iconGroup_);this.iconGroup_=null;this.setVisible(!1);this.block_=null};Blockly.Icon.prototype.updateEditable=function(){};Blockly.Icon.prototype.isVisible=function(){return!!this.bubble_};Blockly.Icon.prototype.iconClick_=function(a){this.block_.workspace.isDragging()||this.block_.isInFlyout||Blockly.utils.isRightButton(a)||this.setVisible(!this.isVisible())};
Blockly.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)};Blockly.Icon.prototype.setIconLocation=function(a){this.iconXY_=a;this.isVisible()&&this.bubble_.setAnchorLocation(a)};
Blockly.Icon.prototype.computeIconLocation=function(){var a=this.block_.getRelativeToSurfaceXY(),b=Blockly.utils.getRelativeXY(this.iconGroup_);a=new Blockly.utils.Coordinate(a.x+b.x+this.SIZE/2,a.y+b.y+this.SIZE/2);Blockly.utils.Coordinate.equals(this.getIconLocation(),a)||this.setIconLocation(a)};Blockly.Icon.prototype.getIconLocation=function(){return this.iconXY_};
Blockly.Icon.prototype.getCorrectedSize=function(){return new Blockly.utils.Size(Blockly.Icon.prototype.SIZE,Blockly.Icon.prototype.SIZE-2)};Blockly.Warning=function(a){Blockly.Warning.superClass_.constructor.call(this,a);this.createIcon();this.text_={}};Blockly.utils.object.inherits(Blockly.Warning,Blockly.Icon);Blockly.Warning.prototype.collapseHidden=!1;
Blockly.Warning.prototype.drawIcon_=function(a){Blockly.utils.dom.createSvgElement("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},a);Blockly.utils.dom.createSvgElement("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},a);Blockly.utils.dom.createSvgElement("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},a)};
Blockly.Warning.textToDom_=function(a){var b=Blockly.utils.dom.createSvgElement("text",{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Blockly.Bubble.BORDER_WIDTH},null);a=a.split("\n");for(var c=0;c<a.length;c++){var d=Blockly.utils.dom.createSvgElement("tspan",{dy:"1em",x:Blockly.Bubble.BORDER_WIDTH},b),e=document.createTextNode(a[c]);d.appendChild(e)}return b};
Blockly.Warning.prototype.setVisible=function(a){a!=this.isVisible()&&(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"warningOpen",!a,a)),a?this.createBubble():this.disposeBubble())};
Blockly.Warning.prototype.createBubble=function(){this.paragraphElement_=Blockly.Warning.textToDom_(this.getText());this.bubble_=new Blockly.Bubble(this.block_.workspace,this.paragraphElement_,this.block_.pathObject.svgPath,this.iconXY_,null,null);this.bubble_.setSvgId(this.block_.id);if(this.block_.RTL)for(var a=this.paragraphElement_.getBBox().width,b=0,c;c=this.paragraphElement_.childNodes[b];b++)c.setAttribute("text-anchor","end"),c.setAttribute("x",a+Blockly.Bubble.BORDER_WIDTH);this.applyColour()};
Blockly.Warning.prototype.disposeBubble=function(){this.bubble_.dispose();this.paragraphElement_=this.body_=this.bubble_=null};Blockly.Warning.prototype.bodyFocus_=function(a){this.bubble_.promote()};Blockly.Warning.prototype.setText=function(a,b){this.text_[b]!=a&&(a?this.text_[b]=a:delete this.text_[b],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))};Blockly.Warning.prototype.getText=function(){var a=[],b;for(b in this.text_)a.push(this.text_[b]);return a.join("\n")};
Blockly.Warning.prototype.dispose=function(){this.block_.warning=null;Blockly.Icon.prototype.dispose.call(this)};Blockly.Comment=function(a){Blockly.Comment.superClass_.constructor.call(this,a);this.model_=a.commentModel;this.model_.text=this.model_.text||"";this.cachedText_="";this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null;this.createIcon()};Blockly.utils.object.inherits(Blockly.Comment,Blockly.Icon);
Blockly.Comment.prototype.drawIcon_=function(a){Blockly.utils.dom.createSvgElement("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},a);Blockly.utils.dom.createSvgElement("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},a);Blockly.utils.dom.createSvgElement("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},a)};
Blockly.Comment.prototype.createEditor_=function(){this.foreignObject_=Blockly.utils.dom.createSvgElement("foreignObject",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null);var a=document.createElementNS(Blockly.utils.dom.HTML_NS,"body");a.setAttribute("xmlns",Blockly.utils.dom.HTML_NS);a.className="blocklyMinimalBody";var b=this.textarea_=document.createElementNS(Blockly.utils.dom.HTML_NS,"textarea");b.className="blocklyCommentTextarea";b.setAttribute("dir",this.block_.RTL?"RTL":
"LTR");b.value=this.model_.text;this.resizeTextarea_();a.appendChild(b);this.foreignObject_.appendChild(a);this.onMouseUpWrapper_=Blockly.bindEventWithChecks_(b,"mouseup",this,this.startEdit_,!0,!0);this.onWheelWrapper_=Blockly.bindEventWithChecks_(b,"wheel",this,function(a){a.stopPropagation()});this.onChangeWrapper_=Blockly.bindEventWithChecks_(b,"change",this,function(a){this.cachedText_!=this.model_.text&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.block_,"comment",null,this.cachedText_,
this.model_.text))});this.onInputWrapper_=Blockly.bindEventWithChecks_(b,"input",this,function(a){this.model_.text=b.value});setTimeout(b.focus.bind(b),0);return this.foreignObject_};Blockly.Comment.prototype.updateEditable=function(){Blockly.Comment.superClass_.updateEditable.call(this);this.isVisible()&&(this.disposeBubble_(),this.createBubble_())};Blockly.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())};
Blockly.Comment.prototype.resizeTextarea_=function(){var a=this.model_.size,b=2*Blockly.Bubble.BORDER_WIDTH,c=a.width-b;a=a.height-b;this.foreignObject_.setAttribute("width",c);this.foreignObject_.setAttribute("height",a);this.textarea_.style.width=c-4+"px";this.textarea_.style.height=a-4+"px"};Blockly.Comment.prototype.setVisible=function(a){a!=this.isVisible()&&(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"commentOpen",!a,a)),(this.model_.pinned=a)?this.createBubble_():this.disposeBubble_())};
Blockly.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||Blockly.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()};Blockly.Comment.prototype.createEditableBubble_=function(){this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height);this.bubble_.setSvgId(this.block_.id);this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this));this.applyColour()};
Blockly.Comment.prototype.createNonEditableBubble_=function(){Blockly.Warning.prototype.createBubble.call(this)};
Blockly.Comment.prototype.disposeBubble_=function(){this.paragraphElement_?Blockly.Warning.prototype.disposeBubble.call(this):(this.onMouseUpWrapper_&&(Blockly.unbindEvent_(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&(Blockly.unbindEvent_(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&(Blockly.unbindEvent_(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&(Blockly.unbindEvent_(this.onInputWrapper_),this.onInputWrapper_=
null),this.bubble_.dispose(),this.foreignObject_=this.textarea_=this.bubble_=null)};Blockly.Comment.prototype.startEdit_=function(a){this.bubble_.promote()&&this.textarea_.focus();this.cachedText_=this.model_.text};Blockly.Comment.prototype.getBubbleSize=function(){return this.model_.size};Blockly.Comment.prototype.setBubbleSize=function(a,b){this.bubble_?this.bubble_.setBubbleSize(a,b):(this.model_.size.width=a,this.model_.size.height=b)};
Blockly.Comment.prototype.getText=function(){return this.model_.text||""};Blockly.Comment.prototype.setText=function(a){this.model_.text!=a&&(this.model_.text=a,this.updateText())};Blockly.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)};Blockly.Comment.prototype.dispose=function(){this.block_.comment=null;Blockly.Icon.prototype.dispose.call(this)};Blockly.Css.register(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,overflow: hidden;,}".split(","));Blockly.FlyoutCursor=function(){Blockly.FlyoutCursor.superClass_.constructor.call(this)};Blockly.utils.object.inherits(Blockly.FlyoutCursor,Blockly.Cursor);Blockly.FlyoutCursor.prototype.onBlocklyAction=function(a){switch(a.name){case Blockly.navigation.actionNames.PREVIOUS:return this.prev(),!0;case Blockly.navigation.actionNames.NEXT:return this.next(),!0;default:return!1}};
Blockly.FlyoutCursor.prototype.next=function(){var a=this.getCurNode();if(!a)return null;(a=a.next())&&this.setCurNode(a);return a};Blockly.FlyoutCursor.prototype.in=function(){return null};Blockly.FlyoutCursor.prototype.prev=function(){var a=this.getCurNode();if(!a)return null;(a=a.prev())&&this.setCurNode(a);return a};Blockly.FlyoutCursor.prototype.out=function(){return null};Blockly.Flyout=function(a){a.getMetrics=this.getMetrics_.bind(this);a.setMetrics=this.setMetrics_.bind(this);this.workspace_=new Blockly.WorkspaceSvg(a);this.workspace_.isFlyout=!0;this.workspace_.setVisible(this.isVisible_);this.RTL=!!a.RTL;this.toolboxPosition_=a.toolboxPosition;this.eventWrappers_=[];this.mats_=[];this.buttons_=[];this.listeners_=[];this.permanentlyDisabled_=[];this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH};Blockly.Flyout.prototype.autoClose=!0;
Blockly.Flyout.prototype.isVisible_=!1;Blockly.Flyout.prototype.containerVisible_=!0;Blockly.Flyout.prototype.CORNER_RADIUS=8;Blockly.Flyout.prototype.MARGIN=Blockly.Flyout.prototype.CORNER_RADIUS;Blockly.Flyout.prototype.GAP_X=3*Blockly.Flyout.prototype.MARGIN;Blockly.Flyout.prototype.GAP_Y=3*Blockly.Flyout.prototype.MARGIN;Blockly.Flyout.prototype.SCROLLBAR_PADDING=2;Blockly.Flyout.prototype.width_=0;Blockly.Flyout.prototype.height_=0;Blockly.Flyout.prototype.dragAngleRange_=70;
Blockly.Flyout.prototype.createDom=function(a){this.svgGroup_=Blockly.utils.dom.createSvgElement(a,{"class":"blocklyFlyout",style:"display: none"},null);this.svgBackground_=Blockly.utils.dom.createSvgElement("path",{"class":"blocklyFlyoutBackground"},this.svgGroup_);this.svgGroup_.appendChild(this.workspace_.createDom());this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill");this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity");
this.workspace_.getMarkerManager().setCursor(new Blockly.FlyoutCursor);return this.svgGroup_};
Blockly.Flyout.prototype.init=function(a){this.targetWorkspace_=a;this.workspace_.targetWorkspace=a;this.scrollbar_=new Blockly.Scrollbar(this.workspace_,this.horizontalLayout_,!1,"blocklyFlyoutScrollbar");this.hide();Array.prototype.push.apply(this.eventWrappers_,Blockly.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.wheel_));this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace_.addChangeListener(this.filterWrapper_));Array.prototype.push.apply(this.eventWrappers_,
Blockly.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDown_));this.workspace_.getGesture=this.targetWorkspace_.getGesture.bind(this.targetWorkspace_);this.workspace_.setVariableMap(this.targetWorkspace_.getVariableMap());this.workspace_.createPotentialVariableMap()};
Blockly.Flyout.prototype.dispose=function(){this.hide();Blockly.unbindEvent_(this.eventWrappers_);this.filterWrapper_&&(this.targetWorkspace_.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null);this.scrollbar_&&(this.scrollbar_.dispose(),this.scrollbar_=null);this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null);this.svgGroup_&&(Blockly.utils.dom.removeNode(this.svgGroup_),
this.svgGroup_=null);this.targetWorkspace_=this.svgBackground_=null};Blockly.Flyout.prototype.getWidth=function(){return this.width_};Blockly.Flyout.prototype.getHeight=function(){return this.height_};Blockly.Flyout.prototype.getWorkspace=function(){return this.workspace_};Blockly.Flyout.prototype.isVisible=function(){return this.isVisible_};Blockly.Flyout.prototype.setVisible=function(a){var b=a!=this.isVisible();this.isVisible_=a;b&&this.updateDisplay_()};
Blockly.Flyout.prototype.setContainerVisible=function(a){var b=a!=this.containerVisible_;this.containerVisible_=a;b&&this.updateDisplay_()};Blockly.Flyout.prototype.updateDisplay_=function(){var a=this.containerVisible_?this.isVisible():!1;this.svgGroup_.style.display=a?"block":"none";this.scrollbar_.setContainerVisible(a)};
Blockly.Flyout.prototype.positionAt_=function(a,b,c,d){this.svgGroup_.setAttribute("width",a);this.svgGroup_.setAttribute("height",b);"svg"==this.svgGroup_.tagName?Blockly.utils.dom.setCssTransform(this.svgGroup_,"translate("+c+"px,"+d+"px)"):this.svgGroup_.setAttribute("transform","translate("+c+","+d+")");this.scrollbar_&&(this.scrollbar_.setOrigin(c,d),this.scrollbar_.resize(),this.scrollbar_.setPosition_(this.scrollbar_.position_.x,this.scrollbar_.position_.y))};
Blockly.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var a=0,b;b=this.listeners_[a];a++)Blockly.unbindEvent_(b);this.listeners_.length=0;this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}};
Blockly.Flyout.prototype.show=function(a){this.workspace_.setResizesEnabled(!1);this.hide();this.clearOldBlocks_();if("string"==typeof a){a=this.workspace_.targetWorkspace.getToolboxCategoryCallback(a);if("function"!=typeof a)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=a(this.workspace_.targetWorkspace);if(!Array.isArray(a))throw TypeError("Result of toolbox category callback must be an array.");}this.setVisible(!0);var b=[],c=[];this.permanentlyDisabled_.length=
0;for(var d=this.horizontalLayout_?this.GAP_X:this.GAP_Y,e=0,f;f=a[e];e++)if(f.tagName)switch(f.tagName.toUpperCase()){case "BLOCK":var g=Blockly.Xml.domToBlock(f,this.workspace_);g.isEnabled()||this.permanentlyDisabled_.push(g);b.push({type:"block",block:g});f=parseInt(f.getAttribute("gap"),10);c.push(isNaN(f)?d:f);break;case "SEP":f=parseInt(f.getAttribute("gap"),10);!isNaN(f)&&0<c.length?c[c.length-1]=f:c.push(d);break;case "LABEL":case "BUTTON":g="LABEL"==f.tagName.toUpperCase();if(!Blockly.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");
f=new Blockly.FlyoutButton(this.workspace_,this.targetWorkspace_,f,g);b.push({type:"button",button:f});c.push(d)}this.layout_(b,c);this.listeners_.push(Blockly.bindEventWithChecks_(this.svgBackground_,"mouseover",this,function(){for(var a=this.workspace_.getTopBlocks(!1),b=0,c;c=a[b];b++)c.removeSelect()}));this.horizontalLayout_?this.height_=0:this.width_=0;this.workspace_.setResizesEnabled(!0);this.reflow();this.filterForCapacity_();this.position();this.reflowWrapper_=this.reflow.bind(this);this.workspace_.addChangeListener(this.reflowWrapper_)};
Blockly.Flyout.prototype.clearOldBlocks_=function(){for(var a=this.workspace_.getTopBlocks(!1),b=0,c;c=a[b];b++)c.workspace==this.workspace_&&c.dispose(!1,!1);for(b=0;b<this.mats_.length;b++)if(a=this.mats_[b])Blockly.Tooltip.unbindMouseEvents(a),Blockly.utils.dom.removeNode(a);for(b=this.mats_.length=0;a=this.buttons_[b];b++)a.dispose();this.buttons_.length=0;this.workspace_.getPotentialVariableMap().clear()};
Blockly.Flyout.prototype.addBlockListeners_=function(a,b,c){this.listeners_.push(Blockly.bindEventWithChecks_(a,"mousedown",null,this.blockMouseDown_(b)));this.listeners_.push(Blockly.bindEventWithChecks_(c,"mousedown",null,this.blockMouseDown_(b)));this.listeners_.push(Blockly.bindEvent_(a,"mouseenter",b,b.addSelect));this.listeners_.push(Blockly.bindEvent_(a,"mouseleave",b,b.removeSelect));this.listeners_.push(Blockly.bindEvent_(c,"mouseenter",b,b.addSelect));this.listeners_.push(Blockly.bindEvent_(c,
"mouseleave",b,b.removeSelect))};Blockly.Flyout.prototype.blockMouseDown_=function(a){var b=this;return function(c){var d=b.targetWorkspace_.getGesture(c);d&&(d.setStartBlock(a),d.handleFlyoutStart(c,b))}};Blockly.Flyout.prototype.onMouseDown_=function(a){var b=this.targetWorkspace_.getGesture(a);b&&b.handleFlyoutStart(a,this)};Blockly.Flyout.prototype.isBlockCreatable_=function(a){return a.isEnabled()};
Blockly.Flyout.prototype.createBlock=function(a){var b=null;Blockly.Events.disable();var c=this.targetWorkspace_.getAllVariables();this.targetWorkspace_.setResizesEnabled(!1);try{b=this.placeNewBlock_(a),Blockly.hideChaff()}finally{Blockly.Events.enable()}a=Blockly.Variables.getAddedVariables(this.targetWorkspace_,c);if(Blockly.Events.isEnabled())for(Blockly.Events.setGroup(!0),Blockly.Events.fire(new Blockly.Events.Create(b)),c=0;c<a.length;c++)Blockly.Events.fire(new Blockly.Events.VarCreate(a[c]));
this.autoClose?this.hide():this.filterForCapacity_();return b};Blockly.Flyout.prototype.initFlyoutButton_=function(a,b,c){var d=a.createDom();a.moveTo(b,c);a.show();this.listeners_.push(Blockly.bindEventWithChecks_(d,"mousedown",this,this.onMouseDown_));this.buttons_.push(a)};
Blockly.Flyout.prototype.createRect_=function(a,b,c,d,e){b=Blockly.utils.dom.createSvgElement("rect",{"fill-opacity":0,x:b,y:c,height:d.height,width:d.width},null);b.tooltip=a;Blockly.Tooltip.bindMouseEvents(b);this.workspace_.getCanvas().insertBefore(b,a.getSvgRoot());a.flyoutRect_=b;return this.mats_[e]=b};
Blockly.Flyout.prototype.moveRectToBlock_=function(a,b){var c=b.getHeightWidth();a.setAttribute("width",c.width);a.setAttribute("height",c.height);b=b.getRelativeToSurfaceXY();a.setAttribute("y",b.y);a.setAttribute("x",this.RTL?b.x-c.width:b.x)};
Blockly.Flyout.prototype.filterForCapacity_=function(){for(var a=this.workspace_.getTopBlocks(!1),b=0,c;c=a[b];b++)if(-1==this.permanentlyDisabled_.indexOf(c))for(var d=this.targetWorkspace_.isCapacityAvailable(Blockly.utils.getBlockTypeCounts(c));c;)c.setEnabled(d),c=c.getNextBlock()};Blockly.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_);this.reflowInternal_();this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)};
Blockly.Flyout.prototype.isScrollable=function(){return this.scrollbar_?this.scrollbar_.isVisible():!1};
Blockly.Flyout.prototype.placeNewBlock_=function(a){var b=this.targetWorkspace_;if(!a.getSvgRoot())throw Error("oldBlock is not rendered.");var c=Blockly.Xml.blockToDom(a,!0);b.setResizesEnabled(!1);c=Blockly.Xml.domToBlock(c,b);if(!c.getSvgRoot())throw Error("block is not rendered.");var d=b.getOriginOffsetInPixels(),e=this.workspace_.getOriginOffsetInPixels();a=a.getRelativeToSurfaceXY();a.scale(this.workspace_.scale);a=Blockly.utils.Coordinate.sum(e,a);d=Blockly.utils.Coordinate.difference(a,d);
d.scale(1/b.scale);c.moveBy(d.x,d.y);return c};Blockly.Flyout.prototype.onBlocklyAction=function(a){return this.workspace_.getCursor().onBlocklyAction(a)};Blockly.HorizontalFlyout=function(a){a.getMetrics=this.getMetrics_.bind(this);a.setMetrics=this.setMetrics_.bind(this);Blockly.HorizontalFlyout.superClass_.constructor.call(this,a);this.horizontalLayout_=!0};Blockly.utils.object.inherits(Blockly.HorizontalFlyout,Blockly.Flyout);
Blockly.HorizontalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var a=this.workspace_.getCanvas().getBBox()}catch(e){a={height:0,y:0,width:0,x:0}}var b=this.SCROLLBAR_PADDING,c=this.SCROLLBAR_PADDING;this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&&(b=0);var d=this.height_;this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP&&(d-=this.SCROLLBAR_PADDING);return{viewHeight:d,viewWidth:this.width_-2*this.SCROLLBAR_PADDING,contentHeight:(a.height+2*this.MARGIN)*this.workspace_.scale,
contentWidth:(a.width+2*this.MARGIN)*this.workspace_.scale,viewTop:-this.workspace_.scrollY,viewLeft:-this.workspace_.scrollX,contentTop:0,contentLeft:0,absoluteTop:b,absoluteLeft:c}};Blockly.HorizontalFlyout.prototype.setMetrics_=function(a){var b=this.getMetrics_();b&&("number"==typeof a.x&&(this.workspace_.scrollX=-b.contentWidth*a.x),this.workspace_.translate(this.workspace_.scrollX+b.absoluteLeft,this.workspace_.scrollY+b.absoluteTop))};
Blockly.HorizontalFlyout.prototype.position=function(){if(this.isVisible()){var a=this.targetWorkspace_.getMetrics();a&&(this.width_=a.viewWidth,this.setBackgroundPath_(a.viewWidth-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),this.positionAt_(this.width_,this.height_,0,this.targetWorkspace_.toolboxPosition==this.toolboxPosition_?a.toolboxHeight?this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?a.toolboxHeight:a.viewHeight-this.height_:this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?0:a.viewHeight:
this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?0:a.viewHeight+a.absoluteTop-this.height_))}};
Blockly.HorizontalFlyout.prototype.setBackgroundPath_=function(a,b){var c=this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP,d=["M 0,"+(c?0:this.CORNER_RADIUS)];c?(d.push("h",a+2*this.CORNER_RADIUS),d.push("v",b),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("h",-a),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),
d.push("h",a),d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),d.push("v",b),d.push("h",-a-2*this.CORNER_RADIUS));d.push("z");this.svgBackground_.setAttribute("d",d.join(" "))};Blockly.HorizontalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(this.RTL?Infinity:0)};
Blockly.HorizontalFlyout.prototype.wheel_=function(a){var b=Blockly.utils.getScrollDeltaPixels(a),c=b.x||b.y;c&&(b=this.getMetrics_(),c=b.viewLeft+c,c=Math.min(c,b.contentWidth-b.viewWidth),c=Math.max(c,0),this.scrollbar_.set(c),Blockly.WidgetDiv.hide());a.preventDefault();a.stopPropagation()};
Blockly.HorizontalFlyout.prototype.layout_=function(a,b){this.workspace_.scale=this.targetWorkspace_.scale;var c=this.MARGIN,d=c+this.tabWidth_;this.RTL&&(a=a.reverse());for(var e=0,f;f=a[e];e++)if("block"==f.type){f=f.block;for(var g=f.getDescendants(!1),h=0,k;k=g[h];h++)k.isInFlyout=!0;f.render();g=f.getSvgRoot();h=f.getHeightWidth();k=f.outputConnection?this.tabWidth_:0;k=this.RTL?d+h.width:d-k;f.moveBy(k,c);k=this.createRect_(f,k,c,h,e);d+=h.width+b[e];this.addBlockListeners_(g,f,k)}else"button"==
f.type&&(this.initFlyoutButton_(f.button,d,c),d+=f.button.width+b[e])};Blockly.HorizontalFlyout.prototype.isDragTowardWorkspace=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.dragAngleRange_;return a<90+b&&a>90-b||a>-90-b&&a<-90+b?!0:!1};
Blockly.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var a=this.svgGroup_.getBoundingClientRect(),b=a.top;return this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?new Blockly.utils.Rect(-1E9,b+a.height,-1E9,1E9):new Blockly.utils.Rect(b,1E9,-1E9,1E9)};
Blockly.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var a=0,b=this.workspace_.getTopBlocks(!1),c=0,d;d=b[c];c++)a=Math.max(a,d.getHeightWidth().height);a+=1.5*this.MARGIN;a*=this.workspace_.scale;a+=Blockly.Scrollbar.scrollbarThickness;if(this.height_!=a){for(c=0;d=b[c];c++)d.flyoutRect_&&this.moveRectToBlock_(d.flyoutRect_,d);this.height_=a;this.position()}};Blockly.VerticalFlyout=function(a){a.getMetrics=this.getMetrics_.bind(this);a.setMetrics=this.setMetrics_.bind(this);Blockly.VerticalFlyout.superClass_.constructor.call(this,a);this.horizontalLayout_=!1};Blockly.utils.object.inherits(Blockly.VerticalFlyout,Blockly.Flyout);
Blockly.VerticalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var a=this.workspace_.getCanvas().getBBox()}catch(e){a={height:0,y:0,width:0,x:0}}var b=this.SCROLLBAR_PADDING,c=this.height_-2*this.SCROLLBAR_PADDING,d=this.width_;this.RTL||(d-=this.SCROLLBAR_PADDING);return{viewHeight:c,viewWidth:d,contentHeight:a.height*this.workspace_.scale+2*this.MARGIN,contentWidth:a.width*this.workspace_.scale+2*this.MARGIN,viewTop:-this.workspace_.scrollY+a.y,viewLeft:-this.workspace_.scrollX,
contentTop:a.y,contentLeft:a.x,absoluteTop:b,absoluteLeft:0}};Blockly.VerticalFlyout.prototype.setMetrics_=function(a){var b=this.getMetrics_();b&&("number"==typeof a.y&&(this.workspace_.scrollY=-b.contentHeight*a.y),this.workspace_.translate(this.workspace_.scrollX+b.absoluteLeft,this.workspace_.scrollY+b.absoluteTop))};
Blockly.VerticalFlyout.prototype.position=function(){if(this.isVisible()){var a=this.targetWorkspace_.getMetrics();a&&(this.height_=a.viewHeight,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,a.viewHeight-2*this.CORNER_RADIUS),this.positionAt_(this.width_,this.height_,this.targetWorkspace_.toolboxPosition==this.toolboxPosition_?a.toolboxWidth?this.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT?a.toolboxWidth:a.viewWidth-this.width_:this.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT?0:a.viewWidth:this.toolboxPosition_==
Blockly.TOOLBOX_AT_LEFT?0:a.viewWidth+a.absoluteLeft-this.width_,0))}};
Blockly.VerticalFlyout.prototype.setBackgroundPath_=function(a,b){var c=this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT,d=a+this.CORNER_RADIUS;d=["M "+(c?d:0)+",0"];d.push("h",c?-a:a);d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS);d.push("v",Math.max(0,b));d.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,c?0:1,c?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS);d.push("h",c?a:-a);d.push("z");this.svgBackground_.setAttribute("d",
d.join(" "))};Blockly.VerticalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(0)};Blockly.VerticalFlyout.prototype.wheel_=function(a){var b=Blockly.utils.getScrollDeltaPixels(a);if(b.y){var c=this.getMetrics_();b=c.viewTop-c.contentTop+b.y;b=Math.min(b,c.contentHeight-c.viewHeight);b=Math.max(b,0);this.scrollbar_.set(b);Blockly.WidgetDiv.hide()}a.preventDefault();a.stopPropagation()};
Blockly.VerticalFlyout.prototype.layout_=function(a,b){this.workspace_.scale=this.targetWorkspace_.scale;for(var c=this.MARGIN,d=this.RTL?c:c+this.tabWidth_,e=0,f;f=a[e];e++)if("block"==f.type){f=f.block;for(var g=f.getDescendants(!1),h=0,k;k=g[h];h++)k.isInFlyout=!0;f.render();g=f.getSvgRoot();h=f.getHeightWidth();k=f.outputConnection?d-this.tabWidth_:d;f.moveBy(k,c);k=this.createRect_(f,this.RTL?k-h.width:k,c,h,e);this.addBlockListeners_(g,f,k);c+=h.height+b[e]}else"button"==f.type&&(this.initFlyoutButton_(f.button,
d,c),c+=f.button.height+b[e])};Blockly.VerticalFlyout.prototype.isDragTowardWorkspace=function(a){a=Math.atan2(a.y,a.x)/Math.PI*180;var b=this.dragAngleRange_;return a<b&&a>-b||a<-180+b||a>180-b?!0:!1};Blockly.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var a=this.svgGroup_.getBoundingClientRect(),b=a.left;return this.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT?new Blockly.utils.Rect(-1E9,1E9,-1E9,b+a.width):new Blockly.utils.Rect(-1E9,1E9,b,1E9)};
Blockly.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var a=0,b=this.workspace_.getTopBlocks(!1),c=0,d;d=b[c];c++){var e=d.getHeightWidth().width;d.outputConnection&&(e-=this.tabWidth_);a=Math.max(a,e)}for(c=0;d=this.buttons_[c];c++)a=Math.max(a,d.width);a+=1.5*this.MARGIN+this.tabWidth_;a*=this.workspace_.scale;a+=Blockly.Scrollbar.scrollbarThickness;if(this.width_!=a){for(c=0;d=b[c];c++){if(this.RTL){e=d.getRelativeToSurfaceXY().x;var f=
a/this.workspace_.scale-this.MARGIN;d.outputConnection||(f-=this.tabWidth_);d.moveBy(f-e,0)}d.flyoutRect_&&this.moveRectToBlock_(d.flyoutRect_,d)}if(this.RTL)for(c=0;d=this.buttons_[c];c++)b=d.getPosition().y,d.moveTo(a/this.workspace_.scale-d.width-this.MARGIN-this.tabWidth_,b);this.width_=a;this.position()}};Blockly.FlyoutButton=function(a,b,c,d){this.workspace_=a;this.targetWorkspace_=b;this.text_=c.getAttribute("text");this.position_=new Blockly.utils.Coordinate(0,0);this.isLabel_=d;this.callbackKey_=c.getAttribute("callbackKey")||c.getAttribute("callbackkey");this.cssClass_=c.getAttribute("web-class")||null;this.onMouseUpWrapper_=null};Blockly.FlyoutButton.MARGIN_X=5;Blockly.FlyoutButton.MARGIN_Y=2;Blockly.FlyoutButton.prototype.width=0;Blockly.FlyoutButton.prototype.height=0;
Blockly.FlyoutButton.prototype.createDom=function(){var a=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass_&&(a+=" "+this.cssClass_);this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{"class":a},this.workspace_.getCanvas());if(!this.isLabel_)var b=Blockly.utils.dom.createSvgElement("rect",{"class":"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);a=Blockly.utils.dom.createSvgElement("rect",{"class":this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",
rx:4,ry:4},this.svgGroup_);var c=Blockly.utils.dom.createSvgElement("text",{"class":this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),d=Blockly.utils.replaceMessageReferences(this.text_);this.workspace_.RTL&&(d+="\u200f");c.textContent=d;this.isLabel_&&(this.svgText_=c,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var e=Blockly.utils.style.getComputedStyle(c,"fontSize"),f=Blockly.utils.style.getComputedStyle(c,
"fontWeight"),g=Blockly.utils.style.getComputedStyle(c,"fontFamily");this.width=Blockly.utils.dom.getFastTextWidthWithSizeString(c,e,f,g);d=Blockly.utils.dom.measureFontMetrics(d,e,f,g);this.height=d.height;this.isLabel_||(this.width+=2*Blockly.FlyoutButton.MARGIN_X,this.height+=2*Blockly.FlyoutButton.MARGIN_Y,b.setAttribute("width",this.width),b.setAttribute("height",this.height));a.setAttribute("width",this.width);a.setAttribute("height",this.height);c.setAttribute("x",this.width/2);c.setAttribute("y",
this.height/2-d.height/2+d.baseline);this.updateTransform_();this.onMouseUpWrapper_=Blockly.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.onMouseUp_);return this.svgGroup_};Blockly.FlyoutButton.prototype.show=function(){this.updateTransform_();this.svgGroup_.setAttribute("display","block")};Blockly.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")};
Blockly.FlyoutButton.prototype.moveTo=function(a,b){this.position_.x=a;this.position_.y=b;this.updateTransform_()};Blockly.FlyoutButton.prototype.getPosition=function(){return this.position_};Blockly.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_};Blockly.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&Blockly.unbindEvent_(this.onMouseUpWrapper_);this.svgGroup_&&Blockly.utils.dom.removeNode(this.svgGroup_);this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)};
Blockly.FlyoutButton.prototype.onMouseUp_=function(a){(a=this.targetWorkspace_.getGesture(a))&&a.cancel();this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)};Blockly.Css.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(","));Blockly.Generator=function(a){this.name_=a;this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")};Blockly.Generator.NAME_TYPE="generated_function";Blockly.Generator.prototype.INFINITE_LOOP_TRAP=null;Blockly.Generator.prototype.STATEMENT_PREFIX=null;Blockly.Generator.prototype.STATEMENT_SUFFIX=null;Blockly.Generator.prototype.INDENT="  ";Blockly.Generator.prototype.COMMENT_WRAP=60;Blockly.Generator.prototype.ORDER_OVERRIDES=[];
Blockly.Generator.prototype.workspaceToCode=function(a){a||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),a=Blockly.getMainWorkspace());var b=[];this.init(a);a=a.getTopBlocks(!0);for(var c=0,d;d=a[c];c++){var e=this.blockToCode(d);Array.isArray(e)&&(e=e[0]);e&&(d.outputConnection&&(e=this.scrubNakedValue(e),this.STATEMENT_PREFIX&&!d.suppressPrefixSuffix&&(e=this.injectId(this.STATEMENT_PREFIX,d)+e),this.STATEMENT_SUFFIX&&!d.suppressPrefixSuffix&&(e+=this.injectId(this.STATEMENT_SUFFIX,
d))),b.push(e))}b=b.join("\n");b=this.finish(b);b=b.replace(/^\s+\n/,"");b=b.replace(/\n\s+$/,"\n");return b=b.replace(/[ \t]+\n/g,"\n")};Blockly.Generator.prototype.prefixLines=function(a,b){return b+a.replace(/(?!\n$)\n/g,"\n"+b)};Blockly.Generator.prototype.allNestedComments=function(a){var b=[];a=a.getDescendants(!0);for(var c=0;c<a.length;c++){var d=a[c].getCommentText();d&&b.push(d)}b.length&&b.push("");return b.join("\n")};
Blockly.Generator.prototype.blockToCode=function(a,b){if(!a)return"";if(!a.isEnabled())return b?"":this.blockToCode(a.getNextBlock());var c=this[a.type];if("function"!=typeof c)throw Error('Language "'+this.name_+'" does not know how to generate  code for block type "'+a.type+'".');c=c.call(a,a);if(Array.isArray(c)){if(!a.outputConnection)throw TypeError("Expecting string from statement block: "+a.type);return[this.scrub_(a,c[0],b),c[1]]}if("string"==typeof c)return this.STATEMENT_PREFIX&&!a.suppressPrefixSuffix&&
(c=this.injectId(this.STATEMENT_PREFIX,a)+c),this.STATEMENT_SUFFIX&&!a.suppressPrefixSuffix&&(c+=this.injectId(this.STATEMENT_SUFFIX,a)),this.scrub_(a,c,b);if(null===c)return"";throw SyntaxError("Invalid code generated: "+c);};
Blockly.Generator.prototype.valueToCode=function(a,b,c){if(isNaN(c))throw TypeError("Expecting valid order from block: "+a.type);var d=a.getInputTargetBlock(b);if(!d)return"";b=this.blockToCode(d);if(""===b)return"";if(!Array.isArray(b))throw TypeError("Expecting tuple from value block: "+d.type);a=b[0];b=b[1];if(isNaN(b))throw TypeError("Expecting valid order from value block: "+d.type);if(!a)return"";d=!1;var e=Math.floor(c),f=Math.floor(b);if(e<=f&&(e!=f||0!=e&&99!=e))for(d=!0,e=0;e<this.ORDER_OVERRIDES.length;e++)if(this.ORDER_OVERRIDES[e][0]==
c&&this.ORDER_OVERRIDES[e][1]==b){d=!1;break}d&&(a="("+a+")");return a};Blockly.Generator.prototype.statementToCode=function(a,b){a=a.getInputTargetBlock(b);b=this.blockToCode(a);if("string"!=typeof b)throw TypeError("Expecting code from statement block: "+(a&&a.type));b&&(b=this.prefixLines(b,this.INDENT));return b};
Blockly.Generator.prototype.addLoopTrap=function(a,b){this.INFINITE_LOOP_TRAP&&(a=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,b),this.INDENT)+a);this.STATEMENT_SUFFIX&&!b.suppressPrefixSuffix&&(a=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,b),this.INDENT)+a);this.STATEMENT_PREFIX&&!b.suppressPrefixSuffix&&(a+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,b),this.INDENT));return a};
Blockly.Generator.prototype.injectId=function(a,b){b=b.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+b+"'")};Blockly.Generator.prototype.RESERVED_WORDS_="";Blockly.Generator.prototype.addReservedWords=function(a){this.RESERVED_WORDS_+=a+","};Blockly.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}";
Blockly.Generator.prototype.provideFunction_=function(a,b){if(!this.definitions_[a]){var c=this.variableDB_.getDistinctName(a,Blockly.PROCEDURE_CATEGORY_NAME);this.functionNames_[a]=c;b=b.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,c);for(var d;d!=b;)d=b,b=b.replace(/^(( {2})*) {2}/gm,"$1\x00");b=b.replace(/\0/g,this.INDENT);this.definitions_[a]=b}return this.functionNames_[a]};Blockly.Generator.prototype.init=function(a){};Blockly.Generator.prototype.scrub_=function(a,b,c){return b};
Blockly.Generator.prototype.finish=function(a){return a};Blockly.Generator.prototype.scrubNakedValue=function(a){return a};Blockly.tree={};Blockly.tree.BaseNode=function(a,b){Blockly.Component.call(this);this.content=a;this.config_=b;this.expanded_=this.selected_=!1;this.isUserCollapsible_=!0;this.depth_=-1};Blockly.utils.object.inherits(Blockly.tree.BaseNode,Blockly.Component);Blockly.tree.BaseNode.allNodes={};Blockly.tree.BaseNode.prototype.disposeInternal=function(){Blockly.tree.BaseNode.superClass_.disposeInternal.call(this);this.tree&&(this.tree=null);this.setElementInternal(null)};
Blockly.tree.BaseNode.prototype.initAccessibility=function(){var a=this.getElement();if(a){var b=this.getLabelElement();b&&!b.id&&(b.id=this.getId()+".label");Blockly.utils.aria.setRole(a,Blockly.utils.aria.Role.TREEITEM);Blockly.utils.aria.setState(a,Blockly.utils.aria.State.SELECTED,!1);Blockly.utils.aria.setState(a,Blockly.utils.aria.State.LEVEL,this.getDepth());b&&Blockly.utils.aria.setState(a,Blockly.utils.aria.State.LABELLEDBY,b.id);(b=this.getIconElement())&&Blockly.utils.aria.setRole(b,Blockly.utils.aria.Role.PRESENTATION);
if(b=this.getChildrenElement())if(Blockly.utils.aria.setRole(b,Blockly.utils.aria.Role.GROUP),b.hasChildNodes())for(Blockly.utils.aria.setState(a,Blockly.utils.aria.State.EXPANDED,!1),a=this.getChildCount(),b=1;b<=a;b++){var c=this.getChildAt(b-1).getElement();Blockly.utils.aria.setState(c,Blockly.utils.aria.State.SETSIZE,a);Blockly.utils.aria.setState(c,Blockly.utils.aria.State.POSINSET,b)}}};
Blockly.tree.BaseNode.prototype.createDom=function(){var a=document.createElement("div");a.appendChild(this.toDom());this.setElementInternal(a)};Blockly.tree.BaseNode.prototype.enterDocument=function(){Blockly.tree.BaseNode.superClass_.enterDocument.call(this);Blockly.tree.BaseNode.allNodes[this.getId()]=this;this.initAccessibility()};Blockly.tree.BaseNode.prototype.exitDocument=function(){Blockly.tree.BaseNode.superClass_.exitDocument.call(this);delete Blockly.tree.BaseNode.allNodes[this.getId()]};
Blockly.tree.BaseNode.prototype.addChildAt=function(a,b){var c=this.getChildAt(b-1),d=this.getChildAt(b);Blockly.tree.BaseNode.superClass_.addChildAt.call(this,a,b);a.previousSibling_=c;a.nextSibling_=d;c&&(c.nextSibling_=a);d&&(d.previousSibling_=a);(b=this.getTree())&&a.setTreeInternal(b);a.setDepth_(this.getDepth()+1);if(b=this.getElement())if(this.updateExpandIcon(),Blockly.utils.aria.setState(b,Blockly.utils.aria.State.EXPANDED,this.expanded_),this.expanded_){b=this.getChildrenElement();a.getElement()||
a.createDom();var e=a.getElement(),f=d&&d.getElement();b.insertBefore(e,f);this.isInDocument()&&a.enterDocument();d||(c?c.updateExpandIcon():(Blockly.utils.style.setElementShown(b,!0),this.setExpanded(this.expanded_)))}};Blockly.tree.BaseNode.prototype.add=function(a){if(a.getParent())throw Error(Blockly.Component.Error.PARENT_UNABLE_TO_BE_SET);this.addChildAt(a,this.getChildCount())};Blockly.tree.BaseNode.prototype.getTree=function(){return null};
Blockly.tree.BaseNode.prototype.getDepth=function(){var a=this.depth_;0>a&&(a=(a=this.getParent())?a.getDepth()+1:0,this.setDepth_(a));return a};Blockly.tree.BaseNode.prototype.setDepth_=function(a){if(a!=this.depth_){this.depth_=a;var b=this.getRowElement();if(b){var c=this.getPixelIndent_()+"px";this.rightToLeft_?b.style.paddingRight=c:b.style.paddingLeft=c}this.forEachChild(function(b){b.setDepth_(a+1)})}};Blockly.tree.BaseNode.prototype.contains=function(a){for(;a;){if(a==this)return!0;a=a.getParent()}return!1};
Blockly.tree.BaseNode.prototype.getChildren=function(){var a=[];this.forEachChild(function(b){a.push(b)});return a};Blockly.tree.BaseNode.prototype.getPreviousSibling=function(){return this.previousSibling_};Blockly.tree.BaseNode.prototype.getNextSibling=function(){return this.nextSibling_};Blockly.tree.BaseNode.prototype.isLastSibling=function(){return!this.nextSibling_};Blockly.tree.BaseNode.prototype.isSelected=function(){return this.selected_};
Blockly.tree.BaseNode.prototype.select=function(){var a=this.getTree();a&&a.setSelectedItem(this)};Blockly.tree.BaseNode.prototype.setSelected=function(a){if(this.selected_!=a){this.selected_=a;this.updateRow();var b=this.getElement();b&&(Blockly.utils.aria.setState(b,Blockly.utils.aria.State.SELECTED,a),a&&(a=this.getTree().getElement(),Blockly.utils.aria.setState(a,Blockly.utils.aria.State.ACTIVEDESCENDANT,this.getId())))}};
Blockly.tree.BaseNode.prototype.setExpanded=function(a){var b=a!=this.expanded_,c;this.expanded_=a;var d=this.getTree(),e=this.getElement();if(this.hasChildren()){if(!a&&d&&this.contains(d.getSelectedItem())&&this.select(),e){if(c=this.getChildrenElement())Blockly.utils.style.setElementShown(c,a),Blockly.utils.aria.setState(e,Blockly.utils.aria.State.EXPANDED,a),a&&this.isInDocument()&&!c.hasChildNodes()&&(this.forEachChild(function(a){c.appendChild(a.toDom())}),this.forEachChild(function(a){a.enterDocument()}));
this.updateExpandIcon()}}else(c=this.getChildrenElement())&&Blockly.utils.style.setElementShown(c,!1);e&&this.updateIcon_();b&&(a?this.doNodeExpanded():this.doNodeCollapsed())};Blockly.tree.BaseNode.prototype.doNodeExpanded=function(){};Blockly.tree.BaseNode.prototype.doNodeCollapsed=function(){};Blockly.tree.BaseNode.prototype.toggle=function(){this.setExpanded(!this.expanded_)};
Blockly.tree.BaseNode.prototype.toDom=function(){var a=this.expanded_&&this.hasChildren(),b=document.createElement("div");b.style.backgroundPosition=this.getBackgroundPosition();a||(b.style.display="none");a&&this.forEachChild(function(a){b.appendChild(a.toDom())});a=document.createElement("div");a.id=this.getId();a.appendChild(this.getRowDom());a.appendChild(b);return a};Blockly.tree.BaseNode.prototype.getPixelIndent_=function(){return Math.max(0,(this.getDepth()-1)*this.config_.indentWidth)};
Blockly.tree.BaseNode.prototype.getRowDom=function(){var a=document.createElement("div");a.className=this.getRowClassName();a.style["padding-"+(this.rightToLeft_?"right":"left")]=this.getPixelIndent_()+"px";a.appendChild(this.getIconDom());a.appendChild(this.getLabelDom());return a};Blockly.tree.BaseNode.prototype.getRowClassName=function(){var a="";this.isSelected()&&(a=" "+(this.config_.cssSelectedRow||""));return this.config_.cssTreeRow+a};
Blockly.tree.BaseNode.prototype.getLabelDom=function(){var a=document.createElement("span");a.className=this.config_.cssItemLabel||"";a.textContent=this.content;return a};Blockly.tree.BaseNode.prototype.getIconDom=function(){var a=document.createElement("span");a.style.display="inline-block";a.className=this.getCalculatedIconClass();return a};Blockly.tree.BaseNode.prototype.getCalculatedIconClass=function(){throw Error("unimplemented abstract method");};
Blockly.tree.BaseNode.prototype.getBackgroundPosition=function(){return(this.isLastSibling()?"-100":(this.getDepth()-1)*this.config_.indentWidth)+"px 0"};Blockly.tree.BaseNode.prototype.getElement=function(){var a=Blockly.tree.BaseNode.superClass_.getElement.call(this);a||(a=document.getElementById(this.getId()),this.setElementInternal(a));return a};Blockly.tree.BaseNode.prototype.getRowElement=function(){var a=this.getElement();return a?a.firstChild:null};
Blockly.tree.BaseNode.prototype.getIconElement=function(){var a=this.getRowElement();return a?a.firstChild:null};Blockly.tree.BaseNode.prototype.getLabelElement=function(){var a=this.getRowElement();return a&&a.lastChild?a.lastChild.previousSibling:null};Blockly.tree.BaseNode.prototype.getChildrenElement=function(){var a=this.getElement();return a?a.lastChild:null};Blockly.tree.BaseNode.prototype.updateRow=function(){var a=this.getRowElement();a&&(a.className=this.getRowClassName())};
Blockly.tree.BaseNode.prototype.updateExpandIcon=function(){var a=this.getChildrenElement();a&&(a.style.backgroundPosition=this.getBackgroundPosition())};Blockly.tree.BaseNode.prototype.updateIcon_=function(){this.getIconElement().className=this.getCalculatedIconClass()};Blockly.tree.BaseNode.prototype.onMouseDown=function(a){"expand"==a.target.getAttribute("type")&&this.hasChildren()?this.isUserCollapsible_&&this.toggle():(this.select(),this.updateRow())};
Blockly.tree.BaseNode.prototype.onClick_=function(a){a.preventDefault()};Blockly.tree.BaseNode.prototype.onKeyDown=function(a){var b=!0;switch(a.keyCode){case Blockly.utils.KeyCodes.RIGHT:if(a.altKey)break;b=this.selectChild();break;case Blockly.utils.KeyCodes.LEFT:if(a.altKey)break;b=this.selectParent();break;case Blockly.utils.KeyCodes.DOWN:b=this.selectNext();break;case Blockly.utils.KeyCodes.UP:b=this.selectPrevious();break;default:b=!1}b&&a.preventDefault();return b};
Blockly.tree.BaseNode.prototype.selectNext=function(){var a=this.getNextShownNode();a&&a.select();return!0};Blockly.tree.BaseNode.prototype.selectPrevious=function(){var a=this.getPreviousShownNode();a&&a.select();return!0};Blockly.tree.BaseNode.prototype.selectParent=function(){if(this.hasChildren()&&this.expanded_&&this.isUserCollapsible_)this.setExpanded(!1);else{var a=this.getParent(),b=this.getTree();a&&a!=b&&a.select()}return!0};
Blockly.tree.BaseNode.prototype.selectChild=function(){return this.hasChildren()?(this.expanded_?this.getChildAt(0).select():this.setExpanded(!0),!0):!1};Blockly.tree.BaseNode.prototype.getLastShownDescendant=function(){return this.expanded_&&this.hasChildren()?this.getChildAt(this.getChildCount()-1).getLastShownDescendant():this};
Blockly.tree.BaseNode.prototype.getNextShownNode=function(){if(this.hasChildren()&&this.expanded_)return this.getChildAt(0);for(var a=this,b;a!=this.getTree();){b=a.getNextSibling();if(null!=b)return b;a=a.getParent()}return null};Blockly.tree.BaseNode.prototype.getPreviousShownNode=function(){var a=this.getPreviousSibling();if(null!=a)return a.getLastShownDescendant();a=this.getParent();var b=this.getTree();return a==b||this==b?null:a};
Blockly.tree.BaseNode.prototype.setTreeInternal=function(a){this.tree!=a&&(this.tree=a,this.forEachChild(function(b){b.setTreeInternal(a)}))};Blockly.tree.TreeNode=function(a,b,c){this.toolbox_=a;Blockly.tree.BaseNode.call(this,b,c)};Blockly.utils.object.inherits(Blockly.tree.TreeNode,Blockly.tree.BaseNode);Blockly.tree.TreeNode.prototype.getTree=function(){if(this.tree)return this.tree;var a=this.getParent();return a&&(a=a.getTree())?(this.setTreeInternal(a),a):null};
Blockly.tree.TreeNode.prototype.getCalculatedIconClass=function(){var a=this.expanded_;if(a&&this.expandedIconClass)return this.expandedIconClass;var b=this.iconClass;if(!a&&b)return b;b=this.config_;if(this.hasChildren()){if(a&&b.cssExpandedFolderIcon)return b.cssTreeIcon+" "+b.cssExpandedFolderIcon;if(!a&&b.cssCollapsedFolderIcon)return b.cssTreeIcon+" "+b.cssCollapsedFolderIcon}else if(b.cssFileIcon)return b.cssTreeIcon+" "+b.cssFileIcon;return""};
Blockly.tree.TreeNode.prototype.onClick_=function(a){this.hasChildren()&&this.isUserCollapsible_?(this.toggle(),this.select()):this.isSelected()?this.getTree().setSelectedItem(null):this.select();this.updateRow()};Blockly.tree.TreeNode.prototype.onMouseDown=function(a){};
Blockly.tree.TreeNode.prototype.onKeyDown=function(a){if(this.tree.toolbox_.horizontalLayout_){var b={},c=Blockly.utils.KeyCodes.DOWN,d=Blockly.utils.KeyCodes.UP;b[Blockly.utils.KeyCodes.RIGHT]=this.rightToLeft_?d:c;b[Blockly.utils.KeyCodes.LEFT]=this.rightToLeft_?c:d;b[Blockly.utils.KeyCodes.UP]=Blockly.utils.KeyCodes.LEFT;b[Blockly.utils.KeyCodes.DOWN]=Blockly.utils.KeyCodes.RIGHT;Object.defineProperties(a,{keyCode:{value:b[a.keyCode]||a.keyCode}})}return Blockly.tree.TreeNode.superClass_.onKeyDown.call(this,
a)};Blockly.tree.TreeNode.prototype.onSizeChanged=function(a){this.onSizeChanged_=a};Blockly.tree.TreeNode.prototype.resizeToolbox_=function(){this.onSizeChanged_&&this.onSizeChanged_.call(this.toolbox_)};Blockly.tree.TreeNode.prototype.doNodeExpanded=Blockly.tree.TreeNode.prototype.resizeToolbox_;Blockly.tree.TreeNode.prototype.doNodeCollapsed=Blockly.tree.TreeNode.prototype.resizeToolbox_;Blockly.tree.TreeControl=function(a,b){this.toolbox_=a;this.onKeydownWrapper_=this.onClickWrapper_=this.onBlurWrapper_=this.onFocusWrapper_=null;Blockly.tree.BaseNode.call(this,"",b);this.selected_=this.expanded_=!0;this.selectedItem_=this};Blockly.utils.object.inherits(Blockly.tree.TreeControl,Blockly.tree.BaseNode);Blockly.tree.TreeControl.prototype.getTree=function(){return this};Blockly.tree.TreeControl.prototype.getToolbox=function(){return this.toolbox_};
Blockly.tree.TreeControl.prototype.getDepth=function(){return 0};Blockly.tree.TreeControl.prototype.handleFocus_=function(a){this.focused_=!0;a=this.getElement();Blockly.utils.dom.addClass(a,"focused");this.selectedItem_&&this.selectedItem_.select()};Blockly.tree.TreeControl.prototype.handleBlur_=function(a){this.focused_=!1;a=this.getElement();Blockly.utils.dom.removeClass(a,"focused")};Blockly.tree.TreeControl.prototype.hasFocus=function(){return this.focused_};
Blockly.tree.TreeControl.prototype.setExpanded=function(a){this.expanded_=a};Blockly.tree.TreeControl.prototype.getIconElement=function(){var a=this.getRowElement();return a?a.firstChild:null};Blockly.tree.TreeControl.prototype.updateExpandIcon=function(){};Blockly.tree.TreeControl.prototype.getRowClassName=function(){return Blockly.tree.TreeControl.superClass_.getRowClassName.call(this)+" "+this.config_.cssHideRoot};
Blockly.tree.TreeControl.prototype.getCalculatedIconClass=function(){var a=this.expanded_;if(a&&this.expandedIconClass)return this.expandedIconClass;var b=this.iconClass;return!a&&b?b:a&&this.config_.cssExpandedRootIcon?this.config_.cssTreeIcon+" "+this.config_.cssExpandedRootIcon:""};
Blockly.tree.TreeControl.prototype.setSelectedItem=function(a){if(a!=this.selectedItem_&&(!this.onBeforeSelected_||this.onBeforeSelected_.call(this.toolbox_,a))){var b=this.getSelectedItem();this.selectedItem_&&this.selectedItem_.setSelected(!1);(this.selectedItem_=a)&&a.setSelected(!0);this.onAfterSelected_&&this.onAfterSelected_.call(this.toolbox_,b,a)}};Blockly.tree.TreeControl.prototype.onBeforeSelected=function(a){this.onBeforeSelected_=a};
Blockly.tree.TreeControl.prototype.onAfterSelected=function(a){this.onAfterSelected_=a};Blockly.tree.TreeControl.prototype.getSelectedItem=function(){return this.selectedItem_};Blockly.tree.TreeControl.prototype.initAccessibility=function(){Blockly.tree.TreeControl.superClass_.initAccessibility.call(this);var a=this.getElement();Blockly.utils.aria.setRole(a,Blockly.utils.aria.Role.TREE);Blockly.utils.aria.setState(a,Blockly.utils.aria.State.LABELLEDBY,this.getLabelElement().id)};
Blockly.tree.TreeControl.prototype.enterDocument=function(){Blockly.tree.TreeControl.superClass_.enterDocument.call(this);var a=this.getElement();a.className=this.config_.cssRoot;a.setAttribute("hideFocus","true");this.attachEvents_();this.initAccessibility()};Blockly.tree.TreeControl.prototype.exitDocument=function(){Blockly.tree.TreeControl.superClass_.exitDocument.call(this);this.detachEvents_()};
Blockly.tree.TreeControl.prototype.attachEvents_=function(){var a=this.getElement();a.tabIndex=0;this.onFocusWrapper_=Blockly.bindEvent_(a,"focus",this,this.handleFocus_);this.onBlurWrapper_=Blockly.bindEvent_(a,"blur",this,this.handleBlur_);this.onClickWrapper_=Blockly.bindEventWithChecks_(a,"click",this,this.handleMouseEvent_);this.onKeydownWrapper_=Blockly.bindEvent_(a,"keydown",this,this.handleKeyEvent_)};
Blockly.tree.TreeControl.prototype.detachEvents_=function(){this.onFocusWrapper_&&(Blockly.unbindEvent_(this.onFocusWrapper_),this.onFocusWrapper_=null);this.onBlurWrapper_&&(Blockly.unbindEvent_(this.onBlurWrapper_),this.onBlurWrapper_=null);this.onClickWrapper_&&(Blockly.unbindEvent_(this.onClickWrapper_),this.onClickWrapper_=null);this.onKeydownWrapper_&&(Blockly.unbindEvent_(this.onKeydownWrapper_),this.onKeydownWrapper_=null)};
Blockly.tree.TreeControl.prototype.handleMouseEvent_=function(a){var b=this.getNodeFromEvent_(a);if(b)switch(a.type){case "mousedown":b.onMouseDown(a);break;case "click":b.onClick_(a)}};Blockly.tree.TreeControl.prototype.handleKeyEvent_=function(a){var b=!1;if(b=this.selectedItem_&&this.selectedItem_.onKeyDown(a)||b)Blockly.utils.style.scrollIntoContainerView(this.selectedItem_.getElement(),this.getElement().parentNode),a.preventDefault();return b};
Blockly.tree.TreeControl.prototype.getNodeFromEvent_=function(a){for(var b=a.target;null!=b;){if(a=Blockly.tree.BaseNode.allNodes[b.id])return a;if(b==this.getElement())break;if(b.getAttribute("role")==Blockly.utils.aria.Role.GROUP)break;b=b.parentNode}return null};Blockly.tree.TreeControl.prototype.createNode=function(a){return new Blockly.tree.TreeNode(this.toolbox_,a||"",this.config_)};Blockly.Toolbox=function(a){this.workspace_=a;this.RTL=a.options.RTL;this.horizontalLayout_=a.options.horizontalLayout;this.toolboxPosition=a.options.toolboxPosition;this.config_={indentWidth:19,cssRoot:"blocklyTreeRoot",cssHideRoot:"blocklyHidden",cssTreeRow:"blocklyTreeRow",cssItemLabel:"blocklyTreeLabel",cssTreeIcon:"blocklyTreeIcon",cssExpandedFolderIcon:"blocklyTreeIconOpen",cssFileIcon:"blocklyTreeIconNone",cssSelectedRow:"blocklyTreeSelected"};this.treeSeparatorConfig_={cssTreeRow:"blocklyTreeSeparator"};
this.horizontalLayout_&&(this.config_.cssTreeRow+=a.RTL?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.treeSeparatorConfig_.cssTreeRow="blocklyTreeSeparatorHorizontal "+(a.RTL?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),this.config_.cssTreeIcon="");this.flyout_=null};Blockly.Toolbox.prototype.width=0;Blockly.Toolbox.prototype.height=0;Blockly.Toolbox.prototype.selectedOption_=null;Blockly.Toolbox.prototype.lastCategory_=null;
Blockly.Toolbox.prototype.init=function(){var a=this.workspace_,b=this.workspace_.getParentSvg();this.HtmlDiv=document.createElement("div");this.HtmlDiv.className="blocklyToolboxDiv blocklyNonSelectable";this.HtmlDiv.setAttribute("dir",a.RTL?"RTL":"LTR");b.parentNode.insertBefore(this.HtmlDiv,b);var c=a.getThemeManager();c.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color");c.subscribe(this.HtmlDiv,"toolboxForegroundColour","color");Blockly.bindEventWithChecks_(this.HtmlDiv,"mousedown",
this,function(a){Blockly.utils.isRightButton(a)||a.target==this.HtmlDiv?Blockly.hideChaff(!1):Blockly.hideChaff(!0);Blockly.Touch.clearTouchIdentifier()},!1,!0);c=new Blockly.Options({parentWorkspace:a,rtl:a.RTL,oneBasedIndex:a.options.oneBasedIndex,horizontalLayout:a.horizontalLayout,renderer:a.options.renderer,rendererOverrides:a.options.rendererOverrides});c.toolboxPosition=a.options.toolboxPosition;if(a.horizontalLayout){if(!Blockly.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");
this.flyout_=new Blockly.HorizontalFlyout(c)}else{if(!Blockly.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout_=new Blockly.VerticalFlyout(c)}if(!this.flyout_)throw Error("One of Blockly.VerticalFlyout or Blockly.Horizontal must berequired.");Blockly.utils.dom.insertAfter(this.flyout_.createDom("svg"),b);this.flyout_.init(a);this.config_.cleardotPath=a.options.pathToMedia+"1x1.gif";this.config_.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(a.RTL?"Rtl":"Ltr");
this.renderTree(a.options.languageTree)};
Blockly.Toolbox.prototype.renderTree=function(a){this.tree_&&(this.tree_.dispose(),this.lastCategory_=null);var b=new Blockly.tree.TreeControl(this,this.config_);this.tree_=b;b.setSelectedItem(null);b.onBeforeSelected(this.handleBeforeTreeSelected_);b.onAfterSelected(this.handleAfterTreeSelected_);var c=null;if(a){this.tree_.blocks=[];this.hasColours_=!1;c=this.syncTrees_(a,this.tree_,this.workspace_.options.pathToMedia);if(this.tree_.blocks.length)throw Error("Toolbox cannot have both blocks and categories in the root level.");this.workspace_.resizeContents()}b.render(this.HtmlDiv);
c&&b.setSelectedItem(c);this.addColour_();this.position();this.horizontalLayout_&&Blockly.utils.aria.setState(this.tree_.getElement(),Blockly.utils.aria.State.ORIENTATION,"horizontal")};Blockly.Toolbox.prototype.handleBeforeTreeSelected_=function(a){if(a==this.tree_)return!1;this.lastCategory_&&(this.lastCategory_.getRowElement().style.backgroundColor="");if(a){var b=a.hexColour||"#57e";a.getRowElement().style.backgroundColor=b;this.addColour_(a)}return!0};
Blockly.Toolbox.prototype.handleAfterTreeSelected_=function(a,b){b&&b.blocks&&b.blocks.length?(this.flyout_.show(b.blocks),this.lastCategory_!=b&&this.flyout_.scrollToStart(),this.workspace_.keyboardAccessibilityMode&&Blockly.navigation.setState(Blockly.navigation.STATE_TOOLBOX)):(this.flyout_.hide(),!this.workspace_.keyboardAccessibilityMode||b instanceof Blockly.Toolbox.TreeSeparator||Blockly.navigation.setState(Blockly.navigation.STATE_WS));a!=b&&a!=this&&(a=new Blockly.Events.Ui(null,"category",
a&&a.content,b&&b.content),a.workspaceId=this.workspace_.id,Blockly.Events.fire(a));b&&(this.lastCategory_=b)};Blockly.Toolbox.prototype.handleNodeSizeChanged_=function(){Blockly.svgResize(this.workspace_)};
Blockly.Toolbox.prototype.onBlocklyAction=function(a){var b=this.tree_.getSelectedItem();if(!b)return!1;switch(a.name){case Blockly.navigation.actionNames.PREVIOUS:return b.selectPrevious();case Blockly.navigation.actionNames.OUT:return b.selectParent();case Blockly.navigation.actionNames.NEXT:return b.selectNext();case Blockly.navigation.actionNames.IN:return b.selectChild();default:return!1}};
Blockly.Toolbox.prototype.dispose=function(){this.flyout_.dispose();this.tree_.dispose();this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv);Blockly.utils.dom.removeNode(this.HtmlDiv);this.lastCategory_=null};Blockly.Toolbox.prototype.getWidth=function(){return this.width};Blockly.Toolbox.prototype.getHeight=function(){return this.height};Blockly.Toolbox.prototype.getFlyout=function(){return this.flyout_};
Blockly.Toolbox.prototype.position=function(){var a=this.HtmlDiv;if(a){var b=Blockly.svgSize(this.workspace_.getParentSvg());this.horizontalLayout_?(a.style.left="0",a.style.height="auto",a.style.width=b.width+"px",this.height=a.offsetHeight,this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?a.style.top="0":a.style.bottom="0"):(this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?a.style.right="0":a.style.left="0",a.style.height=b.height+"px",this.width=a.offsetWidth);this.flyout_.position()}};
Blockly.Toolbox.prototype.syncTrees_=function(a,b,c){for(var d=null,e=null,f=0,g;g=a.childNodes[f];f++)if(g.tagName)switch(g.tagName.toUpperCase()){case "CATEGORY":e=Blockly.utils.replaceMessageReferences(g.getAttribute("name"));var h=this.tree_.createNode(e);h.onSizeChanged(this.handleNodeSizeChanged_);h.blocks=[];b.add(h);var k=g.getAttribute("custom");k?h.blocks=k:(k=this.syncTrees_(g,h,c))&&(d=k);k=g.getAttribute("categorystyle");var l=g.getAttribute("colour");l&&k?(h.hexColour="",console.warn('Toolbox category "'+
e+'" can not have both a style and a colour')):k?this.setColourFromStyle_(k,h,e):this.setColour_(l,h,e);"true"==g.getAttribute("expanded")?(h.blocks.length&&(d=h),h.setExpanded(!0)):h.setExpanded(!1);e=g;break;case "SEP":if(e&&"CATEGORY"==e.tagName.toUpperCase()){b.add(new Blockly.Toolbox.TreeSeparator(this.treeSeparatorConfig_));break}case "BLOCK":case "SHADOW":case "LABEL":case "BUTTON":b.blocks.push(g),e=g}return d};
Blockly.Toolbox.prototype.setColour_=function(a,b,c){a=Blockly.utils.replaceMessageReferences(a);if(null===a||""===a)b.hexColour="";else{var d=Number(a);isNaN(d)?(d=Blockly.utils.colour.parse(a))?(b.hexColour=d,this.hasColours_=!0):(b.hexColour="",console.warn('Toolbox category "'+c+'" has unrecognized colour attribute: '+a)):(b.hexColour=Blockly.hueToHex(d),this.hasColours_=!0)}};
Blockly.Toolbox.prototype.setColourFromStyle_=function(a,b,c){b.styleName=a;var d=this.workspace_.getTheme();a&&d&&((d=d.categoryStyles[a])&&d.colour?this.setColour_(d.colour,b,c):console.warn('Style "'+a+'" must exist and contain a colour value'))};Blockly.Toolbox.prototype.updateColourFromTheme_=function(a){if(a=a||this.tree_){a=a.getChildren(!1);for(var b=0,c;c=a[b];b++)c.styleName&&(this.setColourFromStyle_(c.styleName,c,""),this.addColour_()),this.updateColourFromTheme_(c)}};
Blockly.Toolbox.prototype.updateColourFromTheme=function(){var a=this.tree_;a&&(this.updateColourFromTheme_(a),this.updateSelectedItemColour_(a))};Blockly.Toolbox.prototype.updateSelectedItemColour_=function(a){if(a=a.getSelectedItem()){var b=a.hexColour||"#57e";a.getRowElement().style.backgroundColor=b;this.addColour_(a)}};
Blockly.Toolbox.prototype.addColour_=function(a){a=(a||this.tree_).getChildren(!1);for(var b=0,c;c=a[b];b++){var d=c.getRowElement();if(d){var e=this.hasColours_?"8px solid "+(c.hexColour||"#ddd"):"none";this.workspace_.RTL?d.style.borderRight=e:d.style.borderLeft=e}this.addColour_(c)}};Blockly.Toolbox.prototype.clearSelection=function(){this.tree_.setSelectedItem(null)};Blockly.Toolbox.prototype.addStyle=function(a){Blockly.utils.dom.addClass(this.HtmlDiv,a)};
Blockly.Toolbox.prototype.removeStyle=function(a){Blockly.utils.dom.removeClass(this.HtmlDiv,a)};
Blockly.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv)return null;var a=this.HtmlDiv.getBoundingClientRect(),b=a.top,c=b+a.height,d=a.left;a=d+a.width;return this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?new Blockly.utils.Rect(-1E7,c,-1E7,1E7):this.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?new Blockly.utils.Rect(b,1E7,-1E7,1E7):this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT?new Blockly.utils.Rect(-1E7,1E7,-1E7,a):new Blockly.utils.Rect(-1E7,1E7,d,1E7)};
Blockly.Toolbox.prototype.refreshSelection=function(){var a=this.tree_.getSelectedItem();a&&a.blocks&&this.flyout_.show(a.blocks)};Blockly.Toolbox.prototype.selectFirstCategory=function(){this.tree_.getSelectedItem()||this.tree_.selectChild()};Blockly.Toolbox.TreeSeparator=function(a){Blockly.tree.TreeNode.call(this,null,"",a)};Blockly.utils.object.inherits(Blockly.Toolbox.TreeSeparator,Blockly.tree.TreeNode);
Blockly.Css.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {",
"height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;",
"margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {",
"background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",
'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]);Blockly.Trashcan=function(a){this.workspace_=a;this.contents_=[];this.flyout=null;if(!(0>=this.workspace_.options.maxTrashcanContents)){a=new Blockly.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides});if(this.workspace_.horizontalLayout){a.toolboxPosition=this.workspace_.toolboxPosition==Blockly.TOOLBOX_AT_TOP?Blockly.TOOLBOX_AT_BOTTOM:
Blockly.TOOLBOX_AT_TOP;if(!Blockly.HorizontalFlyout)throw Error("Missing require for Blockly.HorizontalFlyout");this.flyout=new Blockly.HorizontalFlyout(a)}else{a.toolboxPosition=this.workspace_.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?Blockly.TOOLBOX_AT_LEFT:Blockly.TOOLBOX_AT_RIGHT;if(!Blockly.VerticalFlyout)throw Error("Missing require for Blockly.VerticalFlyout");this.flyout=new Blockly.VerticalFlyout(a)}this.workspace_.addChangeListener(this.onDelete_.bind(this))}};
Blockly.Trashcan.prototype.WIDTH_=47;Blockly.Trashcan.prototype.BODY_HEIGHT_=44;Blockly.Trashcan.prototype.LID_HEIGHT_=16;Blockly.Trashcan.prototype.MARGIN_BOTTOM_=20;Blockly.Trashcan.prototype.MARGIN_SIDE_=20;Blockly.Trashcan.prototype.MARGIN_HOTSPOT_=10;Blockly.Trashcan.prototype.SPRITE_LEFT_=0;Blockly.Trashcan.prototype.SPRITE_TOP_=32;Blockly.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE_=.1;Blockly.Trashcan.ANIMATION_LENGTH_=80;Blockly.Trashcan.ANIMATION_FRAMES_=4;Blockly.Trashcan.OPACITY_MIN_=.4;
Blockly.Trashcan.OPACITY_MAX_=.8;Blockly.Trashcan.MAX_LID_ANGLE_=45;Blockly.Trashcan.prototype.isOpen=!1;Blockly.Trashcan.prototype.minOpenness_=0;Blockly.Trashcan.prototype.svgGroup_=null;Blockly.Trashcan.prototype.svgLid_=null;Blockly.Trashcan.prototype.lidTask_=0;Blockly.Trashcan.prototype.lidOpen_=0;Blockly.Trashcan.prototype.left_=0;Blockly.Trashcan.prototype.top_=0;
Blockly.Trashcan.prototype.createDom=function(){this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var b=Blockly.utils.dom.createSvgElement("clipPath",{id:"blocklyTrashBodyClipPath"+a},this.svgGroup_);Blockly.utils.dom.createSvgElement("rect",{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},b);var c=Blockly.utils.dom.createSvgElement("image",{width:Blockly.SPRITE.width,x:-this.SPRITE_LEFT_,height:Blockly.SPRITE.height,
y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.svgGroup_);c.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+Blockly.SPRITE.url);b=Blockly.utils.dom.createSvgElement("clipPath",{id:"blocklyTrashLidClipPath"+a},this.svgGroup_);Blockly.utils.dom.createSvgElement("rect",{width:this.WIDTH_,height:this.LID_HEIGHT_},b);this.svgLid_=Blockly.utils.dom.createSvgElement("image",{width:Blockly.SPRITE.width,x:-this.SPRITE_LEFT_,height:Blockly.SPRITE.height,
y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.svgGroup_);this.svgLid_.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+Blockly.SPRITE.url);Blockly.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.click);Blockly.bindEvent_(c,"mouseover",this,this.mouseOver_);Blockly.bindEvent_(c,"mouseout",this,this.mouseOut_);this.animateLid_();return this.svgGroup_};
Blockly.Trashcan.prototype.init=function(a){0<this.workspace_.options.maxTrashcanContents&&(Blockly.utils.dom.insertAfter(this.flyout.createDom("svg"),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_));this.verticalSpacing_=this.MARGIN_BOTTOM_+a;this.setOpen(!1);return this.verticalSpacing_+this.BODY_HEIGHT_+this.LID_HEIGHT_};
Blockly.Trashcan.prototype.dispose=function(){this.svgGroup_&&(Blockly.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null);this.workspace_=this.svgLid_=null;clearTimeout(this.lidTask_)};Blockly.Trashcan.prototype.contentsIsOpen=function(){return this.flyout.isVisible()};Blockly.Trashcan.prototype.emptyContents=function(){this.contents_.length&&(this.contents_.length=0,this.setMinOpenness_(0),this.contentsIsOpen()&&this.flyout.hide())};
Blockly.Trashcan.prototype.position=function(){if(this.verticalSpacing_){var a=this.workspace_.getMetrics();a&&(this.left_=a.toolboxPosition==Blockly.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?a.viewWidth+a.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,this.top_=a.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?this.verticalSpacing_:a.viewHeight+a.absoluteTop-(this.BODY_HEIGHT_+this.LID_HEIGHT_)-
this.verticalSpacing_,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))}};Blockly.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var a=this.svgGroup_.getBoundingClientRect(),b=a.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;a=a.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_;return new Blockly.utils.Rect(b,b+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,a,a+this.WIDTH_+2*this.MARGIN_HOTSPOT_)};
Blockly.Trashcan.prototype.setOpen=function(a){this.isOpen!=a&&(clearTimeout(this.lidTask_),this.isOpen=a,this.animateLid_())};
Blockly.Trashcan.prototype.animateLid_=function(){var a=Blockly.Trashcan.ANIMATION_FRAMES_,b=1/(a+1);this.lidOpen_+=this.isOpen?b:-b;this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1);this.setLidAngle_(this.lidOpen_*Blockly.Trashcan.MAX_LID_ANGLE_);b=Blockly.Trashcan.OPACITY_MIN_;this.svgGroup_.style.opacity=b+this.lidOpen_*(Blockly.Trashcan.OPACITY_MAX_-b);this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),Blockly.Trashcan.ANIMATION_LENGTH_/
a))};Blockly.Trashcan.prototype.setLidAngle_=function(a){var b=this.workspace_.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(b?-a:a)+","+(b?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")};Blockly.Trashcan.prototype.setMinOpenness_=function(a){this.minOpenness_=a;this.isOpen||this.setLidAngle_(a*Blockly.Trashcan.MAX_LID_ANGLE_)};Blockly.Trashcan.prototype.close=function(){this.setOpen(!1)};
Blockly.Trashcan.prototype.click=function(){if(this.contents_.length){for(var a=[],b=0,c;c=this.contents_[b];b++)a[b]=Blockly.Xml.textToDom(c);this.flyout.show(a)}};Blockly.Trashcan.prototype.mouseOver_=function(){this.contents_.length&&this.setOpen(!0)};Blockly.Trashcan.prototype.mouseOut_=function(){this.setOpen(!1)};
Blockly.Trashcan.prototype.onDelete_=function(a){if(!(0>=this.workspace_.options.maxTrashcanContents)&&a.type==Blockly.Events.BLOCK_DELETE&&"shadow"!=a.oldXml.tagName.toLowerCase()&&(a=this.cleanBlockXML_(a.oldXml),-1==this.contents_.indexOf(a))){for(this.contents_.unshift(a);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(this.HAS_BLOCKS_LID_ANGLE_)}};
Blockly.Trashcan.prototype.cleanBlockXML_=function(a){for(var b=a=a.cloneNode(!0);b;){b.removeAttribute&&(b.removeAttribute("x"),b.removeAttribute("y"),b.removeAttribute("id"),b.removeAttribute("disabled"),"comment"==b.nodeName&&(b.removeAttribute("h"),b.removeAttribute("w"),b.removeAttribute("pinned")));var c=b.firstChild||b.nextSibling;if(!c)for(c=b.parentNode;c;){if(c.nextSibling){c=c.nextSibling;break}c=c.parentNode}b=c}return Blockly.Xml.domToText(a)};Blockly.VariablesDynamic={};Blockly.VariablesDynamic.onCreateVariableButtonClick_String=function(a){Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(),void 0,"String")};Blockly.VariablesDynamic.onCreateVariableButtonClick_Number=function(a){Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(),void 0,"Number")};Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour=function(a){Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(),void 0,"Colour")};
Blockly.VariablesDynamic.flyoutCategory=function(a){var b=[],c=document.createElement("button");c.setAttribute("text",Blockly.Msg.NEW_STRING_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_STRING");b.push(c);c=document.createElement("button");c.setAttribute("text",Blockly.Msg.NEW_NUMBER_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER");b.push(c);c=document.createElement("button");c.setAttribute("text",Blockly.Msg.NEW_COLOUR_VARIABLE);c.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR");
b.push(c);a.registerButtonCallback("CREATE_VARIABLE_STRING",Blockly.VariablesDynamic.onCreateVariableButtonClick_String);a.registerButtonCallback("CREATE_VARIABLE_NUMBER",Blockly.VariablesDynamic.onCreateVariableButtonClick_Number);a.registerButtonCallback("CREATE_VARIABLE_COLOUR",Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour);a=Blockly.VariablesDynamic.flyoutCategoryBlocks(a);return b=b.concat(a)};
Blockly.VariablesDynamic.flyoutCategoryBlocks=function(a){a=a.getAllVariables();var b=[];if(0<a.length){if(Blockly.Blocks.variables_set_dynamic){var c=a[a.length-1],d=Blockly.utils.xml.createElement("block");d.setAttribute("type","variables_set_dynamic");d.setAttribute("gap",24);d.appendChild(Blockly.Variables.generateVariableFieldDom(c));b.push(d)}if(Blockly.Blocks.variables_get_dynamic){a.sort(Blockly.VariableModel.compareByName);c=0;for(var e;e=a[c];c++)d=Blockly.utils.xml.createElement("block"),
d.setAttribute("type","variables_get_dynamic"),d.setAttribute("gap",8),d.appendChild(Blockly.Variables.generateVariableFieldDom(e)),b.push(d)}}return b};Blockly.ZoomControls=function(a){this.workspace_=a};Blockly.ZoomControls.prototype.WIDTH_=32;Blockly.ZoomControls.prototype.HEIGHT_=110;Blockly.ZoomControls.prototype.MARGIN_BOTTOM_=20;Blockly.ZoomControls.prototype.MARGIN_SIDE_=20;Blockly.ZoomControls.prototype.svgGroup_=null;Blockly.ZoomControls.prototype.left_=0;Blockly.ZoomControls.prototype.top_=0;
Blockly.ZoomControls.prototype.createDom=function(){this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{},null);var a=String(Math.random()).substring(2);this.createZoomOutSvg_(a);this.createZoomInSvg_(a);this.workspace_.isMovable()&&this.createZoomResetSvg_(a);return this.svgGroup_};Blockly.ZoomControls.prototype.init=function(a){this.verticalSpacing_=this.MARGIN_BOTTOM_+a;return this.verticalSpacing_+this.HEIGHT_};Blockly.ZoomControls.prototype.dispose=function(){this.svgGroup_&&Blockly.utils.dom.removeNode(this.svgGroup_)};
Blockly.ZoomControls.prototype.position=function(){if(this.verticalSpacing_){var a=this.workspace_.getMetrics();a&&(this.left_=a.toolboxPosition==Blockly.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?a.viewWidth+a.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness:this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,a.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?(this.top_=this.verticalSpacing_,this.zoomInGroup_.setAttribute("transform","translate(0, 34)"),
this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, 77)")):(this.top_=a.viewHeight+a.absoluteTop-this.HEIGHT_-this.verticalSpacing_,this.zoomInGroup_.setAttribute("transform","translate(0, 43)"),this.zoomOutGroup_.setAttribute("transform","translate(0, 77)")),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))}};
Blockly.ZoomControls.prototype.createZoomOutSvg_=function(a){var b=this.workspace_;this.zoomOutGroup_=Blockly.utils.dom.createSvgElement("g",{"class":"blocklyZoom"},this.svgGroup_);var c=Blockly.utils.dom.createSvgElement("clipPath",{id:"blocklyZoomoutClipPath"+a},this.zoomOutGroup_);Blockly.utils.dom.createSvgElement("rect",{width:32,height:32},c);a=Blockly.utils.dom.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+
a+")"},this.zoomOutGroup_);a.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",b.options.pathToMedia+Blockly.SPRITE.url);Blockly.bindEventWithChecks_(a,"mousedown",null,function(a){b.markFocused();b.zoomCenter(-1);Blockly.Touch.clearTouchIdentifier();a.stopPropagation();a.preventDefault()})};
Blockly.ZoomControls.prototype.createZoomInSvg_=function(a){var b=this.workspace_;this.zoomInGroup_=Blockly.utils.dom.createSvgElement("g",{"class":"blocklyZoom"},this.svgGroup_);var c=Blockly.utils.dom.createSvgElement("clipPath",{id:"blocklyZoominClipPath"+a},this.zoomInGroup_);Blockly.utils.dom.createSvgElement("rect",{width:32,height:32},c);a=Blockly.utils.dom.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+
a+")"},this.zoomInGroup_);a.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",b.options.pathToMedia+Blockly.SPRITE.url);Blockly.bindEventWithChecks_(a,"mousedown",null,function(a){b.markFocused();b.zoomCenter(1);Blockly.Touch.clearTouchIdentifier();a.stopPropagation();a.preventDefault()})};
Blockly.ZoomControls.prototype.createZoomResetSvg_=function(a){var b=this.workspace_;this.zoomResetGroup_=Blockly.utils.dom.createSvgElement("g",{"class":"blocklyZoom"},this.svgGroup_);var c=Blockly.utils.dom.createSvgElement("clipPath",{id:"blocklyZoomresetClipPath"+a},this.zoomResetGroup_);Blockly.utils.dom.createSvgElement("rect",{width:32,height:32},c);a=Blockly.utils.dom.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+
a+")"},this.zoomResetGroup_);a.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",b.options.pathToMedia+Blockly.SPRITE.url);Blockly.bindEventWithChecks_(a,"mousedown",null,function(a){b.markFocused();b.setScale(b.options.zoomOptions.startScale);b.beginCanvasTransition();b.scrollCenter();setTimeout(b.endCanvasTransition.bind(b),500);Blockly.Touch.clearTouchIdentifier();a.stopPropagation();a.preventDefault()})};
Blockly.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]);Blockly.Mutator=function(a){Blockly.Mutator.superClass_.constructor.call(this,null);this.quarkNames_=a};Blockly.utils.object.inherits(Blockly.Mutator,Blockly.Icon);Blockly.Mutator.prototype.workspaceWidth_=0;Blockly.Mutator.prototype.workspaceHeight_=0;Blockly.Mutator.prototype.setBlock=function(a){this.block_=a};Blockly.Mutator.prototype.getWorkspace=function(){return this.workspace_};
Blockly.Mutator.prototype.drawIcon_=function(a){Blockly.utils.dom.createSvgElement("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},a);Blockly.utils.dom.createSvgElement("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},
a);Blockly.utils.dom.createSvgElement("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},a)};Blockly.Mutator.prototype.iconClick_=function(a){this.block_.isEditable()&&Blockly.Icon.prototype.iconClick_.call(this,a)};
Blockly.Mutator.prototype.createEditor_=function(){this.svgDialog_=Blockly.utils.dom.createSvgElement("svg",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null);if(this.quarkNames_.length)for(var a=Blockly.utils.xml.createElement("xml"),b=0,c;c=this.quarkNames_[b];b++){var d=Blockly.utils.xml.createElement("block");d.setAttribute("type",c);a.appendChild(d)}else a=null;b=new Blockly.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,
rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides});b.toolboxPosition=this.block_.RTL?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT;b.languageTree=a;b.getMetrics=this.getFlyoutMetrics_.bind(this);this.workspace_=new Blockly.WorkspaceSvg(b);this.workspace_.isMutator=!0;this.workspace_.addChangeListener(Blockly.Events.disableOrphans);a=this.workspace_.addFlyout("g");b=this.workspace_.createDom("blocklyMutatorBackground");
b.insertBefore(a,this.workspace_.svgBlockCanvas_);this.svgDialog_.appendChild(b);return this.svgDialog_};Blockly.Mutator.prototype.updateEditable=function(){Blockly.Mutator.superClass_.updateEditable.call(this);this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&Blockly.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&Blockly.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))};
Blockly.Mutator.prototype.resizeBubble_=function(){var a=2*Blockly.Bubble.BORDER_WIDTH,b=this.workspace_.getCanvas().getBBox();var c=this.block_.RTL?-b.x:b.width+b.x;b=b.height+3*a;var d=this.workspace_.getFlyout();d&&(d=d.getMetrics_(),b=Math.max(b,d.contentHeight+20));c+=3*a;if(Math.abs(this.workspaceWidth_-c)>a||Math.abs(this.workspaceHeight_-b)>a)this.workspaceWidth_=c,this.workspaceHeight_=b,this.bubble_.setBubbleSize(c+a,b+a),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",
this.workspaceHeight_);this.block_.RTL&&(a="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",a));this.workspace_.resize()};Blockly.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDeleteAreas()};
Blockly.Mutator.prototype.setVisible=function(a){if(a!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"mutatorOpen",!a,a)),a){this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null);this.bubble_.setSvgId(this.block_.id);this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var b=this.workspace_.options.languageTree;a=this.workspace_.getFlyout();b&&(a.init(this.workspace_),a.show(b.childNodes));
this.rootBlock_=this.block_.decompose(this.workspace_);b=this.rootBlock_.getDescendants(!1);for(var c=0,d;d=b[c];c++)d.render();this.rootBlock_.setMovable(!1);this.rootBlock_.setDeletable(!1);a?(b=2*a.CORNER_RADIUS,a=a.getWidth()+b):a=b=16;this.block_.RTL&&(a=-a);this.rootBlock_.moveBy(a,b);if(this.block_.saveConnections){var e=this,f=this.block_;f.saveConnections(this.rootBlock_);this.sourceListener_=function(){f.saveConnections(e.rootBlock_)};this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_();
this.workspace_.addChangeListener(this.workspaceChanged_.bind(this));this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)};
Blockly.Mutator.prototype.workspaceChanged_=function(a){if(a.type!=Blockly.Events.UI&&(a.type!=Blockly.Events.CHANGE||"disabled"!=a.element)){if(!this.workspace_.isDragging()){a=this.workspace_.getTopBlocks(!1);for(var b=0,c;c=a[b];b++){var d=c.getRelativeToSurfaceXY(),e=c.getHeightWidth();20>d.y+e.height&&c.moveBy(0,20-e.height-d.y)}}if(this.rootBlock_.workspace==this.workspace_){Blockly.Events.setGroup(!0);c=this.block_;a=(a=c.mutationToDom())&&Blockly.Xml.domToText(a);c.compose(this.rootBlock_);
c.initSvg();c.render();Blockly.getMainWorkspace().keyboardAccessibilityMode&&Blockly.navigation.moveCursorOnBlockMutation(c);b=(b=c.mutationToDom())&&Blockly.Xml.domToText(b);if(a!=b){Blockly.Events.fire(new Blockly.Events.BlockChange(c,"mutation",null,a,b));var f=Blockly.Events.getGroup();setTimeout(function(){Blockly.Events.setGroup(f);c.bumpNeighbours();Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY)}this.workspace_.isDragging()||this.resizeBubble_();Blockly.Events.setGroup(!1)}}};
Blockly.Mutator.prototype.getFlyoutMetrics_=function(){return{viewHeight:this.workspaceHeight_,viewWidth:this.workspaceWidth_-this.workspace_.getFlyout().getWidth(),absoluteTop:0,absoluteLeft:this.workspace_.RTL?0:this.workspace_.getFlyout().getWidth()}};Blockly.Mutator.prototype.dispose=function(){this.block_.mutator=null;Blockly.Icon.prototype.dispose.call(this)};
Blockly.Mutator.prototype.updateBlockStyle=function(){var a=this.workspace_;if(a&&a.getAllBlocks(!1)){for(var b=a.getAllBlocks(!1),c=0;c<b.length;c++){var d=b[c];d.setStyle(d.getStyleName())}a=a.getFlyout().workspace_.getAllBlocks(!1);for(c=0;c<a.length;c++)d=a[c],d.setStyle(d.getStyleName())}};
Blockly.Mutator.reconnect=function(a,b,c){if(!a||!a.getSourceBlock().workspace)return!1;c=b.getInput(c).connection;var d=a.targetBlock();return d&&d!=b||c.targetConnection==a?!1:(c.isConnected()&&c.disconnect(),c.connect(a),!0)};Blockly.Mutator.findParentWs=function(a){var b=null;if(a&&a.options){var c=a.options.parentWorkspace;a.isFlyout?c&&c.options&&(b=c.options.parentWorkspace):c&&(b=c)}return b};Blockly.FieldTextInput=function(a,b,c){this.spellcheck_=!0;null==a&&(a="");Blockly.FieldTextInput.superClass_.constructor.call(this,a,b,c);this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.htmlInput_=null;this.fullBlockClickTarget_=!1};Blockly.utils.object.inherits(Blockly.FieldTextInput,Blockly.Field);Blockly.FieldTextInput.fromJson=function(a){var b=Blockly.utils.replaceMessageReferences(a.text);return new Blockly.FieldTextInput(b,void 0,a)};Blockly.FieldTextInput.prototype.SERIALIZABLE=!0;
Blockly.FieldTextInput.BORDERRADIUS=4;Blockly.FieldTextInput.prototype.CURSOR="text";Blockly.FieldTextInput.prototype.configure_=function(a){Blockly.FieldTextInput.superClass_.configure_.call(this,a);"boolean"==typeof a.spellcheck&&(this.spellcheck_=a.spellcheck)};
Blockly.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var a=0,b=0,c=0,d;d=this.sourceBlock_.inputList[c];c++){for(var e=0;d.fieldRow[e];e++)a++;d.connection&&b++}this.fullBlockClickTarget_=1>=a&&this.sourceBlock_.outputConnection&&!b}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_();this.createTextElement_()};
Blockly.FieldTextInput.prototype.doClassValidation_=function(a){return null===a||void 0===a?null:String(a)};Blockly.FieldTextInput.prototype.doValueInvalid_=function(a){this.isBeingEdited_&&(this.isTextValid_=!1,a=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name||null,a,this.value_)))};
Blockly.FieldTextInput.prototype.doValueUpdate_=function(a){this.isTextValid_=!0;this.value_=a;this.isBeingEdited_||(this.isDirty_=!0)};Blockly.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))};
Blockly.FieldTextInput.prototype.render_=function(){Blockly.FieldTextInput.superClass_.render_.call(this);if(this.isBeingEdited_){this.resizeEditor_();var a=this.htmlInput_;this.isTextValid_?(Blockly.utils.dom.removeClass(a,"blocklyInvalidInput"),Blockly.utils.aria.setState(a,Blockly.utils.aria.State.INVALID,!1)):(Blockly.utils.dom.addClass(a,"blocklyInvalidInput"),Blockly.utils.aria.setState(a,Blockly.utils.aria.State.INVALID,!0))}};
Blockly.FieldTextInput.prototype.setSpellcheck=function(a){a!=this.spellcheck_&&(this.spellcheck_=a,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))};Blockly.FieldTextInput.prototype.showEditor_=function(a,b){this.workspace_=this.sourceBlock_.workspace;a=b||!1;!a&&(Blockly.utils.userAgent.MOBILE||Blockly.utils.userAgent.ANDROID||Blockly.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(a)};
Blockly.FieldTextInput.prototype.showPromptEditor_=function(){var a=this;Blockly.prompt(Blockly.Msg.CHANGE_VALUE_TITLE,this.getText(),function(b){a.setValue(b)})};Blockly.FieldTextInput.prototype.showInlineEditor_=function(a){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this));this.htmlInput_=this.widgetCreate_();this.isBeingEdited_=!0;a||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())};
Blockly.FieldTextInput.prototype.widgetCreate_=function(){var a=Blockly.WidgetDiv.DIV;Blockly.utils.dom.addClass(this.getClickTarget_(),"editing");var b=document.createElement("input");b.className="blocklyHtmlInput";b.setAttribute("spellcheck",this.spellcheck_);var c=this.workspace_.getScale(),d=this.getConstants().FIELD_TEXT_FONTSIZE*c+"pt";a.style.fontSize=d;b.style.fontSize=d;d=Blockly.FieldTextInput.BORDERRADIUS*c+"px";if(this.fullBlockClickTarget_){d=this.getScaledBBox();d=(d.bottom-d.top)/2+
"px";var e=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;b.style.border=1*c+"px solid "+e;a.style.borderRadius=d;a.style.transition="box-shadow 0.25s ease 0s";this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(a.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*c+"px")}b.style.borderRadius=d;a.appendChild(b);b.value=b.defaultValue=this.getEditorText_(this.value_);b.untypedDefaultValue_=this.value_;b.oldValue_=null;this.resizeEditor_();
this.bindInputEvents_(b);return b};Blockly.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1;this.isTextValid_=!0;this.forceRerender();if(this.onFinishEditing_)this.onFinishEditing_(this.value_);this.unbindInputEvents_();var a=Blockly.WidgetDiv.DIV.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.htmlInput_=null;Blockly.utils.dom.removeClass(this.getClickTarget_(),"editing")};
Blockly.FieldTextInput.prototype.bindInputEvents_=function(a){this.onKeyDownWrapper_=Blockly.bindEventWithChecks_(a,"keydown",this,this.onHtmlInputKeyDown_);this.onKeyInputWrapper_=Blockly.bindEventWithChecks_(a,"input",this,this.onHtmlInputChange_)};
Blockly.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&(Blockly.unbindEvent_(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null);this.onKeyInputWrapper_&&(Blockly.unbindEvent_(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)};
Blockly.FieldTextInput.prototype.onHtmlInputKeyDown_=function(a){a.keyCode==Blockly.utils.KeyCodes.ENTER?(Blockly.WidgetDiv.hide(),Blockly.DropDownDiv.hideWithoutAnimation()):a.keyCode==Blockly.utils.KeyCodes.ESC?(this.htmlInput_.value=this.htmlInput_.defaultValue,Blockly.WidgetDiv.hide(),Blockly.DropDownDiv.hideWithoutAnimation()):a.keyCode==Blockly.utils.KeyCodes.TAB&&(Blockly.WidgetDiv.hide(),Blockly.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!a.shiftKey),a.preventDefault())};
Blockly.FieldTextInput.prototype.onHtmlInputChange_=function(a){a=this.htmlInput_.value;a!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=a,Blockly.Events.setGroup(!0),a=this.getValueFromEditorText_(a),this.setValue(a),this.forceRerender(),this.resizeEditor_(),Blockly.Events.setGroup(!1))};Blockly.FieldTextInput.prototype.setEditorValue_=function(a){this.isDirty_=!0;this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(a));this.setValue(a)};
Blockly.FieldTextInput.prototype.resizeEditor_=function(){var a=Blockly.WidgetDiv.DIV,b=this.getScaledBBox();a.style.width=b.right-b.left+"px";a.style.height=b.bottom-b.top+"px";b=new Blockly.utils.Coordinate(this.sourceBlock_.RTL?b.right-a.offsetWidth:b.left,b.top);a.style.left=b.x+"px";a.style.top=b.y+"px"};
Blockly.FieldTextInput.numberValidator=function(a){console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.");if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=Number(a||0);return isNaN(a)?null:String(a)};Blockly.FieldTextInput.nonnegativeIntegerValidator=function(a){(a=Blockly.FieldTextInput.numberValidator(a))&&(a=String(Math.max(0,Math.floor(a))));return a};Blockly.FieldTextInput.prototype.isTabNavigable=function(){return!0};
Blockly.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null};Blockly.FieldTextInput.prototype.getEditorText_=function(a){return String(a)};Blockly.FieldTextInput.prototype.getValueFromEditorText_=function(a){return a};Blockly.fieldRegistry.register("field_input",Blockly.FieldTextInput);Blockly.FieldAngle=function(a,b,c){this.clockwise_=Blockly.FieldAngle.CLOCKWISE;this.offset_=Blockly.FieldAngle.OFFSET;this.wrap_=Blockly.FieldAngle.WRAP;this.round_=Blockly.FieldAngle.ROUND;Blockly.FieldAngle.superClass_.constructor.call(this,a||0,b,c);this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.line_=this.gauge_=null};Blockly.utils.object.inherits(Blockly.FieldAngle,Blockly.FieldTextInput);
Blockly.FieldAngle.fromJson=function(a){return new Blockly.FieldAngle(a.angle,void 0,a)};Blockly.FieldAngle.prototype.SERIALIZABLE=!0;Blockly.FieldAngle.ROUND=15;Blockly.FieldAngle.HALF=50;Blockly.FieldAngle.CLOCKWISE=!1;Blockly.FieldAngle.OFFSET=0;Blockly.FieldAngle.WRAP=360;Blockly.FieldAngle.RADIUS=Blockly.FieldAngle.HALF-1;
Blockly.FieldAngle.prototype.configure_=function(a){Blockly.FieldAngle.superClass_.configure_.call(this,a);switch(a.mode){case "compass":this.clockwise_=!0;this.offset_=90;break;case "protractor":this.clockwise_=!1,this.offset_=0}var b=a.clockwise;"boolean"==typeof b&&(this.clockwise_=b);b=a.offset;null!=b&&(b=Number(b),isNaN(b)||(this.offset_=b));b=a.wrap;null!=b&&(b=Number(b),isNaN(b)||(this.wrap_=b));a=a.round;null!=a&&(a=Number(a),isNaN(a)||(this.round_=a))};
Blockly.FieldAngle.prototype.initView=function(){Blockly.FieldAngle.superClass_.initView.call(this);this.symbol_=Blockly.utils.dom.createSvgElement("tspan",{},null);this.symbol_.appendChild(document.createTextNode("\u00b0"));this.textElement_.appendChild(this.symbol_)};Blockly.FieldAngle.prototype.render_=function(){Blockly.FieldAngle.superClass_.render_.call(this);this.updateGraph_()};
Blockly.FieldAngle.prototype.showEditor_=function(a){Blockly.FieldAngle.superClass_.showEditor_.call(this,a,Blockly.utils.userAgent.MOBILE||Blockly.utils.userAgent.ANDROID||Blockly.utils.userAgent.IPAD);a=this.dropdownCreate_();Blockly.DropDownDiv.getContentDiv().appendChild(a);Blockly.DropDownDiv.setColour(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary);Blockly.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this));this.updateGraph_()};
Blockly.FieldAngle.prototype.dropdownCreate_=function(){var a=Blockly.utils.dom.createSvgElement("svg",{xmlns:Blockly.utils.dom.SVG_NS,"xmlns:html":Blockly.utils.dom.HTML_NS,"xmlns:xlink":Blockly.utils.dom.XLINK_NS,version:"1.1",height:2*Blockly.FieldAngle.HALF+"px",width:2*Blockly.FieldAngle.HALF+"px",style:"touch-action: none"},null),b=Blockly.utils.dom.createSvgElement("circle",{cx:Blockly.FieldAngle.HALF,cy:Blockly.FieldAngle.HALF,r:Blockly.FieldAngle.RADIUS,"class":"blocklyAngleCircle"},a);this.gauge_=
Blockly.utils.dom.createSvgElement("path",{"class":"blocklyAngleGauge"},a);this.line_=Blockly.utils.dom.createSvgElement("line",{x1:Blockly.FieldAngle.HALF,y1:Blockly.FieldAngle.HALF,"class":"blocklyAngleLine"},a);for(var c=0;360>c;c+=15)Blockly.utils.dom.createSvgElement("line",{x1:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS,y1:Blockly.FieldAngle.HALF,x2:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS-(0==c%45?10:5),y2:Blockly.FieldAngle.HALF,"class":"blocklyAngleMarks",transform:"rotate("+
c+","+Blockly.FieldAngle.HALF+","+Blockly.FieldAngle.HALF+")"},a);this.clickWrapper_=Blockly.bindEventWithChecks_(a,"click",this,this.hide_);this.clickSurfaceWrapper_=Blockly.bindEventWithChecks_(b,"click",this,this.onMouseMove_,!0,!0);this.moveSurfaceWrapper_=Blockly.bindEventWithChecks_(b,"mousemove",this,this.onMouseMove_,!0,!0);return a};
Blockly.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&(Blockly.unbindEvent_(this.clickWrapper_),this.clickWrapper_=null);this.clickSurfaceWrapper_&&(Blockly.unbindEvent_(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null);this.moveSurfaceWrapper_&&(Blockly.unbindEvent_(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null);this.line_=this.gauge_=null};Blockly.FieldAngle.prototype.hide_=function(){Blockly.DropDownDiv.hideIfOwner(this);Blockly.WidgetDiv.hide()};
Blockly.FieldAngle.prototype.onMouseMove_=function(a){var b=this.gauge_.ownerSVGElement.getBoundingClientRect(),c=a.clientX-b.left-Blockly.FieldAngle.HALF;a=a.clientY-b.top-Blockly.FieldAngle.HALF;b=Math.atan(-a/c);isNaN(b)||(b=Blockly.utils.math.toDegrees(b),0>c?b+=180:0<a&&(b+=360),b=this.clockwise_?this.offset_+360-b:360-(this.offset_-b),this.displayMouseOrKeyboardValue_(b))};
Blockly.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(a){this.round_&&(a=Math.round(a/this.round_)*this.round_);a=this.wrapValue_(a);a!=this.value_&&this.setEditorValue_(a)};
Blockly.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var a=Number(this.getText())+this.offset_,b=Blockly.utils.math.toRadians(a%360);a=["M ",Blockly.FieldAngle.HALF,",",Blockly.FieldAngle.HALF];var c=Blockly.FieldAngle.HALF,d=Blockly.FieldAngle.HALF;if(!isNaN(b)){var e=Number(this.clockwise_),f=Blockly.utils.math.toRadians(this.offset_),g=Math.cos(f)*Blockly.FieldAngle.RADIUS,h=Math.sin(f)*-Blockly.FieldAngle.RADIUS;e&&(b=2*f-b);c+=Math.cos(b)*Blockly.FieldAngle.RADIUS;d-=Math.sin(b)*
Blockly.FieldAngle.RADIUS;b=Math.abs(Math.floor((b-f)/Math.PI)%2);e&&(b=1-b);a.push(" l ",g,",",h," A ",Blockly.FieldAngle.RADIUS,",",Blockly.FieldAngle.RADIUS," 0 ",b," ",e," ",c,",",d," z")}this.gauge_.setAttribute("d",a.join(""));this.line_.setAttribute("x2",c);this.line_.setAttribute("y2",d)}};
Blockly.FieldAngle.prototype.onHtmlInputKeyDown_=function(a){Blockly.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,a);var b;a.keyCode===Blockly.utils.KeyCodes.LEFT?b=this.sourceBlock_.RTL?1:-1:a.keyCode===Blockly.utils.KeyCodes.RIGHT?b=this.sourceBlock_.RTL?-1:1:a.keyCode===Blockly.utils.KeyCodes.DOWN?b=-1:a.keyCode===Blockly.utils.KeyCodes.UP&&(b=1);if(b){var c=this.getValue();this.displayMouseOrKeyboardValue_(c+b*this.round_);a.preventDefault();a.stopPropagation()}};
Blockly.FieldAngle.prototype.doClassValidation_=function(a){a=Number(a);return isNaN(a)||!isFinite(a)?null:this.wrapValue_(a)};Blockly.FieldAngle.prototype.wrapValue_=function(a){a%=360;0>a&&(a+=360);a>this.wrap_&&(a-=360);return a};Blockly.Css.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(","));
Blockly.fieldRegistry.register("field_angle",Blockly.FieldAngle);Blockly.FieldCheckbox=function(a,b,c){this.checkChar_=null;null==a&&(a="FALSE");Blockly.FieldCheckbox.superClass_.constructor.call(this,a,b,c)};Blockly.utils.object.inherits(Blockly.FieldCheckbox,Blockly.Field);Blockly.FieldCheckbox.fromJson=function(a){return new Blockly.FieldCheckbox(a.checked,void 0,a)};Blockly.FieldCheckbox.CHECK_CHAR="\u2713";Blockly.FieldCheckbox.prototype.SERIALIZABLE=!0;Blockly.FieldCheckbox.prototype.CURSOR="default";
Blockly.FieldCheckbox.prototype.configure_=function(a){Blockly.FieldCheckbox.superClass_.configure_.call(this,a);a.checkCharacter&&(this.checkChar_=a.checkCharacter)};Blockly.FieldCheckbox.prototype.initView=function(){Blockly.FieldCheckbox.superClass_.initView.call(this);Blockly.utils.dom.addClass(this.textElement_,"blocklyCheckbox");this.textElement_.style.display=this.value_?"block":"none"};
Blockly.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_());this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)};Blockly.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_||Blockly.FieldCheckbox.CHECK_CHAR};Blockly.FieldCheckbox.prototype.setCheckCharacter=function(a){this.checkChar_=a;this.forceRerender()};Blockly.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)};
Blockly.FieldCheckbox.prototype.doClassValidation_=function(a){return!0===a||"TRUE"===a?"TRUE":!1===a||"FALSE"===a?"FALSE":null};Blockly.FieldCheckbox.prototype.doValueUpdate_=function(a){this.value_=this.convertValueToBool_(a);this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")};Blockly.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"};Blockly.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_};
Blockly.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))};Blockly.FieldCheckbox.prototype.convertValueToBool_=function(a){return"string"==typeof a?"TRUE"==a:!!a};Blockly.fieldRegistry.register("field_checkbox",Blockly.FieldCheckbox);Blockly.FieldColour=function(a,b,c){Blockly.FieldColour.superClass_.constructor.call(this,a||Blockly.FieldColour.COLOURS[0],b,c);this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null};Blockly.utils.object.inherits(Blockly.FieldColour,Blockly.Field);Blockly.FieldColour.fromJson=function(a){return new Blockly.FieldColour(a.colour,void 0,a)};Blockly.FieldColour.prototype.SERIALIZABLE=!0;
Blockly.FieldColour.prototype.CURSOR="default";Blockly.FieldColour.prototype.isDirty_=!1;Blockly.FieldColour.prototype.colours_=null;Blockly.FieldColour.prototype.titles_=null;Blockly.FieldColour.prototype.columns_=0;Blockly.FieldColour.prototype.configure_=function(a){Blockly.FieldColour.superClass_.configure_.call(this,a);a.colourOptions&&(this.colours_=a.colourOptions,this.titles_=a.colourTitles);a.columns&&(this.columns_=a.columns)};
Blockly.FieldColour.prototype.initView=function(){this.size_=new Blockly.utils.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT);this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")};
Blockly.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())};Blockly.FieldColour.prototype.doClassValidation_=function(a){return"string"!=typeof a?null:Blockly.utils.colour.parse(a)};
Blockly.FieldColour.prototype.doValueUpdate_=function(a){this.value_=a;this.borderRect_?this.borderRect_.style.fill=a:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",a),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))};Blockly.FieldColour.prototype.getText=function(){var a=this.value_;/^#(.)\1(.)\2(.)\3$/.test(a)&&(a="#"+a[1]+a[3]+a[5]);return a};Blockly.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" ");
Blockly.FieldColour.TITLES=[];Blockly.FieldColour.COLUMNS=7;Blockly.FieldColour.prototype.setColours=function(a,b){this.colours_=a;b&&(this.titles_=b);return this};Blockly.FieldColour.prototype.setColumns=function(a){this.columns_=a;return this};Blockly.FieldColour.prototype.showEditor_=function(){this.picker_=this.dropdownCreate_();Blockly.DropDownDiv.getContentDiv().appendChild(this.picker_);Blockly.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this));this.picker_.focus({preventScroll:!0})};
Blockly.FieldColour.prototype.onClick_=function(a){a=(a=a.target)&&a.label;null!==a&&(this.setValue(a),Blockly.DropDownDiv.hideIfOwner(this))};
Blockly.FieldColour.prototype.onKeyDown_=function(a){var b=!1;if(a.keyCode===Blockly.utils.KeyCodes.UP)this.moveHighlightBy_(0,-1),b=!0;else if(a.keyCode===Blockly.utils.KeyCodes.DOWN)this.moveHighlightBy_(0,1),b=!0;else if(a.keyCode===Blockly.utils.KeyCodes.LEFT)this.moveHighlightBy_(-1,0),b=!0;else if(a.keyCode===Blockly.utils.KeyCodes.RIGHT)this.moveHighlightBy_(1,0),b=!0;else if(a.keyCode===Blockly.utils.KeyCodes.ENTER){if(b=this.getHighlighted_())b=b&&b.label,null!==b&&this.setValue(b);Blockly.DropDownDiv.hideWithoutAnimation();
b=!0}b&&a.stopPropagation()};Blockly.FieldColour.prototype.onBlocklyAction=function(a){if(this.picker_){if(a===Blockly.navigation.ACTION_PREVIOUS)return this.moveHighlightBy_(0,-1),!0;if(a===Blockly.navigation.ACTION_NEXT)return this.moveHighlightBy_(0,1),!0;if(a===Blockly.navigation.ACTION_OUT)return this.moveHighlightBy_(-1,0),!0;if(a===Blockly.navigation.ACTION_IN)return this.moveHighlightBy_(1,0),!0}return Blockly.FieldColour.superClass_.onBlocklyAction.call(this,a)};
Blockly.FieldColour.prototype.moveHighlightBy_=function(a,b){var c=this.colours_||Blockly.FieldColour.COLOURS,d=this.columns_||Blockly.FieldColour.COLUMNS,e=this.highlightedIndex_%d,f=Math.floor(this.highlightedIndex_/d);e+=a;f+=b;0>a?0>e&&0<f?(e=d-1,f--):0>e&&(e=0):0<a?e>d-1&&f<Math.floor(c.length/d)-1?(e=0,f++):e>d-1&&e--:0>b?0>f&&(f=0):0<b&&f>Math.floor(c.length/d)-1&&(f=Math.floor(c.length/d)-1);this.setHighlightedCell_(this.picker_.childNodes[f].childNodes[e],f*d+e)};
Blockly.FieldColour.prototype.onMouseMove_=function(a){var b=(a=a.target)&&Number(a.getAttribute("data-index"));null!==b&&b!==this.highlightedIndex_&&this.setHighlightedCell_(a,b)};Blockly.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})};Blockly.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var a=this.getHighlighted_();a&&Blockly.utils.dom.removeClass(a,"blocklyColourHighlighted")};
Blockly.FieldColour.prototype.getHighlighted_=function(){var a=this.columns_||Blockly.FieldColour.COLUMNS,b=this.picker_.childNodes[Math.floor(this.highlightedIndex_/a)];return b?b.childNodes[this.highlightedIndex_%a]:null};
Blockly.FieldColour.prototype.setHighlightedCell_=function(a,b){var c=this.getHighlighted_();c&&Blockly.utils.dom.removeClass(c,"blocklyColourHighlighted");Blockly.utils.dom.addClass(a,"blocklyColourHighlighted");this.highlightedIndex_=b;Blockly.utils.aria.setState(this.picker_,Blockly.utils.aria.State.ACTIVEDESCENDANT,a.getAttribute("id"))};
Blockly.FieldColour.prototype.dropdownCreate_=function(){var a=this.columns_||Blockly.FieldColour.COLUMNS,b=this.colours_||Blockly.FieldColour.COLOURS,c=this.titles_||Blockly.FieldColour.TITLES,d=this.getValue(),e=document.createElement("table");e.className="blocklyColourTable";e.tabIndex=0;e.dir="ltr";Blockly.utils.aria.setRole(e,Blockly.utils.aria.Role.GRID);Blockly.utils.aria.setState(e,Blockly.utils.aria.State.EXPANDED,!0);Blockly.utils.aria.setState(e,Blockly.utils.aria.State.ROWCOUNT,Math.floor(b.length/
a));Blockly.utils.aria.setState(e,Blockly.utils.aria.State.COLCOUNT,a);for(var f,g=0;g<b.length;g++){0==g%a&&(f=document.createElement("tr"),Blockly.utils.aria.setRole(f,Blockly.utils.aria.Role.ROW),e.appendChild(f));var h=document.createElement("td");f.appendChild(h);h.label=b[g];h.title=c[g]||b[g];h.id=Blockly.utils.IdGenerator.getNextUniqueId();h.setAttribute("data-index",g);Blockly.utils.aria.setRole(h,Blockly.utils.aria.Role.GRIDCELL);Blockly.utils.aria.setState(h,Blockly.utils.aria.State.LABEL,
b[g]);Blockly.utils.aria.setState(h,Blockly.utils.aria.State.SELECTED,b[g]==d);h.style.backgroundColor=b[g];b[g]==d&&(h.className="blocklyColourSelected",this.highlightedIndex_=g)}this.onClickWrapper_=Blockly.bindEventWithChecks_(e,"click",this,this.onClick_,!0);this.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(e,"mousemove",this,this.onMouseMove_,!0);this.onMouseEnterWrapper_=Blockly.bindEventWithChecks_(e,"mouseenter",this,this.onMouseEnter_,!0);this.onMouseLeaveWrapper_=Blockly.bindEventWithChecks_(e,
"mouseleave",this,this.onMouseLeave_,!0);this.onKeyDownWrapper_=Blockly.bindEventWithChecks_(e,"keydown",this,this.onKeyDown_);return e};
Blockly.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&(Blockly.unbindEvent_(this.onClickWrapper_),this.onClickWrapper_=null);this.onMouseMoveWrapper_&&(Blockly.unbindEvent_(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null);this.onMouseEnterWrapper_&&(Blockly.unbindEvent_(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null);this.onMouseLeaveWrapper_&&(Blockly.unbindEvent_(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null);this.onKeyDownWrapper_&&(Blockly.unbindEvent_(this.onKeyDownWrapper_),
this.onKeyDownWrapper_=null);this.highlightedIndex_=this.picker_=null};
Blockly.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {",
"border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]);Blockly.fieldRegistry.register("field_colour",Blockly.FieldColour);Blockly.FieldDropdown=function(a,b,c){"function"!=typeof a&&Blockly.FieldDropdown.validateOptions_(a);this.menuGenerator_=a;this.generatedOptions_=null;this.trimOptions_();this.selectedOption_=this.getOptions(!1)[0];Blockly.FieldDropdown.superClass_.constructor.call(this,this.selectedOption_[1],b,c);this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null};Blockly.utils.object.inherits(Blockly.FieldDropdown,Blockly.Field);
Blockly.FieldDropdown.fromJson=function(a){return new Blockly.FieldDropdown(a.options,void 0,a)};Blockly.FieldDropdown.prototype.SERIALIZABLE=!0;Blockly.FieldDropdown.CHECKMARK_OVERHANG=25;Blockly.FieldDropdown.MAX_MENU_HEIGHT_VH=.45;Blockly.FieldDropdown.IMAGE_Y_OFFSET=5;Blockly.FieldDropdown.IMAGE_Y_PADDING=2*Blockly.FieldDropdown.IMAGE_Y_OFFSET;Blockly.FieldDropdown.ARROW_CHAR=Blockly.utils.userAgent.ANDROID?"\u25bc":"\u25be";Blockly.FieldDropdown.prototype.CURSOR="default";
Blockly.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot();this.createTextElement_();this.imageElement_=Blockly.utils.dom.createSvgElement("image",{},this.fieldGroup_);this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_();this.borderRect_&&Blockly.utils.dom.addClass(this.borderRect_,"blocklyDropdownRect")};
Blockly.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()};
Blockly.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=Blockly.utils.dom.createSvgElement("tspan",{},this.textElement_);this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?Blockly.FieldDropdown.ARROW_CHAR+" ":" "+Blockly.FieldDropdown.ARROW_CHAR));this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)};
Blockly.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=Blockly.utils.dom.createSvgElement("image",{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_);this.svgArrow_.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)};
Blockly.FieldDropdown.prototype.showEditor_=function(a){this.menu_=this.dropdownCreate_();this.menu_.openingCoords=a&&"number"===typeof a.clientX?new Blockly.utils.Coordinate(a.clientX,a.clientY):null;this.menu_.render(Blockly.DropDownDiv.getContentDiv());Blockly.utils.dom.addClass(this.menu_.getElement(),"blocklyDropdownMenu");if(this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){a=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var b=this.sourceBlock_.isShadow()?
this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;Blockly.DropDownDiv.setColour(a,b)}Blockly.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this));this.menu_.focus();this.selectedMenuItem_&&Blockly.utils.style.scrollIntoContainerView(this.selectedMenuItem_.getElement(),this.menu_.getElement());this.applyColour()};
Blockly.FieldDropdown.prototype.dropdownCreate_=function(){var a=new Blockly.Menu;a.setRightToLeft(this.sourceBlock_.RTL);a.setRole(Blockly.utils.aria.Role.LISTBOX);var b=this.getOptions(!1);this.selectedMenuItem_=null;for(var c=0;c<b.length;c++){var d=b[c][0],e=b[c][1];if("object"==typeof d){var f=new Image(d.width,d.height);f.src=d.src;f.alt=d.alt||"";d=f}d=new Blockly.MenuItem(d);d.setRole(Blockly.utils.aria.Role.OPTION);d.setRightToLeft(this.sourceBlock_.RTL);d.setValue(e);d.setCheckable(!0);
a.addChild(d,!0);d.setChecked(e==this.value_);e==this.value_&&(this.selectedMenuItem_=d);d.onAction(this.handleMenuActionEvent_,this)}Blockly.utils.aria.setState(a.getElement(),Blockly.utils.aria.State.ACTIVEDESCENDANT,this.selectedMenuItem_?this.selectedMenuItem_.getId():"");return a};Blockly.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose();this.selectedMenuItem_=this.menu_=null;this.applyColour()};
Blockly.FieldDropdown.prototype.handleMenuActionEvent_=function(a){Blockly.DropDownDiv.hideIfOwner(this,!0);this.onItemSelected_(this.menu_,a)};Blockly.FieldDropdown.prototype.onItemSelected_=function(a,b){this.setValue(b.getValue())};
Blockly.FieldDropdown.prototype.trimOptions_=function(){this.suffixField=this.prefixField=null;var a=this.menuGenerator_;if(Array.isArray(a)){for(var b=!1,c=0;c<a.length;c++){var d=a[c][0];"string"==typeof d?a[c][0]=Blockly.utils.replaceMessageReferences(d):(null!=d.alt&&(a[c][0].alt=Blockly.utils.replaceMessageReferences(d.alt)),b=!0)}if(!(b||2>a.length)){b=[];for(c=0;c<a.length;c++)b.push(a[c][0]);c=Blockly.utils.string.shortestStringLength(b);d=Blockly.utils.string.commonWordPrefix(b,c);var e=
Blockly.utils.string.commonWordSuffix(b,c);!d&&!e||c<=d+e||(d&&(this.prefixField=b[0].substring(0,d-1)),e&&(this.suffixField=b[0].substr(1-e)),this.menuGenerator_=Blockly.FieldDropdown.applyTrim_(a,d,e))}}};Blockly.FieldDropdown.applyTrim_=function(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=a[e][0],g=a[e][1];f=f.substring(b,f.length-c);d[e]=[f,g]}return d};Blockly.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_};
Blockly.FieldDropdown.prototype.getOptions=function(a){return this.isOptionListDynamic()?(this.generatedOptions_&&a||(this.generatedOptions_=this.menuGenerator_.call(this),Blockly.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_};
Blockly.FieldDropdown.prototype.doClassValidation_=function(a){for(var b=!1,c=this.getOptions(!0),d=0,e;e=c[d];d++)if(e[1]==a){b=!0;break}return b?a:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+a),null)};
Blockly.FieldDropdown.prototype.doValueUpdate_=function(a){Blockly.FieldDropdown.superClass_.doValueUpdate_.call(this,a);a=this.getOptions(!0);for(var b=0,c;c=a[b];b++)c[1]==this.value_&&(this.selectedOption_=c)};
Blockly.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",this.sourceBlock_.style.colourTertiary):this.borderRect_.setAttribute("fill","transparent"));this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=this.sourceBlock_.style.colourSecondary:this.arrow_.style.fill=this.sourceBlock_.style.colourPrimary)};
Blockly.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="";this.imageElement_.style.display="none";var a=this.selectedOption_&&this.selectedOption_[0];a&&"object"==typeof a?this.renderSelectedImage_(a):this.renderSelectedText_();this.positionBorderRect_()};
Blockly.FieldDropdown.prototype.renderSelectedImage_=function(a){this.imageElement_.style.display="";this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",a.src);this.imageElement_.setAttribute("height",a.height);this.imageElement_.setAttribute("width",a.width);var b=Number(a.height);a=Number(a.width);var c=!!this.borderRect_,d=Math.max(c?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,b+Blockly.FieldDropdown.IMAGE_Y_PADDING);c=c?this.getConstants().FIELD_BORDER_RECT_X_PADDING:
0;var e=this.svgArrow_?this.positionSVGArrow_(a+c,d/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):Blockly.utils.dom.getFastTextWidth(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=a+e+2*c;this.size_.height=d;var f=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",c+e):(f=a+e,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",c));this.imageElement_.setAttribute("y",
d/2-b/2);this.positionTextElement_(f+c,a+e)};
Blockly.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_();Blockly.utils.dom.addClass(this.textElement_,"blocklyDropdownText");this.textElement_.setAttribute("text-anchor","start");var a=!!this.borderRect_,b=Math.max(a?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),c=Blockly.utils.dom.getFastTextWidth(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,
this.getConstants().FIELD_TEXT_FONTFAMILY);a=a?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var d=0;this.svgArrow_&&(d=this.positionSVGArrow_(c+a,b/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2));this.size_.width=c+d+2*a;this.size_.height=b;this.positionTextElement_(a,c)};
Blockly.FieldDropdown.prototype.positionSVGArrow_=function(a,b){if(!this.svgArrow_)return 0;var c=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,d=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,e=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?c:a+d)+","+b+")");return e+d};
Blockly.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var a=this.selectedOption_[0];return"object"==typeof a?a.alt:a};
Blockly.FieldDropdown.validateOptions_=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var b=!1,c=0;c<a.length;++c){var d=a[c];Array.isArray(d)?"string"!=typeof d[1]?(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option id must be a string. Found "+d[1]+" in: ",d)):d[0]&&"string"!=typeof d[0]&&"string"!=typeof d[0].src&&(b=!0,console.error("Invalid option["+
c+"]: Each FieldDropdown option must have a string label or image description. Found"+d[0]+" in: ",d)):(b=!0,console.error("Invalid option["+c+"]: Each FieldDropdown option must be an array. Found: ",d))}if(b)throw TypeError("Found invalid FieldDropdown options.");};
Blockly.FieldDropdown.prototype.onBlocklyAction=function(a){if(this.menu_){if(a===Blockly.navigation.ACTION_PREVIOUS)return this.menu_.highlightPrevious(),!0;if(a===Blockly.navigation.ACTION_NEXT)return this.menu_.highlightNext(),!0}return Blockly.FieldDropdown.superClass_.onBlocklyAction.call(this,a)};Blockly.fieldRegistry.register("field_dropdown",Blockly.FieldDropdown);Blockly.FieldLabelSerializable=function(a,b,c){Blockly.FieldLabelSerializable.superClass_.constructor.call(this,a,b,c)};Blockly.utils.object.inherits(Blockly.FieldLabelSerializable,Blockly.FieldLabel);Blockly.FieldLabelSerializable.fromJson=function(a){var b=Blockly.utils.replaceMessageReferences(a.text);return new Blockly.FieldLabelSerializable(b,void 0,a)};Blockly.FieldLabelSerializable.prototype.EDITABLE=!1;Blockly.FieldLabelSerializable.prototype.SERIALIZABLE=!0;
Blockly.fieldRegistry.register("field_label_serializable",Blockly.FieldLabelSerializable);Blockly.FieldImage=function(a,b,c,d,e,f,g){if(!a)throw Error("Src value of an image field is required");a=Blockly.utils.replaceMessageReferences(a);c=Number(Blockly.utils.replaceMessageReferences(c));b=Number(Blockly.utils.replaceMessageReferences(b));if(isNaN(c)||isNaN(b))throw Error("Height and width values of an image field must cast to numbers.");if(0>=c||0>=b)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1;this.altText_="";Blockly.FieldImage.superClass_.constructor.call(this,
a||"",null,g);g||(this.flipRtl_=!!f,this.altText_=Blockly.utils.replaceMessageReferences(d)||"");this.size_=new Blockly.utils.Size(b,c+Blockly.FieldImage.Y_PADDING);this.imageHeight_=c;this.clickHandler_=null;"function"==typeof e&&(this.clickHandler_=e);this.imageElement_=null};Blockly.utils.object.inherits(Blockly.FieldImage,Blockly.Field);Blockly.FieldImage.fromJson=function(a){return new Blockly.FieldImage(a.src,a.width,a.height,void 0,void 0,void 0,a)};Blockly.FieldImage.Y_PADDING=1;
Blockly.FieldImage.prototype.EDITABLE=!1;Blockly.FieldImage.prototype.isDirty_=!1;Blockly.FieldImage.prototype.configure_=function(a){Blockly.FieldImage.superClass_.configure_.call(this,a);this.flipRtl_=!!a.flipRtl;this.altText_=Blockly.utils.replaceMessageReferences(a.alt)||""};
Blockly.FieldImage.prototype.initView=function(){this.imageElement_=Blockly.utils.dom.createSvgElement("image",{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_);this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",this.value_);this.clickHandler_&&(this.imageElement_.style.cursor="pointer")};Blockly.FieldImage.prototype.updateSize_=function(){};
Blockly.FieldImage.prototype.doClassValidation_=function(a){return"string"!=typeof a?null:a};Blockly.FieldImage.prototype.doValueUpdate_=function(a){this.value_=a;this.imageElement_&&this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",String(this.value_))};Blockly.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_};Blockly.FieldImage.prototype.setAlt=function(a){a!=this.altText_&&(this.altText_=a||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))};
Blockly.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)};Blockly.FieldImage.prototype.setOnClickHandler=function(a){this.clickHandler_=a};Blockly.FieldImage.prototype.getText_=function(){return this.altText_};Blockly.fieldRegistry.register("field_image",Blockly.FieldImage);Blockly.FieldMultilineInput=function(a,b,c){null==a&&(a="");Blockly.FieldMultilineInput.superClass_.constructor.call(this,a,b,c);this.textGroup_=null};Blockly.utils.object.inherits(Blockly.FieldMultilineInput,Blockly.FieldTextInput);Blockly.FieldMultilineInput.fromJson=function(a){var b=Blockly.utils.replaceMessageReferences(a.text);return new Blockly.FieldMultilineInput(b,void 0,a)};
Blockly.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_();this.textGroup_=Blockly.utils.dom.createSvgElement("g",{"class":"blocklyEditableText"},this.fieldGroup_)};
Blockly.FieldMultilineInput.prototype.getDisplayText_=function(){var a=this.value_;if(!a)return Blockly.Field.NBSP;var b=a.split("\n");a="";for(var c=0;c<b.length;c++){var d=b[c];d.length>this.maxDisplayLength&&(d=d.substring(0,this.maxDisplayLength-4)+"...");d=d.replace(/\s/g,Blockly.Field.NBSP);a+=d;c!==b.length-1&&(a+="\n")}this.sourceBlock_.RTL&&(a+="\u200f");return a};
Blockly.FieldMultilineInput.prototype.render_=function(){for(var a;a=this.textGroup_.firstChild;)this.textGroup_.removeChild(a);a=this.getDisplayText_().split("\n");for(var b=0,c=0;c<a.length;c++){var d=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;Blockly.utils.dom.createSvgElement("text",{"class":"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:b+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},
this.textGroup_).appendChild(document.createTextNode(a[c]));b+=d}this.updateSize_();this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),a=this.htmlInput_,this.isTextValid_?(Blockly.utils.dom.removeClass(a,"blocklyInvalidInput"),Blockly.utils.aria.setState(a,Blockly.utils.aria.State.INVALID,!1)):(Blockly.utils.dom.addClass(a,"blocklyInvalidInput"),Blockly.utils.aria.setState(a,Blockly.utils.aria.State.INVALID,!0)))};
Blockly.FieldMultilineInput.prototype.updateSize_=function(){for(var a=this.textGroup_.childNodes,b=0,c=0,d=0;d<a.length;d++){var e=Blockly.utils.dom.getTextWidth(a[d]);e>b&&(b=e);c+=this.getConstants().FIELD_TEXT_HEIGHT+(0<d?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}this.borderRect_&&(c+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,b+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",b),this.borderRect_.setAttribute("height",c));this.size_.width=
b;this.size_.height=c;this.positionBorderRect_()};
Blockly.FieldMultilineInput.prototype.widgetCreate_=function(){var a=Blockly.WidgetDiv.DIV,b=this.workspace_.getScale(),c=document.createElement("textarea");c.className="blocklyHtmlInput blocklyHtmlTextAreaInput";c.setAttribute("spellcheck",this.spellcheck_);var d=this.getConstants().FIELD_TEXT_FONTSIZE*b+"pt";a.style.fontSize=d;c.style.fontSize=d;c.style.borderRadius=Blockly.FieldTextInput.BORDERRADIUS*b+"px";d=this.getConstants().FIELD_BORDER_RECT_X_PADDING*b;var e=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*
b/2;c.style.padding=e+"px "+d+"px "+e+"px "+d+"px";d=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;c.style.lineHeight=d*b+"px";a.appendChild(c);c.value=c.defaultValue=this.getEditorText_(this.value_);c.untypedDefaultValue_=this.value_;c.oldValue_=null;Blockly.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_();this.bindInputEvents_(c);return c};
Blockly.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(a){a.keyCode!==Blockly.utils.KeyCodes.ENTER&&Blockly.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,a)};Blockly.Css.register(".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,}".split(","));Blockly.fieldRegistry.register("field_multilinetext",Blockly.FieldMultilineInput);Blockly.FieldNumber=function(a,b,c,d,e,f){this.min_=-Infinity;this.max_=Infinity;this.precision_=0;this.decimalPlaces_=null;Blockly.FieldNumber.superClass_.constructor.call(this,a||0,e,f);f||this.setConstraints(b,c,d)};Blockly.utils.object.inherits(Blockly.FieldNumber,Blockly.FieldTextInput);Blockly.FieldNumber.fromJson=function(a){return new Blockly.FieldNumber(a.value,void 0,void 0,void 0,void 0,a)};Blockly.FieldNumber.prototype.SERIALIZABLE=!0;
Blockly.FieldNumber.prototype.configure_=function(a){Blockly.FieldNumber.superClass_.configure_.call(this,a);this.setMinInternal_(a.min);this.setMaxInternal_(a.max);this.setPrecisionInternal_(a.precision)};Blockly.FieldNumber.prototype.setConstraints=function(a,b,c){this.setMinInternal_(a);this.setMaxInternal_(b);this.setPrecisionInternal_(c);this.setValue(this.getValue())};Blockly.FieldNumber.prototype.setMin=function(a){this.setMinInternal_(a);this.setValue(this.getValue())};
Blockly.FieldNumber.prototype.setMinInternal_=function(a){null==a?this.min_=-Infinity:(a=Number(a),isNaN(a)||(this.min_=a))};Blockly.FieldNumber.prototype.getMin=function(){return this.min_};Blockly.FieldNumber.prototype.setMax=function(a){this.setMaxInternal_(a);this.setValue(this.getValue())};Blockly.FieldNumber.prototype.setMaxInternal_=function(a){null==a?this.max_=Infinity:(a=Number(a),isNaN(a)||(this.max_=a))};Blockly.FieldNumber.prototype.getMax=function(){return this.max_};
Blockly.FieldNumber.prototype.setPrecision=function(a){this.setPrecisionInternal_(a);this.setValue(this.getValue())};Blockly.FieldNumber.prototype.setPrecisionInternal_=function(a){null==a?this.precision_=0:(a=Number(a),isNaN(a)||(this.precision_=a));var b=this.precision_.toString(),c=b.indexOf(".");this.decimalPlaces_=-1==c?a?0:null:b.length-c-1};Blockly.FieldNumber.prototype.getPrecision=function(){return this.precision_};
Blockly.FieldNumber.prototype.doClassValidation_=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.min_),this.max_);this.precision_&&isFinite(a)&&(a=Math.round(a/this.precision_)*this.precision_);null!=this.decimalPlaces_&&(a=Number(a.toFixed(this.decimalPlaces_)));return a};
Blockly.FieldNumber.prototype.widgetCreate_=function(){var a=Blockly.FieldNumber.superClass_.widgetCreate_.call(this);-Infinity<this.min_&&Blockly.utils.aria.setState(a,Blockly.utils.aria.State.VALUEMIN,this.min_);Infinity>this.max_&&Blockly.utils.aria.setState(a,Blockly.utils.aria.State.VALUEMAX,this.max_);return a};Blockly.fieldRegistry.register("field_number",Blockly.FieldNumber);Blockly.FieldVariable=function(a,b,c,d,e){this.menuGenerator_=Blockly.FieldVariable.dropdownCreate;this.defaultVariableName=a||"";this.size_=new Blockly.utils.Size(0,0);e&&this.configure_(e);b&&this.setValidator(b);e||this.setTypes_(c,d)};Blockly.utils.object.inherits(Blockly.FieldVariable,Blockly.FieldDropdown);Blockly.FieldVariable.fromJson=function(a){var b=Blockly.utils.replaceMessageReferences(a.variable);return new Blockly.FieldVariable(b,void 0,void 0,void 0,a)};
Blockly.FieldVariable.prototype.workspace_=null;Blockly.FieldVariable.prototype.SERIALIZABLE=!0;Blockly.FieldVariable.prototype.configure_=function(a){Blockly.FieldVariable.superClass_.configure_.call(this,a);this.setTypes_(a.variableTypes,a.defaultType)};Blockly.FieldVariable.prototype.initModel=function(){if(!this.variable_){var a=Blockly.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(a.getId())}};
Blockly.FieldVariable.prototype.shouldAddBorderRect_=function(){return Blockly.FieldVariable.superClass_.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!=this.sourceBlock_.type)};
Blockly.FieldVariable.prototype.fromXml=function(a){var b=a.getAttribute("id"),c=a.textContent,d=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";b=Blockly.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,b,c,d);if(null!=d&&d!==b.type)throw Error("Serialized variable type with id '"+b.getId()+"' had type "+b.type+", and does not match variable field that references it: "+Blockly.Xml.domToText(a)+".");this.setValue(b.getId())};
Blockly.FieldVariable.prototype.toXml=function(a){this.initModel();a.id=this.variable_.getId();a.textContent=this.variable_.name;this.variable_.type&&a.setAttribute("variabletype",this.variable_.type);return a};Blockly.FieldVariable.prototype.setSourceBlock=function(a){if(a.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");Blockly.FieldVariable.superClass_.setSourceBlock.call(this,a)};
Blockly.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null};Blockly.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""};Blockly.FieldVariable.prototype.getVariable=function(){return this.variable_};Blockly.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null};
Blockly.FieldVariable.prototype.doClassValidation_=function(a){if(null===a)return null;var b=Blockly.Variables.getVariable(this.sourceBlock_.workspace,a);if(!b)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;b=b.type;return this.typeIsAllowed_(b)?a:(console.warn("Variable type doesn't match this field!  Type was "+b),null)};
Blockly.FieldVariable.prototype.doValueUpdate_=function(a){this.variable_=Blockly.Variables.getVariable(this.sourceBlock_.workspace,a);Blockly.FieldVariable.superClass_.doValueUpdate_.call(this,a)};Blockly.FieldVariable.prototype.typeIsAllowed_=function(a){var b=this.getVariableTypes_();if(!b)return!0;for(var c=0;c<b.length;c++)if(a==b[c])return!0;return!1};
Blockly.FieldVariable.prototype.getVariableTypes_=function(){var a=this.variableTypes;if(null===a&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();a=a||[""];if(0==a.length)throw a=this.getText(),Error("'variableTypes' of field variable "+a+" was an empty list");return a};
Blockly.FieldVariable.prototype.setTypes_=function(a,b){b=b||"";if(null==a||void 0==a)a=null;else if(Array.isArray(a)){for(var c=!1,d=0;d<a.length;d++)a[d]==b&&(c=!0);if(!c)throw Error("Invalid default type '"+b+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType_=b;this.variableTypes=a};Blockly.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()};
Blockly.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.getText(),b=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var c=this.getVariableTypes_(),d=0;d<c.length;d++){var e=this.sourceBlock_.workspace.getVariablesOfType(c[d]);b=b.concat(e)}b.sort(Blockly.VariableModel.compareByName);c=[];for(d=0;d<b.length;d++)c[d]=[b[d].name,b[d].getId()];c.push([Blockly.Msg.RENAME_VARIABLE,Blockly.RENAME_VARIABLE_ID]);
Blockly.Msg.DELETE_VARIABLE&&c.push([Blockly.Msg.DELETE_VARIABLE.replace("%1",a),Blockly.DELETE_VARIABLE_ID]);return c};Blockly.FieldVariable.prototype.onItemSelected_=function(a,b){a=b.getValue();if(this.sourceBlock_&&this.sourceBlock_.workspace){if(a==Blockly.RENAME_VARIABLE_ID){Blockly.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);return}if(a==Blockly.DELETE_VARIABLE_ID){this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId());return}}this.setValue(a)};
Blockly.FieldVariable.prototype.referencesVariables=function(){return!0};Blockly.fieldRegistry.register("field_variable",Blockly.FieldVariable);Blockly.utils.svgPaths={};Blockly.utils.svgPaths.point=function(a,b){return" "+a+","+b+" "};Blockly.utils.svgPaths.curve=function(a,b){return" "+a+b.join("")};Blockly.utils.svgPaths.moveTo=function(a,b){return" M "+a+","+b+" "};Blockly.utils.svgPaths.moveBy=function(a,b){return" m "+a+","+b+" "};Blockly.utils.svgPaths.lineTo=function(a,b){return" l "+a+","+b+" "};Blockly.utils.svgPaths.line=function(a){return" l"+a.join("")};Blockly.utils.svgPaths.lineOnAxis=function(a,b){return" "+a+" "+b+" "};
Blockly.utils.svgPaths.arc=function(a,b,c,d){return a+" "+c+" "+c+" "+b+d};Blockly.blockRendering.ConstantProvider=function(){this.NO_PADDING=0;this.SMALL_PADDING=3;this.MEDIUM_PADDING=5;this.MEDIUM_LARGE_PADDING=8;this.LARGE_PADDING=10;this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING;this.TAB_HEIGHT=15;this.TAB_OFFSET_FROM_TOP=5;this.TAB_VERTICAL_OVERLAP=2.5;this.TAB_WIDTH=8;this.NOTCH_WIDTH=15;this.NOTCH_HEIGHT=4;this.MIN_BLOCK_WIDTH=12;this.EMPTY_BLOCK_SPACER_HEIGHT=16;this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT;this.CORNER_RADIUS=
8;this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15;this.STATEMENT_BOTTOM_SPACER=0;this.STATEMENT_INPUT_PADDING_LEFT=20;this.BETWEEN_STATEMENT_PADDING_Y=4;this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING;this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING;this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.ADD_START_HATS=!1;this.START_HAT_HEIGHT=15;this.START_HAT_WIDTH=100;this.SPACER_DEFAULT_HEIGHT=15;this.MIN_BLOCK_HEIGHT=
24;this.EMPTY_INLINE_INPUT_PADDING=14.5;this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11;this.EXTERNAL_VALUE_INPUT_PADDING=2;this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT;this.START_POINT=Blockly.utils.svgPaths.moveBy(0,0);this.JAGGED_TEETH_HEIGHT=12;this.JAGGED_TEETH_WIDTH=6;this.FIELD_TEXT_FONTSIZE=11;this.FIELD_TEXT_FONTWEIGHT="normal";this.FIELD_TEXT_FONTFAMILY="sans-serif";this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1;this.FIELD_BORDER_RECT_RADIUS=4;this.FIELD_BORDER_RECT_HEIGHT=
16;this.FIELD_BORDER_RECT_X_PADDING=5;this.FIELD_BORDER_RECT_Y_PADDING=3;this.FIELD_BORDER_RECT_COLOUR="#fff";this.FIELD_TEXT_BASELINE_CENTER=!Blockly.utils.userAgent.IE&&!Blockly.utils.userAgent.EDGE;this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT;this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1;this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING;this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12;this.FIELD_DROPDOWN_SVG_ARROW_DATAURI=
"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1;this.FIELD_COLOUR_DEFAULT_WIDTH=26;this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT;this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3;this.randomIdentifier=String(Math.random()).substring(2);this.embossFilterId="";this.embossFilter_=null;this.disabledPatternId="";this.disabledPattern_=null;this.debugFilterId="";this.cssNode_=this.debugFilter_=null;this.CURSOR_COLOUR="#cc0a0a";this.MARKER_COLOUR="#4286f4";this.CURSOR_WS_WIDTH=
100;this.WS_CURSOR_HEIGHT=5;this.CURSOR_STACK_PADDING=10;this.CURSOR_BLOCK_PADDING=2;this.CURSOR_STROKE_WIDTH=4;this.FULL_BLOCK_FIELDS=!1;this.INSERTION_MARKER_COLOUR="#000000";this.INSERTION_MARKER_OPACITY=.2;this.SHAPES={PUZZLE:1,NOTCH:2}};
Blockly.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth();this.NOTCH=this.makeNotch();this.START_HAT=this.makeStartHat();this.PUZZLE_TAB=this.makePuzzleTab();this.INSIDE_CORNERS=this.makeInsideCorners();this.OUTSIDE_CORNERS=this.makeOutsideCorners()};Blockly.blockRendering.ConstantProvider.prototype.setTheme=function(a){this.blockStyles={};var b=a.blockStyles,c;for(c in b)this.blockStyles[c]=this.validatedBlockStyle_(b[c]);this.setDynamicProperties_(a)};
Blockly.blockRendering.ConstantProvider.prototype.setDynamicProperties_=function(a){this.setFontConstants_(a);this.setComponentConstants_(a);this.ADD_START_HATS=null!=a.startHats?a.startHats:this.ADD_START_HATS};
Blockly.blockRendering.ConstantProvider.prototype.setFontConstants_=function(a){this.FIELD_TEXT_FONTFAMILY=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.FIELD_TEXT_FONTFAMILY;this.FIELD_TEXT_FONTWEIGHT=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.FIELD_TEXT_FONTWEIGHT;this.FIELD_TEXT_FONTSIZE=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.FIELD_TEXT_FONTSIZE;a=Blockly.utils.dom.measureFontMetrics("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,
this.FIELD_TEXT_FONTFAMILY);this.FIELD_TEXT_HEIGHT=a.height;this.FIELD_TEXT_BASELINE=a.baseline};
Blockly.blockRendering.ConstantProvider.prototype.setComponentConstants_=function(a){this.CURSOR_COLOUR=a.getComponentStyle("cursorColour")||this.CURSOR_COLOUR;this.MARKER_COLOUR=a.getComponentStyle("markerColour")||this.MARKER_COLOUR;this.INSERTION_MARKER_COLOUR=a.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR;this.INSERTION_MARKER_OPACITY=Number(a.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY};
Blockly.blockRendering.ConstantProvider.prototype.getBlockStyleForColour=function(a){var b="auto_"+a;this.blockStyles[b]||(this.blockStyles[b]=this.createBlockStyle_(a));return{style:this.blockStyles[b],name:b}};Blockly.blockRendering.ConstantProvider.prototype.getBlockStyle=function(a){return this.blockStyles[a||""]||(a&&0==a.indexOf("auto_")?this.getBlockStyleForColour(a.substring(5)).style:this.createBlockStyle_("#000000"))};Blockly.blockRendering.ConstantProvider.prototype.createBlockStyle_=function(a){return this.validatedBlockStyle_({colourPrimary:a})};
Blockly.blockRendering.ConstantProvider.prototype.validatedBlockStyle_=function(a){var b={};a&&Blockly.utils.object.mixin(b,a);a=Blockly.utils.parseBlockColour(b.colourPrimary||"#000");b.colourPrimary=a.hex;b.colourSecondary=b.colourSecondary?Blockly.utils.parseBlockColour(b.colourSecondary).hex:this.generateSecondaryColour_(b.colourPrimary);b.colourTertiary=b.colourTertiary?Blockly.utils.parseBlockColour(b.colourTertiary).hex:this.generateTertiaryColour_(b.colourPrimary);b.hat=b.hat||"";return b};
Blockly.blockRendering.ConstantProvider.prototype.generateSecondaryColour_=function(a){return Blockly.utils.colour.blend("#fff",a,.6)||a};Blockly.blockRendering.ConstantProvider.prototype.generateTertiaryColour_=function(a){return Blockly.utils.colour.blend("#fff",a,.3)||a};
Blockly.blockRendering.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&Blockly.utils.dom.removeNode(this.embossFilter_);this.disabledPattern_&&Blockly.utils.dom.removeNode(this.disabledPattern_);this.debugFilter_&&Blockly.utils.dom.removeNode(this.debugFilter_);this.cssNode_=null};
Blockly.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){var a=this.JAGGED_TEETH_HEIGHT,b=this.JAGGED_TEETH_WIDTH,c=Blockly.utils.svgPaths.line([Blockly.utils.svgPaths.point(b,a/4),Blockly.utils.svgPaths.point(2*-b,a/2),Blockly.utils.svgPaths.point(b,a/4)]);return{height:a,width:b,path:c}};
Blockly.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var a=this.START_HAT_HEIGHT,b=this.START_HAT_WIDTH,c=Blockly.utils.svgPaths.curve("c",[Blockly.utils.svgPaths.point(30,-a),Blockly.utils.svgPaths.point(70,-a),Blockly.utils.svgPaths.point(b,0)]);return{height:a,width:b,path:c}};
Blockly.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function a(a){a=a?-1:1;var d=-a,e=c/2,f=e+2.5,l=e+.5,m=Blockly.utils.svgPaths.point(-b,a*e);e=Blockly.utils.svgPaths.point(b,a*e);return Blockly.utils.svgPaths.curve("c",[Blockly.utils.svgPaths.point(0,a*f),Blockly.utils.svgPaths.point(-b,d*l),m])+Blockly.utils.svgPaths.curve("s",[Blockly.utils.svgPaths.point(b,2.5*d),e])}var b=this.TAB_WIDTH,c=this.TAB_HEIGHT,d=a(!0),e=a(!1);return{type:this.SHAPES.PUZZLE,width:b,height:c,
pathDown:e,pathUp:d}};Blockly.blockRendering.ConstantProvider.prototype.makeNotch=function(){function a(a){return Blockly.utils.svgPaths.line([Blockly.utils.svgPaths.point(a*d,c),Blockly.utils.svgPaths.point(3*a,0),Blockly.utils.svgPaths.point(a*d,-c)])}var b=this.NOTCH_WIDTH,c=this.NOTCH_HEIGHT,d=(b-3)/2,e=a(1),f=a(-1);return{type:this.SHAPES.NOTCH,width:b,height:c,pathLeft:e,pathRight:f}};
Blockly.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var a=this.CORNER_RADIUS,b=Blockly.utils.svgPaths.arc("a","0 0,0",a,Blockly.utils.svgPaths.point(-a,a)),c=Blockly.utils.svgPaths.arc("a","0 0,0",a,Blockly.utils.svgPaths.point(a,a));return{width:a,height:a,pathTop:b,pathBottom:c}};
Blockly.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var a=this.CORNER_RADIUS,b=Blockly.utils.svgPaths.moveBy(0,a)+Blockly.utils.svgPaths.arc("a","0 0,1",a,Blockly.utils.svgPaths.point(a,-a)),c=Blockly.utils.svgPaths.arc("a","0 0,1",a,Blockly.utils.svgPaths.point(a,a)),d=Blockly.utils.svgPaths.arc("a","0 0,1",a,Blockly.utils.svgPaths.point(-a,-a)),e=Blockly.utils.svgPaths.arc("a","0 0,1",a,Blockly.utils.svgPaths.point(-a,a));return{topLeft:b,topRight:c,bottomRight:e,bottomLeft:d,
rightHeight:a}};Blockly.blockRendering.ConstantProvider.prototype.shapeFor=function(a){switch(a.type){case Blockly.INPUT_VALUE:case Blockly.OUTPUT_VALUE:return this.PUZZLE_TAB;case Blockly.PREVIOUS_STATEMENT:case Blockly.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type");}};
Blockly.blockRendering.ConstantProvider.prototype.createDom=function(a,b,c){this.injectCSS_(b,c);a=Blockly.utils.dom.createSvgElement("defs",{},a);b=Blockly.utils.dom.createSvgElement("filter",{id:"blocklyEmbossFilter"+this.randomIdentifier},a);Blockly.utils.dom.createSvgElement("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},b);c=Blockly.utils.dom.createSvgElement("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",
result:"specOut"},b);Blockly.utils.dom.createSvgElement("fePointLight",{x:-5E3,y:-1E4,z:2E4},c);Blockly.utils.dom.createSvgElement("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},b);Blockly.utils.dom.createSvgElement("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},b);this.embossFilterId=b.id;this.embossFilter_=b;b=Blockly.utils.dom.createSvgElement("pattern",{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",
width:10,height:10},a);Blockly.utils.dom.createSvgElement("rect",{width:10,height:10,fill:"#aaa"},b);Blockly.utils.dom.createSvgElement("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},b);this.disabledPatternId=b.id;this.disabledPattern_=b;Blockly.blockRendering.Debug&&(a=Blockly.utils.dom.createSvgElement("filter",{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},a),b=Blockly.utils.dom.createSvgElement("feComponentTransfer",{result:"outBlur"},a),Blockly.utils.dom.createSvgElement("feFuncA",
{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},b),Blockly.utils.dom.createSvgElement("feFlood",{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},a),Blockly.utils.dom.createSvgElement("feComposite",{"in":"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a),this.debugFilterId=a.id,this.debugFilter_=a)};
Blockly.blockRendering.ConstantProvider.prototype.injectCSS_=function(a,b){b=this.getCSS_(b);a="blockly-renderer-style-"+a;this.cssNode_=document.getElementById(a);var c=b.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=c:(b=document.createElement("style"),b.id=a,a=document.createTextNode(c),b.appendChild(a),document.head.insertBefore(b,document.head.firstChild),this.cssNode_=b)};
Blockly.blockRendering.ConstantProvider.prototype.getCSS_=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-size: "+this.FIELD_TEXT_FONTSIZE+"pt;","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {",
"fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {",
"fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none","}"]};Blockly.blockRendering.MarkerSvg=function(a,b,c){this.workspace_=a;this.marker_=c;this.parent_=null;this.constants_=b;this.currentMarkerSvg=null;a=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=c.colour||a};Blockly.blockRendering.MarkerSvg.CURSOR_CLASS="blocklyCursor";Blockly.blockRendering.MarkerSvg.MARKER_CLASS="blocklyMarker";Blockly.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER=.75;Blockly.blockRendering.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_};
Blockly.blockRendering.MarkerSvg.prototype.isCursor=function(){return"cursor"==this.marker_.type};Blockly.blockRendering.MarkerSvg.prototype.createDom=function(){var a=this.isCursor()?Blockly.blockRendering.MarkerSvg.CURSOR_CLASS:Blockly.blockRendering.MarkerSvg.MARKER_CLASS;this.svgGroup_=Blockly.utils.dom.createSvgElement("g",{"class":a},null);this.createDomInternal_();this.applyColour_();return this.svgGroup_};
Blockly.blockRendering.MarkerSvg.prototype.setParent_=function(a){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),a.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),a.setMarkerSvg(this.getSvgRoot()));this.parent_=a};
Blockly.blockRendering.MarkerSvg.prototype.showWithBlockPrevOutput_=function(a){if(a){var b=a.width,c=a.height,d=c*Blockly.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER,e=this.constants_.CURSOR_BLOCK_PADDING;if(a.previousConnection){var f=this.constants_.shapeFor(a.previousConnection);this.positionPrevious_(b,e,d,f)}else a.outputConnection?(f=this.constants_.shapeFor(a.outputConnection),this.positionOutput_(b,c,f)):this.positionBlock_(b,e,d);this.setParent_(a);this.showCurrent_()}};
Blockly.blockRendering.MarkerSvg.prototype.showWithCoordinates_=function(a){var b=a.getWsCoordinate();a=b.x;b=b.y;this.workspace_.RTL&&(a-=this.constants_.CURSOR_WS_WIDTH);this.positionLine_(a,b,this.constants_.CURSOR_WS_WIDTH);this.setParent_(this.workspace_);this.showCurrent_()};Blockly.blockRendering.MarkerSvg.prototype.showWithField_=function(a){a=a.getLocation();var b=a.getSize().width,c=a.getSize().height;this.positionRect_(0,0,b,c);this.setParent_(a);this.showCurrent_()};
Blockly.blockRendering.MarkerSvg.prototype.showWithInput_=function(a){a=a.getLocation();var b=a.getSourceBlock();this.positionInput_(a);this.setParent_(b);this.showCurrent_()};Blockly.blockRendering.MarkerSvg.prototype.showWithNext_=function(a){var b=a.getLocation();a=b.getSourceBlock();var c=0;b=b.getOffsetInBlock().y;var d=a.getHeightWidth().width;this.workspace_.RTL&&(c=-d);this.positionLine_(c,b,d);this.setParent_(a);this.showCurrent_()};
Blockly.blockRendering.MarkerSvg.prototype.showWithStack_=function(a){a=a.getLocation();var b=a.getHeightWidth(),c=b.width+this.constants_.CURSOR_STACK_PADDING;b=b.height+this.constants_.CURSOR_STACK_PADDING;var d=-this.constants_.CURSOR_STACK_PADDING/2,e=-this.constants_.CURSOR_STACK_PADDING/2,f=d;this.workspace_.RTL&&(f=-(c+d));this.positionRect_(f,e,c,b);this.setParent_(a);this.showCurrent_()};
Blockly.blockRendering.MarkerSvg.prototype.showCurrent_=function(){this.hide();this.currentMarkerSvg.style.display=""};Blockly.blockRendering.MarkerSvg.prototype.positionBlock_=function(a,b,c){a=Blockly.utils.svgPaths.moveBy(-b,c)+Blockly.utils.svgPaths.lineOnAxis("V",-b)+Blockly.utils.svgPaths.lineOnAxis("H",a+2*b)+Blockly.utils.svgPaths.lineOnAxis("V",c);this.markerBlock_.setAttribute("d",a);this.workspace_.RTL&&this.flipRtl_(this.markerBlock_);this.currentMarkerSvg=this.markerBlock_};
Blockly.blockRendering.MarkerSvg.prototype.positionInput_=function(a){var b=a.getOffsetInBlock().x,c=a.getOffsetInBlock().y;a=Blockly.utils.svgPaths.moveTo(0,0)+this.constants_.shapeFor(a).pathDown;this.markerInput_.setAttribute("d",a);this.markerInput_.setAttribute("transform","translate("+b+","+c+")"+(this.workspace_.RTL?" scale(-1 1)":""));this.currentMarkerSvg=this.markerInput_};
Blockly.blockRendering.MarkerSvg.prototype.positionLine_=function(a,b,c){this.markerSvgLine_.setAttribute("x",a);this.markerSvgLine_.setAttribute("y",b);this.markerSvgLine_.setAttribute("width",c);this.currentMarkerSvg=this.markerSvgLine_};
Blockly.blockRendering.MarkerSvg.prototype.positionOutput_=function(a,b,c){a=Blockly.utils.svgPaths.moveBy(a,0)+Blockly.utils.svgPaths.lineOnAxis("h",-(a-c.width))+Blockly.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+c.pathDown+Blockly.utils.svgPaths.lineOnAxis("V",b)+Blockly.utils.svgPaths.lineOnAxis("H",a);this.markerBlock_.setAttribute("d",a);this.workspace_.RTL&&this.flipRtl_(this.markerBlock_);this.currentMarkerSvg=this.markerBlock_};
Blockly.blockRendering.MarkerSvg.prototype.positionPrevious_=function(a,b,c,d){a=Blockly.utils.svgPaths.moveBy(-b,c)+Blockly.utils.svgPaths.lineOnAxis("V",-b)+Blockly.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+d.pathLeft+Blockly.utils.svgPaths.lineOnAxis("H",a+2*b)+Blockly.utils.svgPaths.lineOnAxis("V",c);this.markerBlock_.setAttribute("d",a);this.workspace_.RTL&&this.flipRtl_(this.markerBlock_);this.currentMarkerSvg=this.markerBlock_};
Blockly.blockRendering.MarkerSvg.prototype.positionRect_=function(a,b,c,d){this.markerSvgRect_.setAttribute("x",a);this.markerSvgRect_.setAttribute("y",b);this.markerSvgRect_.setAttribute("width",c);this.markerSvgRect_.setAttribute("height",d);this.currentMarkerSvg=this.markerSvgRect_};Blockly.blockRendering.MarkerSvg.prototype.flipRtl_=function(a){a.setAttribute("transform","scale(-1 1)")};
Blockly.blockRendering.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none";this.markerSvgRect_.style.display="none";this.markerInput_.style.display="none";this.markerBlock_.style.display="none"};
Blockly.blockRendering.MarkerSvg.prototype.draw=function(a,b){if(b){this.constants_=this.workspace_.getRenderer().getConstants();var c=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||c;this.applyColour_();this.showAtLocation_(b);this.firemarkerEvent_(a,b);a=this.currentMarkerSvg.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.hide()};
Blockly.blockRendering.MarkerSvg.prototype.showAtLocation_=function(a){a.getType()==Blockly.ASTNode.types.BLOCK?(a=a.getLocation(),this.showWithBlockPrevOutput_(a)):a.getType()==Blockly.ASTNode.types.OUTPUT?(a=a.getLocation().getSourceBlock(),this.showWithBlockPrevOutput_(a)):a.getLocation().type==Blockly.INPUT_VALUE?this.showWithInput_(a):a.getLocation().type==Blockly.NEXT_STATEMENT?this.showWithNext_(a):a.getType()==Blockly.ASTNode.types.PREVIOUS?(a=a.getLocation().getSourceBlock(),this.showWithBlockPrevOutput_(a)):
a.getType()==Blockly.ASTNode.types.FIELD?this.showWithField_(a):a.getType()==Blockly.ASTNode.types.WORKSPACE?this.showWithCoordinates_(a):a.getType()==Blockly.ASTNode.types.STACK&&this.showWithStack_(a)};Blockly.blockRendering.MarkerSvg.prototype.firemarkerEvent_=function(a,b){var c=b.getSourceBlock(),d=this.isCursor()?"cursorMove":"markerMove";a=new Blockly.Events.Ui(c,d,a,b);b.getType()==Blockly.ASTNode.types.WORKSPACE&&(a.workspaceId=b.getLocation().id);Blockly.Events.fire(a)};
Blockly.blockRendering.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}};
Blockly.blockRendering.MarkerSvg.prototype.createDomInternal_=function(){this.markerSvg_=Blockly.utils.dom.createSvgElement("g",{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_);this.markerSvgLine_=Blockly.utils.dom.createSvgElement("rect",{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_);this.markerSvgRect_=Blockly.utils.dom.createSvgElement("rect",{"class":"blocklyVerticalMarker",rx:10,
ry:10,style:"display: none"},this.markerSvg_);this.markerInput_=Blockly.utils.dom.createSvgElement("path",{transform:"",style:"display: none"},this.markerSvg_);this.markerBlock_=Blockly.utils.dom.createSvgElement("path",{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_);if(this.isCursor()){var a=this.getBlinkProperties_();Blockly.utils.dom.createSvgElement("animate",a,this.markerSvgLine_);Blockly.utils.dom.createSvgElement("animate",
a,this.markerInput_);a.attributeName="stroke";Blockly.utils.dom.createSvgElement("animate",a,this.markerBlock_)}return this.markerSvg_};
Blockly.blockRendering.MarkerSvg.prototype.applyColour_=function(){this.markerSvgLine_.setAttribute("fill",this.colour_);this.markerSvgRect_.setAttribute("stroke",this.colour_);this.markerInput_.setAttribute("fill",this.colour_);this.markerBlock_.setAttribute("stroke",this.colour_);if(this.isCursor()){var a=this.colour_+";transparent;transparent;";this.markerSvgLine_.firstChild.setAttribute("values",a);this.markerInput_.firstChild.setAttribute("values",a);this.markerBlock_.firstChild.setAttribute("values",
a)}};Blockly.blockRendering.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&Blockly.utils.dom.removeNode(this.svgGroup_)};Blockly.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608};
Blockly.blockRendering.Types.LEFT_CORNER=Blockly.blockRendering.Types.LEFT_SQUARE_CORNER|Blockly.blockRendering.Types.LEFT_ROUND_CORNER;Blockly.blockRendering.Types.RIGHT_CORNER=Blockly.blockRendering.Types.RIGHT_SQUARE_CORNER|Blockly.blockRendering.Types.RIGHT_ROUND_CORNER;Blockly.blockRendering.Types.nextTypeValue_=16777216;
Blockly.blockRendering.Types.getType=function(a){Blockly.blockRendering.Types.hasOwnProperty(a)||(Blockly.blockRendering.Types[a]=Blockly.blockRendering.Types.nextTypeValue_,Blockly.blockRendering.Types.nextTypeValue_<<=1);return Blockly.blockRendering.Types[a]};Blockly.blockRendering.Types.isField=function(a){return a.type&Blockly.blockRendering.Types.FIELD};Blockly.blockRendering.Types.isHat=function(a){return a.type&Blockly.blockRendering.Types.HAT};
Blockly.blockRendering.Types.isIcon=function(a){return a.type&Blockly.blockRendering.Types.ICON};Blockly.blockRendering.Types.isSpacer=function(a){return a.type&Blockly.blockRendering.Types.SPACER};Blockly.blockRendering.Types.isInRowSpacer=function(a){return a.type&Blockly.blockRendering.Types.IN_ROW_SPACER};Blockly.blockRendering.Types.isInput=function(a){return a.type&Blockly.blockRendering.Types.INPUT};Blockly.blockRendering.Types.isExternalInput=function(a){return a.type&Blockly.blockRendering.Types.EXTERNAL_VALUE_INPUT};
Blockly.blockRendering.Types.isInlineInput=function(a){return a.type&Blockly.blockRendering.Types.INLINE_INPUT};Blockly.blockRendering.Types.isStatementInput=function(a){return a.type&Blockly.blockRendering.Types.STATEMENT_INPUT};Blockly.blockRendering.Types.isPreviousConnection=function(a){return a.type&Blockly.blockRendering.Types.PREVIOUS_CONNECTION};Blockly.blockRendering.Types.isNextConnection=function(a){return a.type&Blockly.blockRendering.Types.NEXT_CONNECTION};
Blockly.blockRendering.Types.isPreviousOrNextConnection=function(a){return a.type&(Blockly.blockRendering.Types.PREVIOUS_CONNECTION|Blockly.blockRendering.Types.NEXT_CONNECTION)};Blockly.blockRendering.Types.isLeftRoundedCorner=function(a){return a.type&Blockly.blockRendering.Types.LEFT_ROUND_CORNER};Blockly.blockRendering.Types.isRightRoundedCorner=function(a){return a.type&Blockly.blockRendering.Types.RIGHT_ROUND_CORNER};
Blockly.blockRendering.Types.isLeftSquareCorner=function(a){return a.type&Blockly.blockRendering.Types.LEFT_SQUARE_CORNER};Blockly.blockRendering.Types.isRightSquareCorner=function(a){return a.type&Blockly.blockRendering.Types.RIGHT_SQUARE_CORNER};Blockly.blockRendering.Types.isCorner=function(a){return a.type&Blockly.blockRendering.Types.CORNER};Blockly.blockRendering.Types.isJaggedEdge=function(a){return a.type&Blockly.blockRendering.Types.JAGGED_EDGE};
Blockly.blockRendering.Types.isRow=function(a){return a.type&Blockly.blockRendering.Types.ROW};Blockly.blockRendering.Types.isBetweenRowSpacer=function(a){return a.type&Blockly.blockRendering.Types.BETWEEN_ROW_SPACER};Blockly.blockRendering.Types.isTopRow=function(a){return a.type&Blockly.blockRendering.Types.TOP_ROW};Blockly.blockRendering.Types.isBottomRow=function(a){return a.type&Blockly.blockRendering.Types.BOTTOM_ROW};
Blockly.blockRendering.Types.isTopOrBottomRow=function(a){return a.type&(Blockly.blockRendering.Types.TOP_ROW|Blockly.blockRendering.Types.BOTTOM_ROW)};Blockly.blockRendering.Types.isInputRow=function(a){return a.type&Blockly.blockRendering.Types.INPUT_ROW};Blockly.blockRendering.Measurable=function(a){this.height=this.width=0;this.type=Blockly.blockRendering.Types.NONE;this.centerline=this.xPos=0;this.constants_=a;this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT};Blockly.blockRendering.Connection=function(a,b){Blockly.blockRendering.Connection.superClass_.constructor.call(this,a);this.connectionModel=b;this.shape=this.constants_.shapeFor(b);this.isDynamicShape=!!this.shape.isDynamic;this.type|=Blockly.blockRendering.Types.CONNECTION};Blockly.utils.object.inherits(Blockly.blockRendering.Connection,Blockly.blockRendering.Measurable);
Blockly.blockRendering.OutputConnection=function(a,b){Blockly.blockRendering.OutputConnection.superClass_.constructor.call(this,a,b);this.type|=Blockly.blockRendering.Types.OUTPUT_CONNECTION;this.height=this.isDynamicShape?0:this.shape.height;this.startX=this.width=this.isDynamicShape?0:this.shape.width;this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP;this.connectionOffsetX=0};Blockly.utils.object.inherits(Blockly.blockRendering.OutputConnection,Blockly.blockRendering.Connection);
Blockly.blockRendering.PreviousConnection=function(a,b){Blockly.blockRendering.PreviousConnection.superClass_.constructor.call(this,a,b);this.type|=Blockly.blockRendering.Types.PREVIOUS_CONNECTION;this.height=this.shape.height;this.width=this.shape.width};Blockly.utils.object.inherits(Blockly.blockRendering.PreviousConnection,Blockly.blockRendering.Connection);
Blockly.blockRendering.NextConnection=function(a,b){Blockly.blockRendering.NextConnection.superClass_.constructor.call(this,a,b);this.type|=Blockly.blockRendering.Types.NEXT_CONNECTION;this.height=this.shape.height;this.width=this.shape.width};Blockly.utils.object.inherits(Blockly.blockRendering.NextConnection,Blockly.blockRendering.Connection);Blockly.blockRendering.InputConnection=function(a,b){Blockly.blockRendering.InputConnection.superClass_.constructor.call(this,a,b.connection);this.type|=Blockly.blockRendering.Types.INPUT;this.input=b;this.align=b.align;(this.connectedBlock=b.connection&&b.connection.targetBlock()?b.connection.targetBlock():null)?(a=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=a.width,this.connectedBlockHeight=a.height):this.connectedBlockHeight=this.connectedBlockWidth=0;this.connectionOffsetY=this.connectionOffsetX=
0};Blockly.utils.object.inherits(Blockly.blockRendering.InputConnection,Blockly.blockRendering.Connection);
Blockly.blockRendering.InlineInput=function(a,b){Blockly.blockRendering.InlineInput.superClass_.constructor.call(this,a,b);this.type|=Blockly.blockRendering.Types.INLINE_INPUT;this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING);this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height;this.connectionWidth=this.isDynamicShape?
this.shape.width(this.height):this.shape.width;this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1));this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP;this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0};Blockly.utils.object.inherits(Blockly.blockRendering.InlineInput,Blockly.blockRendering.InputConnection);
Blockly.blockRendering.StatementInput=function(a,b){Blockly.blockRendering.StatementInput.superClass_.constructor.call(this,a,b);this.type|=Blockly.blockRendering.Types.STATEMENT_INPUT;this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT;this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width};Blockly.utils.object.inherits(Blockly.blockRendering.StatementInput,Blockly.blockRendering.InputConnection);
Blockly.blockRendering.ExternalValueInput=function(a,b){Blockly.blockRendering.ExternalValueInput.superClass_.constructor.call(this,a,b);this.type|=Blockly.blockRendering.Types.EXTERNAL_VALUE_INPUT;this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height;this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING;this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP;this.connectionHeight=this.shape.height;
this.connectionWidth=this.shape.width};Blockly.utils.object.inherits(Blockly.blockRendering.ExternalValueInput,Blockly.blockRendering.InputConnection);Blockly.blockRendering.Icon=function(a,b){Blockly.blockRendering.Icon.superClass_.constructor.call(this,a);this.icon=b;this.isVisible=b.isVisible();this.type|=Blockly.blockRendering.Types.ICON;a=b.getCorrectedSize();this.height=a.height;this.width=a.width};Blockly.utils.object.inherits(Blockly.blockRendering.Icon,Blockly.blockRendering.Measurable);
Blockly.blockRendering.JaggedEdge=function(a){Blockly.blockRendering.JaggedEdge.superClass_.constructor.call(this,a);this.type|=Blockly.blockRendering.Types.JAGGED_EDGE;this.height=this.constants_.JAGGED_TEETH.height;this.width=this.constants_.JAGGED_TEETH.width};Blockly.utils.object.inherits(Blockly.blockRendering.JaggedEdge,Blockly.blockRendering.Measurable);
Blockly.blockRendering.Field=function(a,b,c){Blockly.blockRendering.Field.superClass_.constructor.call(this,a);this.field=b;this.isEditable=b.EDITABLE;this.flipRtl=b.getFlipRtl();this.type|=Blockly.blockRendering.Types.FIELD;a=this.field.getSize();this.height=a.height;this.width=a.width;this.parentInput=c};Blockly.utils.object.inherits(Blockly.blockRendering.Field,Blockly.blockRendering.Measurable);
Blockly.blockRendering.Hat=function(a){Blockly.blockRendering.Hat.superClass_.constructor.call(this,a);this.type|=Blockly.blockRendering.Types.HAT;this.height=this.constants_.START_HAT.height;this.width=this.constants_.START_HAT.width;this.ascenderHeight=this.height};Blockly.utils.object.inherits(Blockly.blockRendering.Hat,Blockly.blockRendering.Measurable);
Blockly.blockRendering.SquareCorner=function(a,b){Blockly.blockRendering.SquareCorner.superClass_.constructor.call(this,a);this.type=(b&&"left"!=b?Blockly.blockRendering.Types.RIGHT_SQUARE_CORNER:Blockly.blockRendering.Types.LEFT_SQUARE_CORNER)|Blockly.blockRendering.Types.CORNER;this.width=this.height=this.constants_.NO_PADDING};Blockly.utils.object.inherits(Blockly.blockRendering.SquareCorner,Blockly.blockRendering.Measurable);
Blockly.blockRendering.RoundCorner=function(a,b){Blockly.blockRendering.RoundCorner.superClass_.constructor.call(this,a);this.type=(b&&"left"!=b?Blockly.blockRendering.Types.RIGHT_ROUND_CORNER:Blockly.blockRendering.Types.LEFT_ROUND_CORNER)|Blockly.blockRendering.Types.CORNER;this.width=this.constants_.CORNER_RADIUS;this.height=this.constants_.CORNER_RADIUS/2};Blockly.utils.object.inherits(Blockly.blockRendering.RoundCorner,Blockly.blockRendering.Measurable);
Blockly.blockRendering.InRowSpacer=function(a,b){Blockly.blockRendering.InRowSpacer.superClass_.constructor.call(this,a);this.type=this.type|Blockly.blockRendering.Types.SPACER|Blockly.blockRendering.Types.IN_ROW_SPACER;this.width=b;this.height=this.constants_.SPACER_DEFAULT_HEIGHT};Blockly.utils.object.inherits(Blockly.blockRendering.InRowSpacer,Blockly.blockRendering.Measurable);Blockly.blockRendering.Row=function(a){this.type=Blockly.blockRendering.Types.ROW;this.elements=[];this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0;this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1;this.constants_=a;this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT;this.align=null};
Blockly.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};Blockly.blockRendering.Row.prototype.getLastInput=function(){for(var a=this.elements.length-1,b;b=this.elements[a];a--)if(Blockly.blockRendering.Types.isInput(b))return b;return null};Blockly.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0};Blockly.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0};
Blockly.blockRendering.Row.prototype.getFirstSpacer=function(){for(var a=0,b;b=this.elements[a];a++)if(Blockly.blockRendering.Types.isSpacer(b))return b;return null};Blockly.blockRendering.Row.prototype.getLastSpacer=function(){for(var a=this.elements.length-1,b;b=this.elements[a];a--)if(Blockly.blockRendering.Types.isSpacer(b))return b;return null};
Blockly.blockRendering.TopRow=function(a){Blockly.blockRendering.TopRow.superClass_.constructor.call(this,a);this.type|=Blockly.blockRendering.Types.TOP_ROW;this.ascenderHeight=this.capline=0;this.hasPreviousConnection=!1;this.connection=null};Blockly.utils.object.inherits(Blockly.blockRendering.TopRow,Blockly.blockRendering.Row);
Blockly.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(a){var b=(a.hat?"cap"===a.hat:this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection,c=a.getPreviousBlock();return!!a.outputConnection||b||(c?c.getNextBlock()==a:!1)};Blockly.blockRendering.TopRow.prototype.hasRightSquareCorner=function(a){return!0};
Blockly.blockRendering.TopRow.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,Blockly.blockRendering.Types.isSpacer(e)||(Blockly.blockRendering.Types.isHat(e)?c=Math.max(c,e.ascenderHeight):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.capline=this.ascenderHeight=c;this.widthWithConnectedBlocks=this.width};Blockly.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1};
Blockly.blockRendering.TopRow.prototype.endsWithElemSpacer=function(){return!1};Blockly.blockRendering.BottomRow=function(a){Blockly.blockRendering.BottomRow.superClass_.constructor.call(this,a);this.type|=Blockly.blockRendering.Types.BOTTOM_ROW;this.hasNextConnection=!1;this.connection=null;this.baseline=this.descenderHeight=0};Blockly.utils.object.inherits(Blockly.blockRendering.BottomRow,Blockly.blockRendering.Row);
Blockly.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(a){return!!a.outputConnection||!!a.getNextBlock()};Blockly.blockRendering.BottomRow.prototype.hasRightSquareCorner=function(a){return!0};
Blockly.blockRendering.BottomRow.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,e;e=this.elements[d];d++)b+=e.width,Blockly.blockRendering.Types.isSpacer(e)||(Blockly.blockRendering.Types.isNextConnection(e)?c=Math.max(c,e.height):a=Math.max(a,e.height));this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.descenderHeight=c;this.widthWithConnectedBlocks=this.width};Blockly.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1};
Blockly.blockRendering.BottomRow.prototype.endsWithElemSpacer=function(){return!1};Blockly.blockRendering.SpacerRow=function(a,b,c){Blockly.blockRendering.SpacerRow.superClass_.constructor.call(this,a);this.type=this.type|Blockly.blockRendering.Types.SPACER|Blockly.blockRendering.Types.BETWEEN_ROW_SPACER;this.width=c;this.height=b;this.followsStatement=!1;this.widthWithConnectedBlocks=0;this.elements=[new Blockly.blockRendering.InRowSpacer(this.constants_,c)]};
Blockly.utils.object.inherits(Blockly.blockRendering.SpacerRow,Blockly.blockRendering.Row);Blockly.blockRendering.SpacerRow.prototype.measure=function(){};Blockly.blockRendering.InputRow=function(a){Blockly.blockRendering.InputRow.superClass_.constructor.call(this,a);this.type|=Blockly.blockRendering.Types.INPUT_ROW;this.connectedBlockWidths=0};Blockly.utils.object.inherits(Blockly.blockRendering.InputRow,Blockly.blockRendering.Row);
Blockly.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b=0,c;c=this.elements[b];b++)this.width+=c.width,Blockly.blockRendering.Types.isInput(c)&&(Blockly.blockRendering.Types.isStatementInput(c)?a+=c.connectedBlockWidth:Blockly.blockRendering.Types.isExternalInput(c)&&0!=c.connectedBlockWidth&&(a+=c.connectedBlockWidth-c.connectionWidth)),Blockly.blockRendering.Types.isSpacer(c)||(this.height=Math.max(this.height,c.height));this.connectedBlockWidths=
a;this.widthWithConnectedBlocks=this.width+a};Blockly.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement};Blockly.blockRendering.RenderInfo=function(a,b){this.block_=b;this.renderer_=a;this.constants_=this.renderer_.getConstants();this.outputConnection=b.outputConnection?new Blockly.blockRendering.OutputConnection(this.constants_,b.outputConnection):null;this.isInline=b.getInputsInline()&&!b.isCollapsed();this.isCollapsed=b.isCollapsed();this.isInsertionMarker=b.isInsertionMarker();this.RTL=b.RTL;this.statementEdge=this.width=this.widthWithChildren=this.height=0;this.rows=[];this.inputRows=[];this.hiddenIcons=
[];this.topRow=new Blockly.blockRendering.TopRow(this.constants_);this.bottomRow=new Blockly.blockRendering.BottomRow(this.constants_);this.startY=this.startX=0};Blockly.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_};Blockly.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_();this.addElemSpacing_();this.addRowSpacing_();this.computeBounds_();this.alignRowElements_();this.finalize_()};
Blockly.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_();this.rows.push(this.topRow);var a=new Blockly.blockRendering.InputRow(this.constants_);this.inputRows.push(a);var b=this.block_.getIcons();if(b.length)for(var c=0,d;d=b[c];c++){var e=new Blockly.blockRendering.Icon(this.constants_,d);this.isCollapsed&&d.collapseHidden?this.hiddenIcons.push(e):a.elements.push(e)}d=null;for(c=0;b=this.block_.inputList[c];c++)if(b.isVisible()){this.shouldStartNewRow_(b,d)&&(this.rows.push(a),
a=new Blockly.blockRendering.InputRow(this.constants_),this.inputRows.push(a));for(d=0;e=b.fieldRow[d];d++)a.elements.push(new Blockly.blockRendering.Field(this.constants_,e,b));this.addInput_(b,a);d=b}this.isCollapsed&&(a.hasJaggedEdge=!0,a.elements.push(new Blockly.blockRendering.JaggedEdge(this.constants_)));(a.elements.length||a.hasDummyInput)&&this.rows.push(a);this.populateBottomRow_();this.rows.push(this.bottomRow)};
Blockly.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var a=!!this.block_.previousConnection,b=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!a;this.topRow.hasLeftSquareCorner(this.block_)?this.topRow.elements.push(new Blockly.blockRendering.SquareCorner(this.constants_)):this.topRow.elements.push(new Blockly.blockRendering.RoundCorner(this.constants_));b?(a=new Blockly.blockRendering.Hat(this.constants_),this.topRow.elements.push(a),
this.topRow.capline=a.ascenderHeight):a&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new Blockly.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection));this.block_.inputList.length&&this.block_.inputList[0].type==Blockly.NEXT_STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT;this.topRow.hasRightSquareCorner(this.block_)?
this.topRow.elements.push(new Blockly.blockRendering.SquareCorner(this.constants_,"right")):this.topRow.elements.push(new Blockly.blockRendering.RoundCorner(this.constants_,"right"))};
Blockly.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection;this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==Blockly.NEXT_STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT;this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new Blockly.blockRendering.SquareCorner(this.constants_)):
this.bottomRow.elements.push(new Blockly.blockRendering.RoundCorner(this.constants_));this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new Blockly.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection));this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new Blockly.blockRendering.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new Blockly.blockRendering.RoundCorner(this.constants_,
"right"))};
Blockly.blockRendering.RenderInfo.prototype.addInput_=function(a,b){this.isInline&&a.type==Blockly.INPUT_VALUE?(b.elements.push(new Blockly.blockRendering.InlineInput(this.constants_,a)),b.hasInlineInput=!0):a.type==Blockly.NEXT_STATEMENT?(b.elements.push(new Blockly.blockRendering.StatementInput(this.constants_,a)),b.hasStatement=!0):a.type==Blockly.INPUT_VALUE?(b.elements.push(new Blockly.blockRendering.ExternalValueInput(this.constants_,a)),b.hasExternalInput=!0):a.type==Blockly.DUMMY_INPUT&&(b.minHeight=
Math.max(b.minHeight,a.getSourceBlock()&&a.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),b.hasDummyInput=!0);null==b.align&&(b.align=a.align)};Blockly.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(a,b){return b?a.type==Blockly.NEXT_STATEMENT||b.type==Blockly.NEXT_STATEMENT?!0:a.type==Blockly.INPUT_VALUE||a.type==Blockly.DUMMY_INPUT?!this.isInline:!1:!1};
Blockly.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var a=0,b;b=this.rows[a];a++){var c=b.elements;b.elements=[];b.startsWithElemSpacer()&&b.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,c[0])));if(c.length){for(var d=0;d<c.length-1;d++){b.elements.push(c[d]);var e=this.getInRowSpacing_(c[d],c[d+1]);b.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_,e))}b.elements.push(c[c.length-1]);b.endsWithElemSpacer()&&
b.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(c[c.length-1],null)))}}};
Blockly.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(a,b){if(!a&&b&&Blockly.blockRendering.Types.isStatementInput(b))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(a&&Blockly.blockRendering.Types.isInput(a)&&!b){if(Blockly.blockRendering.Types.isExternalInput(a))return this.constants_.NO_PADDING;if(Blockly.blockRendering.Types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(Blockly.blockRendering.Types.isStatementInput(a))return this.constants_.NO_PADDING}return a&&
Blockly.blockRendering.Types.isLeftSquareCorner(a)&&b&&(Blockly.blockRendering.Types.isPreviousConnection(b)||Blockly.blockRendering.Types.isNextConnection(b))?b.notchOffset:a&&Blockly.blockRendering.Types.isLeftRoundedCorner(a)&&b&&(Blockly.blockRendering.Types.isPreviousConnection(b)||Blockly.blockRendering.Types.isNextConnection(b))?b.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING};
Blockly.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var a=0,b=0,c=0,d=0,e;e=this.rows[d];d++){e.measure();b=Math.max(b,e.width);if(e.hasStatement){var f=e.getLastInput();a=Math.max(a,e.width-f.width)}c=Math.max(c,e.widthWithConnectedBlocks)}this.statementEdge=a;this.width=b;for(d=0;e=this.rows[d];d++)e.hasStatement&&(e.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(b,c);this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,
this.widthWithChildren+=this.outputConnection.width)};Blockly.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var a=0,b;b=this.rows[a];a++)if(b.hasStatement)this.alignStatementRow_(b);else{var c=b.width;c=this.getDesiredRowWidth_(b)-c;0<c&&this.addAlignmentPadding_(b,c);Blockly.blockRendering.Types.isTopOrBottomRow(b)&&(b.widthWithConnectedBlocks=b.width)}};Blockly.blockRendering.RenderInfo.prototype.getDesiredRowWidth_=function(a){return this.width-this.startX};
Blockly.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(a,b){var c=a.getFirstSpacer(),d=a.getLastSpacer();if(a.hasExternalInput||a.hasStatement)a.widthWithConnectedBlocks+=b;a.align==Blockly.ALIGN_LEFT?d.width+=b:a.align==Blockly.ALIGN_CENTRE?(c.width+=b/2,d.width+=b/2):a.align==Blockly.ALIGN_RIGHT?c.width+=b:d.width+=b;a.width+=b};
Blockly.blockRendering.RenderInfo.prototype.alignStatementRow_=function(a){var b=a.getLastInput(),c=a.width-b.width,d=this.statementEdge;c=d-c;0<c&&this.addAlignmentPadding_(a,c);c=a.width;d=this.getDesiredRowWidth_(a);b.width+=d-c;b.height=Math.max(b.height,a.height);a.width+=d-c;a.widthWithConnectedBlocks=Math.max(a.width,this.statementEdge+a.connectedBlockWidths)};
Blockly.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var a=this.rows;this.rows=[];for(var b=0;b<a.length;b++)this.rows.push(a[b]),b!=a.length-1&&this.rows.push(this.makeSpacerRow_(a[b],a[b+1]))};Blockly.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(a,b){var c=this.getSpacerRowHeight_(a,b),d=this.getSpacerRowWidth_(a,b);c=new Blockly.blockRendering.SpacerRow(this.constants_,c,d);a.hasStatement&&(c.followsStatement=!0);b.hasStatement&&(c.precedesStatement=!0);return c};
Blockly.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(a,b){return this.width-this.startX};Blockly.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(a,b){return this.constants_.MEDIUM_PADDING};
Blockly.blockRendering.RenderInfo.prototype.getElemCenterline_=function(a,b){return Blockly.blockRendering.Types.isSpacer(b)?a.yPos+b.height/2:Blockly.blockRendering.Types.isBottomRow(a)?(a=a.yPos+a.height-a.descenderHeight,Blockly.blockRendering.Types.isNextConnection(b)?a+b.height/2:a-b.height/2):Blockly.blockRendering.Types.isTopRow(a)?Blockly.blockRendering.Types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2:a.yPos+a.height/2};
Blockly.blockRendering.RenderInfo.prototype.recordElemPositions_=function(a){for(var b=a.xPos,c=0,d;d=a.elements[c];c++)Blockly.blockRendering.Types.isSpacer(d)&&(d.height=a.height),d.xPos=b,d.centerline=this.getElemCenterline_(a,d),b+=d.width};
Blockly.blockRendering.RenderInfo.prototype.finalize_=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++)d.yPos=b,d.xPos=this.startX,b+=d.height,a=Math.max(a,d.widthWithConnectedBlocks),this.recordElemPositions_(d);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(a=Math.max(a,this.block_.nextConnection.targetBlock().getHeightWidth().width));this.widthWithChildren=a+this.startX;this.height=b;this.startY=this.topRow.capline;this.bottomRow.baseline=b-this.bottomRow.descenderHeight};Blockly.blockRendering.Drawer=function(a,b){this.block_=a;this.info_=b;this.topLeft_=a.getRelativeToSurfaceXY();this.inlinePath_=this.outlinePath_="";this.constants_=b.getRenderer().getConstants()};
Blockly.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_();this.drawOutline_();this.drawInternals_();this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_);this.info_.RTL&&this.block_.pathObject.flipRTL();Blockly.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_);this.recordSizeOnBlock_()};Blockly.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height;this.block_.width=this.info_.widthWithChildren};
Blockly.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var a=0,b;b=this.info_.hiddenIcons[a];a++)b.icon.iconGroup_.setAttribute("display","none")};Blockly.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var a=1;a<this.info_.rows.length-1;a++){var b=this.info_.rows[a];b.hasJaggedEdge?this.drawJaggedEdge_(b):b.hasStatement?this.drawStatementInput_(b):b.hasExternalInput?this.drawValueInput_(b):this.drawRightSideRow_(b)}this.drawBottom_();this.drawLeft_()};
Blockly.blockRendering.Drawer.prototype.drawTop_=function(){var a=this.info_.topRow,b=a.elements;this.positionPreviousConnection_();this.outlinePath_+=Blockly.utils.svgPaths.moveBy(a.xPos,this.info_.startY);for(var c=0,d;d=b[c];c++)Blockly.blockRendering.Types.isLeftRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:Blockly.blockRendering.Types.isRightRoundedCorner(d)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:Blockly.blockRendering.Types.isPreviousConnection(d)?
this.outlinePath_+=d.shape.pathLeft:Blockly.blockRendering.Types.isHat(d)?this.outlinePath_+=this.constants_.START_HAT.path:Blockly.blockRendering.Types.isSpacer(d)&&(this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("h",d.width));this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("v",a.height)};Blockly.blockRendering.Drawer.prototype.drawJaggedEdge_=function(a){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+Blockly.utils.svgPaths.lineOnAxis("v",a.height-this.constants_.JAGGED_TEETH.height)};
Blockly.blockRendering.Drawer.prototype.drawValueInput_=function(a){var b=a.getLastInput();this.positionExternalValueConnection_(a);var c="function"==typeof b.shape.pathDown?b.shape.pathDown(b.height):b.shape.pathDown;this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("H",b.xPos+b.width)+c+Blockly.utils.svgPaths.lineOnAxis("v",a.height-b.connectionHeight)};
Blockly.blockRendering.Drawer.prototype.drawStatementInput_=function(a){var b=a.getLastInput(),c=b.xPos+b.notchOffset+b.shape.width;b=b.shape.pathRight+Blockly.utils.svgPaths.lineOnAxis("h",-(b.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var d=a.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("H",c)+b+Blockly.utils.svgPaths.lineOnAxis("v",d)+this.constants_.INSIDE_CORNERS.pathBottom+Blockly.utils.svgPaths.lineOnAxis("H",
a.xPos+a.width);this.positionStatementInputConnection_(a)};Blockly.blockRendering.Drawer.prototype.drawRightSideRow_=function(a){this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("V",a.yPos+a.height)};
Blockly.blockRendering.Drawer.prototype.drawBottom_=function(){var a=this.info_.bottomRow,b=a.elements;this.positionNextConnection_();for(var c=0,d="",e=b.length-1,f;f=b[e];e--)Blockly.blockRendering.Types.isNextConnection(f)?d+=f.shape.pathRight:Blockly.blockRendering.Types.isLeftSquareCorner(f)?d+=Blockly.utils.svgPaths.lineOnAxis("H",a.xPos):Blockly.blockRendering.Types.isLeftRoundedCorner(f)?d+=this.constants_.OUTSIDE_CORNERS.bottomLeft:Blockly.blockRendering.Types.isRightRoundedCorner(f)?(d+=
this.constants_.OUTSIDE_CORNERS.bottomRight,c=this.constants_.OUTSIDE_CORNERS.rightHeight):Blockly.blockRendering.Types.isSpacer(f)&&(d+=Blockly.utils.svgPaths.lineOnAxis("h",-1*f.width));this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("V",a.baseline-c);this.outlinePath_+=d};
Blockly.blockRendering.Drawer.prototype.drawLeft_=function(){var a=this.info_.outputConnection;this.positionOutputConnection_();if(a){var b=a.connectionOffsetY+a.height;a="function"==typeof a.shape.pathUp?a.shape.pathUp(a.height):a.shape.pathUp;this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("V",b)+a}this.outlinePath_+="z"};
Blockly.blockRendering.Drawer.prototype.drawInternals_=function(){for(var a=0,b;b=this.info_.rows[a];a++)for(var c=0,d;d=b.elements[c];c++)Blockly.blockRendering.Types.isInlineInput(d)?this.drawInlineInput_(d):(Blockly.blockRendering.Types.isIcon(d)||Blockly.blockRendering.Types.isField(d))&&this.layoutField_(d)};
Blockly.blockRendering.Drawer.prototype.layoutField_=function(a){if(Blockly.blockRendering.Types.isField(a))var b=a.field.getSvgRoot();else Blockly.blockRendering.Types.isIcon(a)&&(b=a.icon.iconGroup_);var c=a.centerline-a.height/2,d=a.xPos,e="";this.info_.RTL&&(d=-(d+a.width),a.flipRtl&&(d+=a.width,e="scale(-1 1)"));Blockly.blockRendering.Types.isIcon(a)?(b.setAttribute("display","block"),b.setAttribute("transform","translate("+d+","+c+")"),a.icon.computeIconLocation()):b.setAttribute("transform",
"translate("+d+","+c+")"+e);this.info_.isInsertionMarker&&b.setAttribute("display","none")};
Blockly.blockRendering.Drawer.prototype.drawInlineInput_=function(a){var b=a.width,c=a.height,d=a.connectionOffsetY,e=a.connectionHeight+d;this.inlinePath_+=Blockly.utils.svgPaths.moveTo(a.xPos+a.connectionWidth,a.centerline-c/2)+Blockly.utils.svgPaths.lineOnAxis("v",d)+a.shape.pathDown+Blockly.utils.svgPaths.lineOnAxis("v",c-e)+Blockly.utils.svgPaths.lineOnAxis("h",b-a.connectionWidth)+Blockly.utils.svgPaths.lineOnAxis("v",-c)+"z";this.positionInlineInputConnection_(a)};
Blockly.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(a){var b=a.centerline-a.height/2;if(a.connectionModel){var c=a.xPos+a.connectionWidth+a.connectionOffsetX;this.info_.RTL&&(c*=-1);a.connectionModel.setOffsetInBlock(c,b+a.connectionOffsetY)}};
Blockly.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(a){var b=a.getLastInput();if(b.connectionModel){var c=a.xPos+a.statementEdge+b.notchOffset;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos)}};Blockly.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(a){var b=a.getLastInput();if(b.connectionModel){var c=a.xPos+a.width;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos)}};
Blockly.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var a=this.info_.topRow;if(a.connection){var b=a.xPos+a.notchOffset;a.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-b:b,0)}};Blockly.blockRendering.Drawer.prototype.positionNextConnection_=function(){var a=this.info_.bottomRow;if(a.connection){var b=a.connection,c=b.xPos;b.connectionModel.setOffsetInBlock(this.info_.RTL?-c:c,a.baseline)}};
Blockly.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var a=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-a:a,this.info_.outputConnection.connectionOffsetY)}};Blockly.blockRendering.PathObject=function(a,b,c){this.constants=c;this.svgRoot=a;this.svgPath=Blockly.utils.dom.createSvgElement("path",{"class":"blocklyPath"},this.svgRoot);this.style=b;this.markerSvg=this.cursorSvg=null};Blockly.blockRendering.PathObject.prototype.setPath=function(a){this.svgPath.setAttribute("d",a)};Blockly.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")};
Blockly.blockRendering.PathObject.prototype.setCursorSvg=function(a){a?(this.svgRoot.appendChild(a),this.cursorSvg=a):this.cursorSvg=null};Blockly.blockRendering.PathObject.prototype.setMarkerSvg=function(a){a?(this.cursorSvg?this.svgRoot.insertBefore(a,this.cursorSvg):this.svgRoot.appendChild(a),this.markerSvg=a):this.markerSvg=null};
Blockly.blockRendering.PathObject.prototype.applyColour=function(a){this.svgPath.setAttribute("stroke",this.style.colourTertiary);this.svgPath.setAttribute("fill",this.style.colourPrimary);this.updateShadow_(a.isShadow());this.updateDisabled_(!a.isEnabled()||a.getInheritedDisabled())};Blockly.blockRendering.PathObject.prototype.setStyle=function(a){this.style=a};
Blockly.blockRendering.PathObject.prototype.setClass_=function(a,b){b?Blockly.utils.dom.addClass(this.svgRoot,a):Blockly.utils.dom.removeClass(this.svgRoot,a)};Blockly.blockRendering.PathObject.prototype.updateHighlighted=function(a){a?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")};
Blockly.blockRendering.PathObject.prototype.updateShadow_=function(a){a&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))};Blockly.blockRendering.PathObject.prototype.updateDisabled_=function(a){this.setClass_("blocklyDisabled",a);a&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")};Blockly.blockRendering.PathObject.prototype.updateSelected=function(a){this.setClass_("blocklySelected",a)};
Blockly.blockRendering.PathObject.prototype.updateDraggingDelete=function(a){this.setClass_("blocklyDraggingDelete",a)};Blockly.blockRendering.PathObject.prototype.updateInsertionMarker=function(a){this.setClass_("blocklyInsertionMarker",a)};Blockly.blockRendering.PathObject.prototype.updateMovable=function(a){this.setClass_("blocklyDraggable",a)};Blockly.blockRendering.PathObject.prototype.updateReplacementFade=function(a){this.setClass_("blocklyReplaceable",a)};
Blockly.blockRendering.PathObject.prototype.updateShapeForInputHighlight=function(a,b){};Blockly.blockRendering.Renderer=function(a){this.name=a;this.overrides=this.constants_=null};Blockly.blockRendering.Renderer.prototype.getClassName=function(){return this.name+"-renderer"};Blockly.blockRendering.Renderer.prototype.init=function(a,b){this.constants_=this.makeConstants_();b&&(this.overrides=b,Blockly.utils.object.mixin(this.constants_,b));this.constants_.setTheme(a);this.constants_.init()};
Blockly.blockRendering.Renderer.prototype.createDom=function(a,b){this.constants_.createDom(a,this.name+"-"+b.name,"."+this.getClassName()+"."+b.getClassName())};Blockly.blockRendering.Renderer.prototype.refreshDom=function(a,b){var c=this.getConstants();c.dispose();this.constants_=this.makeConstants_();this.overrides&&Blockly.utils.object.mixin(this.constants_,this.overrides);this.constants_.randomIdentifier=c.randomIdentifier;this.constants_.setTheme(b);this.constants_.init();this.createDom(a,b)};
Blockly.blockRendering.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()};Blockly.blockRendering.Renderer.prototype.makeConstants_=function(){return new Blockly.blockRendering.ConstantProvider};Blockly.blockRendering.Renderer.prototype.makeRenderInfo_=function(a){return new Blockly.blockRendering.RenderInfo(this,a)};Blockly.blockRendering.Renderer.prototype.makeDrawer_=function(a,b){return new Blockly.blockRendering.Drawer(a,b)};
Blockly.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!Blockly.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new Blockly.blockRendering.Debug(this.getConstants())};Blockly.blockRendering.Renderer.prototype.makeMarkerDrawer=function(a,b){return new Blockly.blockRendering.MarkerSvg(a,this.getConstants(),b)};Blockly.blockRendering.Renderer.prototype.makePathObject=function(a,b){return new Blockly.blockRendering.PathObject(a,b,this.constants_)};
Blockly.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_};Blockly.blockRendering.Renderer.prototype.shouldHighlightConnection=function(a){return!0};Blockly.blockRendering.Renderer.prototype.orphanCanConnectAtEnd=function(a,b,c){c==Blockly.OUTPUT_VALUE?(c=b.outputConnection,a=Blockly.Connection.lastConnectionInRow(a,b)):(c=b.previousConnection,a=a.lastConnectionInStack());return a?c.checkType(a):!1};
Blockly.blockRendering.Renderer.prototype.getConnectionPreviewMethod=function(a,b,c){return b.type==Blockly.OUTPUT_VALUE||b.type==Blockly.PREVIOUS_STATEMENT?!a.isConnected()||this.orphanCanConnectAtEnd(c,a.targetBlock(),b.type)?Blockly.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:Blockly.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:Blockly.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER};
Blockly.blockRendering.Renderer.prototype.render=function(a){Blockly.blockRendering.useDebugger&&!a.renderingDebugger&&(a.renderingDebugger=this.makeDebugger_());var b=this.makeRenderInfo_(a);b.measure();this.makeDrawer_(a,b).draw()};Blockly.geras={};Blockly.geras.ConstantProvider=function(){Blockly.geras.ConstantProvider.superClass_.constructor.call(this);this.FIELD_TEXT_BASELINE_CENTER=!1;this.DARK_PATH_OFFSET=1;this.MAX_BOTTOM_WIDTH=30};Blockly.utils.object.inherits(Blockly.geras.ConstantProvider,Blockly.blockRendering.ConstantProvider);
Blockly.geras.ConstantProvider.prototype.getCSS_=function(a){return Blockly.geras.ConstantProvider.superClass_.getCSS_.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none","}"])};Blockly.geras.Highlighter=function(a){this.info_=a;this.inlineSteps_=this.steps_="";this.RTL_=this.info_.RTL;a=a.getRenderer();this.constants_=a.getConstants();this.highlightConstants_=a.getHighlightConstants();this.highlightOffset_=this.highlightConstants_.OFFSET;this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER;this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER;this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB;this.notchPaths_=this.highlightConstants_.NOTCH;this.startPaths_=
this.highlightConstants_.START_HAT;this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH};Blockly.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_};
Blockly.geras.Highlighter.prototype.drawTopCorner=function(a){this.steps_+=Blockly.utils.svgPaths.moveBy(a.xPos,this.info_.startY);for(var b=0,c;c=a.elements[b];b++)Blockly.blockRendering.Types.isLeftSquareCorner(c)?this.steps_+=this.highlightConstants_.START_POINT:Blockly.blockRendering.Types.isLeftRoundedCorner(c)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):Blockly.blockRendering.Types.isPreviousConnection(c)?this.steps_+=this.notchPaths_.pathLeft:Blockly.blockRendering.Types.isHat(c)?
this.steps_+=this.startPaths_.path(this.RTL_):Blockly.blockRendering.Types.isSpacer(c)&&0!=c.width&&(this.steps_+=Blockly.utils.svgPaths.lineOnAxis("H",c.xPos+c.width-this.highlightOffset_));this.steps_+=Blockly.utils.svgPaths.lineOnAxis("H",a.xPos+a.width-this.highlightOffset_)};Blockly.geras.Highlighter.prototype.drawJaggedEdge_=function(a){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+Blockly.utils.svgPaths.lineOnAxis("v",a.height-this.jaggedTeethPaths_.height-this.highlightOffset_))};
Blockly.geras.Highlighter.prototype.drawValueInput=function(a){var b=a.getLastInput();if(this.RTL_){var c=a.height-b.connectionHeight;this.steps_+=Blockly.utils.svgPaths.moveTo(b.xPos+b.width-this.highlightOffset_,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+Blockly.utils.svgPaths.lineOnAxis("v",c)}else this.steps_+=Blockly.utils.svgPaths.moveTo(b.xPos+b.width,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)};
Blockly.geras.Highlighter.prototype.drawStatementInput=function(a){var b=a.getLastInput();if(this.RTL_){var c=a.height-2*this.insideCornerPaths_.height;this.steps_+=Blockly.utils.svgPaths.moveTo(b.xPos,a.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+Blockly.utils.svgPaths.lineOnAxis("v",c)+this.insideCornerPaths_.pathBottom(this.RTL_)+Blockly.utils.svgPaths.lineTo(a.width-b.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=Blockly.utils.svgPaths.moveTo(b.xPos,a.yPos+a.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+
Blockly.utils.svgPaths.lineTo(a.width-b.xPos-this.insideCornerPaths_.width,0)};Blockly.geras.Highlighter.prototype.drawRightSideRow=function(a){var b=a.xPos+a.width-this.highlightOffset_;a.followsStatement&&(this.steps_+=Blockly.utils.svgPaths.lineOnAxis("H",b));this.RTL_&&(this.steps_+=Blockly.utils.svgPaths.lineOnAxis("H",b),a.height>this.highlightOffset_&&(this.steps_+=Blockly.utils.svgPaths.lineOnAxis("V",a.yPos+a.height-this.highlightOffset_)))};
Blockly.geras.Highlighter.prototype.drawBottomRow=function(a){if(this.RTL_)this.steps_+=Blockly.utils.svgPaths.lineOnAxis("V",a.baseline-this.highlightOffset_);else{var b=this.info_.bottomRow.elements[0];Blockly.blockRendering.Types.isLeftSquareCorner(b)?this.steps_+=Blockly.utils.svgPaths.moveTo(a.xPos+this.highlightOffset_,a.baseline-this.highlightOffset_):Blockly.blockRendering.Types.isLeftRoundedCorner(b)&&(this.steps_+=Blockly.utils.svgPaths.moveTo(a.xPos,a.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}};
Blockly.geras.Highlighter.prototype.drawLeft=function(){var a=this.info_.outputConnection;a&&(a=a.connectionOffsetY+a.height,this.RTL_?this.steps_+=Blockly.utils.svgPaths.moveTo(this.info_.startX,a):(this.steps_+=Blockly.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=Blockly.utils.svgPaths.lineOnAxis("V",a)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_));this.RTL_||(a=this.info_.topRow,Blockly.blockRendering.Types.isLeftRoundedCorner(a.elements[0])?
this.steps_+=Blockly.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):this.steps_+=Blockly.utils.svgPaths.lineOnAxis("V",a.capline+this.highlightOffset_))};
Blockly.geras.Highlighter.prototype.drawInlineInput=function(a){var b=this.highlightOffset_,c=a.xPos+a.connectionWidth,d=a.centerline-a.height/2,e=a.width-a.connectionWidth,f=d+b;this.RTL_?(d=a.connectionOffsetY-b,a=a.height-(a.connectionOffsetY+a.connectionHeight)+b,this.inlineSteps_+=Blockly.utils.svgPaths.moveTo(c-b,f)+Blockly.utils.svgPaths.lineOnAxis("v",d)+this.puzzleTabPaths_.pathDown(this.RTL_)+Blockly.utils.svgPaths.lineOnAxis("v",a)+Blockly.utils.svgPaths.lineOnAxis("h",e)):this.inlineSteps_+=
Blockly.utils.svgPaths.moveTo(a.xPos+a.width+b,f)+Blockly.utils.svgPaths.lineOnAxis("v",a.height)+Blockly.utils.svgPaths.lineOnAxis("h",-e)+Blockly.utils.svgPaths.moveTo(c,d+a.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)};Blockly.geras.InlineInput=function(a,b){Blockly.geras.InlineInput.superClass_.constructor.call(this,a,b);this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)};Blockly.utils.object.inherits(Blockly.geras.InlineInput,Blockly.blockRendering.InlineInput);Blockly.geras.StatementInput=function(a,b){Blockly.geras.StatementInput.superClass_.constructor.call(this,a,b);this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)};
Blockly.utils.object.inherits(Blockly.geras.StatementInput,Blockly.blockRendering.StatementInput);Blockly.geras.RenderInfo=function(a,b){Blockly.geras.RenderInfo.superClass_.constructor.call(this,a,b)};Blockly.utils.object.inherits(Blockly.geras.RenderInfo,Blockly.blockRendering.RenderInfo);Blockly.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_};
Blockly.geras.RenderInfo.prototype.populateBottomRow_=function(){Blockly.geras.RenderInfo.superClass_.populateBottomRow_.call(this);this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==Blockly.NEXT_STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)};
Blockly.geras.RenderInfo.prototype.addInput_=function(a,b){this.isInline&&a.type==Blockly.INPUT_VALUE?(b.elements.push(new Blockly.geras.InlineInput(this.constants_,a)),b.hasInlineInput=!0):a.type==Blockly.NEXT_STATEMENT?(b.elements.push(new Blockly.geras.StatementInput(this.constants_,a)),b.hasStatement=!0):a.type==Blockly.INPUT_VALUE?(b.elements.push(new Blockly.blockRendering.ExternalValueInput(this.constants_,a)),b.hasExternalInput=!0):a.type==Blockly.DUMMY_INPUT&&(b.minHeight=Math.max(b.minHeight,
this.constants_.DUMMY_INPUT_MIN_HEIGHT),b.hasDummyInput=!0);this.isInline||null!=b.align||(b.align=a.align)};
Blockly.geras.RenderInfo.prototype.addElemSpacing_=function(){for(var a=!1,b=0,c;c=this.rows[b];b++)c.hasExternalInput&&(a=!0);for(b=0;c=this.rows[b];b++){var d=c.elements;c.elements=[];c.startsWithElemSpacer()&&c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++){c.elements.push(d[e]);var f=this.getInRowSpacing_(d[e],d[e+1]);c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_,f))}c.elements.push(d[d.length-
1]);c.endsWithElemSpacer()&&(f=this.getInRowSpacing_(d[d.length-1],null),a&&c.hasDummyInput&&(f+=this.constants_.TAB_WIDTH),c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_,f)))}}};
Blockly.geras.RenderInfo.prototype.getInRowSpacing_=function(a,b){if(!a)return b&&Blockly.blockRendering.Types.isField(b)&&b.isEditable?this.constants_.MEDIUM_PADDING:b&&Blockly.blockRendering.Types.isInlineInput(b)?this.constants_.MEDIUM_LARGE_PADDING:b&&Blockly.blockRendering.Types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Blockly.blockRendering.Types.isInput(a)&&(!b||Blockly.blockRendering.Types.isStatementInput(b)))return Blockly.blockRendering.Types.isField(a)&&
a.isEditable?this.constants_.MEDIUM_PADDING:Blockly.blockRendering.Types.isIcon(a)?2*this.constants_.LARGE_PADDING+1:Blockly.blockRendering.Types.isHat(a)?this.constants_.NO_PADDING:Blockly.blockRendering.Types.isPreviousOrNextConnection(a)?this.constants_.LARGE_PADDING:Blockly.blockRendering.Types.isLeftRoundedCorner(a)?this.constants_.MIN_BLOCK_WIDTH:Blockly.blockRendering.Types.isJaggedEdge(a)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Blockly.blockRendering.Types.isInput(a)&&
!b){if(Blockly.blockRendering.Types.isExternalInput(a))return this.constants_.NO_PADDING;if(Blockly.blockRendering.Types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(Blockly.blockRendering.Types.isStatementInput(a))return this.constants_.NO_PADDING}if(!Blockly.blockRendering.Types.isInput(a)&&b&&Blockly.blockRendering.Types.isInput(b)){if(Blockly.blockRendering.Types.isField(a)&&a.isEditable){if(Blockly.blockRendering.Types.isInlineInput(b)||Blockly.blockRendering.Types.isExternalInput(b))return this.constants_.SMALL_PADDING}else{if(Blockly.blockRendering.Types.isInlineInput(b)||
Blockly.blockRendering.Types.isExternalInput(b))return this.constants_.MEDIUM_LARGE_PADDING;if(Blockly.blockRendering.Types.isStatementInput(b))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Blockly.blockRendering.Types.isIcon(a)&&b&&!Blockly.blockRendering.Types.isInput(b))return this.constants_.LARGE_PADDING;if(Blockly.blockRendering.Types.isInlineInput(a)&&b&&Blockly.blockRendering.Types.isField(b))return b.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;
if(Blockly.blockRendering.Types.isLeftSquareCorner(a)&&b){if(Blockly.blockRendering.Types.isHat(b))return this.constants_.NO_PADDING;if(Blockly.blockRendering.Types.isPreviousConnection(b))return b.notchOffset;if(Blockly.blockRendering.Types.isNextConnection(b))return a=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,b.notchOffset+a}if(Blockly.blockRendering.Types.isLeftRoundedCorner(a)&&b){if(Blockly.blockRendering.Types.isPreviousConnection(b))return b.notchOffset-this.constants_.CORNER_RADIUS;
if(Blockly.blockRendering.Types.isNextConnection(b))return a=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,b.notchOffset-this.constants_.CORNER_RADIUS+a}return Blockly.blockRendering.Types.isField(a)&&b&&Blockly.blockRendering.Types.isField(b)&&a.isEditable==b.isEditable||b&&Blockly.blockRendering.Types.isJaggedEdge(b)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING};
Blockly.geras.RenderInfo.prototype.getSpacerRowHeight_=function(a,b){return Blockly.blockRendering.Types.isTopRow(a)&&Blockly.blockRendering.Types.isBottomRow(b)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Blockly.blockRendering.Types.isTopRow(a)||Blockly.blockRendering.Types.isBottomRow(b)?this.constants_.NO_PADDING:a.hasExternalInput&&b.hasExternalInput?this.constants_.LARGE_PADDING:!a.hasStatement&&b.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:a.hasStatement&&b.hasStatement||!a.hasStatement&&
b.hasDummyInput||a.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING};
Blockly.geras.RenderInfo.prototype.getElemCenterline_=function(a,b){if(Blockly.blockRendering.Types.isSpacer(b))return a.yPos+b.height/2;if(Blockly.blockRendering.Types.isBottomRow(a))return a=a.yPos+a.height-a.descenderHeight,Blockly.blockRendering.Types.isNextConnection(b)?a+b.height/2:a-b.height/2;if(Blockly.blockRendering.Types.isTopRow(a))return Blockly.blockRendering.Types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2;var c=a.yPos;Blockly.blockRendering.Types.isField(b)||Blockly.blockRendering.Types.isIcon(b)?
(c+=b.height/2,(a.hasInlineInput||a.hasStatement)&&b.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=a.height&&(c+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):c=Blockly.blockRendering.Types.isInlineInput(b)?c+b.height/2:c+a.height/2;return c};
Blockly.geras.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var a=0,b=null,c=this.rows.length-1,d;d=this.rows[c];c--)d.nextRightEdge=a,Blockly.blockRendering.Types.isInputRow(d)&&(d.hasStatement&&this.alignStatementRow_(d),b&&b.hasStatement&&d.width<b.width?d.nextRightEdge=b.width:a=d.width,b=d);for(c=a=0;d=this.rows[c];c++)d.hasStatement?a=this.getDesiredRowWidth_(d):Blockly.blockRendering.Types.isSpacer(d)?d.width=Math.max(a,d.nextRightEdge):(a=Math.max(a,d.nextRightEdge)-
d.width,0<a&&this.addAlignmentPadding_(d,a),a=d.width)}else Blockly.geras.RenderInfo.superClass_.alignRowElements_.call(this)};Blockly.geras.RenderInfo.prototype.getDesiredRowWidth_=function(a){return this.isInline&&a.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:Blockly.geras.RenderInfo.superClass_.getDesiredRowWidth_.call(this,a)};
Blockly.geras.RenderInfo.prototype.finalize_=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++){d.yPos=b;d.xPos=this.startX;b+=d.height;a=Math.max(a,d.widthWithConnectedBlocks);var e=b-this.topRow.ascenderHeight;d==this.bottomRow&&e<this.constants_.MIN_BLOCK_HEIGHT&&(e=this.constants_.MIN_BLOCK_HEIGHT-e,this.bottomRow.height+=e,b+=e);this.recordElemPositions_(d)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(a=Math.max(a,this.block_.nextConnection.targetBlock().getHeightWidth().width-
this.constants_.DARK_PATH_OFFSET));this.bottomRow.baseline=b-this.bottomRow.descenderHeight;this.widthWithChildren=a+this.startX+this.constants_.DARK_PATH_OFFSET;this.width+=this.constants_.DARK_PATH_OFFSET;this.height=b+this.constants_.DARK_PATH_OFFSET;this.startY=this.topRow.capline};Blockly.geras.Drawer=function(a,b){Blockly.geras.Drawer.superClass_.constructor.call(this,a,b);this.highlighter_=new Blockly.geras.Highlighter(b)};Blockly.utils.object.inherits(Blockly.geras.Drawer,Blockly.blockRendering.Drawer);
Blockly.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_();this.drawOutline_();this.drawInternals_();var a=this.block_.pathObject;a.setPath(this.outlinePath_+"\n"+this.inlinePath_);a.setHighlightPath(this.highlighter_.getPath());this.info_.RTL&&a.flipRTL();Blockly.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_);this.recordSizeOnBlock_()};
Blockly.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow);this.highlighter_.drawRightSideRow(this.info_.topRow);Blockly.geras.Drawer.superClass_.drawTop_.call(this)};Blockly.geras.Drawer.prototype.drawJaggedEdge_=function(a){this.highlighter_.drawJaggedEdge_(a);Blockly.geras.Drawer.superClass_.drawJaggedEdge_.call(this,a)};
Blockly.geras.Drawer.prototype.drawValueInput_=function(a){this.highlighter_.drawValueInput(a);Blockly.geras.Drawer.superClass_.drawValueInput_.call(this,a)};Blockly.geras.Drawer.prototype.drawStatementInput_=function(a){this.highlighter_.drawStatementInput(a);Blockly.geras.Drawer.superClass_.drawStatementInput_.call(this,a)};
Blockly.geras.Drawer.prototype.drawRightSideRow_=function(a){this.highlighter_.drawRightSideRow(a);this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("H",a.xPos+a.width)+Blockly.utils.svgPaths.lineOnAxis("V",a.yPos+a.height)};Blockly.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow);Blockly.geras.Drawer.superClass_.drawBottom_.call(this)};Blockly.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft();Blockly.geras.Drawer.superClass_.drawLeft_.call(this)};
Blockly.geras.Drawer.prototype.drawInlineInput_=function(a){this.highlighter_.drawInlineInput(a);Blockly.geras.Drawer.superClass_.drawInlineInput_.call(this,a)};Blockly.geras.Drawer.prototype.positionInlineInputConnection_=function(a){var b=a.centerline-a.height/2;if(a.connectionModel){var c=a.xPos+a.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(c*=-1);a.connectionModel.setOffsetInBlock(c,b+a.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}};
Blockly.geras.Drawer.prototype.positionStatementInputConnection_=function(a){var b=a.getLastInput();if(b.connectionModel){var c=a.xPos+a.statementEdge+b.notchOffset;c=this.info_.RTL?-1*c:c+this.constants_.DARK_PATH_OFFSET;b.connectionModel.setOffsetInBlock(c,a.yPos+this.constants_.DARK_PATH_OFFSET)}};
Blockly.geras.Drawer.prototype.positionExternalValueConnection_=function(a){var b=a.getLastInput();if(b.connectionModel){var c=a.xPos+a.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(c*=-1);b.connectionModel.setOffsetInBlock(c,a.yPos)}};Blockly.geras.Drawer.prototype.positionNextConnection_=function(){var a=this.info_.bottomRow;if(a.connection){var b=a.connection,c=b.xPos;b.connectionModel.setOffsetInBlock((this.info_.RTL?-c:c)+this.constants_.DARK_PATH_OFFSET/2,a.baseline+this.constants_.DARK_PATH_OFFSET)}};Blockly.geras.HighlightConstantProvider=function(a){this.constantProvider=a;this.OFFSET=.5;this.START_POINT=Blockly.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET)};Blockly.geras.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner();this.OUTSIDE_CORNER=this.makeOutsideCorner();this.PUZZLE_TAB=this.makePuzzleTab();this.NOTCH=this.makeNotch();this.JAGGED_TEETH=this.makeJaggedTeeth();this.START_HAT=this.makeStartHat()};
Blockly.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var a=this.constantProvider.CORNER_RADIUS,b=this.OFFSET,c=(1-Math.SQRT1_2)*(a+b)-b,d=Blockly.utils.svgPaths.moveBy(c,c)+Blockly.utils.svgPaths.arc("a","0 0,0",a,Blockly.utils.svgPaths.point(-c-b,a-c)),e=Blockly.utils.svgPaths.arc("a","0 0,0",a+b,Blockly.utils.svgPaths.point(a+b,a+b)),f=Blockly.utils.svgPaths.moveBy(c,-c)+Blockly.utils.svgPaths.arc("a","0 0,0",a+b,Blockly.utils.svgPaths.point(a-c,c+b));return{width:a+b,height:a,
pathTop:function(a){return a?d:""},pathBottom:function(a){return a?e:f}}};
Blockly.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var a=this.constantProvider.CORNER_RADIUS,b=this.OFFSET,c=(1-Math.SQRT1_2)*(a-b)+b,d=Blockly.utils.svgPaths.moveBy(c,c)+Blockly.utils.svgPaths.arc("a","0 0,1",a-b,Blockly.utils.svgPaths.point(a-c,-c+b)),e=Blockly.utils.svgPaths.moveBy(b,a)+Blockly.utils.svgPaths.arc("a","0 0,1",a-b,Blockly.utils.svgPaths.point(a,-a+b)),f=-c,g=Blockly.utils.svgPaths.moveBy(c,f)+Blockly.utils.svgPaths.arc("a","0 0,1",a-b,Blockly.utils.svgPaths.point(-c+
b,-f-a));return{height:a,topLeft:function(a){return a?d:e},bottomLeft:function(){return g}}};
Blockly.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var a=this.constantProvider.TAB_WIDTH,b=this.constantProvider.TAB_HEIGHT,c=Blockly.utils.svgPaths.moveBy(-2,-b+3.4)+Blockly.utils.svgPaths.lineTo(-.45*a,-2.1),d=Blockly.utils.svgPaths.lineOnAxis("v",2.5)+Blockly.utils.svgPaths.moveBy(.97*-a,2.5)+Blockly.utils.svgPaths.curve("q",[Blockly.utils.svgPaths.point(.05*-a,10),Blockly.utils.svgPaths.point(.3*a,9.5)])+Blockly.utils.svgPaths.moveBy(.67*a,-1.9)+Blockly.utils.svgPaths.lineOnAxis("v",
2.5),e=Blockly.utils.svgPaths.lineOnAxis("v",-1.5)+Blockly.utils.svgPaths.moveBy(-.92*a,-.5)+Blockly.utils.svgPaths.curve("q",[Blockly.utils.svgPaths.point(-.19*a,-5.5),Blockly.utils.svgPaths.point(0,-11)])+Blockly.utils.svgPaths.moveBy(.92*a,1),f=Blockly.utils.svgPaths.moveBy(-5,b-.7)+Blockly.utils.svgPaths.lineTo(.46*a,-2.1);return{width:a,height:b,pathUp:function(a){return a?c:e},pathDown:function(a){return a?d:f}}};
Blockly.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:Blockly.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}};Blockly.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:Blockly.utils.svgPaths.lineTo(5.1,2.6)+Blockly.utils.svgPaths.moveBy(-10.2,6.8)+Blockly.utils.svgPaths.lineTo(5.1,2.6),height:12,width:10.2}};
Blockly.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var a=this.constantProvider.START_HAT.height,b=Blockly.utils.svgPaths.moveBy(25,-8.7)+Blockly.utils.svgPaths.curve("c",[Blockly.utils.svgPaths.point(29.7,-6.2),Blockly.utils.svgPaths.point(57.2,-.5),Blockly.utils.svgPaths.point(75,8.7)]),c=Blockly.utils.svgPaths.curve("c",[Blockly.utils.svgPaths.point(17.8,-9.2),Blockly.utils.svgPaths.point(45.3,-14.9),Blockly.utils.svgPaths.point(75,-8.7)])+Blockly.utils.svgPaths.moveTo(100.5,
a+.5);return{path:function(a){return a?b:c}}};Blockly.geras.PathObject=function(a,b,c){this.constants=c;this.svgRoot=a;this.svgPathDark=Blockly.utils.dom.createSvgElement("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot);this.svgPath=Blockly.utils.dom.createSvgElement("path",{"class":"blocklyPath"},this.svgRoot);this.svgPathLight=Blockly.utils.dom.createSvgElement("path",{"class":"blocklyPathLight"},this.svgRoot);this.colourDark="#000000";this.style=b};Blockly.utils.object.inherits(Blockly.geras.PathObject,Blockly.blockRendering.PathObject);
Blockly.geras.PathObject.prototype.setPath=function(a){this.svgPath.setAttribute("d",a);this.svgPathDark.setAttribute("d",a)};Blockly.geras.PathObject.prototype.setHighlightPath=function(a){this.svgPathLight.setAttribute("d",a)};Blockly.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)");this.svgPathLight.setAttribute("transform","scale(-1 1)");this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")};
Blockly.geras.PathObject.prototype.applyColour=function(a){this.svgPathLight.style.display="";this.svgPathDark.style.display="";this.svgPathLight.setAttribute("stroke",this.style.colourTertiary);this.svgPathDark.setAttribute("fill",this.colourDark);Blockly.geras.PathObject.superClass_.applyColour.call(this,a);this.svgPath.setAttribute("stroke","none")};
Blockly.geras.PathObject.prototype.setStyle=function(a){this.style=a;this.colourDark=Blockly.utils.colour.blend("#000",this.style.colourPrimary,.2)||this.colourDark};Blockly.geras.PathObject.prototype.updateHighlighted=function(a){a?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")};
Blockly.geras.PathObject.prototype.updateShadow_=function(a){a&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))};Blockly.geras.PathObject.prototype.updateDisabled_=function(a){Blockly.geras.PathObject.superClass_.updateDisabled_.call(this,a);a&&this.svgPath.setAttribute("stroke","none")};Blockly.geras.Renderer=function(a){Blockly.geras.Renderer.superClass_.constructor.call(this,a);this.highlightConstants_=null};Blockly.utils.object.inherits(Blockly.geras.Renderer,Blockly.blockRendering.Renderer);Blockly.geras.Renderer.prototype.init=function(a,b){Blockly.geras.Renderer.superClass_.init.call(this,a,b);this.highlightConstants_=this.makeHighlightConstants_();this.highlightConstants_.init()};
Blockly.geras.Renderer.prototype.refreshDom=function(a,b){Blockly.geras.Renderer.superClass_.refreshDom.call(this,a,b);this.getHighlightConstants().init()};Blockly.geras.Renderer.prototype.makeConstants_=function(){return new Blockly.geras.ConstantProvider};Blockly.geras.Renderer.prototype.makeRenderInfo_=function(a){return new Blockly.geras.RenderInfo(this,a)};Blockly.geras.Renderer.prototype.makeDrawer_=function(a,b){return new Blockly.geras.Drawer(a,b)};
Blockly.geras.Renderer.prototype.makePathObject=function(a,b){return new Blockly.geras.PathObject(a,b,this.getConstants())};Blockly.geras.Renderer.prototype.makeHighlightConstants_=function(){return new Blockly.geras.HighlightConstantProvider(this.getConstants())};Blockly.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_};Blockly.blockRendering.register("geras",Blockly.geras.Renderer);Blockly.thrasos={};Blockly.thrasos.RenderInfo=function(a,b){Blockly.thrasos.RenderInfo.superClass_.constructor.call(this,a,b)};Blockly.utils.object.inherits(Blockly.thrasos.RenderInfo,Blockly.blockRendering.RenderInfo);Blockly.thrasos.RenderInfo.prototype.getRenderer=function(){return this.renderer_};
Blockly.thrasos.RenderInfo.prototype.addElemSpacing_=function(){for(var a=!1,b=0,c;c=this.rows[b];b++)c.hasExternalInput&&(a=!0);for(b=0;c=this.rows[b];b++){var d=c.elements;c.elements=[];c.startsWithElemSpacer()&&c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,d[0])));for(var e=0;e<d.length-1;e++){c.elements.push(d[e]);var f=this.getInRowSpacing_(d[e],d[e+1]);c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_,f))}c.elements.push(d[d.length-
1]);c.endsWithElemSpacer()&&(f=this.getInRowSpacing_(d[d.length-1],null),a&&c.hasDummyInput&&(f+=this.constants_.TAB_WIDTH),c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_,f)))}};
Blockly.thrasos.RenderInfo.prototype.getInRowSpacing_=function(a,b){if(!a)return b&&Blockly.blockRendering.Types.isField(b)&&b.isEditable?this.constants_.MEDIUM_PADDING:b&&Blockly.blockRendering.Types.isInlineInput(b)?this.constants_.MEDIUM_LARGE_PADDING:b&&Blockly.blockRendering.Types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Blockly.blockRendering.Types.isInput(a)&&!b)return Blockly.blockRendering.Types.isField(a)&&a.isEditable?this.constants_.MEDIUM_PADDING:
Blockly.blockRendering.Types.isIcon(a)?2*this.constants_.LARGE_PADDING+1:Blockly.blockRendering.Types.isHat(a)?this.constants_.NO_PADDING:Blockly.blockRendering.Types.isPreviousOrNextConnection(a)?this.constants_.LARGE_PADDING:Blockly.blockRendering.Types.isLeftRoundedCorner(a)?this.constants_.MIN_BLOCK_WIDTH:Blockly.blockRendering.Types.isJaggedEdge(a)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Blockly.blockRendering.Types.isInput(a)&&!b){if(Blockly.blockRendering.Types.isExternalInput(a))return this.constants_.NO_PADDING;
if(Blockly.blockRendering.Types.isInlineInput(a))return this.constants_.LARGE_PADDING;if(Blockly.blockRendering.Types.isStatementInput(a))return this.constants_.NO_PADDING}if(!Blockly.blockRendering.Types.isInput(a)&&b&&Blockly.blockRendering.Types.isInput(b)){if(Blockly.blockRendering.Types.isField(a)&&a.isEditable){if(Blockly.blockRendering.Types.isInlineInput(b)||Blockly.blockRendering.Types.isExternalInput(b))return this.constants_.SMALL_PADDING}else{if(Blockly.blockRendering.Types.isInlineInput(b)||
Blockly.blockRendering.Types.isExternalInput(b))return this.constants_.MEDIUM_LARGE_PADDING;if(Blockly.blockRendering.Types.isStatementInput(b))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Blockly.blockRendering.Types.isIcon(a)&&b&&!Blockly.blockRendering.Types.isInput(b))return this.constants_.LARGE_PADDING;if(Blockly.blockRendering.Types.isInlineInput(a)&&b&&Blockly.blockRendering.Types.isField(b))return b.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;
if(Blockly.blockRendering.Types.isLeftSquareCorner(a)&&b){if(Blockly.blockRendering.Types.isHat(b))return this.constants_.NO_PADDING;if(Blockly.blockRendering.Types.isPreviousConnection(b)||Blockly.blockRendering.Types.isNextConnection(b))return b.notchOffset}return Blockly.blockRendering.Types.isLeftRoundedCorner(a)&&b?b.notchOffset-this.constants_.CORNER_RADIUS:Blockly.blockRendering.Types.isField(a)&&b&&Blockly.blockRendering.Types.isField(b)&&a.isEditable==b.isEditable||b&&Blockly.blockRendering.Types.isJaggedEdge(b)?
this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING};
Blockly.thrasos.RenderInfo.prototype.getSpacerRowHeight_=function(a,b){return Blockly.blockRendering.Types.isTopRow(a)&&Blockly.blockRendering.Types.isBottomRow(b)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Blockly.blockRendering.Types.isTopRow(a)||Blockly.blockRendering.Types.isBottomRow(b)?this.constants_.NO_PADDING:a.hasExternalInput&&b.hasExternalInput?this.constants_.LARGE_PADDING:!a.hasStatement&&b.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:a.hasStatement&&b.hasStatement||a.hasDummyInput||
b.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING};
Blockly.thrasos.RenderInfo.prototype.getElemCenterline_=function(a,b){if(Blockly.blockRendering.Types.isSpacer(b))return a.yPos+b.height/2;if(Blockly.blockRendering.Types.isBottomRow(a))return a=a.yPos+a.height-a.descenderHeight,Blockly.blockRendering.Types.isNextConnection(b)?a+b.height/2:a-b.height/2;if(Blockly.blockRendering.Types.isTopRow(a))return Blockly.blockRendering.Types.isHat(b)?a.capline-b.height/2:a.capline+b.height/2;var c=a.yPos;return c=Blockly.blockRendering.Types.isField(b)&&a.hasStatement?
c+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+b.height/2):c+a.height/2};
Blockly.thrasos.RenderInfo.prototype.finalize_=function(){for(var a=0,b=0,c=0,d;d=this.rows[c];c++){d.yPos=b;d.xPos=this.startX;b+=d.height;a=Math.max(a,d.widthWithConnectedBlocks);var e=b-this.topRow.ascenderHeight;d==this.bottomRow&&e<this.constants_.MIN_BLOCK_HEIGHT&&(e=this.constants_.MIN_BLOCK_HEIGHT-e,this.bottomRow.height+=e,b+=e);this.recordElemPositions_(d)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(a=Math.max(a,this.block_.nextConnection.targetBlock().getHeightWidth().width));
this.bottomRow.baseline=b-this.bottomRow.descenderHeight;this.widthWithChildren=a+this.startX;this.height=b;this.startY=this.topRow.capline};Blockly.thrasos.Renderer=function(a){Blockly.thrasos.Renderer.superClass_.constructor.call(this,a)};Blockly.utils.object.inherits(Blockly.thrasos.Renderer,Blockly.blockRendering.Renderer);Blockly.thrasos.Renderer.prototype.makeRenderInfo_=function(a){return new Blockly.thrasos.RenderInfo(this,a)};Blockly.blockRendering.register("thrasos",Blockly.thrasos.Renderer);Blockly.zelos={};
Blockly.zelos.ConstantProvider=function(){Blockly.zelos.ConstantProvider.superClass_.constructor.call(this);this.SMALL_PADDING=this.GRID_UNIT=4;this.MEDIUM_PADDING=2*this.GRID_UNIT;this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT;this.LARGE_PADDING=4*this.GRID_UNIT;this.CORNER_RADIUS=1*this.GRID_UNIT;this.NOTCH_WIDTH=9*this.GRID_UNIT;this.NOTCH_HEIGHT=2*this.GRID_UNIT;this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT;this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT;this.MIN_BLOCK_HEIGHT=12*
this.GRID_UNIT;this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT;this.TAB_OFFSET_FROM_TOP=0;this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS;this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING;this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS;this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT;this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT;this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT;this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT;this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT;
this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT;this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT;this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT;this.CURSOR_WS_WIDTH=20*this.GRID_UNIT;this.CURSOR_COLOUR="#ffa200";this.CURSOR_RADIUS=5;this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0;this.START_HAT_HEIGHT=22;this.START_HAT_WIDTH=96;this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5};this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},
2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}};this.FULL_BLOCK_FIELDS=!0;this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT;this.FIELD_TEXT_FONTWEIGHT="bold";this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif';this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS;this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT;this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT;this.FIELD_BORDER_RECT_HEIGHT=
8*this.GRID_UNIT;this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT;this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0;this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING;this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0;this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT;this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT;this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT;this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=
12*this.GRID_UNIT;this.SELECTED_GLOW_COLOUR="#fff200";this.SELECTED_GLOW_SIZE=.5;this.REPLACEMENT_GLOW_COLOUR="#fff200";this.REPLACEMENT_GLOW_SIZE=2;this.selectedGlowFilterId="";this.selectedGlowFilter_=null;this.replacementGlowFilterId="";this.replacementGlowFilter_=null};Blockly.utils.object.inherits(Blockly.zelos.ConstantProvider,Blockly.blockRendering.ConstantProvider);
Blockly.zelos.ConstantProvider.prototype.setFontConstants_=function(a){Blockly.zelos.ConstantProvider.superClass_.setFontConstants_.call(this,a);this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING};
Blockly.zelos.ConstantProvider.prototype.init=function(){Blockly.zelos.ConstantProvider.superClass_.init.call(this);this.HEXAGONAL=this.makeHexagonal();this.ROUNDED=this.makeRounded();this.SQUARED=this.makeSquared();this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth};
Blockly.zelos.ConstantProvider.prototype.setDynamicProperties_=function(a){Blockly.zelos.ConstantProvider.superClass_.setDynamicProperties_.call(this,a);this.SELECTED_GLOW_COLOUR=a.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var b=Number(a.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=b&&!isNaN(b)?b:this.SELECTED_GLOW_SIZE;this.REPLACEMENT_GLOW_COLOUR=a.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR;this.REPLACEMENT_GLOW_SIZE=(a=Number(a.getComponentStyle("replacementGlowSize")))&&
!isNaN(a)?a:this.REPLACEMENT_GLOW_SIZE};Blockly.zelos.ConstantProvider.prototype.dispose=function(){Blockly.zelos.ConstantProvider.superClass_.dispose.call(this);this.selectedGlowFilter_&&Blockly.utils.dom.removeNode(this.selectedGlowFilter_);this.replacementGlowFilter_&&Blockly.utils.dom.removeNode(this.replacementGlowFilter_)};
Blockly.zelos.ConstantProvider.prototype.makeStartHat=function(){var a=this.START_HAT_HEIGHT,b=this.START_HAT_WIDTH,c=Blockly.utils.svgPaths.curve("c",[Blockly.utils.svgPaths.point(25,-a),Blockly.utils.svgPaths.point(71,-a),Blockly.utils.svgPaths.point(b,0)]);return{height:a,width:b,path:c}};
Blockly.zelos.ConstantProvider.prototype.makeHexagonal=function(){function a(a,d,e){var c=a/2;c=c>b?b:c;e=e?-1:1;a=(d?-1:1)*a/2;return Blockly.utils.svgPaths.lineTo(-e*c,a)+Blockly.utils.svgPaths.lineTo(e*c,a)}var b=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(a){a/=2;return a>b?b:a},height:function(a){return a},connectionOffsetY:function(a){return a/2},connectionOffsetX:function(a){return-a},pathDown:function(b){return a(b,!1,!1)},pathUp:function(b){return a(b,
!0,!1)},pathRightDown:function(b){return a(b,!1,!0)},pathRightUp:function(b){return a(b,!1,!0)}}};
Blockly.zelos.ConstantProvider.prototype.makeRounded=function(){function a(a,b,f){var d=a>c?a-c:0;a=(a>c?c:a)/2;return Blockly.utils.svgPaths.arc("a","0 0,1",a,Blockly.utils.svgPaths.point((b?-1:1)*a,(b?-1:1)*a))+Blockly.utils.svgPaths.lineOnAxis("v",(f?1:-1)*d)+Blockly.utils.svgPaths.arc("a","0 0,1",a,Blockly.utils.svgPaths.point((b?1:-1)*a,(b?-1:1)*a))}var b=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,c=2*b;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(a){a/=2;return a>b?b:a},height:function(a){return a},
connectionOffsetY:function(a){return a/2},connectionOffsetX:function(a){return-a},pathDown:function(b){return a(b,!1,!1)},pathUp:function(b){return a(b,!0,!1)},pathRightDown:function(b){return a(b,!1,!0)},pathRightUp:function(b){return a(b,!1,!0)}}};
Blockly.zelos.ConstantProvider.prototype.makeSquared=function(){function a(a,d,e){a-=2*b;return Blockly.utils.svgPaths.arc("a","0 0,1",b,Blockly.utils.svgPaths.point((d?-1:1)*b,(d?-1:1)*b))+Blockly.utils.svgPaths.lineOnAxis("v",(e?1:-1)*a)+Blockly.utils.svgPaths.arc("a","0 0,1",b,Blockly.utils.svgPaths.point((d?1:-1)*b,(d?-1:1)*b))}var b=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(a){return b},height:function(a){return a},connectionOffsetY:function(a){return a/2},
connectionOffsetX:function(a){return-a},pathDown:function(b){return a(b,!1,!1)},pathUp:function(b){return a(b,!0,!1)},pathRightDown:function(b){return a(b,!1,!0)},pathRightUp:function(b){return a(b,!1,!0)}}};
Blockly.zelos.ConstantProvider.prototype.shapeFor=function(a){var b=a.getCheck();!b&&a.targetConnection&&(b=a.targetConnection.getCheck());switch(a.type){case Blockly.INPUT_VALUE:case Blockly.OUTPUT_VALUE:a=a.getSourceBlock().getOutputShape();if(null!=a)switch(a){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}if(b&&-1!=b.indexOf("Boolean"))return this.HEXAGONAL;if(b&&-1!=b.indexOf("Number"))return this.ROUNDED;
b&&b.indexOf("String");return this.ROUNDED;case Blockly.PREVIOUS_STATEMENT:case Blockly.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type");}};
Blockly.zelos.ConstantProvider.prototype.makeNotch=function(){function a(a){return Blockly.utils.svgPaths.curve("c",[Blockly.utils.svgPaths.point(a*e/2,0),Blockly.utils.svgPaths.point(a*e*3/4,g/2),Blockly.utils.svgPaths.point(a*e,g)])+Blockly.utils.svgPaths.line([Blockly.utils.svgPaths.point(a*e,f)])+Blockly.utils.svgPaths.curve("c",[Blockly.utils.svgPaths.point(a*e/4,g/2),Blockly.utils.svgPaths.point(a*e/2,g),Blockly.utils.svgPaths.point(a*e,g)])+Blockly.utils.svgPaths.lineOnAxis("h",a*d)+Blockly.utils.svgPaths.curve("c",
[Blockly.utils.svgPaths.point(a*e/2,0),Blockly.utils.svgPaths.point(a*e*3/4,-(g/2)),Blockly.utils.svgPaths.point(a*e,-g)])+Blockly.utils.svgPaths.line([Blockly.utils.svgPaths.point(a*e,-f)])+Blockly.utils.svgPaths.curve("c",[Blockly.utils.svgPaths.point(a*e/4,-(g/2)),Blockly.utils.svgPaths.point(a*e/2,-g),Blockly.utils.svgPaths.point(a*e,-g)])}var b=this.NOTCH_WIDTH,c=this.NOTCH_HEIGHT,d=b/3,e=d/3,f=c/2,g=f/2,h=a(1),k=a(-1);return{type:this.SHAPES.NOTCH,width:b,height:c,pathLeft:h,pathRight:k}};
Blockly.zelos.ConstantProvider.prototype.makeInsideCorners=function(){var a=this.CORNER_RADIUS,b=Blockly.utils.svgPaths.arc("a","0 0,0",a,Blockly.utils.svgPaths.point(-a,a)),c=Blockly.utils.svgPaths.arc("a","0 0,1",a,Blockly.utils.svgPaths.point(-a,a)),d=Blockly.utils.svgPaths.arc("a","0 0,0",a,Blockly.utils.svgPaths.point(a,a)),e=Blockly.utils.svgPaths.arc("a","0 0,1",a,Blockly.utils.svgPaths.point(a,a));return{width:a,height:a,pathTop:b,pathBottom:d,rightWidth:a,rightHeight:a,pathTopRight:c,pathBottomRight:e}};
Blockly.zelos.ConstantProvider.prototype.generateSecondaryColour_=function(a){return Blockly.utils.colour.blend("#000",a,.15)||a};Blockly.zelos.ConstantProvider.prototype.generateTertiaryColour_=function(a){return Blockly.utils.colour.blend("#000",a,.25)||a};
Blockly.zelos.ConstantProvider.prototype.createDom=function(a,b,c){Blockly.zelos.ConstantProvider.superClass_.createDom.call(this,a,b,c);a=Blockly.utils.dom.createSvgElement("defs",{},a);b=Blockly.utils.dom.createSvgElement("filter",{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},a);Blockly.utils.dom.createSvgElement("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},b);c=Blockly.utils.dom.createSvgElement("feComponentTransfer",
{result:"outBlur"},b);Blockly.utils.dom.createSvgElement("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},c);Blockly.utils.dom.createSvgElement("feFlood",{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},b);Blockly.utils.dom.createSvgElement("feComposite",{"in":"outColor",in2:"outBlur",operator:"in",result:"outGlow"},b);this.selectedGlowFilterId=b.id;this.selectedGlowFilter_=b;a=Blockly.utils.dom.createSvgElement("filter",{id:"blocklyReplacementGlowFilter"+
this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},a);Blockly.utils.dom.createSvgElement("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},a);b=Blockly.utils.dom.createSvgElement("feComponentTransfer",{result:"outBlur"},a);Blockly.utils.dom.createSvgElement("feFuncA",{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},b);Blockly.utils.dom.createSvgElement("feFlood",{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},
a);Blockly.utils.dom.createSvgElement("feComposite",{"in":"outColor",in2:"outBlur",operator:"in",result:"outGlow"},a);Blockly.utils.dom.createSvgElement("feComposite",{"in":"SourceGraphic",in2:"outGlow",operator:"over"},a);this.replacementGlowFilterId=a.id;this.replacementGlowFilter_=a};
Blockly.zelos.ConstantProvider.prototype.getCSS_=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-size: "+this.FIELD_TEXT_FONTSIZE+"pt;","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",a+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",a+" .blocklyNonEditableText>text,",
a+" .blocklyEditableText>text,",a+" .blocklyNonEditableText>g>text,",a+" .blocklyEditableText>g>text {","fill: #575E75;","}",a+" .blocklyFlyoutLabelText {","fill: #575E75;","}",a+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",a+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect ,",a+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+
this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",a+" .blocklyDropdownText {","fill: #fff !important;","}",a+".blocklyWidgetDiv .goog-menuitem,",a+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",a+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",a+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",a+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+
this.randomIdentifier+")","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none","}"]};Blockly.zelos.TopRow=function(a){Blockly.zelos.TopRow.superClass_.constructor.call(this,a)};Blockly.utils.object.inherits(Blockly.zelos.TopRow,Blockly.blockRendering.TopRow);Blockly.zelos.TopRow.prototype.endsWithElemSpacer=function(){return!1};Blockly.zelos.TopRow.prototype.hasLeftSquareCorner=function(a){var b=(a.hat?"cap"===a.hat:this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection;return!!a.outputConnection||b};
Blockly.zelos.TopRow.prototype.hasRightSquareCorner=function(a){return!!a.outputConnection&&!a.statementInputCount&&!a.nextConnection};Blockly.zelos.BottomRow=function(a){Blockly.zelos.BottomRow.superClass_.constructor.call(this,a)};Blockly.utils.object.inherits(Blockly.zelos.BottomRow,Blockly.blockRendering.BottomRow);Blockly.zelos.BottomRow.prototype.endsWithElemSpacer=function(){return!1};Blockly.zelos.BottomRow.prototype.hasLeftSquareCorner=function(a){return!!a.outputConnection};
Blockly.zelos.BottomRow.prototype.hasRightSquareCorner=function(a){return!!a.outputConnection&&!a.statementInputCount&&!a.nextConnection};Blockly.zelos.RightConnectionShape=function(a){Blockly.zelos.RightConnectionShape.superClass_.constructor.call(this,a);this.type|=Blockly.blockRendering.Types.getType("RIGHT_CONNECTION");this.width=this.height=0};Blockly.utils.object.inherits(Blockly.zelos.RightConnectionShape,Blockly.blockRendering.Measurable);Blockly.zelos.StatementInput=function(a,b){Blockly.zelos.StatementInput.superClass_.constructor.call(this,a,b);if(this.connectedBlock){for(a=this.connectedBlock;a.getNextBlock();)a=a.getNextBlock();a.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}};Blockly.utils.object.inherits(Blockly.zelos.StatementInput,Blockly.blockRendering.StatementInput);Blockly.zelos.RenderInfo=function(a,b){Blockly.zelos.RenderInfo.superClass_.constructor.call(this,a,b);this.topRow=new Blockly.zelos.TopRow(this.constants_);this.bottomRow=new Blockly.zelos.BottomRow(this.constants_);this.isInline=!0;this.isMultiRow=!b.getInputsInline()||b.isCollapsed();this.hasStatementInput=0<b.statementInputCount;this.rightSide=this.outputConnection?new Blockly.zelos.RightConnectionShape(this.constants_):null};Blockly.utils.object.inherits(Blockly.zelos.RenderInfo,Blockly.blockRendering.RenderInfo);
Blockly.zelos.RenderInfo.prototype.getRenderer=function(){return this.renderer_};Blockly.zelos.RenderInfo.prototype.measure=function(){this.createRows_();this.addElemSpacing_();this.addRowSpacing_();this.adjustXPosition_();this.computeBounds_();this.alignRowElements_();this.finalize_()};
Blockly.zelos.RenderInfo.prototype.shouldStartNewRow_=function(a,b){return b?a.type==Blockly.NEXT_STATEMENT||b.type==Blockly.NEXT_STATEMENT?!0:a.type==Blockly.INPUT_VALUE||a.type==Blockly.DUMMY_INPUT?!this.isInline||this.isMultiRow:!1:!1};Blockly.zelos.RenderInfo.prototype.getDesiredRowWidth_=function(a){return a.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):Blockly.zelos.RenderInfo.superClass_.getDesiredRowWidth_.call(this,a)};
Blockly.zelos.RenderInfo.prototype.getInRowSpacing_=function(a,b){return a&&b||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!a&&b&&Blockly.blockRendering.Types.isStatementInput(b)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:a&&Blockly.blockRendering.Types.isLeftRoundedCorner(a)&&b&&(Blockly.blockRendering.Types.isPreviousConnection(b)||Blockly.blockRendering.Types.isNextConnection(b))?b.notchOffset-this.constants_.CORNER_RADIUS:
a&&Blockly.blockRendering.Types.isLeftSquareCorner(a)&&b&&Blockly.blockRendering.Types.isHat(b)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING};
Blockly.zelos.RenderInfo.prototype.getSpacerRowHeight_=function(a,b){if(Blockly.blockRendering.Types.isTopRow(a)&&Blockly.blockRendering.Types.isBottomRow(b))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var c=Blockly.blockRendering.Types.isInputRow(a)&&a.hasStatement,d=Blockly.blockRendering.Types.isInputRow(b)&&b.hasStatement;return d||c?(a=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),d&&c?Math.max(a,this.constants_.DUMMY_INPUT_MIN_HEIGHT):a):Blockly.blockRendering.Types.isTopRow(a)?
a.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):Blockly.blockRendering.Types.isBottomRow(b)?this.outputConnection?!b.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:
this.constants_.MEDIUM_PADDING};Blockly.zelos.RenderInfo.prototype.getSpacerRowWidth_=function(a,b){var c=this.width-this.startX;return Blockly.blockRendering.Types.isInputRow(a)&&a.hasStatement||Blockly.blockRendering.Types.isInputRow(b)&&b.hasStatement?Math.max(c,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):c};
Blockly.zelos.RenderInfo.prototype.getElemCenterline_=function(a,b){if(a.hasStatement&&!Blockly.blockRendering.Types.isSpacer(b)&&!Blockly.blockRendering.Types.isStatementInput(b))return a.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(Blockly.blockRendering.Types.isInlineInput(b)){var c=b.connectedBlock;if(c&&c.outputConnection&&c.nextConnection)return a.yPos+c.height/2}return Blockly.zelos.RenderInfo.superClass_.getElemCenterline_.call(this,a,b)};
Blockly.zelos.RenderInfo.prototype.addInput_=function(a,b){a.type==Blockly.DUMMY_INPUT&&b.hasDummyInput&&b.align==Blockly.ALIGN_LEFT&&a.align==Blockly.ALIGN_RIGHT&&(b.rightAlignedDummyInput=a);Blockly.zelos.RenderInfo.superClass_.addInput_.call(this,a,b)};
Blockly.zelos.RenderInfo.prototype.addAlignmentPadding_=function(a,b){if(a.rightAlignedDummyInput){for(var c,d=0,e;(e=a.elements[d])&&(Blockly.blockRendering.Types.isSpacer(e)&&(c=e),!Blockly.blockRendering.Types.isField(e)||e.parentInput!=a.rightAlignedDummyInput);d++);if(c){c.width+=b;a.width+=b;return}}Blockly.zelos.RenderInfo.superClass_.addAlignmentPadding_.call(this,a,b)};
Blockly.zelos.RenderInfo.prototype.adjustXPosition_=function(){for(var a=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,b=a,c=2;c<this.rows.length-1;c+=2){var d=this.rows[c-1],e=this.rows[c],f=this.rows[c+1];d=2==c?!!this.topRow.hasPreviousConnection:!!d.followsStatement;f=c+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!f.precedesStatement;if(Blockly.blockRendering.Types.isInputRow(e)&&e.hasStatement)e.measure(),b=e.width-e.getLastInput().width+a;else if(d&&(2==c||f)&&
Blockly.blockRendering.Types.isInputRow(e)&&!e.hasStatement){f=e.xPos;d=null;for(var g=0,h;h=e.elements[g];g++)Blockly.blockRendering.Types.isSpacer(h)&&(d=h),!(d&&(Blockly.blockRendering.Types.isField(h)||Blockly.blockRendering.Types.isInput(h))&&f<b)||Blockly.blockRendering.Types.isField(h)&&(h.field instanceof Blockly.FieldLabel||h.field instanceof Blockly.FieldImage)||(d.width+=b-f),f+=h.width}}};
Blockly.zelos.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var a=0,b=0,c;c=this.rows[b];b++)c.yPos=a,a+=c.height;this.height=a;b=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height;a=this.outputConnection.shape.height(b);b=this.outputConnection.shape.width(b);this.outputConnection.height=a;this.outputConnection.width=b;this.outputConnection.startX=b;this.outputConnection.connectionOffsetY=
this.outputConnection.shape.connectionOffsetY(a);this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(b);c=0;this.hasStatementInput||this.bottomRow.hasNextConnection||(c=b,this.rightSide.height=a,this.rightSide.width=c,this.rightSide.centerline=a/2,this.rightSide.xPos=this.width+c);this.startX=b;this.width+=b+c;this.widthWithChildren+=b+c}};
Blockly.zelos.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var a=0,b=0,c;c=this.rows[b];b++)if(Blockly.blockRendering.Types.isInputRow(c)){a=c.elements[c.elements.length-2];var d=this.getNegativeSpacing_(c.elements[1]),e=this.getNegativeSpacing_(a);a=d+e;var f=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-a<f&&(a=this.width-f,d=a/2,e=a/2);c.elements.unshift(new Blockly.blockRendering.InRowSpacer(this.constants_,
-d));c.elements.push(new Blockly.blockRendering.InRowSpacer(this.constants_,-e))}if(a)for(this.width-=a,this.widthWithChildren-=a,this.rightSide.xPos-=a,b=0;c=this.rows[b];b++)Blockly.blockRendering.Types.isTopOrBottomRow(c)&&(c.elements[1].width-=a,c.elements[1].widthWithConnectedBlocks-=a),c.width-=a,c.widthWithConnectedBlocks-=a}};
Blockly.zelos.RenderInfo.prototype.getNegativeSpacing_=function(a){if(!a)return 0;var b=this.outputConnection.width,c=this.outputConnection.shape.type,d=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)switch(c){case d.SHAPES.ROUND:return c=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,c=this.height/2>c?c:this.height/2,b-c*(1-Math.sin(Math.acos((c-this.constants_.SMALL_PADDING)/c)));default:return 0}if(Blockly.blockRendering.Types.isInlineInput(a)){var e=a.connectedBlock;a=e?e.pathObject.outputShapeType:
a.shape.type;return e&&e.outputConnection&&(e.statementInputCount||e.nextConnection)||c==d.SHAPES.HEXAGONAL&&c!=a?0:b-this.constants_.SHAPE_IN_SHAPE_PADDING[c][a]}return Blockly.blockRendering.Types.isField(a)?c==d.SHAPES.ROUND&&a.field instanceof Blockly.FieldTextInput?b-2.75*d.GRID_UNIT:b-this.constants_.SHAPE_IN_SHAPE_PADDING[c][0]:Blockly.blockRendering.Types.isIcon(a)?this.constants_.SMALL_PADDING:0};
Blockly.zelos.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var a=2;a<this.rows.length-1;a+=2){var b=this.rows[a-1],c=this.rows[a],d=this.rows[a+1],e=2==a,f=a+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!d.precedesStatement;if(e?this.topRow.hasPreviousConnection:b.followsStatement){var g=3==c.elements.length&&(c.elements[1].field instanceof Blockly.FieldLabel||c.elements[1].field instanceof Blockly.FieldImage);if(!e&&g)b.height-=this.constants_.SMALL_PADDING,
d.height-=this.constants_.SMALL_PADDING,c.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!f)b.height+=this.constants_.SMALL_PADDING;else if(f){e=!1;for(f=0;g=c.elements[f];f++)if(Blockly.blockRendering.Types.isInlineInput(g)&&g.connectedBlock&&!g.connectedBlock.isShadow()&&40<=g.connectedBlock.getHeightWidth().height){e=!0;break}e&&(b.height-=this.constants_.SMALL_PADDING,d.height-=this.constants_.SMALL_PADDING)}}}};
Blockly.zelos.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_();this.finalizeHorizontalAlignment_();this.finalizeVerticalAlignment_();Blockly.zelos.RenderInfo.superClass_.finalize_.call(this);this.rightSide&&(this.widthWithChildren+=this.rightSide.width)};Blockly.zelos.Drawer=function(a,b){Blockly.zelos.Drawer.superClass_.constructor.call(this,a,b)};Blockly.utils.object.inherits(Blockly.zelos.Drawer,Blockly.blockRendering.Drawer);
Blockly.zelos.Drawer.prototype.draw=function(){var a=this.block_.pathObject;a.beginDrawing();this.hideHiddenIcons_();this.drawOutline_();this.drawInternals_();a.setPath(this.outlinePath_+"\n"+this.inlinePath_);this.info_.RTL&&a.flipRTL();Blockly.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_);this.recordSizeOnBlock_();this.info_.outputConnection&&(a.outputShapeType=this.info_.outputConnection.shape.type);a.endDrawing()};
Blockly.zelos.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):Blockly.zelos.Drawer.superClass_.drawOutline_.call(this)};
Blockly.zelos.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():Blockly.zelos.Drawer.superClass_.drawLeft_.call(this)};
Blockly.zelos.Drawer.prototype.drawRightSideRow_=function(a){if(!(0>=a.height))if(a.precedesStatement||a.followsStatement){var b=this.constants_.INSIDE_CORNERS.rightHeight;b=a.height-(a.precedesStatement?b:0);this.outlinePath_+=(a.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<b?Blockly.utils.svgPaths.lineOnAxis("V",a.yPos+b):"")+(a.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("V",a.yPos+a.height)};
Blockly.zelos.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)};Blockly.zelos.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_();this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height);this.outlinePath_+="z"};
Blockly.zelos.Drawer.prototype.drawFlatTop_=function(){var a=this.info_.topRow;this.positionPreviousConnection_();this.outlinePath_+=Blockly.utils.svgPaths.moveBy(a.xPos,this.info_.startY);this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("h",a.width)};Blockly.zelos.Drawer.prototype.drawFlatBottom_=function(){var a=this.info_.bottomRow;this.positionNextConnection_();this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("V",a.baseline);this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("h",-a.width)};
Blockly.zelos.Drawer.prototype.drawInlineInput_=function(a){this.positionInlineInputConnection_(a);var b=a.input.name;if(!a.connectedBlock&&!this.info_.isInsertionMarker){var c=a.width-2*a.connectionWidth;a=Blockly.utils.svgPaths.moveTo(a.xPos+a.connectionWidth,a.centerline-a.height/2)+Blockly.utils.svgPaths.lineOnAxis("h",c)+a.shape.pathRightDown(a.height)+Blockly.utils.svgPaths.lineOnAxis("h",-c)+a.shape.pathUp(a.height)+"z";this.block_.pathObject.setOutlinePath(b,a)}};
Blockly.zelos.Drawer.prototype.drawStatementInput_=function(a){var b=a.getLastInput(),c=b.xPos+b.notchOffset+b.shape.width,d=b.shape.pathRight+Blockly.utils.svgPaths.lineOnAxis("h",-(b.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,e=a.height-2*this.constants_.INSIDE_CORNERS.height;b=this.constants_.INSIDE_CORNERS.pathBottom+Blockly.utils.svgPaths.lineOnAxis("h",b.notchOffset-this.constants_.INSIDE_CORNERS.width)+(b.connectedBottomNextConnection?"":b.shape.pathLeft);
this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("H",c)+d+Blockly.utils.svgPaths.lineOnAxis("v",e)+b+Blockly.utils.svgPaths.lineOnAxis("H",a.xPos+a.width);this.positionStatementInputConnection_(a)};Blockly.zelos.PathObject=function(a,b,c){Blockly.zelos.PathObject.superClass_.constructor.call(this,a,b,c);this.constants=c;this.svgPathSelected_=null;this.outlines_={};this.outputShapeType=this.remainingOutlines_=null};Blockly.utils.object.inherits(Blockly.zelos.PathObject,Blockly.blockRendering.PathObject);Blockly.zelos.PathObject.prototype.setPath=function(a){Blockly.zelos.PathObject.superClass_.setPath.call(this,a);this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",a)};
Blockly.zelos.PathObject.prototype.applyColour=function(a){Blockly.zelos.PathObject.superClass_.applyColour.call(this,a);a.isShadow()&&a.getParent()&&this.svgPath.setAttribute("stroke",a.getParent().style.colourTertiary);a=0;for(var b=Object.keys(this.outlines_),c;c=b[a];a++)this.outlines_[c].setAttribute("fill",this.style.colourTertiary)};
Blockly.zelos.PathObject.prototype.flipRTL=function(){Blockly.zelos.PathObject.superClass_.flipRTL.call(this);for(var a=0,b=Object.keys(this.outlines_),c;c=b[a];a++)this.outlines_[c].setAttribute("transform","scale(-1 1)")};
Blockly.zelos.PathObject.prototype.updateSelected=function(a){this.setClass_("blocklySelected",a);a?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)};
Blockly.zelos.PathObject.prototype.updateReplacementFade=function(a){this.setClass_("blocklyReplaceable",a);a?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")};Blockly.zelos.PathObject.prototype.updateShapeForInputHighlight=function(a,b){a=a.getParentInput().name;(a=this.getOutlinePath_(a))&&(b?a.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):a.removeAttribute("filter"))};
Blockly.zelos.PathObject.prototype.beginDrawing=function(){this.remainingOutlines_={};for(var a=0,b=Object.keys(this.outlines_),c;c=b[a];a++)this.remainingOutlines_[c]=1};Blockly.zelos.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var a=0,b=Object.keys(this.remainingOutlines_),c;c=b[a];a++)this.removeOutlinePath_(c);this.remainingOutlines_=null};
Blockly.zelos.PathObject.prototype.setOutlinePath=function(a,b){a=this.getOutlinePath_(a);a.setAttribute("d",b);a.setAttribute("fill",this.style.colourTertiary)};Blockly.zelos.PathObject.prototype.getOutlinePath_=function(a){this.outlines_[a]||(this.outlines_[a]=Blockly.utils.dom.createSvgElement("path",{"class":"blocklyOutlinePath",d:""},this.svgRoot));this.remainingOutlines_&&delete this.remainingOutlines_[a];return this.outlines_[a]};
Blockly.zelos.PathObject.prototype.removeOutlinePath_=function(a){this.outlines_[a].parentNode.removeChild(this.outlines_[a]);delete this.outlines_[a]};Blockly.zelos.MarkerSvg=function(a,b,c){Blockly.zelos.MarkerSvg.superClass_.constructor.call(this,a,b,c)};Blockly.utils.object.inherits(Blockly.zelos.MarkerSvg,Blockly.blockRendering.MarkerSvg);Blockly.zelos.MarkerSvg.prototype.showWithInput_=function(a){var b=a.getSourceBlock();a=a.getLocation().getOffsetInBlock();this.positionCircle_(a.x,a.y);this.setParent_(b);this.showCurrent_()};
Blockly.zelos.MarkerSvg.prototype.showWithBlock_=function(a){a=a.getLocation();var b=a.getHeightWidth();this.positionRect_(0,0,b.width,b.height);this.setParent_(a);this.showCurrent_()};Blockly.zelos.MarkerSvg.prototype.positionCircle_=function(a,b){this.markerCircle_.setAttribute("cx",a);this.markerCircle_.setAttribute("cy",b);this.currentMarkerSvg=this.markerCircle_};
Blockly.zelos.MarkerSvg.prototype.showAtLocation_=function(a){var b=!1;a.getType()==Blockly.ASTNode.types.OUTPUT?(this.showWithInput_(a),b=!0):a.getType()==Blockly.ASTNode.types.BLOCK&&(this.showWithBlock_(a),b=!0);b||Blockly.zelos.MarkerSvg.superClass_.showAtLocation_.call(this,a)};Blockly.zelos.MarkerSvg.prototype.hide=function(){Blockly.zelos.MarkerSvg.superClass_.hide.call(this);this.markerCircle_.style.display="none"};
Blockly.zelos.MarkerSvg.prototype.createDomInternal_=function(){Blockly.zelos.MarkerSvg.superClass_.createDomInternal_.call(this);this.markerCircle_=Blockly.utils.dom.createSvgElement("circle",{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_);if(this.isCursor()){var a=this.getBlinkProperties_();Blockly.utils.dom.createSvgElement("animate",a,this.markerCircle_)}return this.markerSvg_};
Blockly.zelos.MarkerSvg.prototype.applyColour_=function(){Blockly.zelos.MarkerSvg.superClass_.applyColour_.call(this);this.markerCircle_.setAttribute("fill",this.colour_);this.markerCircle_.setAttribute("stroke",this.colour_);this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")};Blockly.zelos.Renderer=function(a){Blockly.zelos.Renderer.superClass_.constructor.call(this,a)};Blockly.utils.object.inherits(Blockly.zelos.Renderer,Blockly.blockRendering.Renderer);Blockly.zelos.Renderer.prototype.makeConstants_=function(){return new Blockly.zelos.ConstantProvider};Blockly.zelos.Renderer.prototype.makeRenderInfo_=function(a){return new Blockly.zelos.RenderInfo(this,a)};Blockly.zelos.Renderer.prototype.makeDrawer_=function(a,b){return new Blockly.zelos.Drawer(a,b)};
Blockly.zelos.Renderer.prototype.makeMarkerDrawer=function(a,b){return new Blockly.zelos.MarkerSvg(a,this.getConstants(),b)};Blockly.zelos.Renderer.prototype.makePathObject=function(a,b){return new Blockly.zelos.PathObject(a,b,this.getConstants())};Blockly.zelos.Renderer.prototype.shouldHighlightConnection=function(a){return a.type!=Blockly.INPUT_VALUE&&a.type!==Blockly.OUTPUT_VALUE};
Blockly.zelos.Renderer.prototype.getConnectionPreviewMethod=function(a,b,c){return b.type==Blockly.OUTPUT_VALUE?a.isConnected()?Blockly.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:Blockly.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:Blockly.zelos.Renderer.superClass_.getConnectionPreviewMethod(a,b,c)};Blockly.blockRendering.register("zelos",Blockly.zelos.Renderer);Blockly.Themes.Dark=Blockly.Theme.defineTheme("dark",{base:Blockly.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"#333",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0"}});Blockly.Themes.Deuteranopia={};
Blockly.Themes.Deuteranopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#f2a72c",colourSecondary:"#f1c172",colourTertiary:"#da921c"},list_blocks:{colourPrimary:"#7d65ab",colourSecondary:"#a88be0",colourTertiary:"#66518e"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#795a07",colourSecondary:"#ac8726",colourTertiary:"#c4a03f"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",
colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"},variable_dynamic_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"}};
Blockly.Themes.Deuteranopia.categoryStyles={colour_category:{colour:"#f2a72c"},list_category:{colour:"#7d65ab"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#795a07"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#47025a"},variable_dynamic_category:{colour:"#47025a"}};Blockly.Themes.Deuteranopia=new Blockly.Theme("deuteranopia",Blockly.Themes.Deuteranopia.defaultBlockStyles,Blockly.Themes.Deuteranopia.categoryStyles);Blockly.Themes.HighContrast={};
Blockly.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",
colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}};
Blockly.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}};Blockly.Themes.HighContrast=new Blockly.Theme("highcontrast",Blockly.Themes.HighContrast.defaultBlockStyles,Blockly.Themes.HighContrast.categoryStyles);
Blockly.Themes.HighContrast.setComponentStyle("selectedGlowColour","#000000");Blockly.Themes.HighContrast.setComponentStyle("selectedGlowSize",1);Blockly.Themes.HighContrast.setComponentStyle("replacementGlowColour","#000000");Blockly.Themes.HighContrast.setFontStyle({family:null,weight:null,size:16});Blockly.Themes.Tritanopia={};
Blockly.Themes.Tritanopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#05427f",colourSecondary:"#2974c0",colourTertiary:"#2d74bb"},list_blocks:{colourPrimary:"#b69ce8",colourSecondary:"#ccbaef",colourTertiary:"#9176c5"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#aa1846",colourSecondary:"#d36185",colourTertiary:"#7c1636"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",
colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"},variable_dynamic_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"}};
Blockly.Themes.Tritanopia.categoryStyles={colour_category:{colour:"#05427f"},list_category:{colour:"#b69ce8"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#aa1846"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#4b2d84"},variable_dynamic_category:{colour:"#4b2d84"}};Blockly.Themes.Tritanopia=new Blockly.Theme("tritanopia",Blockly.Themes.Tritanopia.defaultBlockStyles,Blockly.Themes.Tritanopia.categoryStyles);Blockly.requires={};

return Blockly;
})); 

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/blockly/blocks.js":
/*!****************************************!*\
  !*** ./node_modules/blockly/blocks.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */
;(function(root, factory) {
  if (true) { // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./core */ "./node_modules/blockly/core-browser.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
}(this, function(Blockly) {

    Blockly.Blocks={};// Do not edit this file; automatically generated by gulp.
'use strict';


Blockly.Blocks.colour={};Blockly.Constants={};Blockly.Constants.Colour={};Blockly.Constants.Colour.HUE=20;
Blockly.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",
args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",
align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]);Blockly.Blocks.lists={};Blockly.Constants.Lists={};Blockly.Constants.Lists.HUE=260;
Blockly.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",
message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",
args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]);
Blockly.Blocks.lists_create_with={init:function(){this.setHelpUrl(Blockly.Msg.LISTS_CREATE_WITH_HELPURL);this.setStyle("list_blocks");this.itemCount_=3;this.updateShape_();this.setOutput(!0,"Array");this.setMutator(new Blockly.Mutator(["lists_create_with_item"]));this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var a=Blockly.utils.xml.createElement("mutation");a.setAttribute("items",this.itemCount_);return a},domToMutation:function(a){this.itemCount_=parseInt(a.getAttribute("items"),
10);this.updateShape_()},decompose:function(a){var b=a.newBlock("lists_create_with_container");b.initSvg();for(var c=b.getInput("STACK").connection,d=0;d<this.itemCount_;d++){var e=a.newBlock("lists_create_with_item");e.initSvg();c.connect(e.previousConnection);c=e.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock("STACK");for(a=[];b;)a.push(b.valueConnection_),b=b.nextConnection&&b.nextConnection.targetBlock();for(b=0;b<this.itemCount_;b++){var c=this.getInput("ADD"+b).connection.targetConnection;
c&&-1==a.indexOf(c)&&c.disconnect()}this.itemCount_=a.length;this.updateShape_();for(b=0;b<this.itemCount_;b++)Blockly.Mutator.reconnect(a[b],this,"ADD"+b)},saveConnections:function(a){a=a.getInputTargetBlock("STACK");for(var b=0;a;){var c=this.getInput("ADD"+b);a.valueConnection_=c&&c.connection.targetConnection;b++;a=a.nextConnection&&a.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||
this.appendDummyInput("EMPTY").appendField(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE);for(var a=0;a<this.itemCount_;a++)if(!this.getInput("ADD"+a)){var b=this.appendValueInput("ADD"+a).setAlign(Blockly.ALIGN_RIGHT);0==a&&b.appendField(Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+a);)this.removeInput("ADD"+a),a++}};
Blockly.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks");this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);this.appendStatementInput("STACK");this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);this.contextMenu=!1}};
Blockly.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks");this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TITLE);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP);this.contextMenu=!1}};
Blockly.Blocks.lists_indexOf={init:function(){var a=[[Blockly.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[Blockly.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.LISTS_INDEX_OF_HELPURL);this.setStyle("list_blocks");this.setOutput(!0,"Number");this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST);this.appendValueInput("FIND").appendField(new Blockly.FieldDropdown(a),"END");this.setInputsInline(!0);var b=this;this.setTooltip(function(){return Blockly.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",
b.workspace.options.oneBasedIndex?"0":"-1")})}};
Blockly.Blocks.lists_getIndex={init:function(){var a=[[Blockly.Msg.LISTS_GET_INDEX_GET,"GET"],[Blockly.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[Blockly.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.setHelpUrl(Blockly.Msg.LISTS_GET_INDEX_HELPURL);this.setStyle("list_blocks");
a=new Blockly.FieldDropdown(a,function(a){a="REMOVE"==a;this.getSourceBlock().updateStatement_(a)});this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST);this.appendDummyInput().appendField(a,"MODE").appendField("","SPACE");this.appendDummyInput("AT");Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_INDEX_TAIL);this.setInputsInline(!0);this.setOutput(!0);this.updateAt_(!0);var b=this;this.setTooltip(function(){var a=
b.getFieldValue("MODE"),d=b.getFieldValue("WHERE"),e="";switch(a+" "+d){case "GET FROM_START":case "GET FROM_END":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case "GET FIRST":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case "GET LAST":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case "GET RANDOM":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case "GET_REMOVE FROM_START":case "GET_REMOVE FROM_END":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case "GET_REMOVE FIRST":e=
Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case "GET_REMOVE LAST":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case "GET_REMOVE RANDOM":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case "REMOVE FROM_START":case "REMOVE FROM_END":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case "REMOVE FIRST":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case "REMOVE LAST":e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case "REMOVE RANDOM":e=
Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}if("FROM_START"==d||"FROM_END"==d)e+="  "+("FROM_START"==d?Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP:Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",b.workspace.options.oneBasedIndex?"#1":"#0");return e})},mutationToDom:function(){var a=Blockly.utils.xml.createElement("mutation");a.setAttribute("statement",!this.outputConnection);var b=this.getInput("AT").type==Blockly.INPUT_VALUE;a.setAttribute("at",b);return a},domToMutation:function(a){var b=
"true"==a.getAttribute("statement");this.updateStatement_(b);a="false"!=a.getAttribute("at");this.updateAt_(a)},updateStatement_:function(a){a!=!this.outputConnection&&(this.unplug(!0,!0),a?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(a){this.removeInput("AT");this.removeInput("ORDINAL",!0);a?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&
this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var b=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(b){var c="FROM_START"==b||"FROM_END"==b;if(c!=a){var e=this.getSourceBlock();e.updateAt_(c);e.setFieldValue(b,"WHERE");return null}});this.getInput("AT").appendField(b,"WHERE");Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};
Blockly.Blocks.lists_setIndex={init:function(){var a=[[Blockly.Msg.LISTS_SET_INDEX_SET,"SET"],[Blockly.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]];this.setHelpUrl(Blockly.Msg.LISTS_SET_INDEX_HELPURL);this.setStyle("list_blocks");this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST);
this.appendDummyInput().appendField(new Blockly.FieldDropdown(a),"MODE").appendField("","SPACE");this.appendDummyInput("AT");this.appendValueInput("TO").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_TO);this.setInputsInline(!0);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setTooltip(Blockly.Msg.LISTS_SET_INDEX_TOOLTIP);this.updateAt_(!0);var b=this;this.setTooltip(function(){var a=b.getFieldValue("MODE"),d=b.getFieldValue("WHERE"),e="";switch(a+" "+d){case "SET FROM_START":case "SET FROM_END":e=
Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case "SET FIRST":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case "SET LAST":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case "SET RANDOM":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case "INSERT FROM_START":case "INSERT FROM_END":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case "INSERT FIRST":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case "INSERT LAST":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;
break;case "INSERT RANDOM":e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}if("FROM_START"==d||"FROM_END"==d)e+="  "+Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",b.workspace.options.oneBasedIndex?"#1":"#0");return e})},mutationToDom:function(){var a=Blockly.utils.xml.createElement("mutation"),b=this.getInput("AT").type==Blockly.INPUT_VALUE;a.setAttribute("at",b);return a},domToMutation:function(a){a="false"!=a.getAttribute("at");this.updateAt_(a)},updateAt_:function(a){this.removeInput("AT");
this.removeInput("ORDINAL",!0);a?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var b=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(b){var c="FROM_START"==b||"FROM_END"==b;if(c!=a){var e=this.getSourceBlock();e.updateAt_(c);e.setFieldValue(b,"WHERE");return null}});this.moveInputBefore("AT","TO");this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL",
"TO");this.getInput("AT").appendField(b,"WHERE")}};
Blockly.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.LISTS_GET_SUBLIST_HELPURL);this.setStyle("list_blocks");
this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);this.appendDummyInput("AT1");this.appendDummyInput("AT2");Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_SUBLIST_TAIL);this.setInputsInline(!0);this.setOutput(!0,"Array");this.updateAt_(1,!0);this.updateAt_(2,!0);this.setTooltip(Blockly.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var a=Blockly.utils.xml.createElement("mutation"),
b=this.getInput("AT1").type==Blockly.INPUT_VALUE;a.setAttribute("at1",b);b=this.getInput("AT2").type==Blockly.INPUT_VALUE;a.setAttribute("at2",b);return a},domToMutation:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.updateAt_(1,b);this.updateAt_(2,a)},updateAt_:function(a,b){this.removeInput("AT"+a);this.removeInput("ORDINAL"+a,!0);b?(this.appendValueInput("AT"+a).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+a).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):
this.appendDummyInput("AT"+a);var c=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+a],function(c){var e="FROM_START"==c||"FROM_END"==c;if(e!=b){var d=this.getSourceBlock();d.updateAt_(a,e);d.setFieldValue(c,"WHERE"+a);return null}});this.getInput("AT"+a).appendField(c,"WHERE"+a);1==a&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"));Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};
Blockly.Blocks.lists_sort={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[Blockly.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[Blockly.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[Blockly.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[Blockly.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[Blockly.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",
tooltip:Blockly.Msg.LISTS_SORT_TOOLTIP,helpUrl:Blockly.Msg.LISTS_SORT_HELPURL})}};
Blockly.Blocks.lists_split={init:function(){var a=this,b=new Blockly.FieldDropdown([[Blockly.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[Blockly.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(b){a.updateType_(b)});this.setHelpUrl(Blockly.Msg.LISTS_SPLIT_HELPURL);this.setStyle("list_blocks");this.appendValueInput("INPUT").setCheck("String").appendField(b,"MODE");this.appendValueInput("DELIM").setCheck("String").appendField(Blockly.Msg.LISTS_SPLIT_WITH_DELIMITER);this.setInputsInline(!0);this.setOutput(!0,
"Array");this.setTooltip(function(){var b=a.getFieldValue("MODE");if("SPLIT"==b)return Blockly.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==b)return Blockly.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+b);})},updateType_:function(a){if(this.getFieldValue("MODE")!=a){var b=this.getInput("INPUT").connection;b.setShadowDom(null);var c=b.targetBlock();c&&(b.disconnect(),c.isShadow()?c.dispose():this.bumpNeighbours())}"SPLIT"==a?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):
(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var a=Blockly.utils.xml.createElement("mutation");a.setAttribute("mode",this.getFieldValue("MODE"));return a},domToMutation:function(a){this.updateType_(a.getAttribute("mode"))}};Blockly.Blocks.logic={};Blockly.Constants.Logic={};Blockly.Constants.Logic.HUE=210;
Blockly.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",
name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,
style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare",
"logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",
check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",
args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
Blockly.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,
enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);Blockly.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};
Blockly.Extensions.register("logic_op_tooltip",Blockly.Extensions.buildTooltipForDropdown("OP",Blockly.Constants.Logic.TOOLTIPS_BY_OP));
Blockly.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var a=Blockly.utils.xml.createElement("mutation");this.elseifCount_&&a.setAttribute("elseif",this.elseifCount_);this.elseCount_&&a.setAttribute("else",1);return a},domToMutation:function(a){this.elseifCount_=parseInt(a.getAttribute("elseif"),10)||0;this.elseCount_=parseInt(a.getAttribute("else"),10)||0;this.rebuildShape_()},
decompose:function(a){var b=a.newBlock("controls_if_if");b.initSvg();for(var c=b.nextConnection,d=1;d<=this.elseifCount_;d++){var e=a.newBlock("controls_if_elseif");e.initSvg();c.connect(e.previousConnection);c=e.nextConnection}this.elseCount_&&(a=a.newBlock("controls_if_else"),a.initSvg(),c.connect(a.previousConnection));return b},compose:function(a){a=a.nextConnection.targetBlock();this.elseCount_=this.elseifCount_=0;for(var b=[null],c=[null],d=null;a;){switch(a.type){case "controls_if_elseif":this.elseifCount_++;
b.push(a.valueConnection_);c.push(a.statementConnection_);break;case "controls_if_else":this.elseCount_++;d=a.statementConnection_;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.nextConnection&&a.nextConnection.targetBlock()}this.updateShape_();this.reconnectChildBlocks_(b,c,d)},saveConnections:function(a){a=a.nextConnection.targetBlock();for(var b=1;a;){switch(a.type){case "controls_if_elseif":var c=this.getInput("IF"+b),d=this.getInput("DO"+b);a.valueConnection_=c&&c.connection.targetConnection;
a.statementConnection_=d&&d.connection.targetConnection;b++;break;case "controls_if_else":d=this.getInput("ELSE");a.statementConnection_=d&&d.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.nextConnection&&a.nextConnection.targetBlock()}},rebuildShape_:function(){var a=[null],b=[null],c=null;this.getInput("ELSE")&&(c=this.getInput("ELSE").connection.targetConnection);for(var d=1;this.getInput("IF"+d);){var e=this.getInput("IF"+d),f=this.getInput("DO"+
d);a.push(e.connection.targetConnection);b.push(f.connection.targetConnection);d++}this.updateShape_();this.reconnectChildBlocks_(a,b,c)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var a=1;this.getInput("IF"+a);)this.removeInput("IF"+a),this.removeInput("DO"+a),a++;for(a=1;a<=this.elseifCount_;a++)this.appendValueInput("IF"+a).setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+a).appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN);
this.elseCount_&&this.appendStatementInput("ELSE").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(a,b,c){for(var d=1;d<=this.elseifCount_;d++)Blockly.Mutator.reconnect(a[d],this,"IF"+d),Blockly.Mutator.reconnect(b[d],this,"DO"+d);Blockly.Mutator.reconnect(c,this,"ELSE")}};Blockly.Extensions.registerMutator("controls_if_mutator",Blockly.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]);
Blockly.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return Blockly.Msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return Blockly.Msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return Blockly.Msg.CONTROLS_IF_TOOLTIP_4}else return Blockly.Msg.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};Blockly.Extensions.register("controls_if_tooltip",Blockly.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION);
Blockly.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(a){this.prevBlocks_||(this.prevBlocks_=[null,null]);var b=this.getInputTargetBlock("A"),c=this.getInputTargetBlock("B");b&&c&&!b.outputConnection.checkType(c.outputConnection)&&(Blockly.Events.setGroup(a.group),a=this.prevBlocks_[0],a!==b&&(b.unplug(),!a||a.isDisposed()||a.isShadow()||this.getInput("A").connection.connect(a.outputConnection)),b=this.prevBlocks_[1],b!==c&&(c.unplug(),!b||b.isDisposed()||b.isShadow()||this.getInput("B").connection.connect(b.outputConnection)),
this.bumpNeighbours(),Blockly.Events.setGroup(!1));this.prevBlocks_[0]=this.getInputTargetBlock("A");this.prevBlocks_[1]=this.getInputTargetBlock("B")}};Blockly.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(Blockly.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)};Blockly.Extensions.register("logic_compare",Blockly.Constants.Logic.LOGIC_COMPARE_EXTENSION);
Blockly.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(a){var b=this.getInputTargetBlock("THEN"),c=this.getInputTargetBlock("ELSE"),d=this.outputConnection.targetConnection;if((b||c)&&d)for(var e=0;2>e;e++){var f=1==e?b:c;f&&!f.outputConnection.checkType(d)&&(Blockly.Events.setGroup(a.group),d===this.prevParentConnection_?(this.unplug(),d.getSourceBlock().bumpNeighbours()):(f.unplug(),f.bumpNeighbours()),Blockly.Events.setGroup(!1))}this.prevParentConnection_=
d}};Blockly.Extensions.registerMixin("logic_ternary",Blockly.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN);Blockly.Blocks.loops={};Blockly.Constants.Loops={};Blockly.Constants.Loops.HUE=120;
Blockly.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,
min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],
message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",
check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",
args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",
extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]);Blockly.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};Blockly.Extensions.register("controls_whileUntil_tooltip",Blockly.Extensions.buildTooltipForDropdown("MODE",Blockly.Constants.Loops.WHILE_UNTIL_TOOLTIPS));Blockly.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};
Blockly.Extensions.register("controls_flow_tooltip",Blockly.Extensions.buildTooltipForDropdown("FLOW",Blockly.Constants.Loops.BREAK_CONTINUE_TOOLTIPS));
Blockly.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(a){if(!this.isInFlyout){var b=this.getField("VAR").getVariable(),c=b.name;if(!this.isCollapsed()&&null!=c){var d={enabled:!0};d.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",c);b=Blockly.Variables.generateVariableFieldDom(b);c=Blockly.utils.xml.createElement("block");c.setAttribute("type","variables_get");c.appendChild(b);d.callback=Blockly.ContextMenu.callbackFactory(this,c);a.push(d)}}}};
Blockly.Extensions.registerMixin("contextMenu_newGetVariableBlock",Blockly.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN);Blockly.Extensions.register("controls_for_tooltip",Blockly.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR"));Blockly.Extensions.register("controls_forEach_tooltip",Blockly.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));
Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(a){do{if(-1!=Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(a.type))return a;a=a.getSurroundParent()}while(a);return null},onchange:function(a){if(this.workspace.isDragging&&!this.workspace.isDragging()&&a.type==Blockly.Events.BLOCK_MOVE&&a.blockId==this.id){var b=
Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this);this.setWarningText(b?null:Blockly.Msg.CONTROLS_FLOW_STATEMENTS_WARNING);if(!this.isInFlyout){var c=Blockly.Events.getGroup();Blockly.Events.setGroup(a.group);this.setEnabled(b);Blockly.Events.setGroup(c)}}}};Blockly.Extensions.registerMixin("controls_flow_in_loop_check",Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN);Blockly.Blocks.math={};Blockly.Constants.Math={};Blockly.Constants.Math.HUE=230;
Blockly.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}",
"MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},
{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",
helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},
{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",
name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",
check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}",
"STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",
helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},
{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",
name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
Blockly.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
Blockly.Extensions.register("math_op_tooltip",Blockly.Extensions.buildTooltipForDropdown("OP",Blockly.Constants.Math.TOOLTIPS_BY_OP));
Blockly.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var a=Blockly.utils.xml.createElement("mutation"),b="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");a.setAttribute("divisor_input",b);return a},domToMutation:function(a){a="true"==a.getAttribute("divisor_input");this.updateShape_(a)},updateShape_:function(a){var b=this.getInput("DIVISOR");a?b||this.appendValueInput("DIVISOR").setCheck("Number"):b&&this.removeInput("DIVISOR")}};
Blockly.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator(function(a){a="DIVISIBLE_BY"==a;this.getSourceBlock().updateShape_(a)})};Blockly.Extensions.registerMutator("math_is_divisibleby_mutator",Blockly.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,Blockly.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION);Blockly.Extensions.register("math_change_tooltip",Blockly.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));
Blockly.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(a){"MODE"==a?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var a=Blockly.utils.xml.createElement("mutation");a.setAttribute("op",this.getFieldValue("OP"));return a},domToMutation:function(a){this.updateType_(a.getAttribute("op"))}};Blockly.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(a){this.updateType_(a)}.bind(this))};
Blockly.Extensions.registerMutator("math_modes_of_list_mutator",Blockly.Constants.Math.LIST_MODES_MUTATOR_MIXIN,Blockly.Constants.Math.LIST_MODES_MUTATOR_EXTENSION);Blockly.Blocks.procedures={};
Blockly.Blocks.procedures_defnoreturn={init:function(){var a=new Blockly.FieldTextInput("",Blockly.Procedures.rename);a.setSpellcheck(!1);this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(a,"NAME").appendField("","PARAMS");this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"]));(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT);
this.setStyle("procedure_blocks");this.setTooltip(Blockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP);this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.setStatements_(!0);this.statementConnection_=null},setStatements_:function(a){this.hasStatements_!==a&&(a?(this.appendStatementInput("STACK").appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=
a)},updateParams_:function(){var a="";this.arguments_.length&&(a=Blockly.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", "));Blockly.Events.disable();try{this.setFieldValue(a,"PARAMS")}finally{Blockly.Events.enable()}},mutationToDom:function(a){var b=Blockly.utils.xml.createElement("mutation");a&&b.setAttribute("name",this.getFieldValue("NAME"));for(var c=0;c<this.argumentVarModels_.length;c++){var d=Blockly.utils.xml.createElement("arg"),e=this.argumentVarModels_[c];d.setAttribute("name",
e.name);d.setAttribute("varid",e.getId());a&&this.paramIds_&&d.setAttribute("paramId",this.paramIds_[c]);b.appendChild(d)}this.hasStatements_||b.setAttribute("statements","false");return b},domToMutation:function(a){this.arguments_=[];this.argumentVarModels_=[];for(var b=0,c;c=a.childNodes[b];b++)if("arg"==c.nodeName.toLowerCase()){var d=c.getAttribute("name");c=c.getAttribute("varid")||c.getAttribute("varId");this.arguments_.push(d);c=Blockly.Variables.getOrCreateVariablePackage(this.workspace,c,
d,"");null!=c?this.argumentVarModels_.push(c):console.log("Failed to create a variable with name "+d+", ignoring.")}this.updateParams_();Blockly.Procedures.mutateCallers(this);this.setStatements_("false"!==a.getAttribute("statements"))},decompose:function(a){var b=Blockly.utils.xml.createElement("block");b.setAttribute("type","procedures_mutatorcontainer");var c=Blockly.utils.xml.createElement("statement");c.setAttribute("name","STACK");b.appendChild(c);for(var d=0;d<this.arguments_.length;d++){var e=
Blockly.utils.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");var f=Blockly.utils.xml.createElement("field");f.setAttribute("name","NAME");var g=Blockly.utils.xml.createTextNode(this.arguments_[d]);f.appendChild(g);e.appendChild(f);f=Blockly.utils.xml.createElement("next");e.appendChild(f);c.appendChild(e);c=f}a=Blockly.Xml.domToBlock(b,a);"procedures_defreturn"==this.type?a.setFieldValue(this.hasStatements_,"STATEMENTS"):a.removeInput("STATEMENT_INPUT");Blockly.Procedures.mutateCallers(this);
return a},compose:function(a){this.arguments_=[];this.paramIds_=[];this.argumentVarModels_=[];for(var b=a.getInputTargetBlock("STACK");b;){var c=b.getFieldValue("NAME");this.arguments_.push(c);c=this.workspace.getVariable(c,"");this.argumentVarModels_.push(c);this.paramIds_.push(b.id);b=b.nextConnection&&b.nextConnection.targetBlock()}this.updateParams_();Blockly.Procedures.mutateCallers(this);a=a.getFieldValue("STATEMENTS");if(null!==a&&(a="TRUE"==a,this.hasStatements_!=a))if(a)this.setStatements_(!0),
Blockly.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null;else{a=this.getInput("STACK").connection;if(this.statementConnection_=a.targetConnection)a=a.targetBlock(),a.unplug(),a.bumpNeighbours();this.setStatements_(!1)}},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(a,b){var c=this.workspace.getVariableById(a);
if(""==c.type){c=c.name;b=this.workspace.getVariableById(b);for(var d=!1,e=0;e<this.argumentVarModels_.length;e++)this.argumentVarModels_[e].getId()==a&&(this.arguments_[e]=b.name,this.argumentVarModels_[e]=b,d=!0);d&&(this.displayRenamedVar_(c,b.name),Blockly.Procedures.mutateCallers(this))}},updateVarName:function(a){for(var b=a.name,c=!1,d=0;d<this.argumentVarModels_.length;d++)if(this.argumentVarModels_[d].getId()==a.getId()){var e=this.arguments_[d];this.arguments_[d]=b;c=!0}c&&(this.displayRenamedVar_(e,
b),Blockly.Procedures.mutateCallers(this))},displayRenamedVar_:function(a,b){this.updateParams_();if(this.mutator&&this.mutator.isVisible())for(var c=this.mutator.workspace_.getAllBlocks(!1),d=0,e;e=c[d];d++)"procedures_mutatorarg"==e.type&&Blockly.Names.equals(a,e.getFieldValue("NAME"))&&e.setFieldValue(b,"NAME")},customContextMenu:function(a){if(!this.isInFlyout){var b={enabled:!0},c=this.getFieldValue("NAME");b.text=Blockly.Msg.PROCEDURES_CREATE_DO.replace("%1",c);var d=Blockly.utils.xml.createElement("mutation");
d.setAttribute("name",c);for(c=0;c<this.arguments_.length;c++){var e=Blockly.utils.xml.createElement("arg");e.setAttribute("name",this.arguments_[c]);d.appendChild(e)}c=Blockly.utils.xml.createElement("block");c.setAttribute("type",this.callType_);c.appendChild(d);b.callback=Blockly.ContextMenu.callbackFactory(this,c);a.push(b);if(!this.isCollapsed())for(c=0;c<this.argumentVarModels_.length;c++)b={enabled:!0},d=this.argumentVarModels_[c],b.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",d.name),
d=Blockly.Variables.generateVariableFieldDom(d),e=Blockly.utils.xml.createElement("block"),e.setAttribute("type","variables_get"),e.appendChild(d),b.callback=Blockly.ContextMenu.callbackFactory(this,e),a.push(b)}},callType_:"procedures_callnoreturn"};
Blockly.Blocks.procedures_defreturn={init:function(){var a=new Blockly.FieldTextInput("",Blockly.Procedures.rename);a.setSpellcheck(!1);this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(a,"NAME").appendField("","PARAMS");this.appendValueInput("RETURN").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN);this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"]));(this.workspace.options.comments||this.workspace.options.parentWorkspace&&
this.workspace.options.parentWorkspace.options.comments)&&Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT);this.setStyle("procedure_blocks");this.setTooltip(Blockly.Msg.PROCEDURES_DEFRETURN_TOOLTIP);this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFRETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.setStatements_(!0);this.statementConnection_=null},setStatements_:Blockly.Blocks.procedures_defnoreturn.setStatements_,updateParams_:Blockly.Blocks.procedures_defnoreturn.updateParams_,
mutationToDom:Blockly.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_defnoreturn.domToMutation,decompose:Blockly.Blocks.procedures_defnoreturn.decompose,compose:Blockly.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:Blockly.Blocks.procedures_defnoreturn.getVars,getVarModels:Blockly.Blocks.procedures_defnoreturn.getVarModels,renameVarById:Blockly.Blocks.procedures_defnoreturn.renameVarById,
updateVarName:Blockly.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:Blockly.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:Blockly.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"};
Blockly.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TITLE);this.appendStatementInput("STACK");this.appendDummyInput("STATEMENT_INPUT").appendField(Blockly.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new Blockly.FieldCheckbox("TRUE"),"STATEMENTS");this.setStyle("procedure_blocks");this.setTooltip(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP);this.contextMenu=!1}};
Blockly.Blocks.procedures_mutatorarg={init:function(){var a=new Blockly.FieldTextInput(Blockly.Procedures.DEFAULT_ARG,this.validator_);a.oldShowEditorFn_=a.showEditor_;a.showEditor_=function(){this.createdVariables_=[];this.oldShowEditorFn_()};this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(a,"NAME");this.setPreviousStatement(!0);this.setNextStatement(!0);this.setStyle("procedure_blocks");this.setTooltip(Blockly.Msg.PROCEDURES_MUTATORARG_TOOLTIP);this.contextMenu=
!1;a.onFinishEditing_=this.deleteIntermediateVars_;a.createdVariables_=[];a.onFinishEditing_("x")},validator_:function(a){var b=this.getSourceBlock(),c=Blockly.Mutator.findParentWs(b.workspace);a=a.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"");if(!a)return null;for(var d=(b.workspace.targetWorkspace||b.workspace).getAllBlocks(!1),e=a.toLowerCase(),f=0;f<d.length;f++)if(d[f].id!=this.getSourceBlock().id){var g=d[f].getFieldValue("NAME");if(g&&g.toLowerCase()==e)return null}if(b.isInFlyout)return a;
(b=c.getVariable(a,""))&&b.name!=a&&c.renameVariableById(b.getId(),a);b||(b=c.createVariable(a,""))&&this.createdVariables_&&this.createdVariables_.push(b);return a},deleteIntermediateVars_:function(a){var b=Blockly.Mutator.findParentWs(this.getSourceBlock().workspace);if(b)for(var c=0;c<this.createdVariables_.length;c++){var d=this.createdVariables_[c];d.name!=a&&b.deleteVariableById(d.getId())}}};
Blockly.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField(this.id,"NAME");this.setPreviousStatement(!0);this.setNextStatement(!0);this.setStyle("procedure_blocks");this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL);this.arguments_=[];this.argumentVarModels_=[];this.quarkConnections_={};this.quarkIds_=null;this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(a,b){Blockly.Names.equals(a,
this.getProcedureCall())&&(this.setFieldValue(b,"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",b)))},setProcedureParameters_:function(a,b){var c=Blockly.Procedures.getDefinition(this.getProcedureCall(),this.workspace),d=c&&c.mutator&&c.mutator.isVisible();d||(this.quarkConnections_={},this.quarkIds_=null);if(b)if(a.join("\n")==this.arguments_.join("\n"))this.quarkIds_=b;else{if(b.length!=a.length)throw RangeError("paramNames and paramIds must be the same length.");
this.setCollapsed(!1);this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);c=this.rendered;this.rendered=!1;for(var e=0;e<this.arguments_.length;e++){var f=this.getInput("ARG"+e);f&&(f=f.connection.targetConnection,this.quarkConnections_[this.quarkIds_[e]]=f,d&&f&&-1==b.indexOf(this.quarkIds_[e])&&(f.disconnect(),f.getSourceBlock().bumpNeighbours()))}this.arguments_=[].concat(a);this.argumentVarModels_=[];for(e=0;e<this.arguments_.length;e++)a=Blockly.Variables.getOrCreateVariablePackage(this.workspace,
null,this.arguments_[e],""),this.argumentVarModels_.push(a);this.updateShape_();if(this.quarkIds_=b)for(e=0;e<this.arguments_.length;e++)b=this.quarkIds_[e],b in this.quarkConnections_&&(f=this.quarkConnections_[b],Blockly.Mutator.reconnect(f,this,"ARG"+e)||delete this.quarkConnections_[b]);(this.rendered=c)&&this.render()}},updateShape_:function(){for(var a=0;a<this.arguments_.length;a++){var b=this.getField("ARGNAME"+a);if(b){Blockly.Events.disable();try{b.setValue(this.arguments_[a])}finally{Blockly.Events.enable()}}else b=
new Blockly.FieldLabel(this.arguments_[a]),this.appendValueInput("ARG"+a).setAlign(Blockly.ALIGN_RIGHT).appendField(b,"ARGNAME"+a).init()}for(;this.getInput("ARG"+a);)this.removeInput("ARG"+a),a++;if(a=this.getInput("TOPROW"))this.arguments_.length?this.getField("WITH")||(a.appendField(Blockly.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),a.init()):this.getField("WITH")&&a.removeField("WITH")},mutationToDom:function(){var a=Blockly.utils.xml.createElement("mutation");a.setAttribute("name",this.getProcedureCall());
for(var b=0;b<this.arguments_.length;b++){var c=Blockly.utils.xml.createElement("arg");c.setAttribute("name",this.arguments_[b]);a.appendChild(c)}return a},domToMutation:function(a){var b=a.getAttribute("name");this.renameProcedure(this.getProcedureCall(),b);b=[];for(var c=[],d=0,e;e=a.childNodes[d];d++)"arg"==e.nodeName.toLowerCase()&&(b.push(e.getAttribute("name")),c.push(e.getAttribute("paramId")));this.setProcedureParameters_(b,c)},getVarModels:function(){return this.argumentVarModels_},onchange:function(a){if(this.workspace&&
!this.workspace.isFlyout&&a.recordUndo)if(a.type==Blockly.Events.BLOCK_CREATE&&-1!=a.ids.indexOf(this.id)){var b=this.getProcedureCall();b=Blockly.Procedures.getDefinition(b,this.workspace);!b||b.type==this.defType_&&JSON.stringify(b.arguments_)==JSON.stringify(this.arguments_)||(b=null);if(!b){Blockly.Events.setGroup(a.group);a=Blockly.utils.xml.createElement("xml");b=Blockly.utils.xml.createElement("block");b.setAttribute("type",this.defType_);var c=this.getRelativeToSurfaceXY(),d=c.y+2*Blockly.SNAP_RADIUS;
b.setAttribute("x",c.x+Blockly.SNAP_RADIUS*(this.RTL?-1:1));b.setAttribute("y",d);c=this.mutationToDom();b.appendChild(c);c=Blockly.utils.xml.createElement("field");c.setAttribute("name","NAME");c.appendChild(Blockly.utils.xml.createTextNode(this.getProcedureCall()));b.appendChild(c);a.appendChild(b);Blockly.Xml.domToWorkspace(a,this.workspace);Blockly.Events.setGroup(!1)}}else a.type==Blockly.Events.BLOCK_DELETE?(b=this.getProcedureCall(),b=Blockly.Procedures.getDefinition(b,this.workspace),b||(Blockly.Events.setGroup(a.group),
this.dispose(!0),Blockly.Events.setGroup(!1))):a.type==Blockly.Events.CHANGE&&"disabled"==a.element&&(b=this.getProcedureCall(),(b=Blockly.Procedures.getDefinition(b,this.workspace))&&b.id==a.blockId&&((b=Blockly.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),Blockly.Events.setGroup(a.group),a.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),Blockly.Events.setGroup(b)))},customContextMenu:function(a){if(this.workspace.isMovable()){var b=
{enabled:!0};b.text=Blockly.Msg.PROCEDURES_HIGHLIGHT_DEF;var c=this.getProcedureCall(),d=this.workspace;b.callback=function(){var a=Blockly.Procedures.getDefinition(c,d);a&&(d.centerOnBlock(a.id),a.select())};a.push(b)}},defType_:"procedures_defnoreturn"};
Blockly.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME");this.setOutput(!0);this.setStyle("procedure_blocks");this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLRETURN_HELPURL);this.arguments_=[];this.quarkConnections_={};this.quarkIds_=null;this.previousEnabledState_=!0},getProcedureCall:Blockly.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:Blockly.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:Blockly.Blocks.procedures_callnoreturn.setProcedureParameters_,
updateShape_:Blockly.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:Blockly.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_callnoreturn.domToMutation,getVarModels:Blockly.Blocks.procedures_callnoreturn.getVarModels,onchange:Blockly.Blocks.procedures_callnoreturn.onchange,customContextMenu:Blockly.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"};
Blockly.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_IF);this.appendValueInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN);this.setInputsInline(!0);this.setPreviousStatement(!0);this.setNextStatement(!0);this.setStyle("procedure_blocks");this.setTooltip(Blockly.Msg.PROCEDURES_IFRETURN_TOOLTIP);this.setHelpUrl(Blockly.Msg.PROCEDURES_IFRETURN_HELPURL);this.hasReturnValue_=!0},mutationToDom:function(){var a=
Blockly.utils.xml.createElement("mutation");a.setAttribute("value",Number(this.hasReturnValue_));return a},domToMutation:function(a){this.hasReturnValue_=1==a.getAttribute("value");this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(a){if(this.workspace.isDragging&&!this.workspace.isDragging()){a=!1;var b=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(b.type)){a=!0;break}b=b.getSurroundParent()}while(b);
a?("procedures_defnoreturn"==b.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=b.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(Blockly.Msg.PROCEDURES_IFRETURN_WARNING),
this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};Blockly.Blocks.texts={};Blockly.Constants.Text={};Blockly.Constants.Text.HUE=160;
Blockly.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,
height:17,alt:"\u00b6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},
{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],
previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",
helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",
args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]);
Blockly.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]];this.WHERE_OPTIONS_2=[[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.TEXT_GET_SUBSTRING_HELPURL);this.setStyle("text_blocks");
this.appendValueInput("STRING").setCheck("String").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);this.appendDummyInput("AT1");this.appendDummyInput("AT2");Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL);this.setInputsInline(!0);this.setOutput(!0,"String");this.updateAt_(1,!0);this.updateAt_(2,!0);this.setTooltip(Blockly.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var a=Blockly.utils.xml.createElement("mutation"),
b=this.getInput("AT1").type==Blockly.INPUT_VALUE;a.setAttribute("at1",b);b=this.getInput("AT2").type==Blockly.INPUT_VALUE;a.setAttribute("at2",b);return a},domToMutation:function(a){var b="true"==a.getAttribute("at1");a="true"==a.getAttribute("at2");this.updateAt_(1,b);this.updateAt_(2,a)},updateAt_:function(a,b){this.removeInput("AT"+a);this.removeInput("ORDINAL"+a,!0);b?(this.appendValueInput("AT"+a).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+a).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):
this.appendDummyInput("AT"+a);2==a&&Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL));var c=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+a],function(c){var e="FROM_START"==c||"FROM_END"==c;if(e!=b){var d=this.getSourceBlock();d.updateAt_(a,e);d.setFieldValue(c,"WHERE"+a);return null}});this.getInput("AT"+a).appendField(c,"WHERE"+a);1==a&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&
this.moveInputBefore("ORDINAL1","AT2"))}};Blockly.Blocks.text_changeCase={init:function(){var a=[[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(Blockly.Msg.TEXT_CHANGECASE_HELPURL);this.setStyle("text_blocks");this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(a),"CASE");this.setOutput(!0,"String");this.setTooltip(Blockly.Msg.TEXT_CHANGECASE_TOOLTIP)}};
Blockly.Blocks.text_trim={init:function(){var a=[[Blockly.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[Blockly.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[Blockly.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(Blockly.Msg.TEXT_TRIM_HELPURL);this.setStyle("text_blocks");this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(a),"MODE");this.setOutput(!0,"String");this.setTooltip(Blockly.Msg.TEXT_TRIM_TOOLTIP)}};
Blockly.Blocks.text_print={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:Blockly.Msg.TEXT_PRINT_TOOLTIP,helpUrl:Blockly.Msg.TEXT_PRINT_HELPURL})}};
Blockly.Blocks.text_prompt_ext={init:function(){var a=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL);this.setStyle("text_blocks");var b=this;a=new Blockly.FieldDropdown(a,function(a){b.updateType_(a)});this.appendValueInput("TEXT").appendField(a,"TYPE");this.setOutput(!0,"String");this.setTooltip(function(){return"TEXT"==b.getFieldValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},
updateType_:function(a){this.outputConnection.setCheck("NUMBER"==a?"Number":"String")},mutationToDom:function(){var a=Blockly.utils.xml.createElement("mutation");a.setAttribute("type",this.getFieldValue("TYPE"));return a},domToMutation:function(a){this.updateType_(a.getAttribute("type"))}};
Blockly.Blocks.text_prompt={init:function(){this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);var a=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],b=this;this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL);this.setStyle("text_blocks");a=new Blockly.FieldDropdown(a,function(a){b.updateType_(a)});this.appendDummyInput().appendField(a,"TYPE").appendField(this.newQuote_(!0)).appendField(new Blockly.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1));
this.setOutput(!0,"String");this.setTooltip(function(){return"TEXT"==b.getFieldValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:Blockly.Blocks.text_prompt_ext.updateType_,mutationToDom:Blockly.Blocks.text_prompt_ext.mutationToDom,domToMutation:Blockly.Blocks.text_prompt_ext.domToMutation};
Blockly.Blocks.text_count={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:Blockly.Msg.TEXT_COUNT_TOOLTIP,helpUrl:Blockly.Msg.TEXT_COUNT_HELPURL})}};
Blockly.Blocks.text_replace={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:Blockly.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:Blockly.Msg.TEXT_REPLACE_HELPURL})}};
Blockly.Blocks.text_reverse={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:Blockly.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:Blockly.Msg.TEXT_REVERSE_HELPURL})}};
Blockly.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",
QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(a){for(var b=0,c;c=this.inputList[b];b++)for(var d=0,e;e=c.fieldRow[d];d++)if(a==e.name){c.insertFieldAt(d,this.newQuote_(!0));c.insertFieldAt(d+2,this.newQuote_(!1));return}console.warn('field named "'+a+'" not found in '+this.toDevString())},newQuote_:function(a){a=this.RTL?!a:a;return new Blockly.FieldImage(a?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,a?"\u201c":"\u201d")}};
Blockly.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);this.quoteField_("TEXT")};
Blockly.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var a=Blockly.utils.xml.createElement("mutation");a.setAttribute("items",this.itemCount_);return a},domToMutation:function(a){this.itemCount_=parseInt(a.getAttribute("items"),10);this.updateShape_()},decompose:function(a){var b=a.newBlock("text_create_join_container");b.initSvg();for(var c=b.getInput("STACK").connection,d=0;d<this.itemCount_;d++){var e=a.newBlock("text_create_join_item");e.initSvg();c.connect(e.previousConnection);
c=e.nextConnection}return b},compose:function(a){var b=a.getInputTargetBlock("STACK");for(a=[];b;)a.push(b.valueConnection_),b=b.nextConnection&&b.nextConnection.targetBlock();for(b=0;b<this.itemCount_;b++){var c=this.getInput("ADD"+b).connection.targetConnection;c&&-1==a.indexOf(c)&&c.disconnect()}this.itemCount_=a.length;this.updateShape_();for(b=0;b<this.itemCount_;b++)Blockly.Mutator.reconnect(a[b],this,"ADD"+b)},saveConnections:function(a){a=a.getInputTargetBlock("STACK");for(var b=0;a;){var c=
this.getInput("ADD"+b);a.valueConnection_=c&&c.connection.targetConnection;b++;a=a.nextConnection&&a.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var a=0;a<this.itemCount_;a++)if(!this.getInput("ADD"+a)){var b=this.appendValueInput("ADD"+a).setAlign(Blockly.ALIGN_RIGHT);0==a&&b.appendField(Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+
a);)this.removeInput("ADD"+a),a++}};Blockly.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);this.itemCount_=2;this.updateShape_();this.setMutator(new Blockly.Mutator(["text_create_join_item"]))};Blockly.Extensions.register("text_append_tooltip",Blockly.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));
Blockly.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var a=this;this.setTooltip(function(){return Blockly.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",a.workspace.options.oneBasedIndex?"0":"-1")})};
Blockly.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var a=Blockly.utils.xml.createElement("mutation");a.setAttribute("at",!!this.isAt_);return a},domToMutation:function(a){a="false"!=a.getAttribute("at");this.updateAt_(a)},updateAt_:function(a){this.removeInput("AT",!0);this.removeInput("ORDINAL",!0);a&&(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX));Blockly.Msg.TEXT_CHARAT_TAIL&&
(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_CHARAT_TAIL));this.isAt_=a}};
Blockly.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator(function(a){a="FROM_START"==a||"FROM_END"==a;a!=this.isAt_&&this.getSourceBlock().updateAt_(a)});this.updateAt_(!0);var a=this;this.setTooltip(function(){var b=a.getFieldValue("WHERE"),c=Blockly.Msg.TEXT_CHARAT_TOOLTIP;("FROM_START"==b||"FROM_END"==b)&&(b="FROM_START"==b?Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP:Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(c+="  "+b.replace("%1",a.workspace.options.oneBasedIndex?
"#1":"#0"));return c})};Blockly.Extensions.register("text_indexOf_tooltip",Blockly.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION);Blockly.Extensions.register("text_quotes",Blockly.Constants.Text.TEXT_QUOTES_EXTENSION);Blockly.Extensions.registerMutator("text_join_mutator",Blockly.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,Blockly.Constants.Text.TEXT_JOIN_EXTENSION);Blockly.Extensions.registerMutator("text_charAt_mutator",Blockly.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,Blockly.Constants.Text.TEXT_CHARAT_EXTENSION);Blockly.Blocks.variables={};Blockly.Constants.Variables={};Blockly.Constants.Variables.HUE=330;
Blockly.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,
nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]);
Blockly.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(a){if(!this.isInFlyout){if("variables_get"==this.type)var b="variables_set",c=Blockly.Msg.VARIABLES_GET_CREATE_SET;else b="variables_get",c=Blockly.Msg.VARIABLES_SET_CREATE_GET;var d={enabled:0<this.workspace.remainingCapacity()},e=this.getField("VAR").getText();d.text=c.replace("%1",e);c=Blockly.utils.xml.createElement("field");c.setAttribute("name","VAR");c.appendChild(Blockly.utils.xml.createTextNode(e));
e=Blockly.utils.xml.createElement("block");e.setAttribute("type",b);e.appendChild(c);d.callback=Blockly.ContextMenu.callbackFactory(this,e);a.push(d)}else if("variables_get"==this.type||"variables_get_reporter"==this.type)b={text:Blockly.Msg.RENAME_VARIABLE,enabled:!0,callback:Blockly.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},e=this.getField("VAR").getText(),d={text:Blockly.Msg.DELETE_VARIABLE.replace("%1",e),enabled:!0,callback:Blockly.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},
a.unshift(b),a.unshift(d)}};Blockly.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(a){return function(){var b=a.workspace,c=a.getField("VAR").getVariable();Blockly.Variables.renameVariable(b,c)}};Blockly.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(a){return function(){var b=a.workspace,c=a.getField("VAR").getVariable();b.deleteVariableById(c.getId());b.refreshToolboxSelection()}};Blockly.Extensions.registerMixin("contextMenu_variableSetterGetter",Blockly.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);Blockly.Constants.VariablesDynamic={};Blockly.Constants.VariablesDynamic.HUE=310;
Blockly.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",
name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]);
Blockly.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(a){if(!this.isInFlyout){var b=this.getFieldValue("VAR");var c=this.workspace.getVariableById(b).type;if("variables_get_dynamic"==this.type){b="variables_set_dynamic";var d=Blockly.Msg.VARIABLES_GET_CREATE_SET}else b="variables_get_dynamic",d=Blockly.Msg.VARIABLES_SET_CREATE_GET;var e={enabled:0<this.workspace.remainingCapacity()},f=this.getField("VAR").getText();e.text=d.replace("%1",f);
d=Blockly.utils.xml.createElement("field");d.setAttribute("name","VAR");d.setAttribute("variabletype",c);d.appendChild(Blockly.utils.xml.createTextNode(f));f=Blockly.utils.xml.createElement("block");f.setAttribute("type",b);f.appendChild(d);e.callback=Blockly.ContextMenu.callbackFactory(this,f);a.push(e)}else if("variables_get_dynamic"==this.type||"variables_get_reporter_dynamic"==this.type)b={text:Blockly.Msg.RENAME_VARIABLE,enabled:!0,callback:Blockly.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},
f=this.getField("VAR").getText(),e={text:Blockly.Msg.DELETE_VARIABLE.replace("%1",f),enabled:!0,callback:Blockly.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},a.unshift(b),a.unshift(e)},onchange:function(a){a=this.getFieldValue("VAR");a=Blockly.Variables.getVariable(this.workspace,a);"variables_get_dynamic"==this.type?this.outputConnection.setCheck(a.type):this.getInput("VALUE").connection.setCheck(a.type)}};
Blockly.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(a){return function(){var b=a.workspace,c=a.getField("VAR").getVariable();Blockly.Variables.renameVariable(b,c)}};Blockly.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(a){return function(){var b=a.workspace,c=a.getField("VAR").getVariable();b.deleteVariableById(c.getId());b.refreshToolboxSelection()}};Blockly.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",Blockly.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);

return Blockly.Blocks;
})); 


/***/ }),

/***/ "./node_modules/blockly/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/blockly/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */
;(function(root, factory) {
  if (true) { // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./core-browser */ "./node_modules/blockly/core-browser.js"), __webpack_require__(/*! ./msg/en */ "./node_modules/blockly/msg/en.js"), __webpack_require__(/*! ./blocks */ "./node_modules/blockly/blocks.js"), __webpack_require__(/*! ./javascript */ "./node_modules/blockly/javascript.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
}(this, function(Blockly, En, BlocklyBlocks, BlocklyJS) {
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * @fileoverview Blockly module for the browser. This includes Blockly core
 * and built in blocks, the JavaScript code generator and the English block
 * localization files.
 */

/* eslint-disable */
'use strict';

// Include the EN Locale by default.
Blockly.setLocale(En);

Blockly.Blocks = Blockly.Blocks || {};
Object.keys(BlocklyBlocks).forEach(function (k) {
  Blockly.Blocks[k] = BlocklyBlocks[k];
});

Blockly.JavaScript = BlocklyJS;
return Blockly;
})); 


/***/ }),

/***/ "./node_modules/blockly/core-browser.js":
/*!**********************************************!*\
  !*** ./node_modules/blockly/core-browser.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */
;(function(root, factory) {
  if (true) { // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./blockly */ "./node_modules/blockly/blockly.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
}(this, function(Blockly) {
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * @fileoverview Blockly core module for the browser. It includes blockly.js
 *               and adds a helper method for setting the locale.
 */

/* eslint-disable */
'use strict';

// Add a helper method to set the Blockly locale.
Blockly.setLocale = function (locale) {
  Blockly.Msg = Blockly.Msg || {};
  Object.keys(locale).forEach(function (k) {
    Blockly.Msg[k] = locale[k];
  });
};

return Blockly;
})); 


/***/ }),

/***/ "./node_modules/blockly/index.js":
/*!***************************************!*\
  !*** ./node_modules/blockly/index.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */
;(function(root, factory) {
  if (true) { // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./browser */ "./node_modules/blockly/browser.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
}(this, function(Blockly) {
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */

/**
 * @fileoverview Blockly module.
 */

/* eslint-disable */
'use strict';
return Blockly;
})); 


/***/ }),

/***/ "./node_modules/blockly/javascript.js":
/*!********************************************!*\
  !*** ./node_modules/blockly/javascript.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */
;(function(root, factory) {
  if (true) { // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./core */ "./node_modules/blockly/core-browser.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
}(this, function(Blockly) {
// Do not edit this file; automatically generated by gulp.
'use strict';


Blockly.JavaScript=new Blockly.Generator("JavaScript");Blockly.JavaScript.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(Blockly.utils.global).join(","));
Blockly.JavaScript.ORDER_ATOMIC=0;Blockly.JavaScript.ORDER_NEW=1.1;Blockly.JavaScript.ORDER_MEMBER=1.2;Blockly.JavaScript.ORDER_FUNCTION_CALL=2;Blockly.JavaScript.ORDER_INCREMENT=3;Blockly.JavaScript.ORDER_DECREMENT=3;Blockly.JavaScript.ORDER_BITWISE_NOT=4.1;Blockly.JavaScript.ORDER_UNARY_PLUS=4.2;Blockly.JavaScript.ORDER_UNARY_NEGATION=4.3;Blockly.JavaScript.ORDER_LOGICAL_NOT=4.4;Blockly.JavaScript.ORDER_TYPEOF=4.5;Blockly.JavaScript.ORDER_VOID=4.6;Blockly.JavaScript.ORDER_DELETE=4.7;
Blockly.JavaScript.ORDER_AWAIT=4.8;Blockly.JavaScript.ORDER_EXPONENTIATION=5;Blockly.JavaScript.ORDER_MULTIPLICATION=5.1;Blockly.JavaScript.ORDER_DIVISION=5.2;Blockly.JavaScript.ORDER_MODULUS=5.3;Blockly.JavaScript.ORDER_SUBTRACTION=6.1;Blockly.JavaScript.ORDER_ADDITION=6.2;Blockly.JavaScript.ORDER_BITWISE_SHIFT=7;Blockly.JavaScript.ORDER_RELATIONAL=8;Blockly.JavaScript.ORDER_IN=8;Blockly.JavaScript.ORDER_INSTANCEOF=8;Blockly.JavaScript.ORDER_EQUALITY=9;Blockly.JavaScript.ORDER_BITWISE_AND=10;
Blockly.JavaScript.ORDER_BITWISE_XOR=11;Blockly.JavaScript.ORDER_BITWISE_OR=12;Blockly.JavaScript.ORDER_LOGICAL_AND=13;Blockly.JavaScript.ORDER_LOGICAL_OR=14;Blockly.JavaScript.ORDER_CONDITIONAL=15;Blockly.JavaScript.ORDER_ASSIGNMENT=16;Blockly.JavaScript.ORDER_YIELD=17;Blockly.JavaScript.ORDER_COMMA=18;Blockly.JavaScript.ORDER_NONE=99;
Blockly.JavaScript.ORDER_OVERRIDES=[[Blockly.JavaScript.ORDER_FUNCTION_CALL,Blockly.JavaScript.ORDER_MEMBER],[Blockly.JavaScript.ORDER_FUNCTION_CALL,Blockly.JavaScript.ORDER_FUNCTION_CALL],[Blockly.JavaScript.ORDER_MEMBER,Blockly.JavaScript.ORDER_MEMBER],[Blockly.JavaScript.ORDER_MEMBER,Blockly.JavaScript.ORDER_FUNCTION_CALL],[Blockly.JavaScript.ORDER_LOGICAL_NOT,Blockly.JavaScript.ORDER_LOGICAL_NOT],[Blockly.JavaScript.ORDER_MULTIPLICATION,Blockly.JavaScript.ORDER_MULTIPLICATION],[Blockly.JavaScript.ORDER_ADDITION,
Blockly.JavaScript.ORDER_ADDITION],[Blockly.JavaScript.ORDER_LOGICAL_AND,Blockly.JavaScript.ORDER_LOGICAL_AND],[Blockly.JavaScript.ORDER_LOGICAL_OR,Blockly.JavaScript.ORDER_LOGICAL_OR]];
Blockly.JavaScript.init=function(a){Blockly.JavaScript.definitions_=Object.create(null);Blockly.JavaScript.functionNames_=Object.create(null);Blockly.JavaScript.variableDB_?Blockly.JavaScript.variableDB_.reset():Blockly.JavaScript.variableDB_=new Blockly.Names(Blockly.JavaScript.RESERVED_WORDS_);Blockly.JavaScript.variableDB_.setVariableMap(a.getVariableMap());for(var b=[],c=Blockly.Variables.allDeveloperVariables(a),d=0;d<c.length;d++)b.push(Blockly.JavaScript.variableDB_.getName(c[d],Blockly.Names.DEVELOPER_VARIABLE_TYPE));
a=Blockly.Variables.allUsedVarModels(a);for(d=0;d<a.length;d++)b.push(Blockly.JavaScript.variableDB_.getName(a[d].getId(),Blockly.VARIABLE_CATEGORY_NAME));b.length&&(Blockly.JavaScript.definitions_.variables="var "+b.join(", ")+";")};
Blockly.JavaScript.finish=function(a){var b=[],c;for(c in Blockly.JavaScript.definitions_)b.push(Blockly.JavaScript.definitions_[c]);delete Blockly.JavaScript.definitions_;delete Blockly.JavaScript.functionNames_;Blockly.JavaScript.variableDB_.reset();return b.join("\n\n")+"\n\n\n"+a};Blockly.JavaScript.scrubNakedValue=function(a){return a+";\n"};Blockly.JavaScript.quote_=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};
Blockly.JavaScript.multiline_quote_=function(a){return a.split(/\n/g).map(Blockly.JavaScript.quote_).join(" + '\\n' +\n")};
Blockly.JavaScript.scrub_=function(a,b,c){var d="";if(!a.outputConnection||!a.outputConnection.targetConnection){var e=a.getCommentText();e&&(e=Blockly.utils.string.wrap(e,Blockly.JavaScript.COMMENT_WRAP-3),d+=Blockly.JavaScript.prefixLines(e+"\n","// "));for(var f=0;f<a.inputList.length;f++)a.inputList[f].type==Blockly.INPUT_VALUE&&(e=a.inputList[f].connection.targetBlock())&&(e=Blockly.JavaScript.allNestedComments(e))&&(d+=Blockly.JavaScript.prefixLines(e,"// "))}a=a.nextConnection&&a.nextConnection.targetBlock();
c=c?"":Blockly.JavaScript.blockToCode(a);return d+b+c};
Blockly.JavaScript.getAdjusted=function(a,b,c,d,e){c=c||0;e=e||Blockly.JavaScript.ORDER_NONE;a.workspace.options.oneBasedIndex&&c--;var f=a.workspace.options.oneBasedIndex?"1":"0";a=0<c?Blockly.JavaScript.valueToCode(a,b,Blockly.JavaScript.ORDER_ADDITION)||f:0>c?Blockly.JavaScript.valueToCode(a,b,Blockly.JavaScript.ORDER_SUBTRACTION)||f:d?Blockly.JavaScript.valueToCode(a,b,Blockly.JavaScript.ORDER_UNARY_NEGATION)||f:Blockly.JavaScript.valueToCode(a,b,e)||f;if(Blockly.isNumber(a))a=Number(a)+c,d&&
(a=-a);else{if(0<c){a=a+" + "+c;var g=Blockly.JavaScript.ORDER_ADDITION}else 0>c&&(a=a+" - "+-c,g=Blockly.JavaScript.ORDER_SUBTRACTION);d&&(a=c?"-("+a+")":"-"+a,g=Blockly.JavaScript.ORDER_UNARY_NEGATION);g=Math.floor(g);e=Math.floor(e);g&&e>=g&&(a="("+a+")")}return a};Blockly.JavaScript.colour={};Blockly.JavaScript.colour_picker=function(a){return[Blockly.JavaScript.quote_(a.getFieldValue("COLOUR")),Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.colour_random=function(a){return[Blockly.JavaScript.provideFunction_("colourRandom",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.colour_rgb=function(a){var b=Blockly.JavaScript.valueToCode(a,"RED",Blockly.JavaScript.ORDER_COMMA)||0,c=Blockly.JavaScript.valueToCode(a,"GREEN",Blockly.JavaScript.ORDER_COMMA)||0;a=Blockly.JavaScript.valueToCode(a,"BLUE",Blockly.JavaScript.ORDER_COMMA)||0;return[Blockly.JavaScript.provideFunction_("colourRgb",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;",
"  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+b+", "+c+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.colour_blend=function(a){var b=Blockly.JavaScript.valueToCode(a,"COLOUR1",Blockly.JavaScript.ORDER_COMMA)||"'#000000'",c=Blockly.JavaScript.valueToCode(a,"COLOUR2",Blockly.JavaScript.ORDER_COMMA)||"'#000000'";a=Blockly.JavaScript.valueToCode(a,"RATIO",Blockly.JavaScript.ORDER_COMMA)||.5;return[Blockly.JavaScript.provideFunction_("colourBlend",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);",
"  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);",
"  return '#' + r + g + b;","}"])+"("+b+", "+c+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.lists={};Blockly.JavaScript.lists_create_empty=function(a){return["[]",Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.lists_create_with=function(a){for(var b=Array(a.itemCount_),c=0;c<a.itemCount_;c++)b[c]=Blockly.JavaScript.valueToCode(a,"ADD"+c,Blockly.JavaScript.ORDER_COMMA)||"null";return["["+b.join(", ")+"]",Blockly.JavaScript.ORDER_ATOMIC]};
Blockly.JavaScript.lists_repeat=function(a){var b=Blockly.JavaScript.provideFunction_("listsRepeat",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"]),c=Blockly.JavaScript.valueToCode(a,"ITEM",Blockly.JavaScript.ORDER_COMMA)||"null";a=Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_COMMA)||"0";return[b+"("+c+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.lists_length=function(a){return[(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",Blockly.JavaScript.ORDER_MEMBER]};Blockly.JavaScript.lists_isEmpty=function(a){return["!"+(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",Blockly.JavaScript.ORDER_LOGICAL_NOT]};
Blockly.JavaScript.lists_indexOf=function(a){var b="FIRST"==a.getFieldValue("END")?"indexOf":"lastIndexOf",c=Blockly.JavaScript.valueToCode(a,"FIND",Blockly.JavaScript.ORDER_NONE)||"''";b=(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+"."+b+"("+c+")";return a.workspace.options.oneBasedIndex?[b+" + 1",Blockly.JavaScript.ORDER_ADDITION]:[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.lists_getIndex=function(a){var b=a.getFieldValue("MODE")||"GET",c=a.getFieldValue("WHERE")||"FROM_START",d=Blockly.JavaScript.valueToCode(a,"VALUE","RANDOM"==c?Blockly.JavaScript.ORDER_COMMA:Blockly.JavaScript.ORDER_MEMBER)||"[]";switch(c){case "FIRST":if("GET"==b)return[d+"[0]",Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==b)return[d+".shift()",Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"==b)return d+".shift();\n";break;case "LAST":if("GET"==b)return[d+".slice(-1)[0]",Blockly.JavaScript.ORDER_MEMBER];
if("GET_REMOVE"==b)return[d+".pop()",Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"==b)return d+".pop();\n";break;case "FROM_START":a=Blockly.JavaScript.getAdjusted(a,"AT");if("GET"==b)return[d+"["+a+"]",Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==b)return[d+".splice("+a+", 1)[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==b)return d+".splice("+a+", 1);\n";break;case "FROM_END":a=Blockly.JavaScript.getAdjusted(a,"AT",1,!0);if("GET"==b)return[d+".slice("+a+")[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];
if("GET_REMOVE"==b)return[d+".splice("+a+", 1)[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==b)return d+".splice("+a+", 1);";break;case "RANDOM":d=Blockly.JavaScript.provideFunction_("listsGetRandomItem",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+d+", "+("GET"!=b)+")";if("GET"==b||"GET_REMOVE"==b)return[d,
Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==b)return d+";\n"}throw Error("Unhandled combination (lists_getIndex).");};
Blockly.JavaScript.lists_setIndex=function(a){function b(){if(c.match(/^\w+$/))return"";var a=Blockly.JavaScript.variableDB_.getDistinctName("tmpList",Blockly.VARIABLE_CATEGORY_NAME),b="var "+a+" = "+c+";\n";c=a;return b}var c=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]",d=a.getFieldValue("MODE")||"GET",e=a.getFieldValue("WHERE")||"FROM_START",f=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"null";switch(e){case "FIRST":if("SET"==d)return c+
"[0] = "+f+";\n";if("INSERT"==d)return c+".unshift("+f+");\n";break;case "LAST":if("SET"==d)return a=b(),a+(c+"["+c+".length - 1] = "+f+";\n");if("INSERT"==d)return c+".push("+f+");\n";break;case "FROM_START":e=Blockly.JavaScript.getAdjusted(a,"AT");if("SET"==d)return c+"["+e+"] = "+f+";\n";if("INSERT"==d)return c+".splice("+e+", 0, "+f+");\n";break;case "FROM_END":e=Blockly.JavaScript.getAdjusted(a,"AT",1,!1,Blockly.JavaScript.ORDER_SUBTRACTION);a=b();if("SET"==d)return a+(c+"["+c+".length - "+e+
"] = "+f+";\n");if("INSERT"==d)return a+(c+".splice("+c+".length - "+e+", 0, "+f+");\n");break;case "RANDOM":a=b();e=Blockly.JavaScript.variableDB_.getDistinctName("tmpX",Blockly.VARIABLE_CATEGORY_NAME);a+="var "+e+" = Math.floor(Math.random() * "+c+".length);\n";if("SET"==d)return a+(c+"["+e+"] = "+f+";\n");if("INSERT"==d)return a+(c+".splice("+e+", 0, "+f+");\n")}throw Error("Unhandled combination (lists_setIndex).");};
Blockly.JavaScript.lists.getIndex_=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};
Blockly.JavaScript.lists_getSublist=function(a){var b=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]",c=a.getFieldValue("WHERE1"),d=a.getFieldValue("WHERE2");if("FIRST"==c&&"LAST"==d)b+=".slice(0)";else if(b.match(/^\w+$/)||"FROM_END"!=c&&"FROM_START"==d){switch(c){case "FROM_START":var e=Blockly.JavaScript.getAdjusted(a,"AT1");break;case "FROM_END":e=Blockly.JavaScript.getAdjusted(a,"AT1",1,!1,Blockly.JavaScript.ORDER_SUBTRACTION);e=b+".length - "+e;break;case "FIRST":e=
"0";break;default:throw Error("Unhandled option (lists_getSublist).");}switch(d){case "FROM_START":a=Blockly.JavaScript.getAdjusted(a,"AT2",1);break;case "FROM_END":a=Blockly.JavaScript.getAdjusted(a,"AT2",0,!1,Blockly.JavaScript.ORDER_SUBTRACTION);a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (lists_getSublist).");}b=b+".slice("+e+", "+a+")"}else{e=Blockly.JavaScript.getAdjusted(a,"AT1");a=Blockly.JavaScript.getAdjusted(a,"AT2");var f=Blockly.JavaScript.lists.getIndex_,
g={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=Blockly.JavaScript.provideFunction_("subsequence"+g[c]+g[d],["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+") {","  var start = "+f("sequence",c,"at1")+";","  var end = "+f("sequence",d,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==c||"FROM_START"==c?", "+e:"")+("FROM_END"==d||"FROM_START"==
d?", "+a:"")+")"}return[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.lists_sort=function(a){var b=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]",c="1"===a.getFieldValue("DIRECTION")?1:-1;a=a.getFieldValue("TYPE");var d=Blockly.JavaScript.provideFunction_("listsGetSortCompare",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",
'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"]);return[b+".slice().sort("+d+'("'+a+'", '+c+"))",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.lists_split=function(a){var b=Blockly.JavaScript.valueToCode(a,"INPUT",Blockly.JavaScript.ORDER_MEMBER),c=Blockly.JavaScript.valueToCode(a,"DELIM",Blockly.JavaScript.ORDER_NONE)||"''";a=a.getFieldValue("MODE");if("SPLIT"==a)b||(b="''"),a="split";else if("JOIN"==a)b||(b="[]"),a="join";else throw Error("Unknown mode: "+a);return[b+"."+a+"("+c+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.lists_reverse=function(a){return[(Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.logic={};
Blockly.JavaScript.controls_if=function(a){var b=0,c="";Blockly.JavaScript.STATEMENT_PREFIX&&(c+=Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_PREFIX,a));do{var d=Blockly.JavaScript.valueToCode(a,"IF"+b,Blockly.JavaScript.ORDER_NONE)||"false";var e=Blockly.JavaScript.statementToCode(a,"DO"+b);Blockly.JavaScript.STATEMENT_SUFFIX&&(e=Blockly.JavaScript.prefixLines(Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_SUFFIX,a),Blockly.JavaScript.INDENT)+e);c+=(0<b?" else ":"")+"if ("+
d+") {\n"+e+"}";++b}while(a.getInput("IF"+b));if(a.getInput("ELSE")||Blockly.JavaScript.STATEMENT_SUFFIX)e=Blockly.JavaScript.statementToCode(a,"ELSE"),Blockly.JavaScript.STATEMENT_SUFFIX&&(e=Blockly.JavaScript.prefixLines(Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_SUFFIX,a),Blockly.JavaScript.INDENT)+e),c+=" else {\n"+e+"}";return c+"\n"};Blockly.JavaScript.controls_ifelse=Blockly.JavaScript.controls_if;
Blockly.JavaScript.logic_compare=function(a){var b={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[a.getFieldValue("OP")],c="=="==b||"!="==b?Blockly.JavaScript.ORDER_EQUALITY:Blockly.JavaScript.ORDER_RELATIONAL,d=Blockly.JavaScript.valueToCode(a,"A",c)||"0";a=Blockly.JavaScript.valueToCode(a,"B",c)||"0";return[d+" "+b+" "+a,c]};
Blockly.JavaScript.logic_operation=function(a){var b="AND"==a.getFieldValue("OP")?"&&":"||",c="&&"==b?Blockly.JavaScript.ORDER_LOGICAL_AND:Blockly.JavaScript.ORDER_LOGICAL_OR,d=Blockly.JavaScript.valueToCode(a,"A",c);a=Blockly.JavaScript.valueToCode(a,"B",c);if(d||a){var e="&&"==b?"true":"false";d||(d=e);a||(a=e)}else a=d="false";return[d+" "+b+" "+a,c]};
Blockly.JavaScript.logic_negate=function(a){var b=Blockly.JavaScript.ORDER_LOGICAL_NOT;return["!"+(Blockly.JavaScript.valueToCode(a,"BOOL",b)||"true"),b]};Blockly.JavaScript.logic_boolean=function(a){return["TRUE"==a.getFieldValue("BOOL")?"true":"false",Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.logic_null=function(a){return["null",Blockly.JavaScript.ORDER_ATOMIC]};
Blockly.JavaScript.logic_ternary=function(a){var b=Blockly.JavaScript.valueToCode(a,"IF",Blockly.JavaScript.ORDER_CONDITIONAL)||"false",c=Blockly.JavaScript.valueToCode(a,"THEN",Blockly.JavaScript.ORDER_CONDITIONAL)||"null";a=Blockly.JavaScript.valueToCode(a,"ELSE",Blockly.JavaScript.ORDER_CONDITIONAL)||"null";return[b+" ? "+c+" : "+a,Blockly.JavaScript.ORDER_CONDITIONAL]};Blockly.JavaScript.loops={};
Blockly.JavaScript.controls_repeat_ext=function(a){var b=a.getField("TIMES")?String(Number(a.getFieldValue("TIMES"))):Blockly.JavaScript.valueToCode(a,"TIMES",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",c=Blockly.JavaScript.statementToCode(a,"DO");c=Blockly.JavaScript.addLoopTrap(c,a);a="";var d=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.VARIABLE_CATEGORY_NAME),e=b;b.match(/^\w+$/)||Blockly.isNumber(b)||(e=Blockly.JavaScript.variableDB_.getDistinctName("repeat_end",Blockly.VARIABLE_CATEGORY_NAME),
a+="var "+e+" = "+b+";\n");return a+("for (var "+d+" = 0; "+d+" < "+e+"; "+d+"++) {\n"+c+"}\n")};Blockly.JavaScript.controls_repeat=Blockly.JavaScript.controls_repeat_ext;
Blockly.JavaScript.controls_whileUntil=function(a){var b="UNTIL"==a.getFieldValue("MODE"),c=Blockly.JavaScript.valueToCode(a,"BOOL",b?Blockly.JavaScript.ORDER_LOGICAL_NOT:Blockly.JavaScript.ORDER_NONE)||"false",d=Blockly.JavaScript.statementToCode(a,"DO");d=Blockly.JavaScript.addLoopTrap(d,a);b&&(c="!"+c);return"while ("+c+") {\n"+d+"}\n"};
Blockly.JavaScript.controls_for=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.VARIABLE_CATEGORY_NAME),c=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",d=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",e=Blockly.JavaScript.valueToCode(a,"BY",Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",f=Blockly.JavaScript.statementToCode(a,"DO");f=Blockly.JavaScript.addLoopTrap(f,a);if(Blockly.isNumber(c)&&Blockly.isNumber(d)&&
Blockly.isNumber(e)){var g=Number(c)<=Number(d);a="for ("+b+" = "+c+"; "+b+(g?" <= ":" >= ")+d+"; "+b;b=Math.abs(Number(e));a=(1==b?a+(g?"++":"--"):a+((g?" += ":" -= ")+b))+(") {\n"+f+"}\n")}else a="",g=c,c.match(/^\w+$/)||Blockly.isNumber(c)||(g=Blockly.JavaScript.variableDB_.getDistinctName(b+"_start",Blockly.VARIABLE_CATEGORY_NAME),a+="var "+g+" = "+c+";\n"),c=d,d.match(/^\w+$/)||Blockly.isNumber(d)||(c=Blockly.JavaScript.variableDB_.getDistinctName(b+"_end",Blockly.VARIABLE_CATEGORY_NAME),a+=
"var "+c+" = "+d+";\n"),d=Blockly.JavaScript.variableDB_.getDistinctName(b+"_inc",Blockly.VARIABLE_CATEGORY_NAME),a+="var "+d+" = ",a=Blockly.isNumber(e)?a+(Math.abs(e)+";\n"):a+("Math.abs("+e+");\n"),a=a+("if ("+g+" > "+c+") {\n")+(Blockly.JavaScript.INDENT+d+" = -"+d+";\n"),a+="}\n",a+="for ("+b+" = "+g+"; "+d+" >= 0 ? "+b+" <= "+c+" : "+b+" >= "+c+"; "+b+" += "+d+") {\n"+f+"}\n";return a};
Blockly.JavaScript.controls_forEach=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.VARIABLE_CATEGORY_NAME),c=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]",d=Blockly.JavaScript.statementToCode(a,"DO");d=Blockly.JavaScript.addLoopTrap(d,a);a="";var e=c;c.match(/^\w+$/)||(e=Blockly.JavaScript.variableDB_.getDistinctName(b+"_list",Blockly.VARIABLE_CATEGORY_NAME),a+="var "+e+" = "+c+";\n");c=Blockly.JavaScript.variableDB_.getDistinctName(b+
"_index",Blockly.VARIABLE_CATEGORY_NAME);d=Blockly.JavaScript.INDENT+b+" = "+e+"["+c+"];\n"+d;return a+("for (var "+c+" in "+e+") {\n"+d+"}\n")};
Blockly.JavaScript.controls_flow_statements=function(a){var b="";Blockly.JavaScript.STATEMENT_PREFIX&&(b+=Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_PREFIX,a));Blockly.JavaScript.STATEMENT_SUFFIX&&(b+=Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_SUFFIX,a));if(Blockly.JavaScript.STATEMENT_PREFIX){var c=Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(a);c&&!c.suppressPrefixSuffix&&(b+=Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_PREFIX,
c))}switch(a.getFieldValue("FLOW")){case "BREAK":return b+"break;\n";case "CONTINUE":return b+"continue;\n"}throw Error("Unknown flow statement.");};Blockly.JavaScript.math={};Blockly.JavaScript.math_number=function(a){a=Number(a.getFieldValue("NUM"));return[a,0<=a?Blockly.JavaScript.ORDER_ATOMIC:Blockly.JavaScript.ORDER_UNARY_NEGATION]};
Blockly.JavaScript.math_arithmetic=function(a){var b={ADD:[" + ",Blockly.JavaScript.ORDER_ADDITION],MINUS:[" - ",Blockly.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",Blockly.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",Blockly.JavaScript.ORDER_DIVISION],POWER:[null,Blockly.JavaScript.ORDER_COMMA]}[a.getFieldValue("OP")],c=b[0];b=b[1];var d=Blockly.JavaScript.valueToCode(a,"A",b)||"0";a=Blockly.JavaScript.valueToCode(a,"B",b)||"0";return c?[d+c+a,b]:["Math.pow("+d+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.math_single=function(a){var b=a.getFieldValue("OP");if("NEG"==b)return a=Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_UNARY_NEGATION)||"0","-"==a[0]&&(a=" "+a),["-"+a,Blockly.JavaScript.ORDER_UNARY_NEGATION];a="SIN"==b||"COS"==b||"TAN"==b?Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_DIVISION)||"0":Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_NONE)||"0";switch(b){case "ABS":var c="Math.abs("+a+")";break;case "ROOT":c="Math.sqrt("+
a+")";break;case "LN":c="Math.log("+a+")";break;case "EXP":c="Math.exp("+a+")";break;case "POW10":c="Math.pow(10,"+a+")";break;case "ROUND":c="Math.round("+a+")";break;case "ROUNDUP":c="Math.ceil("+a+")";break;case "ROUNDDOWN":c="Math.floor("+a+")";break;case "SIN":c="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":c="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":c="Math.tan("+a+" / 180 * Math.PI)"}if(c)return[c,Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(b){case "LOG10":c="Math.log("+a+
") / Math.log(10)";break;case "ASIN":c="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":c="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":c="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+b);}return[c,Blockly.JavaScript.ORDER_DIVISION]};
Blockly.JavaScript.math_constant=function(a){return{PI:["Math.PI",Blockly.JavaScript.ORDER_MEMBER],E:["Math.E",Blockly.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",Blockly.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",Blockly.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",Blockly.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",Blockly.JavaScript.ORDER_ATOMIC]}[a.getFieldValue("CONSTANT")]};
Blockly.JavaScript.math_number_property=function(a){var b=Blockly.JavaScript.valueToCode(a,"NUMBER_TO_CHECK",Blockly.JavaScript.ORDER_MODULUS)||"0",c=a.getFieldValue("PROPERTY");if("PRIME"==c)return[Blockly.JavaScript.provideFunction_("mathIsPrime",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.",
"  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+b+")",Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(c){case "EVEN":var d=b+" % 2 == 0";break;case "ODD":d=b+" % 2 == 1";break;case "WHOLE":d=b+" % 1 == 0";break;case "POSITIVE":d=
b+" > 0";break;case "NEGATIVE":d=b+" < 0";break;case "DIVISIBLE_BY":a=Blockly.JavaScript.valueToCode(a,"DIVISOR",Blockly.JavaScript.ORDER_MODULUS)||"0",d=b+" % "+a+" == 0"}return[d,Blockly.JavaScript.ORDER_EQUALITY]};
Blockly.JavaScript.math_change=function(a){var b=Blockly.JavaScript.valueToCode(a,"DELTA",Blockly.JavaScript.ORDER_ADDITION)||"0";a=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.VARIABLE_CATEGORY_NAME);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+b+";\n"};Blockly.JavaScript.math_round=Blockly.JavaScript.math_single;Blockly.JavaScript.math_trig=Blockly.JavaScript.math_single;
Blockly.JavaScript.math_on_list=function(a){var b=a.getFieldValue("OP");switch(b){case "SUM":a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_COMMA)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_COMMA)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":b=Blockly.JavaScript.provideFunction_("mathMean",
["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;case "MEDIAN":b=Blockly.JavaScript.provideFunction_("mathMedian",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;",
"  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;case "MODE":b=Blockly.JavaScript.provideFunction_("mathModes",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];",
"  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {",
"    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;case "STD_DEV":b=Blockly.JavaScript.provideFunction_("mathStandardDeviation",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;",
"  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;case "RANDOM":b=Blockly.JavaScript.provideFunction_("mathRandomList",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=Blockly.JavaScript.valueToCode(a,
"LIST",Blockly.JavaScript.ORDER_NONE)||"[]";a=b+"("+a+")";break;default:throw Error("Unknown operator: "+b);}return[a,Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.math_modulo=function(a){var b=Blockly.JavaScript.valueToCode(a,"DIVIDEND",Blockly.JavaScript.ORDER_MODULUS)||"0";a=Blockly.JavaScript.valueToCode(a,"DIVISOR",Blockly.JavaScript.ORDER_MODULUS)||"0";return[b+" % "+a,Blockly.JavaScript.ORDER_MODULUS]};
Blockly.JavaScript.math_constrain=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_COMMA)||"0",c=Blockly.JavaScript.valueToCode(a,"LOW",Blockly.JavaScript.ORDER_COMMA)||"0";a=Blockly.JavaScript.valueToCode(a,"HIGH",Blockly.JavaScript.ORDER_COMMA)||"Infinity";return["Math.min(Math.max("+b+", "+c+"), "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.math_random_int=function(a){var b=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_COMMA)||"0";a=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_COMMA)||"0";return[Blockly.JavaScript.provideFunction_("mathRandomInt",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);",
"}"])+"("+b+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.math_random_float=function(a){return["Math.random()",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.math_atan2=function(a){var b=Blockly.JavaScript.valueToCode(a,"X",Blockly.JavaScript.ORDER_COMMA)||"0";return["Math.atan2("+(Blockly.JavaScript.valueToCode(a,"Y",Blockly.JavaScript.ORDER_COMMA)||"0")+", "+b+") / Math.PI * 180",Blockly.JavaScript.ORDER_DIVISION]};Blockly.JavaScript.procedures={};
Blockly.JavaScript.procedures_defreturn=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.PROCEDURE_CATEGORY_NAME),c="";Blockly.JavaScript.STATEMENT_PREFIX&&(c+=Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_PREFIX,a));Blockly.JavaScript.STATEMENT_SUFFIX&&(c+=Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_SUFFIX,a));c&&(c=Blockly.JavaScript.prefixLines(c,Blockly.JavaScript.INDENT));var d="";Blockly.JavaScript.INFINITE_LOOP_TRAP&&(d=Blockly.JavaScript.prefixLines(Blockly.JavaScript.injectId(Blockly.JavaScript.INFINITE_LOOP_TRAP,
a),Blockly.JavaScript.INDENT));var e=Blockly.JavaScript.statementToCode(a,"STACK"),f=Blockly.JavaScript.valueToCode(a,"RETURN",Blockly.JavaScript.ORDER_NONE)||"",g="";e&&f&&(g=c);f&&(f=Blockly.JavaScript.INDENT+"return "+f+";\n");for(var k=[],h=0;h<a.arguments_.length;h++)k[h]=Blockly.JavaScript.variableDB_.getName(a.arguments_[h],Blockly.VARIABLE_CATEGORY_NAME);c="function "+b+"("+k.join(", ")+") {\n"+c+d+e+g+f+"}";c=Blockly.JavaScript.scrub_(a,c);Blockly.JavaScript.definitions_["%"+b]=c;return null};
Blockly.JavaScript.procedures_defnoreturn=Blockly.JavaScript.procedures_defreturn;Blockly.JavaScript.procedures_callreturn=function(a){for(var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.PROCEDURE_CATEGORY_NAME),c=[],d=0;d<a.arguments_.length;d++)c[d]=Blockly.JavaScript.valueToCode(a,"ARG"+d,Blockly.JavaScript.ORDER_COMMA)||"null";return[b+"("+c.join(", ")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.procedures_callnoreturn=function(a){return Blockly.JavaScript.procedures_callreturn(a)[0]+";\n"};
Blockly.JavaScript.procedures_ifreturn=function(a){var b="if ("+(Blockly.JavaScript.valueToCode(a,"CONDITION",Blockly.JavaScript.ORDER_NONE)||"false")+") {\n";Blockly.JavaScript.STATEMENT_SUFFIX&&(b+=Blockly.JavaScript.prefixLines(Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_SUFFIX,a),Blockly.JavaScript.INDENT));a.hasReturnValue_?(a=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_NONE)||"null",b+=Blockly.JavaScript.INDENT+"return "+a+";\n"):b+=Blockly.JavaScript.INDENT+
"return;\n";return b+"}\n"};Blockly.JavaScript.texts={};Blockly.JavaScript.text=function(a){return[Blockly.JavaScript.quote_(a.getFieldValue("TEXT")),Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.text_multiline=function(a){a=Blockly.JavaScript.multiline_quote_(a.getFieldValue("TEXT"));a.includes("\n")&&(a="("+a+")");return[a,Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.text.forceString_=function(a){return Blockly.JavaScript.text.forceString_.strRegExp.test(a)?a:"String("+a+")"};
Blockly.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/;
Blockly.JavaScript.text_join=function(a){switch(a.itemCount_){case 0:return["''",Blockly.JavaScript.ORDER_ATOMIC];case 1:return a=Blockly.JavaScript.valueToCode(a,"ADD0",Blockly.JavaScript.ORDER_NONE)||"''",a=Blockly.JavaScript.text.forceString_(a),[a,Blockly.JavaScript.ORDER_FUNCTION_CALL];case 2:var b=Blockly.JavaScript.valueToCode(a,"ADD0",Blockly.JavaScript.ORDER_NONE)||"''";a=Blockly.JavaScript.valueToCode(a,"ADD1",Blockly.JavaScript.ORDER_NONE)||"''";a=Blockly.JavaScript.text.forceString_(b)+
" + "+Blockly.JavaScript.text.forceString_(a);return[a,Blockly.JavaScript.ORDER_ADDITION];default:b=Array(a.itemCount_);for(var c=0;c<a.itemCount_;c++)b[c]=Blockly.JavaScript.valueToCode(a,"ADD"+c,Blockly.JavaScript.ORDER_COMMA)||"''";a="["+b.join(",")+"].join('')";return[a,Blockly.JavaScript.ORDER_FUNCTION_CALL]}};
Blockly.JavaScript.text_append=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.VARIABLE_CATEGORY_NAME);a=Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''";return b+" += "+Blockly.JavaScript.text.forceString_(a)+";\n"};Blockly.JavaScript.text_length=function(a){return[(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"''")+".length",Blockly.JavaScript.ORDER_MEMBER]};
Blockly.JavaScript.text_isEmpty=function(a){return["!"+(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"''")+".length",Blockly.JavaScript.ORDER_LOGICAL_NOT]};
Blockly.JavaScript.text_indexOf=function(a){var b="FIRST"==a.getFieldValue("END")?"indexOf":"lastIndexOf",c=Blockly.JavaScript.valueToCode(a,"FIND",Blockly.JavaScript.ORDER_NONE)||"''";b=(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"''")+"."+b+"("+c+")";return a.workspace.options.oneBasedIndex?[b+" + 1",Blockly.JavaScript.ORDER_ADDITION]:[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.text_charAt=function(a){var b=a.getFieldValue("WHERE")||"FROM_START",c=Blockly.JavaScript.valueToCode(a,"VALUE","RANDOM"==b?Blockly.JavaScript.ORDER_NONE:Blockly.JavaScript.ORDER_MEMBER)||"''";switch(b){case "FIRST":return[c+".charAt(0)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case "LAST":return[c+".slice(-1)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case "FROM_START":return a=Blockly.JavaScript.getAdjusted(a,"AT"),[c+".charAt("+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL];case "FROM_END":return a=
Blockly.JavaScript.getAdjusted(a,"AT",1,!0),[c+".slice("+a+").charAt(0)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case "RANDOM":return[Blockly.JavaScript.provideFunction_("textRandomLetter",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+c+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).");};
Blockly.JavaScript.text.getIndex_=function(a,b,c){return"FIRST"==b?"0":"FROM_END"==b?a+".length - 1 - "+c:"LAST"==b?a+".length - 1":c};
Blockly.JavaScript.text_getSubstring=function(a){var b=Blockly.JavaScript.valueToCode(a,"STRING",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"''",c=a.getFieldValue("WHERE1"),d=a.getFieldValue("WHERE2");if("FIRST"!=c||"LAST"!=d)if(b.match(/^'?\w+'?$/)||"FROM_END"!=c&&"LAST"!=c&&"FROM_END"!=d&&"LAST"!=d){switch(c){case "FROM_START":var e=Blockly.JavaScript.getAdjusted(a,"AT1");break;case "FROM_END":e=Blockly.JavaScript.getAdjusted(a,"AT1",1,!1,Blockly.JavaScript.ORDER_SUBTRACTION);e=b+".length - "+e;break;
case "FIRST":e="0";break;default:throw Error("Unhandled option (text_getSubstring).");}switch(d){case "FROM_START":a=Blockly.JavaScript.getAdjusted(a,"AT2",1);break;case "FROM_END":a=Blockly.JavaScript.getAdjusted(a,"AT2",0,!1,Blockly.JavaScript.ORDER_SUBTRACTION);a=b+".length - "+a;break;case "LAST":a=b+".length";break;default:throw Error("Unhandled option (text_getSubstring).");}b=b+".slice("+e+", "+a+")"}else{e=Blockly.JavaScript.getAdjusted(a,"AT1");a=Blockly.JavaScript.getAdjusted(a,"AT2");var f=
Blockly.JavaScript.text.getIndex_,g={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};b=Blockly.JavaScript.provideFunction_("subsequence"+g[c]+g[d],["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==c||"FROM_START"==c?", at1":"")+("FROM_END"==d||"FROM_START"==d?", at2":"")+") {","  var start = "+f("sequence",c,"at1")+";","  var end = "+f("sequence",d,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+b+("FROM_END"==c||"FROM_START"==
c?", "+e:"")+("FROM_END"==d||"FROM_START"==d?", "+a:"")+")"}return[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};
Blockly.JavaScript.text_changeCase=function(a){var b={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[a.getFieldValue("CASE")];a=Blockly.JavaScript.valueToCode(a,"TEXT",b?Blockly.JavaScript.ORDER_MEMBER:Blockly.JavaScript.ORDER_NONE)||"''";return[b?a+b:Blockly.JavaScript.provideFunction_("textToTitleCase",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});",
"}"])+"("+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.text_trim=function(a){var b={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[a.getFieldValue("MODE")];return[(Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''")+b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.text_print=function(a){return"window.alert("+(Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''")+");\n"};
Blockly.JavaScript.text_prompt_ext=function(a){var b="window.prompt("+(a.getField("TEXT")?Blockly.JavaScript.quote_(a.getFieldValue("TEXT")):Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''")+")";"NUMBER"==a.getFieldValue("TYPE")&&(b="Number("+b+")");return[b,Blockly.JavaScript.ORDER_FUNCTION_CALL]};Blockly.JavaScript.text_prompt=Blockly.JavaScript.text_prompt_ext;
Blockly.JavaScript.text_count=function(a){var b=Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''";a=Blockly.JavaScript.valueToCode(a,"SUB",Blockly.JavaScript.ORDER_NONE)||"''";return[Blockly.JavaScript.provideFunction_("textCount",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+b+", "+a+")",Blockly.JavaScript.ORDER_SUBTRACTION]};
Blockly.JavaScript.text_replace=function(a){var b=Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''",c=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_NONE)||"''";a=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_NONE)||"''";return[Blockly.JavaScript.provideFunction_("textReplace",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")',
'                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+b+", "+c+", "+a+")",Blockly.JavaScript.ORDER_MEMBER]};Blockly.JavaScript.text_reverse=function(a){return[(Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",Blockly.JavaScript.ORDER_MEMBER]};Blockly.JavaScript.variables={};Blockly.JavaScript.variables_get=function(a){return[Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.VARIABLE_CATEGORY_NAME),Blockly.JavaScript.ORDER_ATOMIC]};Blockly.JavaScript.variables_set=function(a){var b=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0";return Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.VARIABLE_CATEGORY_NAME)+" = "+b+";\n"};Blockly.JavaScript.variablesDynamic={};Blockly.JavaScript.variables_get_dynamic=Blockly.JavaScript.variables_get;Blockly.JavaScript.variables_set_dynamic=Blockly.JavaScript.variables_set;

return Blockly.JavaScript;
})); 


/***/ }),

/***/ "./node_modules/blockly/msg/en.js":
/*!****************************************!*\
  !*** ./node_modules/blockly/msg/en.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* eslint-disable */
;(function(root, factory) {
  if (true) { // AMD
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ../core */ "./node_modules/blockly/core-browser.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}
}(this, function(Blockly) {

      var Blockly = {};Blockly.Msg={};// This file was automatically generated.  Do not modify.

'use strict';

Blockly.Msg["ADD_COMMENT"] = "Add Comment";
Blockly.Msg["CANNOT_DELETE_VARIABLE_PROCEDURE"] = "Can't delete the variable '%1' because it's part of the definition of the function '%2'";
Blockly.Msg["CHANGE_VALUE_TITLE"] = "Change value:";
Blockly.Msg["CLEAN_UP"] = "Clean up Blocks";
Blockly.Msg["COLLAPSED_WARNINGS_WARNING"] = "Collapsed blocks contain warnings.";
Blockly.Msg["COLLAPSE_ALL"] = "Collapse Blocks";
Blockly.Msg["COLLAPSE_BLOCK"] = "Collapse Block";
Blockly.Msg["COLOUR_BLEND_COLOUR1"] = "colour 1";
Blockly.Msg["COLOUR_BLEND_COLOUR2"] = "colour 2";
Blockly.Msg["COLOUR_BLEND_HELPURL"] = "https://meyerweb.com/eric/tools/color-blend/#:::rgbp";
Blockly.Msg["COLOUR_BLEND_RATIO"] = "ratio";
Blockly.Msg["COLOUR_BLEND_TITLE"] = "blend";
Blockly.Msg["COLOUR_BLEND_TOOLTIP"] = "Blends two colours together with a given ratio (0.0 - 1.0).";
Blockly.Msg["COLOUR_PICKER_HELPURL"] = "https://en.wikipedia.org/wiki/Color";
Blockly.Msg["COLOUR_PICKER_TOOLTIP"] = "Choose a colour from the palette.";
Blockly.Msg["COLOUR_RANDOM_HELPURL"] = "http://randomcolour.com";
Blockly.Msg["COLOUR_RANDOM_TITLE"] = "random colour";
Blockly.Msg["COLOUR_RANDOM_TOOLTIP"] = "Choose a colour at random.";
Blockly.Msg["COLOUR_RGB_BLUE"] = "blue";
Blockly.Msg["COLOUR_RGB_GREEN"] = "green";
Blockly.Msg["COLOUR_RGB_HELPURL"] = "https://www.december.com/html/spec/colorpercompact.html";
Blockly.Msg["COLOUR_RGB_RED"] = "red";
Blockly.Msg["COLOUR_RGB_TITLE"] = "colour with";
Blockly.Msg["COLOUR_RGB_TOOLTIP"] = "Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.";
Blockly.Msg["CONTROLS_FLOW_STATEMENTS_HELPURL"] = "https://github.com/google/blockly/wiki/Loops#loop-termination-blocks";
Blockly.Msg["CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK"] = "break out of loop";
Blockly.Msg["CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE"] = "continue with next iteration of loop";
Blockly.Msg["CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK"] = "Break out of the containing loop.";
Blockly.Msg["CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE"] = "Skip the rest of this loop, and continue with the next iteration.";
Blockly.Msg["CONTROLS_FLOW_STATEMENTS_WARNING"] = "Warning: This block may only be used within a loop.";
Blockly.Msg["CONTROLS_FOREACH_HELPURL"] = "https://github.com/google/blockly/wiki/Loops#for-each";
Blockly.Msg["CONTROLS_FOREACH_TITLE"] = "for each item %1 in list %2";
Blockly.Msg["CONTROLS_FOREACH_TOOLTIP"] = "For each item in a list, set the variable '%1' to the item, and then do some statements.";
Blockly.Msg["CONTROLS_FOR_HELPURL"] = "https://github.com/google/blockly/wiki/Loops#count-with";
Blockly.Msg["CONTROLS_FOR_TITLE"] = "count with %1 from %2 to %3 by %4";
Blockly.Msg["CONTROLS_FOR_TOOLTIP"] = "Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.";
Blockly.Msg["CONTROLS_IF_ELSEIF_TOOLTIP"] = "Add a condition to the if block.";
Blockly.Msg["CONTROLS_IF_ELSE_TOOLTIP"] = "Add a final, catch-all condition to the if block.";
Blockly.Msg["CONTROLS_IF_HELPURL"] = "https://github.com/google/blockly/wiki/IfElse";
Blockly.Msg["CONTROLS_IF_IF_TOOLTIP"] = "Add, remove, or reorder sections to reconfigure this if block.";
Blockly.Msg["CONTROLS_IF_MSG_ELSE"] = "else";
Blockly.Msg["CONTROLS_IF_MSG_ELSEIF"] = "else if";
Blockly.Msg["CONTROLS_IF_MSG_IF"] = "if";
Blockly.Msg["CONTROLS_IF_TOOLTIP_1"] = "If a value is true, then do some statements.";
Blockly.Msg["CONTROLS_IF_TOOLTIP_2"] = "If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";
Blockly.Msg["CONTROLS_IF_TOOLTIP_3"] = "If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";
Blockly.Msg["CONTROLS_IF_TOOLTIP_4"] = "If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";
Blockly.Msg["CONTROLS_REPEAT_HELPURL"] = "https://en.wikipedia.org/wiki/For_loop";
Blockly.Msg["CONTROLS_REPEAT_INPUT_DO"] = "do";
Blockly.Msg["CONTROLS_REPEAT_TITLE"] = "repeat %1 times";
Blockly.Msg["CONTROLS_REPEAT_TOOLTIP"] = "Do some statements several times.";
Blockly.Msg["CONTROLS_WHILEUNTIL_HELPURL"] = "https://github.com/google/blockly/wiki/Loops#repeat";
Blockly.Msg["CONTROLS_WHILEUNTIL_OPERATOR_UNTIL"] = "repeat until";
Blockly.Msg["CONTROLS_WHILEUNTIL_OPERATOR_WHILE"] = "repeat while";
Blockly.Msg["CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL"] = "While a value is false, then do some statements.";
Blockly.Msg["CONTROLS_WHILEUNTIL_TOOLTIP_WHILE"] = "While a value is true, then do some statements.";
Blockly.Msg["DELETE_ALL_BLOCKS"] = "Delete all %1 blocks?";
Blockly.Msg["DELETE_BLOCK"] = "Delete Block";
Blockly.Msg["DELETE_VARIABLE"] = "Delete the '%1' variable";
Blockly.Msg["DELETE_VARIABLE_CONFIRMATION"] = "Delete %1 uses of the '%2' variable?";
Blockly.Msg["DELETE_X_BLOCKS"] = "Delete %1 Blocks";
Blockly.Msg["DISABLE_BLOCK"] = "Disable Block";
Blockly.Msg["DUPLICATE_BLOCK"] = "Duplicate";
Blockly.Msg["DUPLICATE_COMMENT"] = "Duplicate Comment";
Blockly.Msg["ENABLE_BLOCK"] = "Enable Block";
Blockly.Msg["EXPAND_ALL"] = "Expand Blocks";
Blockly.Msg["EXPAND_BLOCK"] = "Expand Block";
Blockly.Msg["EXTERNAL_INPUTS"] = "External Inputs";
Blockly.Msg["HELP"] = "Help";
Blockly.Msg["INLINE_INPUTS"] = "Inline Inputs";
Blockly.Msg["IOS_CANCEL"] = "Cancel";
Blockly.Msg["IOS_ERROR"] = "Error";
Blockly.Msg["IOS_OK"] = "OK";
Blockly.Msg["IOS_PROCEDURES_ADD_INPUT"] = "+ Add Input";
Blockly.Msg["IOS_PROCEDURES_ALLOW_STATEMENTS"] = "Allow statements";
Blockly.Msg["IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR"] = "This function has duplicate inputs.";
Blockly.Msg["IOS_PROCEDURES_INPUTS"] = "INPUTS";
Blockly.Msg["IOS_VARIABLES_ADD_BUTTON"] = "Add";
Blockly.Msg["IOS_VARIABLES_ADD_VARIABLE"] = "+ Add Variable";
Blockly.Msg["IOS_VARIABLES_DELETE_BUTTON"] = "Delete";
Blockly.Msg["IOS_VARIABLES_EMPTY_NAME_ERROR"] = "You can't use an empty variable name.";
Blockly.Msg["IOS_VARIABLES_RENAME_BUTTON"] = "Rename";
Blockly.Msg["IOS_VARIABLES_VARIABLE_NAME"] = "Variable name";
Blockly.Msg["LISTS_CREATE_EMPTY_HELPURL"] = "https://github.com/google/blockly/wiki/Lists#create-empty-list";
Blockly.Msg["LISTS_CREATE_EMPTY_TITLE"] = "create empty list";
Blockly.Msg["LISTS_CREATE_EMPTY_TOOLTIP"] = "Returns a list, of length 0, containing no data records";
Blockly.Msg["LISTS_CREATE_WITH_CONTAINER_TITLE_ADD"] = "list";
Blockly.Msg["LISTS_CREATE_WITH_CONTAINER_TOOLTIP"] = "Add, remove, or reorder sections to reconfigure this list block.";
Blockly.Msg["LISTS_CREATE_WITH_HELPURL"] = "https://github.com/google/blockly/wiki/Lists#create-list-with";
Blockly.Msg["LISTS_CREATE_WITH_INPUT_WITH"] = "create list with";
Blockly.Msg["LISTS_CREATE_WITH_ITEM_TOOLTIP"] = "Add an item to the list.";
Blockly.Msg["LISTS_CREATE_WITH_TOOLTIP"] = "Create a list with any number of items.";
Blockly.Msg["LISTS_GET_INDEX_FIRST"] = "first";
Blockly.Msg["LISTS_GET_INDEX_FROM_END"] = "# from end";
Blockly.Msg["LISTS_GET_INDEX_FROM_START"] = "#";
Blockly.Msg["LISTS_GET_INDEX_GET"] = "get";
Blockly.Msg["LISTS_GET_INDEX_GET_REMOVE"] = "get and remove";
Blockly.Msg["LISTS_GET_INDEX_LAST"] = "last";
Blockly.Msg["LISTS_GET_INDEX_RANDOM"] = "random";
Blockly.Msg["LISTS_GET_INDEX_REMOVE"] = "remove";
Blockly.Msg["LISTS_GET_INDEX_TAIL"] = "";
Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_GET_FIRST"] = "Returns the first item in a list.";
Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_GET_FROM"] = "Returns the item at the specified position in a list.";
Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_GET_LAST"] = "Returns the last item in a list.";
Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_GET_RANDOM"] = "Returns a random item in a list.";
Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST"] = "Removes and returns the first item in a list.";
Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM"] = "Removes and returns the item at the specified position in a list.";
Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST"] = "Removes and returns the last item in a list.";
Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM"] = "Removes and returns a random item in a list.";
Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST"] = "Removes the first item in a list.";
Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM"] = "Removes the item at the specified position in a list.";
Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST"] = "Removes the last item in a list.";
Blockly.Msg["LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM"] = "Removes a random item in a list.";
Blockly.Msg["LISTS_GET_SUBLIST_END_FROM_END"] = "to # from end";
Blockly.Msg["LISTS_GET_SUBLIST_END_FROM_START"] = "to #";
Blockly.Msg["LISTS_GET_SUBLIST_END_LAST"] = "to last";
Blockly.Msg["LISTS_GET_SUBLIST_HELPURL"] = "https://github.com/google/blockly/wiki/Lists#getting-a-sublist";
Blockly.Msg["LISTS_GET_SUBLIST_START_FIRST"] = "get sub-list from first";
Blockly.Msg["LISTS_GET_SUBLIST_START_FROM_END"] = "get sub-list from # from end";
Blockly.Msg["LISTS_GET_SUBLIST_START_FROM_START"] = "get sub-list from #";
Blockly.Msg["LISTS_GET_SUBLIST_TAIL"] = "";
Blockly.Msg["LISTS_GET_SUBLIST_TOOLTIP"] = "Creates a copy of the specified portion of a list.";
Blockly.Msg["LISTS_INDEX_FROM_END_TOOLTIP"] = "%1 is the last item.";
Blockly.Msg["LISTS_INDEX_FROM_START_TOOLTIP"] = "%1 is the first item.";
Blockly.Msg["LISTS_INDEX_OF_FIRST"] = "find first occurrence of item";
Blockly.Msg["LISTS_INDEX_OF_HELPURL"] = "https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list";
Blockly.Msg["LISTS_INDEX_OF_LAST"] = "find last occurrence of item";
Blockly.Msg["LISTS_INDEX_OF_TOOLTIP"] = "Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.";
Blockly.Msg["LISTS_INLIST"] = "in list";
Blockly.Msg["LISTS_ISEMPTY_HELPURL"] = "https://github.com/google/blockly/wiki/Lists#is-empty";
Blockly.Msg["LISTS_ISEMPTY_TITLE"] = "%1 is empty";
Blockly.Msg["LISTS_ISEMPTY_TOOLTIP"] = "Returns true if the list is empty.";
Blockly.Msg["LISTS_LENGTH_HELPURL"] = "https://github.com/google/blockly/wiki/Lists#length-of";
Blockly.Msg["LISTS_LENGTH_TITLE"] = "length of %1";
Blockly.Msg["LISTS_LENGTH_TOOLTIP"] = "Returns the length of a list.";
Blockly.Msg["LISTS_REPEAT_HELPURL"] = "https://github.com/google/blockly/wiki/Lists#create-list-with";
Blockly.Msg["LISTS_REPEAT_TITLE"] = "create list with item %1 repeated %2 times";
Blockly.Msg["LISTS_REPEAT_TOOLTIP"] = "Creates a list consisting of the given value repeated the specified number of times.";
Blockly.Msg["LISTS_REVERSE_HELPURL"] = "https://github.com/google/blockly/wiki/Lists#reversing-a-list";
Blockly.Msg["LISTS_REVERSE_MESSAGE0"] = "reverse %1";
Blockly.Msg["LISTS_REVERSE_TOOLTIP"] = "Reverse a copy of a list.";
Blockly.Msg["LISTS_SET_INDEX_HELPURL"] = "https://github.com/google/blockly/wiki/Lists#in-list--set";
Blockly.Msg["LISTS_SET_INDEX_INPUT_TO"] = "as";
Blockly.Msg["LISTS_SET_INDEX_INSERT"] = "insert at";
Blockly.Msg["LISTS_SET_INDEX_SET"] = "set";
Blockly.Msg["LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST"] = "Inserts the item at the start of a list.";
Blockly.Msg["LISTS_SET_INDEX_TOOLTIP_INSERT_FROM"] = "Inserts the item at the specified position in a list.";
Blockly.Msg["LISTS_SET_INDEX_TOOLTIP_INSERT_LAST"] = "Append the item to the end of a list.";
Blockly.Msg["LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM"] = "Inserts the item randomly in a list.";
Blockly.Msg["LISTS_SET_INDEX_TOOLTIP_SET_FIRST"] = "Sets the first item in a list.";
Blockly.Msg["LISTS_SET_INDEX_TOOLTIP_SET_FROM"] = "Sets the item at the specified position in a list.";
Blockly.Msg["LISTS_SET_INDEX_TOOLTIP_SET_LAST"] = "Sets the last item in a list.";
Blockly.Msg["LISTS_SET_INDEX_TOOLTIP_SET_RANDOM"] = "Sets a random item in a list.";
Blockly.Msg["LISTS_SORT_HELPURL"] = "https://github.com/google/blockly/wiki/Lists#sorting-a-list";
Blockly.Msg["LISTS_SORT_ORDER_ASCENDING"] = "ascending";
Blockly.Msg["LISTS_SORT_ORDER_DESCENDING"] = "descending";
Blockly.Msg["LISTS_SORT_TITLE"] = "sort %1 %2 %3";
Blockly.Msg["LISTS_SORT_TOOLTIP"] = "Sort a copy of a list.";
Blockly.Msg["LISTS_SORT_TYPE_IGNORECASE"] = "alphabetic, ignore case";
Blockly.Msg["LISTS_SORT_TYPE_NUMERIC"] = "numeric";
Blockly.Msg["LISTS_SORT_TYPE_TEXT"] = "alphabetic";
Blockly.Msg["LISTS_SPLIT_HELPURL"] = "https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists";
Blockly.Msg["LISTS_SPLIT_LIST_FROM_TEXT"] = "make list from text";
Blockly.Msg["LISTS_SPLIT_TEXT_FROM_LIST"] = "make text from list";
Blockly.Msg["LISTS_SPLIT_TOOLTIP_JOIN"] = "Join a list of texts into one text, separated by a delimiter.";
Blockly.Msg["LISTS_SPLIT_TOOLTIP_SPLIT"] = "Split text into a list of texts, breaking at each delimiter.";
Blockly.Msg["LISTS_SPLIT_WITH_DELIMITER"] = "with delimiter";
Blockly.Msg["LOGIC_BOOLEAN_FALSE"] = "false";
Blockly.Msg["LOGIC_BOOLEAN_HELPURL"] = "https://github.com/google/blockly/wiki/Logic#values";
Blockly.Msg["LOGIC_BOOLEAN_TOOLTIP"] = "Returns either true or false.";
Blockly.Msg["LOGIC_BOOLEAN_TRUE"] = "true";
Blockly.Msg["LOGIC_COMPARE_HELPURL"] = "https://en.wikipedia.org/wiki/Inequality_(mathematics)";
Blockly.Msg["LOGIC_COMPARE_TOOLTIP_EQ"] = "Return true if both inputs equal each other.";
Blockly.Msg["LOGIC_COMPARE_TOOLTIP_GT"] = "Return true if the first input is greater than the second input.";
Blockly.Msg["LOGIC_COMPARE_TOOLTIP_GTE"] = "Return true if the first input is greater than or equal to the second input.";
Blockly.Msg["LOGIC_COMPARE_TOOLTIP_LT"] = "Return true if the first input is smaller than the second input.";
Blockly.Msg["LOGIC_COMPARE_TOOLTIP_LTE"] = "Return true if the first input is smaller than or equal to the second input.";
Blockly.Msg["LOGIC_COMPARE_TOOLTIP_NEQ"] = "Return true if both inputs are not equal to each other.";
Blockly.Msg["LOGIC_NEGATE_HELPURL"] = "https://github.com/google/blockly/wiki/Logic#not";
Blockly.Msg["LOGIC_NEGATE_TITLE"] = "not %1";
Blockly.Msg["LOGIC_NEGATE_TOOLTIP"] = "Returns true if the input is false. Returns false if the input is true.";
Blockly.Msg["LOGIC_NULL"] = "null";
Blockly.Msg["LOGIC_NULL_HELPURL"] = "https://en.wikipedia.org/wiki/Nullable_type";
Blockly.Msg["LOGIC_NULL_TOOLTIP"] = "Returns null.";
Blockly.Msg["LOGIC_OPERATION_AND"] = "and";
Blockly.Msg["LOGIC_OPERATION_HELPURL"] = "https://github.com/google/blockly/wiki/Logic#logical-operations";
Blockly.Msg["LOGIC_OPERATION_OR"] = "or";
Blockly.Msg["LOGIC_OPERATION_TOOLTIP_AND"] = "Return true if both inputs are true.";
Blockly.Msg["LOGIC_OPERATION_TOOLTIP_OR"] = "Return true if at least one of the inputs is true.";
Blockly.Msg["LOGIC_TERNARY_CONDITION"] = "test";
Blockly.Msg["LOGIC_TERNARY_HELPURL"] = "https://en.wikipedia.org/wiki/%3F:";
Blockly.Msg["LOGIC_TERNARY_IF_FALSE"] = "if false";
Blockly.Msg["LOGIC_TERNARY_IF_TRUE"] = "if true";
Blockly.Msg["LOGIC_TERNARY_TOOLTIP"] = "Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";
Blockly.Msg["MATH_ADDITION_SYMBOL"] = "+";
Blockly.Msg["MATH_ARITHMETIC_HELPURL"] = "https://en.wikipedia.org/wiki/Arithmetic";
Blockly.Msg["MATH_ARITHMETIC_TOOLTIP_ADD"] = "Return the sum of the two numbers.";
Blockly.Msg["MATH_ARITHMETIC_TOOLTIP_DIVIDE"] = "Return the quotient of the two numbers.";
Blockly.Msg["MATH_ARITHMETIC_TOOLTIP_MINUS"] = "Return the difference of the two numbers.";
Blockly.Msg["MATH_ARITHMETIC_TOOLTIP_MULTIPLY"] = "Return the product of the two numbers.";
Blockly.Msg["MATH_ARITHMETIC_TOOLTIP_POWER"] = "Return the first number raised to the power of the second number.";
Blockly.Msg["MATH_ATAN2_HELPURL"] = "https://en.wikipedia.org/wiki/Atan2";
Blockly.Msg["MATH_ATAN2_TITLE"] = "atan2 of X:%1 Y:%2";
Blockly.Msg["MATH_ATAN2_TOOLTIP"] = "Return the arctangent of point (X, Y) in degrees from -180 to 180.";
Blockly.Msg["MATH_CHANGE_HELPURL"] = "https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";
Blockly.Msg["MATH_CHANGE_TITLE"] = "change %1 by %2";
Blockly.Msg["MATH_CHANGE_TOOLTIP"] = "Add a number to variable '%1'.";
Blockly.Msg["MATH_CONSTANT_HELPURL"] = "https://en.wikipedia.org/wiki/Mathematical_constant";
Blockly.Msg["MATH_CONSTANT_TOOLTIP"] = "Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).";
Blockly.Msg["MATH_CONSTRAIN_HELPURL"] = "https://en.wikipedia.org/wiki/Clamping_(graphics)";
Blockly.Msg["MATH_CONSTRAIN_TITLE"] = "constrain %1 low %2 high %3";
Blockly.Msg["MATH_CONSTRAIN_TOOLTIP"] = "Constrain a number to be between the specified limits (inclusive).";
Blockly.Msg["MATH_DIVISION_SYMBOL"] = "";
Blockly.Msg["MATH_IS_DIVISIBLE_BY"] = "is divisible by";
Blockly.Msg["MATH_IS_EVEN"] = "is even";
Blockly.Msg["MATH_IS_NEGATIVE"] = "is negative";
Blockly.Msg["MATH_IS_ODD"] = "is odd";
Blockly.Msg["MATH_IS_POSITIVE"] = "is positive";
Blockly.Msg["MATH_IS_PRIME"] = "is prime";
Blockly.Msg["MATH_IS_TOOLTIP"] = "Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";
Blockly.Msg["MATH_IS_WHOLE"] = "is whole";
Blockly.Msg["MATH_MODULO_HELPURL"] = "https://en.wikipedia.org/wiki/Modulo_operation";
Blockly.Msg["MATH_MODULO_TITLE"] = "remainder of %1  %2";
Blockly.Msg["MATH_MODULO_TOOLTIP"] = "Return the remainder from dividing the two numbers.";
Blockly.Msg["MATH_MULTIPLICATION_SYMBOL"] = "";
Blockly.Msg["MATH_NUMBER_HELPURL"] = "https://en.wikipedia.org/wiki/Number";
Blockly.Msg["MATH_NUMBER_TOOLTIP"] = "A number.";
Blockly.Msg["MATH_ONLIST_HELPURL"] = "";
Blockly.Msg["MATH_ONLIST_OPERATOR_AVERAGE"] = "average of list";
Blockly.Msg["MATH_ONLIST_OPERATOR_MAX"] = "max of list";
Blockly.Msg["MATH_ONLIST_OPERATOR_MEDIAN"] = "median of list";
Blockly.Msg["MATH_ONLIST_OPERATOR_MIN"] = "min of list";
Blockly.Msg["MATH_ONLIST_OPERATOR_MODE"] = "modes of list";
Blockly.Msg["MATH_ONLIST_OPERATOR_RANDOM"] = "random item of list";
Blockly.Msg["MATH_ONLIST_OPERATOR_STD_DEV"] = "standard deviation of list";
Blockly.Msg["MATH_ONLIST_OPERATOR_SUM"] = "sum of list";
Blockly.Msg["MATH_ONLIST_TOOLTIP_AVERAGE"] = "Return the average (arithmetic mean) of the numeric values in the list.";
Blockly.Msg["MATH_ONLIST_TOOLTIP_MAX"] = "Return the largest number in the list.";
Blockly.Msg["MATH_ONLIST_TOOLTIP_MEDIAN"] = "Return the median number in the list.";
Blockly.Msg["MATH_ONLIST_TOOLTIP_MIN"] = "Return the smallest number in the list.";
Blockly.Msg["MATH_ONLIST_TOOLTIP_MODE"] = "Return a list of the most common item(s) in the list.";
Blockly.Msg["MATH_ONLIST_TOOLTIP_RANDOM"] = "Return a random element from the list.";
Blockly.Msg["MATH_ONLIST_TOOLTIP_STD_DEV"] = "Return the standard deviation of the list.";
Blockly.Msg["MATH_ONLIST_TOOLTIP_SUM"] = "Return the sum of all the numbers in the list.";
Blockly.Msg["MATH_POWER_SYMBOL"] = "^";
Blockly.Msg["MATH_RANDOM_FLOAT_HELPURL"] = "https://en.wikipedia.org/wiki/Random_number_generation";
Blockly.Msg["MATH_RANDOM_FLOAT_TITLE_RANDOM"] = "random fraction";
Blockly.Msg["MATH_RANDOM_FLOAT_TOOLTIP"] = "Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";
Blockly.Msg["MATH_RANDOM_INT_HELPURL"] = "https://en.wikipedia.org/wiki/Random_number_generation";
Blockly.Msg["MATH_RANDOM_INT_TITLE"] = "random integer from %1 to %2";
Blockly.Msg["MATH_RANDOM_INT_TOOLTIP"] = "Return a random integer between the two specified limits, inclusive.";
Blockly.Msg["MATH_ROUND_HELPURL"] = "https://en.wikipedia.org/wiki/Rounding";
Blockly.Msg["MATH_ROUND_OPERATOR_ROUND"] = "round";
Blockly.Msg["MATH_ROUND_OPERATOR_ROUNDDOWN"] = "round down";
Blockly.Msg["MATH_ROUND_OPERATOR_ROUNDUP"] = "round up";
Blockly.Msg["MATH_ROUND_TOOLTIP"] = "Round a number up or down.";
Blockly.Msg["MATH_SINGLE_HELPURL"] = "https://en.wikipedia.org/wiki/Square_root";
Blockly.Msg["MATH_SINGLE_OP_ABSOLUTE"] = "absolute";
Blockly.Msg["MATH_SINGLE_OP_ROOT"] = "square root";
Blockly.Msg["MATH_SINGLE_TOOLTIP_ABS"] = "Return the absolute value of a number.";
Blockly.Msg["MATH_SINGLE_TOOLTIP_EXP"] = "Return e to the power of a number.";
Blockly.Msg["MATH_SINGLE_TOOLTIP_LN"] = "Return the natural logarithm of a number.";
Blockly.Msg["MATH_SINGLE_TOOLTIP_LOG10"] = "Return the base 10 logarithm of a number.";
Blockly.Msg["MATH_SINGLE_TOOLTIP_NEG"] = "Return the negation of a number.";
Blockly.Msg["MATH_SINGLE_TOOLTIP_POW10"] = "Return 10 to the power of a number.";
Blockly.Msg["MATH_SINGLE_TOOLTIP_ROOT"] = "Return the square root of a number.";
Blockly.Msg["MATH_SUBTRACTION_SYMBOL"] = "-";
Blockly.Msg["MATH_TRIG_ACOS"] = "acos";
Blockly.Msg["MATH_TRIG_ASIN"] = "asin";
Blockly.Msg["MATH_TRIG_ATAN"] = "atan";
Blockly.Msg["MATH_TRIG_COS"] = "cos";
Blockly.Msg["MATH_TRIG_HELPURL"] = "https://en.wikipedia.org/wiki/Trigonometric_functions";
Blockly.Msg["MATH_TRIG_SIN"] = "sin";
Blockly.Msg["MATH_TRIG_TAN"] = "tan";
Blockly.Msg["MATH_TRIG_TOOLTIP_ACOS"] = "Return the arccosine of a number.";
Blockly.Msg["MATH_TRIG_TOOLTIP_ASIN"] = "Return the arcsine of a number.";
Blockly.Msg["MATH_TRIG_TOOLTIP_ATAN"] = "Return the arctangent of a number.";
Blockly.Msg["MATH_TRIG_TOOLTIP_COS"] = "Return the cosine of a degree (not radian).";
Blockly.Msg["MATH_TRIG_TOOLTIP_SIN"] = "Return the sine of a degree (not radian).";
Blockly.Msg["MATH_TRIG_TOOLTIP_TAN"] = "Return the tangent of a degree (not radian).";
Blockly.Msg["NEW_COLOUR_VARIABLE"] = "Create colour variable...";
Blockly.Msg["NEW_NUMBER_VARIABLE"] = "Create number variable...";
Blockly.Msg["NEW_STRING_VARIABLE"] = "Create string variable...";
Blockly.Msg["NEW_VARIABLE"] = "Create variable...";
Blockly.Msg["NEW_VARIABLE_TITLE"] = "New variable name:";
Blockly.Msg["NEW_VARIABLE_TYPE_TITLE"] = "New variable type:";
Blockly.Msg["ORDINAL_NUMBER_SUFFIX"] = "";
Blockly.Msg["PROCEDURES_ALLOW_STATEMENTS"] = "allow statements";
Blockly.Msg["PROCEDURES_BEFORE_PARAMS"] = "with:";
Blockly.Msg["PROCEDURES_CALLNORETURN_HELPURL"] = "https://en.wikipedia.org/wiki/Subroutine";
Blockly.Msg["PROCEDURES_CALLNORETURN_TOOLTIP"] = "Run the user-defined function '%1'.";
Blockly.Msg["PROCEDURES_CALLRETURN_HELPURL"] = "https://en.wikipedia.org/wiki/Subroutine";
Blockly.Msg["PROCEDURES_CALLRETURN_TOOLTIP"] = "Run the user-defined function '%1' and use its output.";
Blockly.Msg["PROCEDURES_CALL_BEFORE_PARAMS"] = "with:";
Blockly.Msg["PROCEDURES_CREATE_DO"] = "Create '%1'";
Blockly.Msg["PROCEDURES_DEFNORETURN_COMMENT"] = "Describe this function...";
Blockly.Msg["PROCEDURES_DEFNORETURN_DO"] = "";
Blockly.Msg["PROCEDURES_DEFNORETURN_HELPURL"] = "https://en.wikipedia.org/wiki/Subroutine";
Blockly.Msg["PROCEDURES_DEFNORETURN_PROCEDURE"] = "do something";
Blockly.Msg["PROCEDURES_DEFNORETURN_TITLE"] = "to";
Blockly.Msg["PROCEDURES_DEFNORETURN_TOOLTIP"] = "Creates a function with no output.";
Blockly.Msg["PROCEDURES_DEFRETURN_HELPURL"] = "https://en.wikipedia.org/wiki/Subroutine";
Blockly.Msg["PROCEDURES_DEFRETURN_RETURN"] = "return";
Blockly.Msg["PROCEDURES_DEFRETURN_TOOLTIP"] = "Creates a function with an output.";
Blockly.Msg["PROCEDURES_DEF_DUPLICATE_WARNING"] = "Warning: This function has duplicate parameters.";
Blockly.Msg["PROCEDURES_HIGHLIGHT_DEF"] = "Highlight function definition";
Blockly.Msg["PROCEDURES_IFRETURN_HELPURL"] = "http://c2.com/cgi/wiki?GuardClause";
Blockly.Msg["PROCEDURES_IFRETURN_TOOLTIP"] = "If a value is true, then return a second value.";
Blockly.Msg["PROCEDURES_IFRETURN_WARNING"] = "Warning: This block may be used only within a function definition.";
Blockly.Msg["PROCEDURES_MUTATORARG_TITLE"] = "input name:";
Blockly.Msg["PROCEDURES_MUTATORARG_TOOLTIP"] = "Add an input to the function.";
Blockly.Msg["PROCEDURES_MUTATORCONTAINER_TITLE"] = "inputs";
Blockly.Msg["PROCEDURES_MUTATORCONTAINER_TOOLTIP"] = "Add, remove, or reorder inputs to this function.";
Blockly.Msg["REDO"] = "Redo";
Blockly.Msg["REMOVE_COMMENT"] = "Remove Comment";
Blockly.Msg["RENAME_VARIABLE"] = "Rename variable...";
Blockly.Msg["RENAME_VARIABLE_TITLE"] = "Rename all '%1' variables to:";
Blockly.Msg["TEXT_APPEND_HELPURL"] = "https://github.com/google/blockly/wiki/Text#text-modification";
Blockly.Msg["TEXT_APPEND_TITLE"] = "to %1 append text %2";
Blockly.Msg["TEXT_APPEND_TOOLTIP"] = "Append some text to variable '%1'.";
Blockly.Msg["TEXT_CHANGECASE_HELPURL"] = "https://github.com/google/blockly/wiki/Text#adjusting-text-case";
Blockly.Msg["TEXT_CHANGECASE_OPERATOR_LOWERCASE"] = "to lower case";
Blockly.Msg["TEXT_CHANGECASE_OPERATOR_TITLECASE"] = "to Title Case";
Blockly.Msg["TEXT_CHANGECASE_OPERATOR_UPPERCASE"] = "to UPPER CASE";
Blockly.Msg["TEXT_CHANGECASE_TOOLTIP"] = "Return a copy of the text in a different case.";
Blockly.Msg["TEXT_CHARAT_FIRST"] = "get first letter";
Blockly.Msg["TEXT_CHARAT_FROM_END"] = "get letter # from end";
Blockly.Msg["TEXT_CHARAT_FROM_START"] = "get letter #";
Blockly.Msg["TEXT_CHARAT_HELPURL"] = "https://github.com/google/blockly/wiki/Text#extracting-text";
Blockly.Msg["TEXT_CHARAT_LAST"] = "get last letter";
Blockly.Msg["TEXT_CHARAT_RANDOM"] = "get random letter";
Blockly.Msg["TEXT_CHARAT_TAIL"] = "";
Blockly.Msg["TEXT_CHARAT_TITLE"] = "in text %1 %2";
Blockly.Msg["TEXT_CHARAT_TOOLTIP"] = "Returns the letter at the specified position.";
Blockly.Msg["TEXT_COUNT_HELPURL"] = "https://github.com/google/blockly/wiki/Text#counting-substrings";
Blockly.Msg["TEXT_COUNT_MESSAGE0"] = "count %1 in %2";
Blockly.Msg["TEXT_COUNT_TOOLTIP"] = "Count how many times some text occurs within some other text.";
Blockly.Msg["TEXT_CREATE_JOIN_ITEM_TOOLTIP"] = "Add an item to the text.";
Blockly.Msg["TEXT_CREATE_JOIN_TITLE_JOIN"] = "join";
Blockly.Msg["TEXT_CREATE_JOIN_TOOLTIP"] = "Add, remove, or reorder sections to reconfigure this text block.";
Blockly.Msg["TEXT_GET_SUBSTRING_END_FROM_END"] = "to letter # from end";
Blockly.Msg["TEXT_GET_SUBSTRING_END_FROM_START"] = "to letter #";
Blockly.Msg["TEXT_GET_SUBSTRING_END_LAST"] = "to last letter";
Blockly.Msg["TEXT_GET_SUBSTRING_HELPURL"] = "https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text";
Blockly.Msg["TEXT_GET_SUBSTRING_INPUT_IN_TEXT"] = "in text";
Blockly.Msg["TEXT_GET_SUBSTRING_START_FIRST"] = "get substring from first letter";
Blockly.Msg["TEXT_GET_SUBSTRING_START_FROM_END"] = "get substring from letter # from end";
Blockly.Msg["TEXT_GET_SUBSTRING_START_FROM_START"] = "get substring from letter #";
Blockly.Msg["TEXT_GET_SUBSTRING_TAIL"] = "";
Blockly.Msg["TEXT_GET_SUBSTRING_TOOLTIP"] = "Returns a specified portion of the text.";
Blockly.Msg["TEXT_INDEXOF_HELPURL"] = "https://github.com/google/blockly/wiki/Text#finding-text";
Blockly.Msg["TEXT_INDEXOF_OPERATOR_FIRST"] = "find first occurrence of text";
Blockly.Msg["TEXT_INDEXOF_OPERATOR_LAST"] = "find last occurrence of text";
Blockly.Msg["TEXT_INDEXOF_TITLE"] = "in text %1 %2 %3";
Blockly.Msg["TEXT_INDEXOF_TOOLTIP"] = "Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.";
Blockly.Msg["TEXT_ISEMPTY_HELPURL"] = "https://github.com/google/blockly/wiki/Text#checking-for-empty-text";
Blockly.Msg["TEXT_ISEMPTY_TITLE"] = "%1 is empty";
Blockly.Msg["TEXT_ISEMPTY_TOOLTIP"] = "Returns true if the provided text is empty.";
Blockly.Msg["TEXT_JOIN_HELPURL"] = "https://github.com/google/blockly/wiki/Text#text-creation";
Blockly.Msg["TEXT_JOIN_TITLE_CREATEWITH"] = "create text with";
Blockly.Msg["TEXT_JOIN_TOOLTIP"] = "Create a piece of text by joining together any number of items.";
Blockly.Msg["TEXT_LENGTH_HELPURL"] = "https://github.com/google/blockly/wiki/Text#text-modification";
Blockly.Msg["TEXT_LENGTH_TITLE"] = "length of %1";
Blockly.Msg["TEXT_LENGTH_TOOLTIP"] = "Returns the number of letters (including spaces) in the provided text.";
Blockly.Msg["TEXT_PRINT_HELPURL"] = "https://github.com/google/blockly/wiki/Text#printing-text";
Blockly.Msg["TEXT_PRINT_TITLE"] = "print %1";
Blockly.Msg["TEXT_PRINT_TOOLTIP"] = "Print the specified text, number or other value.";
Blockly.Msg["TEXT_PROMPT_HELPURL"] = "https://github.com/google/blockly/wiki/Text#getting-input-from-the-user";
Blockly.Msg["TEXT_PROMPT_TOOLTIP_NUMBER"] = "Prompt for user for a number.";
Blockly.Msg["TEXT_PROMPT_TOOLTIP_TEXT"] = "Prompt for user for some text.";
Blockly.Msg["TEXT_PROMPT_TYPE_NUMBER"] = "prompt for number with message";
Blockly.Msg["TEXT_PROMPT_TYPE_TEXT"] = "prompt for text with message";
Blockly.Msg["TEXT_REPLACE_HELPURL"] = "https://github.com/google/blockly/wiki/Text#replacing-substrings";
Blockly.Msg["TEXT_REPLACE_MESSAGE0"] = "replace %1 with %2 in %3";
Blockly.Msg["TEXT_REPLACE_TOOLTIP"] = "Replace all occurances of some text within some other text.";
Blockly.Msg["TEXT_REVERSE_HELPURL"] = "https://github.com/google/blockly/wiki/Text#reversing-text";
Blockly.Msg["TEXT_REVERSE_MESSAGE0"] = "reverse %1";
Blockly.Msg["TEXT_REVERSE_TOOLTIP"] = "Reverses the order of the characters in the text.";
Blockly.Msg["TEXT_TEXT_HELPURL"] = "https://en.wikipedia.org/wiki/String_(computer_science)";
Blockly.Msg["TEXT_TEXT_TOOLTIP"] = "A letter, word, or line of text.";
Blockly.Msg["TEXT_TRIM_HELPURL"] = "https://github.com/google/blockly/wiki/Text#trimming-removing-spaces";
Blockly.Msg["TEXT_TRIM_OPERATOR_BOTH"] = "trim spaces from both sides of";
Blockly.Msg["TEXT_TRIM_OPERATOR_LEFT"] = "trim spaces from left side of";
Blockly.Msg["TEXT_TRIM_OPERATOR_RIGHT"] = "trim spaces from right side of";
Blockly.Msg["TEXT_TRIM_TOOLTIP"] = "Return a copy of the text with spaces removed from one or both ends.";
Blockly.Msg["TODAY"] = "Today";
Blockly.Msg["UNDO"] = "Undo";
Blockly.Msg["UNNAMED_KEY"] = "unnamed";
Blockly.Msg["VARIABLES_DEFAULT_NAME"] = "item";
Blockly.Msg["VARIABLES_GET_CREATE_SET"] = "Create 'set %1'";
Blockly.Msg["VARIABLES_GET_HELPURL"] = "https://github.com/google/blockly/wiki/Variables#get";
Blockly.Msg["VARIABLES_GET_TOOLTIP"] = "Returns the value of this variable.";
Blockly.Msg["VARIABLES_SET"] = "set %1 to %2";
Blockly.Msg["VARIABLES_SET_CREATE_GET"] = "Create 'get %1'";
Blockly.Msg["VARIABLES_SET_HELPURL"] = "https://github.com/google/blockly/wiki/Variables#set";
Blockly.Msg["VARIABLES_SET_TOOLTIP"] = "Sets this variable to be equal to the input.";
Blockly.Msg["VARIABLE_ALREADY_EXISTS"] = "A variable named '%1' already exists.";
Blockly.Msg["VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE"] = "A variable named '%1' already exists for another type: '%2'.";
Blockly.Msg["WORKSPACE_ARIA_LABEL"] = "Blockly Workspace";
Blockly.Msg["WORKSPACE_COMMENT_DEFAULT_TEXT"] = "Say something...";
Blockly.Msg["CONTROLS_FOREACH_INPUT_DO"] = Blockly.Msg["CONTROLS_REPEAT_INPUT_DO"];
Blockly.Msg["CONTROLS_FOR_INPUT_DO"] = Blockly.Msg["CONTROLS_REPEAT_INPUT_DO"];
Blockly.Msg["CONTROLS_IF_ELSEIF_TITLE_ELSEIF"] = Blockly.Msg["CONTROLS_IF_MSG_ELSEIF"];
Blockly.Msg["CONTROLS_IF_ELSE_TITLE_ELSE"] = Blockly.Msg["CONTROLS_IF_MSG_ELSE"];
Blockly.Msg["CONTROLS_IF_IF_TITLE_IF"] = Blockly.Msg["CONTROLS_IF_MSG_IF"];
Blockly.Msg["CONTROLS_IF_MSG_THEN"] = Blockly.Msg["CONTROLS_REPEAT_INPUT_DO"];
Blockly.Msg["CONTROLS_WHILEUNTIL_INPUT_DO"] = Blockly.Msg["CONTROLS_REPEAT_INPUT_DO"];
Blockly.Msg["LISTS_CREATE_WITH_ITEM_TITLE"] = Blockly.Msg["VARIABLES_DEFAULT_NAME"];
Blockly.Msg["LISTS_GET_INDEX_HELPURL"] = Blockly.Msg["LISTS_INDEX_OF_HELPURL"];
Blockly.Msg["LISTS_GET_INDEX_INPUT_IN_LIST"] = Blockly.Msg["LISTS_INLIST"];
Blockly.Msg["LISTS_GET_SUBLIST_INPUT_IN_LIST"] = Blockly.Msg["LISTS_INLIST"];
Blockly.Msg["LISTS_INDEX_OF_INPUT_IN_LIST"] = Blockly.Msg["LISTS_INLIST"];
Blockly.Msg["LISTS_SET_INDEX_INPUT_IN_LIST"] = Blockly.Msg["LISTS_INLIST"];
Blockly.Msg["MATH_CHANGE_TITLE_ITEM"] = Blockly.Msg["VARIABLES_DEFAULT_NAME"];
Blockly.Msg["PROCEDURES_DEFRETURN_COMMENT"] = Blockly.Msg["PROCEDURES_DEFNORETURN_COMMENT"];
Blockly.Msg["PROCEDURES_DEFRETURN_DO"] = Blockly.Msg["PROCEDURES_DEFNORETURN_DO"];
Blockly.Msg["PROCEDURES_DEFRETURN_PROCEDURE"] = Blockly.Msg["PROCEDURES_DEFNORETURN_PROCEDURE"];
Blockly.Msg["PROCEDURES_DEFRETURN_TITLE"] = Blockly.Msg["PROCEDURES_DEFNORETURN_TITLE"];
Blockly.Msg["TEXT_APPEND_VARIABLE"] = Blockly.Msg["VARIABLES_DEFAULT_NAME"];
Blockly.Msg["TEXT_CREATE_JOIN_ITEM_TITLE_ITEM"] = Blockly.Msg["VARIABLES_DEFAULT_NAME"];

Blockly.Msg["MATH_HUE"] = "230";
Blockly.Msg["LOOPS_HUE"] = "120";
Blockly.Msg["LISTS_HUE"] = "260";
Blockly.Msg["LOGIC_HUE"] = "210";
Blockly.Msg["VARIABLES_HUE"] = "330";
Blockly.Msg["TEXTS_HUE"] = "160";
Blockly.Msg["PROCEDURES_HUE"] = "290";
Blockly.Msg["COLOUR_HUE"] = "20";
Blockly.Msg["VARIABLES_DYNAMIC_HUE"] = "310";
return Blockly.Msg;
})); 


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const blockly_1 = __importDefault(__webpack_require__(/*! blockly */ "./node_modules/blockly/index.js"));
const BLOCKLY_CONFIG = {
    toolbox: document.getElementById("toolbox")
};
function main() {
    init();
}
function init() {
    console.log("hmm");
    const workspace = blockly_1.default.inject('blocklyDiv', BLOCKLY_CONFIG);
    resizeBlockly(workspace);
}
function resizeBlockly(workspace) {
    const blocklyDiv = document.getElementById("blocklyDiv");
    const blocklyArea = document.getElementById("blocklyArea");
    const onresize = function () {
        // Compute the absolute coordinates and dimensions of blocklyArea.
        let element = blocklyArea;
        let x = 0;
        let y = 0;
        do {
            x += element.offsetLeft;
            y += element.offsetTop;
            element = element.offsetParent;
        } while (element);
        // Position blocklyDiv over blocklyArea.
        blocklyDiv.style.left = x + 'px';
        blocklyDiv.style.top = y + 'px';
        blocklyDiv.style.width = blocklyArea.offsetWidth + 'px';
        blocklyDiv.style.height = blocklyArea.offsetHeight + 'px';
        blockly_1.default.svgResize(workspace);
    };
    window.addEventListener('resize', onresize, false);
    onresize();
    blockly_1.default.svgResize(workspace);
}
window.onload = main;


/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvYmxvY2tseS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmxvY2tseS9ibG9ja3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmxvY2tseS9jb3JlLWJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Jsb2NrbHkvamF2YXNjcmlwdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmxvY2tseS9tc2cvZW4uanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtRQUFBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBOzs7UUFHQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMENBQTBDLGdDQUFnQztRQUMxRTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLHdEQUF3RCxrQkFBa0I7UUFDMUU7UUFDQSxpREFBaUQsY0FBYztRQUMvRDs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EseUNBQXlDLGlDQUFpQztRQUMxRSxnSEFBZ0gsbUJBQW1CLEVBQUU7UUFDckk7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwyQkFBMkIsMEJBQTBCLEVBQUU7UUFDdkQsaUNBQWlDLGVBQWU7UUFDaEQ7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2SEFBNkg7QUFDN0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEc7Ozs7Ozs7Ozs7OztBQzliRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0Qzs7QUFFNUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ25CQSx5R0FBOEI7QUFFOUIsTUFBTSxjQUFjLEdBQUc7SUFDbkIsT0FBTyxFQUFFLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDO0NBQzlDLENBQUM7QUFFRixTQUFTLElBQUk7SUFDVCxJQUFJLEVBQUUsQ0FBQztBQUNYLENBQUM7QUFHRCxTQUFTLElBQUk7SUFDVCxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ25CLE1BQU0sU0FBUyxHQUFHLGlCQUFPLENBQUMsTUFBTSxDQUFDLFlBQVksRUFBRSxjQUFjLENBQUMsQ0FBQztJQUUvRCxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDN0IsQ0FBQztBQUdELFNBQVMsYUFBYSxDQUFDLFNBQVM7SUFDNUIsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN6RCxNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzNELE1BQU0sUUFBUSxHQUFHO1FBQ2Isa0VBQWtFO1FBQ2xFLElBQUksT0FBTyxHQUFHLFdBQVcsQ0FBQztRQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDVixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDVixHQUFHO1lBQ0MsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUM7WUFDeEIsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxTQUFTLENBQUM7WUFDdkIsT0FBTyxHQUFnQixPQUFPLENBQUMsWUFBWSxDQUFDO1NBQy9DLFFBQVEsT0FBTyxFQUFFO1FBRWxCLHdDQUF3QztRQUN4QyxVQUFVLENBQUMsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ2pDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7UUFFaEMsVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUM7UUFDeEQsVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7UUFFMUQsaUJBQU8sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDakMsQ0FBQyxDQUFDO0lBQ0YsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDbkQsUUFBUSxFQUFFLENBQUM7SUFDWCxpQkFBTyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUNqQyxDQUFDO0FBSUQsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zcmMvaW5kZXgudHNcIik7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsgLy8gQU1EXG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsgLy8gTm9kZS5qc1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2UgeyAvLyBCcm93c2VyXG4gICAgcm9vdC5CbG9ja2x5ID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKCkge1xuLy8gRG8gbm90IGVkaXQgdGhpcyBmaWxlOyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBndWxwLlxuJ3VzZSBzdHJpY3QnO3ZhciBCbG9ja2x5PXtjb25zdGFudHM6e30sTElORV9NT0RFX01VTFRJUExJRVI6NDAsUEFHRV9NT0RFX01VTFRJUExJRVI6MTI1LERSQUdfUkFESVVTOjUsRkxZT1VUX0RSQUdfUkFESVVTOjEwLFNOQVBfUkFESVVTOjI4fTtCbG9ja2x5LkNPTk5FQ1RJTkdfU05BUF9SQURJVVM9QmxvY2tseS5TTkFQX1JBRElVUztCbG9ja2x5LkNVUlJFTlRfQ09OTkVDVElPTl9QUkVGRVJFTkNFPTg7QmxvY2tseS5CVU1QX0RFTEFZPTI1MDtCbG9ja2x5LkJVTVBfUkFORE9NTkVTUz0xMDtCbG9ja2x5LkNPTExBUFNFX0NIQVJTPTMwO0Jsb2NrbHkuTE9OR1BSRVNTPTc1MDtCbG9ja2x5LlNPVU5EX0xJTUlUPTEwMDtCbG9ja2x5LkRSQUdfU1RBQ0s9ITA7QmxvY2tseS5IU1ZfU0FUVVJBVElPTj0uNDU7QmxvY2tseS5IU1ZfVkFMVUU9LjY1O0Jsb2NrbHkuU1BSSVRFPXt3aWR0aDo5NixoZWlnaHQ6MTI0LHVybDpcInNwcml0ZXMucG5nXCJ9O0Jsb2NrbHkuSU5QVVRfVkFMVUU9MTtcbkJsb2NrbHkuT1VUUFVUX1ZBTFVFPTI7QmxvY2tseS5ORVhUX1NUQVRFTUVOVD0zO0Jsb2NrbHkuUFJFVklPVVNfU1RBVEVNRU5UPTQ7QmxvY2tseS5EVU1NWV9JTlBVVD01O0Jsb2NrbHkuQUxJR05fTEVGVD0tMTtCbG9ja2x5LkFMSUdOX0NFTlRSRT0wO0Jsb2NrbHkuQUxJR05fUklHSFQ9MTtCbG9ja2x5LkRSQUdfTk9ORT0wO0Jsb2NrbHkuRFJBR19TVElDS1k9MTtCbG9ja2x5LkRSQUdfQkVHSU49MTtCbG9ja2x5LkRSQUdfRlJFRT0yO0Jsb2NrbHkuT1BQT1NJVEVfVFlQRT1bXTtCbG9ja2x5Lk9QUE9TSVRFX1RZUEVbQmxvY2tseS5JTlBVVF9WQUxVRV09QmxvY2tseS5PVVRQVVRfVkFMVUU7QmxvY2tseS5PUFBPU0lURV9UWVBFW0Jsb2NrbHkuT1VUUFVUX1ZBTFVFXT1CbG9ja2x5LklOUFVUX1ZBTFVFO0Jsb2NrbHkuT1BQT1NJVEVfVFlQRVtCbG9ja2x5Lk5FWFRfU1RBVEVNRU5UXT1CbG9ja2x5LlBSRVZJT1VTX1NUQVRFTUVOVDtcbkJsb2NrbHkuT1BQT1NJVEVfVFlQRVtCbG9ja2x5LlBSRVZJT1VTX1NUQVRFTUVOVF09QmxvY2tseS5ORVhUX1NUQVRFTUVOVDtCbG9ja2x5LlRPT0xCT1hfQVRfVE9QPTA7QmxvY2tseS5UT09MQk9YX0FUX0JPVFRPTT0xO0Jsb2NrbHkuVE9PTEJPWF9BVF9MRUZUPTI7QmxvY2tseS5UT09MQk9YX0FUX1JJR0hUPTM7QmxvY2tseS5ERUxFVEVfQVJFQV9OT05FPW51bGw7QmxvY2tseS5ERUxFVEVfQVJFQV9UUkFTSD0xO0Jsb2NrbHkuREVMRVRFX0FSRUFfVE9PTEJPWD0yO0Jsb2NrbHkuVkFSSUFCTEVfQ0FURUdPUllfTkFNRT1cIlZBUklBQkxFXCI7QmxvY2tseS5WQVJJQUJMRV9EWU5BTUlDX0NBVEVHT1JZX05BTUU9XCJWQVJJQUJMRV9EWU5BTUlDXCI7QmxvY2tseS5QUk9DRURVUkVfQ0FURUdPUllfTkFNRT1cIlBST0NFRFVSRVwiO0Jsb2NrbHkuUkVOQU1FX1ZBUklBQkxFX0lEPVwiUkVOQU1FX1ZBUklBQkxFX0lEXCI7QmxvY2tseS5ERUxFVEVfVkFSSUFCTEVfSUQ9XCJERUxFVEVfVkFSSUFCTEVfSURcIjtCbG9ja2x5LnV0aWxzPXt9O0Jsb2NrbHkudXRpbHMuZ2xvYmFsPWZ1bmN0aW9uKCl7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBzZWxmP3NlbGY6XCJvYmplY3RcIj09PXR5cGVvZiB3aW5kb3c/d2luZG93Olwib2JqZWN0XCI9PT10eXBlb2YgZ2xvYmFsP2dsb2JhbDp0aGlzfSgpO0Jsb2NrbHkuTXNnPXt9O0Jsb2NrbHkudXRpbHMuZ2xvYmFsLkJsb2NrbHl8fChCbG9ja2x5LnV0aWxzLmdsb2JhbC5CbG9ja2x5PXt9KTtCbG9ja2x5LnV0aWxzLmdsb2JhbC5CbG9ja2x5Lk1zZ3x8KEJsb2NrbHkudXRpbHMuZ2xvYmFsLkJsb2NrbHkuTXNnPUJsb2NrbHkuTXNnKTtCbG9ja2x5LnV0aWxzLmNvbG91cj17fTtcbkJsb2NrbHkudXRpbHMuY29sb3VyLnBhcnNlPWZ1bmN0aW9uKGEpe2E9U3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkudHJpbSgpO3ZhciBiPUJsb2NrbHkudXRpbHMuY29sb3VyLm5hbWVzW2FdO2lmKGIpcmV0dXJuIGI7Yj1cIjB4XCI9PWEuc3Vic3RyaW5nKDAsMik/XCIjXCIrYS5zdWJzdHJpbmcoMik6YTtiPVwiI1wiPT1iWzBdP2I6XCIjXCIrYjtpZigvXiNbMC05YS1mXXs2fSQvLnRlc3QoYikpcmV0dXJuIGI7aWYoL14jWzAtOWEtZl17M30kLy50ZXN0KGIpKXJldHVybltcIiNcIixiWzFdLGJbMV0sYlsyXSxiWzJdLGJbM10sYlszXV0uam9pbihcIlwiKTt2YXIgYz1hLm1hdGNoKC9eKD86cmdiKT9cXHMqXFwoXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccypcXCkkLyk7cmV0dXJuIGMmJihhPU51bWJlcihjWzFdKSxiPU51bWJlcihjWzJdKSxjPU51bWJlcihjWzNdKSwwPD1hJiYyNTY+YSYmMDw9YiYmMjU2PmImJjA8PWMmJjI1Nj5jKT9CbG9ja2x5LnV0aWxzLmNvbG91ci5yZ2JUb0hleChhLGIsXG5jKTpudWxsfTtCbG9ja2x5LnV0aWxzLmNvbG91ci5yZ2JUb0hleD1mdW5jdGlvbihhLGIsYyl7Yj1hPDwxNnxiPDw4fGM7cmV0dXJuIDE2PmE/XCIjXCIrKDE2Nzc3MjE2fGIpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk6XCIjXCIrYi50b1N0cmluZygxNil9O0Jsb2NrbHkudXRpbHMuY29sb3VyLmhleFRvUmdiPWZ1bmN0aW9uKGEpe2E9QmxvY2tseS51dGlscy5jb2xvdXIucGFyc2UoYSk7aWYoIWEpcmV0dXJuWzAsMCwwXTthPXBhcnNlSW50KGEuc3Vic3RyKDEpLDE2KTtyZXR1cm5bYT4+MTYsYT4+OCYyNTUsYSYyNTVdfTtcbkJsb2NrbHkudXRpbHMuY29sb3VyLmhzdlRvSGV4PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD0wLGU9MCxmPTA7aWYoMD09YilmPWU9ZD1jO2Vsc2V7dmFyIGc9TWF0aC5mbG9vcihhLzYwKSxoPWEvNjAtZzthPWMqKDEtYik7dmFyIGs9YyooMS1iKmgpO2I9YyooMS1iKigxLWgpKTtzd2l0Y2goZyl7Y2FzZSAxOmQ9aztlPWM7Zj1hO2JyZWFrO2Nhc2UgMjpkPWE7ZT1jO2Y9YjticmVhaztjYXNlIDM6ZD1hO2U9aztmPWM7YnJlYWs7Y2FzZSA0OmQ9YjtlPWE7Zj1jO2JyZWFrO2Nhc2UgNTpkPWM7ZT1hO2Y9azticmVhaztjYXNlIDY6Y2FzZSAwOmQ9YyxlPWIsZj1hfX1yZXR1cm4gQmxvY2tseS51dGlscy5jb2xvdXIucmdiVG9IZXgoTWF0aC5mbG9vcihkKSxNYXRoLmZsb29yKGUpLE1hdGguZmxvb3IoZikpfTtcbkJsb2NrbHkudXRpbHMuY29sb3VyLmJsZW5kPWZ1bmN0aW9uKGEsYixjKXthPUJsb2NrbHkudXRpbHMuY29sb3VyLnBhcnNlKGEpO2lmKCFhKXJldHVybiBudWxsO2I9QmxvY2tseS51dGlscy5jb2xvdXIucGFyc2UoYik7aWYoIWIpcmV0dXJuIG51bGw7YT1CbG9ja2x5LnV0aWxzLmNvbG91ci5oZXhUb1JnYihhKTtiPUJsb2NrbHkudXRpbHMuY29sb3VyLmhleFRvUmdiKGIpO3JldHVybiBCbG9ja2x5LnV0aWxzLmNvbG91ci5yZ2JUb0hleChNYXRoLnJvdW5kKGJbMF0rYyooYVswXS1iWzBdKSksTWF0aC5yb3VuZChiWzFdK2MqKGFbMV0tYlsxXSkpLE1hdGgucm91bmQoYlsyXStjKihhWzJdLWJbMl0pKSl9O1xuQmxvY2tseS51dGlscy5jb2xvdXIubmFtZXM9e2FxdWE6XCIjMDBmZmZmXCIsYmxhY2s6XCIjMDAwMDAwXCIsYmx1ZTpcIiMwMDAwZmZcIixmdWNoc2lhOlwiI2ZmMDBmZlwiLGdyYXk6XCIjODA4MDgwXCIsZ3JlZW46XCIjMDA4MDAwXCIsbGltZTpcIiMwMGZmMDBcIixtYXJvb246XCIjODAwMDAwXCIsbmF2eTpcIiMwMDAwODBcIixvbGl2ZTpcIiM4MDgwMDBcIixwdXJwbGU6XCIjODAwMDgwXCIscmVkOlwiI2ZmMDAwMFwiLHNpbHZlcjpcIiNjMGMwYzBcIix0ZWFsOlwiIzAwODA4MFwiLHdoaXRlOlwiI2ZmZmZmZlwiLHllbGxvdzpcIiNmZmZmMDBcIn07QmxvY2tseS51dGlscy5Db29yZGluYXRlPWZ1bmN0aW9uKGEsYil7dGhpcy54PWE7dGhpcy55PWJ9O0Jsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZS5lcXVhbHM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09Yj8hMDphJiZiP2EueD09Yi54JiZhLnk9PWIueTohMX07QmxvY2tseS51dGlscy5Db29yZGluYXRlLmRpc3RhbmNlPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS54LWIueDthPWEueS1iLnk7cmV0dXJuIE1hdGguc3FydChjKmMrYSphKX07QmxvY2tseS51dGlscy5Db29yZGluYXRlLm1hZ25pdHVkZT1mdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5zcXJ0KGEueCphLngrYS55KmEueSl9O0Jsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZS5kaWZmZXJlbmNlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoYS54LWIueCxhLnktYi55KX07XG5CbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUuc3VtPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoYS54K2IueCxhLnkrYi55KX07QmxvY2tseS51dGlscy5Db29yZGluYXRlLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihhKXt0aGlzLngqPWE7dGhpcy55Kj1hO3JldHVybiB0aGlzfTtCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMueCs9YTt0aGlzLnkrPWI7cmV0dXJuIHRoaXN9O0Jsb2NrbHkudXRpbHMuc3RyaW5nPXt9O0Jsb2NrbHkudXRpbHMuc3RyaW5nLnN0YXJ0c1dpdGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMD09YS5sYXN0SW5kZXhPZihiLDApfTtCbG9ja2x5LnV0aWxzLnN0cmluZy5zaG9ydGVzdFN0cmluZ0xlbmd0aD1mdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGg/YS5yZWR1Y2UoZnVuY3Rpb24oYSxjKXtyZXR1cm4gYS5sZW5ndGg8Yy5sZW5ndGg/YTpjfSkubGVuZ3RoOjB9O1xuQmxvY2tseS51dGlscy5zdHJpbmcuY29tbW9uV29yZFByZWZpeD1mdW5jdGlvbihhLGIpe2lmKCFhLmxlbmd0aClyZXR1cm4gMDtpZigxPT1hLmxlbmd0aClyZXR1cm4gYVswXS5sZW5ndGg7dmFyIGM9MDtiPWJ8fEJsb2NrbHkudXRpbHMuc3RyaW5nLnNob3J0ZXN0U3RyaW5nTGVuZ3RoKGEpO2Zvcih2YXIgZD0wO2Q8YjtkKyspe2Zvcih2YXIgZT1hWzBdW2RdLGY9MTtmPGEubGVuZ3RoO2YrKylpZihlIT1hW2ZdW2RdKXJldHVybiBjO1wiIFwiPT1lJiYoYz1kKzEpfWZvcihmPTE7ZjxhLmxlbmd0aDtmKyspaWYoKGU9YVtmXVtkXSkmJlwiIFwiIT1lKXJldHVybiBjO3JldHVybiBifTtcbkJsb2NrbHkudXRpbHMuc3RyaW5nLmNvbW1vbldvcmRTdWZmaXg9ZnVuY3Rpb24oYSxiKXtpZighYS5sZW5ndGgpcmV0dXJuIDA7aWYoMT09YS5sZW5ndGgpcmV0dXJuIGFbMF0ubGVuZ3RoO3ZhciBjPTA7Yj1ifHxCbG9ja2x5LnV0aWxzLnN0cmluZy5zaG9ydGVzdFN0cmluZ0xlbmd0aChhKTtmb3IodmFyIGQ9MDtkPGI7ZCsrKXtmb3IodmFyIGU9YVswXS5zdWJzdHIoLWQtMSwxKSxmPTE7ZjxhLmxlbmd0aDtmKyspaWYoZSE9YVtmXS5zdWJzdHIoLWQtMSwxKSlyZXR1cm4gYztcIiBcIj09ZSYmKGM9ZCsxKX1mb3IoZj0xO2Y8YS5sZW5ndGg7ZisrKWlmKChlPWFbZl0uY2hhckF0KGFbZl0ubGVuZ3RoLWQtMSkpJiZcIiBcIiE9ZSlyZXR1cm4gYztyZXR1cm4gYn07QmxvY2tseS51dGlscy5zdHJpbmcud3JhcD1mdW5jdGlvbihhLGIpe2E9YS5zcGxpdChcIlxcblwiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylhW2NdPUJsb2NrbHkudXRpbHMuc3RyaW5nLndyYXBMaW5lXyhhW2NdLGIpO3JldHVybiBhLmpvaW4oXCJcXG5cIil9O1xuQmxvY2tseS51dGlscy5zdHJpbmcud3JhcExpbmVfPWZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGg8PWIpcmV0dXJuIGE7Zm9yKHZhciBjPWEudHJpbSgpLnNwbGl0KC9cXHMrLyksZD0wO2Q8Yy5sZW5ndGg7ZCsrKWNbZF0ubGVuZ3RoPmImJihiPWNbZF0ubGVuZ3RoKTtkPS1JbmZpbml0eTt2YXIgZT0xO2Rve3ZhciBmPWQ7dmFyIGc9YTthPVtdO3ZhciBoPWMubGVuZ3RoL2Usaz0xO2ZvcihkPTA7ZDxjLmxlbmd0aC0xO2QrKylrPChkKzEuNSkvaD8oaysrLGFbZF09ITApOmFbZF09ITE7YT1CbG9ja2x5LnV0aWxzLnN0cmluZy53cmFwTXV0YXRlXyhjLGEsYik7ZD1CbG9ja2x5LnV0aWxzLnN0cmluZy53cmFwU2NvcmVfKGMsYSxiKTthPUJsb2NrbHkudXRpbHMuc3RyaW5nLndyYXBUb1RleHRfKGMsYSk7ZSsrfXdoaWxlKGQ+Zik7cmV0dXJuIGd9O1xuQmxvY2tseS51dGlscy5zdHJpbmcud3JhcFNjb3JlXz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPVswXSxlPVtdLGY9MDtmPGEubGVuZ3RoO2YrKylkW2QubGVuZ3RoLTFdKz1hW2ZdLmxlbmd0aCwhMD09PWJbZl0/KGQucHVzaCgwKSxlLnB1c2goYVtmXS5jaGFyQXQoYVtmXS5sZW5ndGgtMSkpKTohMT09PWJbZl0mJmRbZC5sZW5ndGgtMV0rKzthPU1hdGgubWF4LmFwcGx5KE1hdGgsZCk7Zm9yKGY9Yj0wO2Y8ZC5sZW5ndGg7ZisrKWItPTIqTWF0aC5wb3coTWF0aC5hYnMoYy1kW2ZdKSwxLjUpLGItPU1hdGgucG93KGEtZFtmXSwxLjUpLC0xIT1cIi4/IVwiLmluZGV4T2YoZVtmXSk/Yis9Yy8zOi0xIT1cIiw7KV19XCIuaW5kZXhPZihlW2ZdKSYmKGIrPWMvNCk7MTxkLmxlbmd0aCYmZFtkLmxlbmd0aC0xXTw9ZFtkLmxlbmd0aC0yXSYmKGIrPS41KTtyZXR1cm4gYn07XG5CbG9ja2x5LnV0aWxzLnN0cmluZy53cmFwTXV0YXRlXz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPUJsb2NrbHkudXRpbHMuc3RyaW5nLndyYXBTY29yZV8oYSxiLGMpLGUsZj0wO2Y8Yi5sZW5ndGgtMTtmKyspaWYoYltmXSE9YltmKzFdKXt2YXIgZz1bXS5jb25jYXQoYik7Z1tmXT0hZ1tmXTtnW2YrMV09IWdbZisxXTt2YXIgaD1CbG9ja2x5LnV0aWxzLnN0cmluZy53cmFwU2NvcmVfKGEsZyxjKTtoPmQmJihkPWgsZT1nKX1yZXR1cm4gZT9CbG9ja2x5LnV0aWxzLnN0cmluZy53cmFwTXV0YXRlXyhhLGUsYyk6Yn07QmxvY2tseS51dGlscy5zdHJpbmcud3JhcFRvVGV4dF89ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKWMucHVzaChhW2RdKSx2b2lkIDAhPT1iW2RdJiZjLnB1c2goYltkXT9cIlxcblwiOlwiIFwiKTtyZXR1cm4gYy5qb2luKFwiXCIpfTtCbG9ja2x5LnV0aWxzLlNpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLndpZHRoPWE7dGhpcy5oZWlnaHQ9Yn07QmxvY2tseS51dGlscy5TaXplLmVxdWFscz1mdW5jdGlvbihhLGIpe3JldHVybiBhPT1iPyEwOmEmJmI/YS53aWR0aD09Yi53aWR0aCYmYS5oZWlnaHQ9PWIuaGVpZ2h0OiExfTtCbG9ja2x5LnV0aWxzLnN0eWxlPXt9O0Jsb2NrbHkudXRpbHMuc3R5bGUuZ2V0U2l6ZT1mdW5jdGlvbihhKXtpZihcIm5vbmVcIiE9QmxvY2tseS51dGlscy5zdHlsZS5nZXRTdHlsZV8oYSxcImRpc3BsYXlcIikpcmV0dXJuIEJsb2NrbHkudXRpbHMuc3R5bGUuZ2V0U2l6ZVdpdGhEaXNwbGF5XyhhKTt2YXIgYj1hLnN0eWxlLGM9Yi5kaXNwbGF5LGQ9Yi52aXNpYmlsaXR5LGU9Yi5wb3NpdGlvbjtiLnZpc2liaWxpdHk9XCJoaWRkZW5cIjtiLnBvc2l0aW9uPVwiYWJzb2x1dGVcIjtiLmRpc3BsYXk9XCJpbmxpbmVcIjt2YXIgZj1hLm9mZnNldFdpZHRoO2E9YS5vZmZzZXRIZWlnaHQ7Yi5kaXNwbGF5PWM7Yi5wb3NpdGlvbj1lO2IudmlzaWJpbGl0eT1kO3JldHVybiBuZXcgQmxvY2tseS51dGlscy5TaXplKGYsYSl9O0Jsb2NrbHkudXRpbHMuc3R5bGUuZ2V0U2l6ZVdpdGhEaXNwbGF5Xz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEJsb2NrbHkudXRpbHMuU2l6ZShhLm9mZnNldFdpZHRoLGEub2Zmc2V0SGVpZ2h0KX07XG5CbG9ja2x5LnV0aWxzLnN0eWxlLmdldFN0eWxlXz1mdW5jdGlvbihhLGIpe3JldHVybiBCbG9ja2x5LnV0aWxzLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoYSxiKXx8QmxvY2tseS51dGlscy5zdHlsZS5nZXRDYXNjYWRlZFN0eWxlKGEsYil8fGEuc3R5bGUmJmEuc3R5bGVbYl19O0Jsb2NrbHkudXRpbHMuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZT1mdW5jdGlvbihhLGIpe3JldHVybiBkb2N1bWVudC5kZWZhdWx0VmlldyYmZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSYmKGE9ZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShhLG51bGwpKT9hW2JdfHxhLmdldFByb3BlcnR5VmFsdWUoYil8fFwiXCI6XCJcIn07QmxvY2tseS51dGlscy5zdHlsZS5nZXRDYXNjYWRlZFN0eWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlW2JdOm51bGx9O1xuQmxvY2tseS51dGlscy5zdHlsZS5nZXRQYWdlT2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoMCwwKTthPWEuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dmFyIGM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2M9bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZSh3aW5kb3cucGFnZVhPZmZzZXR8fGMuc2Nyb2xsTGVmdCx3aW5kb3cucGFnZVlPZmZzZXR8fGMuc2Nyb2xsVG9wKTtiLng9YS5sZWZ0K2MueDtiLnk9YS50b3ArYy55O3JldHVybiBifTtCbG9ja2x5LnV0aWxzLnN0eWxlLmdldFZpZXdwb3J0UGFnZU9mZnNldD1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmJvZHksYj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIG5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoYS5zY3JvbGxMZWZ0fHxiLnNjcm9sbExlZnQsYS5zY3JvbGxUb3B8fGIuc2Nyb2xsVG9wKX07XG5CbG9ja2x5LnV0aWxzLnN0eWxlLnNldEVsZW1lbnRTaG93bj1mdW5jdGlvbihhLGIpe2Euc3R5bGUuZGlzcGxheT1iP1wiXCI6XCJub25lXCJ9O0Jsb2NrbHkudXRpbHMuc3R5bGUuaXNSaWdodFRvTGVmdD1mdW5jdGlvbihhKXtyZXR1cm5cInJ0bFwiPT1CbG9ja2x5LnV0aWxzLnN0eWxlLmdldFN0eWxlXyhhLFwiZGlyZWN0aW9uXCIpfTtcbkJsb2NrbHkudXRpbHMuc3R5bGUuZ2V0Qm9yZGVyQm94PWZ1bmN0aW9uKGEpe3ZhciBiPUJsb2NrbHkudXRpbHMuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZShhLFwiYm9yZGVyTGVmdFdpZHRoXCIpLGM9QmxvY2tseS51dGlscy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlKGEsXCJib3JkZXJSaWdodFdpZHRoXCIpLGQ9QmxvY2tseS51dGlscy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlKGEsXCJib3JkZXJUb3BXaWR0aFwiKTthPUJsb2NrbHkudXRpbHMuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZShhLFwiYm9yZGVyQm90dG9tV2lkdGhcIik7cmV0dXJue3RvcDpwYXJzZUZsb2F0KGQpLHJpZ2h0OnBhcnNlRmxvYXQoYyksYm90dG9tOnBhcnNlRmxvYXQoYSksbGVmdDpwYXJzZUZsb2F0KGIpfX07XG5CbG9ja2x5LnV0aWxzLnN0eWxlLnNjcm9sbEludG9Db250YWluZXJWaWV3PWZ1bmN0aW9uKGEsYixjKXthPUJsb2NrbHkudXRpbHMuc3R5bGUuZ2V0Q29udGFpbmVyT2Zmc2V0VG9TY3JvbGxJbnRvKGEsYixjKTtiLnNjcm9sbExlZnQ9YS54O2Iuc2Nyb2xsVG9wPWEueX07XG5CbG9ja2x5LnV0aWxzLnN0eWxlLmdldENvbnRhaW5lck9mZnNldFRvU2Nyb2xsSW50bz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9QmxvY2tseS51dGlscy5zdHlsZS5nZXRQYWdlT2Zmc2V0KGEpLGU9QmxvY2tseS51dGlscy5zdHlsZS5nZXRQYWdlT2Zmc2V0KGIpLGY9QmxvY2tseS51dGlscy5zdHlsZS5nZXRCb3JkZXJCb3goYiksZz1kLngtZS54LWYubGVmdDtkPWQueS1lLnktZi50b3A7ZT1CbG9ja2x5LnV0aWxzLnN0eWxlLmdldFNpemVXaXRoRGlzcGxheV8oYSk7YT1iLmNsaWVudFdpZHRoLWUud2lkdGg7ZT1iLmNsaWVudEhlaWdodC1lLmhlaWdodDtmPWIuc2Nyb2xsTGVmdDtiPWIuc2Nyb2xsVG9wO2M/KGYrPWctYS8yLGIrPWQtZS8yKTooZis9TWF0aC5taW4oZyxNYXRoLm1heChnLWEsMCkpLGIrPU1hdGgubWluKGQsTWF0aC5tYXgoZC1lLDApKSk7cmV0dXJuIG5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoZixiKX07QmxvY2tseS51dGlscy51c2VyQWdlbnQ9e307XG4oZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4tMSE9Yy5pbmRleE9mKGEudG9VcHBlckNhc2UoKSl9QmxvY2tseS51dGlscy51c2VyQWdlbnQucmF3PWE7dmFyIGM9QmxvY2tseS51dGlscy51c2VyQWdlbnQucmF3LnRvVXBwZXJDYXNlKCk7QmxvY2tseS51dGlscy51c2VyQWdlbnQuSUU9YihcIlRyaWRlbnRcIil8fGIoXCJNU0lFXCIpO0Jsb2NrbHkudXRpbHMudXNlckFnZW50LkVER0U9YihcIkVkZ2VcIik7QmxvY2tseS51dGlscy51c2VyQWdlbnQuSkFWQV9GWD1iKFwiSmF2YUZYXCIpO0Jsb2NrbHkudXRpbHMudXNlckFnZW50LkNIUk9NRT0oYihcIkNocm9tZVwiKXx8YihcIkNyaU9TXCIpKSYmIUJsb2NrbHkudXRpbHMudXNlckFnZW50LkVER0U7QmxvY2tseS51dGlscy51c2VyQWdlbnQuV0VCS0lUPWIoXCJXZWJLaXRcIikmJiFCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5FREdFO0Jsb2NrbHkudXRpbHMudXNlckFnZW50LkdFQ0tPPWIoXCJHZWNrb1wiKSYmIUJsb2NrbHkudXRpbHMudXNlckFnZW50LldFQktJVCYmXG4hQmxvY2tseS51dGlscy51c2VyQWdlbnQuSUUmJiFCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5FREdFO0Jsb2NrbHkudXRpbHMudXNlckFnZW50LkFORFJPSUQ9YihcIkFuZHJvaWRcIik7QmxvY2tseS51dGlscy51c2VyQWdlbnQuSVBBRD1iKFwiaVBhZFwiKTtCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5JUE9EPWIoXCJpUG9kXCIpO0Jsb2NrbHkudXRpbHMudXNlckFnZW50LklQSE9ORT1iKFwiaVBob25lXCIpJiYhQmxvY2tseS51dGlscy51c2VyQWdlbnQuSVBBRCYmIUJsb2NrbHkudXRpbHMudXNlckFnZW50LklQT0Q7QmxvY2tseS51dGlscy51c2VyQWdlbnQuTUFDPWIoXCJNYWNpbnRvc2hcIik7QmxvY2tseS51dGlscy51c2VyQWdlbnQuVEFCTEVUPUJsb2NrbHkudXRpbHMudXNlckFnZW50LklQQUR8fEJsb2NrbHkudXRpbHMudXNlckFnZW50LkFORFJPSUQmJiFiKFwiTW9iaWxlXCIpfHxiKFwiU2lsa1wiKTtCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5NT0JJTEU9IUJsb2NrbHkudXRpbHMudXNlckFnZW50LlRBQkxFVCYmXG4oQmxvY2tseS51dGlscy51c2VyQWdlbnQuSVBPRHx8QmxvY2tseS51dGlscy51c2VyQWdlbnQuSVBIT05FfHxCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5BTkRST0lEfHxiKFwiSUVNb2JpbGVcIikpfSkoQmxvY2tseS51dGlscy5nbG9iYWwubmF2aWdhdG9yJiZCbG9ja2x5LnV0aWxzLmdsb2JhbC5uYXZpZ2F0b3IudXNlckFnZW50fHxcIlwiKTtCbG9ja2x5LnV0aWxzLm5vRXZlbnQ9ZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpO2Euc3RvcFByb3BhZ2F0aW9uKCl9O0Jsb2NrbHkudXRpbHMuaXNUYXJnZXRJbnB1dD1mdW5jdGlvbihhKXtyZXR1cm5cInRleHRhcmVhXCI9PWEudGFyZ2V0LnR5cGV8fFwidGV4dFwiPT1hLnRhcmdldC50eXBlfHxcIm51bWJlclwiPT1hLnRhcmdldC50eXBlfHxcImVtYWlsXCI9PWEudGFyZ2V0LnR5cGV8fFwicGFzc3dvcmRcIj09YS50YXJnZXQudHlwZXx8XCJzZWFyY2hcIj09YS50YXJnZXQudHlwZXx8XCJ0ZWxcIj09YS50YXJnZXQudHlwZXx8XCJ1cmxcIj09YS50YXJnZXQudHlwZXx8YS50YXJnZXQuaXNDb250ZW50RWRpdGFibGV9O1xuQmxvY2tseS51dGlscy5nZXRSZWxhdGl2ZVhZPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoMCwwKSxjPWEuZ2V0QXR0cmlidXRlKFwieFwiKTtjJiYoYi54PXBhcnNlSW50KGMsMTApKTtpZihjPWEuZ2V0QXR0cmlidXRlKFwieVwiKSliLnk9cGFyc2VJbnQoYywxMCk7aWYoYz0oYz1hLmdldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiKSkmJmMubWF0Y2goQmxvY2tseS51dGlscy5nZXRSZWxhdGl2ZVhZLlhZX1JFR0VYXykpYi54Kz1OdW1iZXIoY1sxXSksY1szXSYmKGIueSs9TnVtYmVyKGNbM10pKTsoYT1hLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpKSYmLTE8YS5pbmRleE9mKFwidHJhbnNsYXRlXCIpJiYoYT1hLm1hdGNoKEJsb2NrbHkudXRpbHMuZ2V0UmVsYXRpdmVYWS5YWV9TVFlMRV9SRUdFWF8pKSYmKGIueCs9TnVtYmVyKGFbMV0pLGFbM10mJihiLnkrPU51bWJlcihhWzNdKSkpO3JldHVybiBifTtcbkJsb2NrbHkudXRpbHMuZ2V0SW5qZWN0aW9uRGl2WFlfPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9MDthOyl7dmFyIGQ9QmxvY2tseS51dGlscy5nZXRSZWxhdGl2ZVhZKGEpO2IrPWQueDtjKz1kLnk7aWYoLTEhPShcIiBcIisoYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIikrXCIgXCIpLmluZGV4T2YoXCIgaW5qZWN0aW9uRGl2IFwiKSlicmVhazthPWEucGFyZW50Tm9kZX1yZXR1cm4gbmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShiLGMpfTtCbG9ja2x5LnV0aWxzLmdldFJlbGF0aXZlWFkuWFlfUkVHRVhfPS90cmFuc2xhdGVcXChcXHMqKFstK1xcZC5lXSspKFsgLF1cXHMqKFstK1xcZC5lXSspXFxzKik/LztCbG9ja2x5LnV0aWxzLmdldFJlbGF0aXZlWFkuWFlfU1RZTEVfUkVHRVhfPS90cmFuc2Zvcm06XFxzKnRyYW5zbGF0ZSg/OjNkKT9cXChcXHMqKFstK1xcZC5lXSspXFxzKnB4KFsgLF1cXHMqKFstK1xcZC5lXSspXFxzKnB4KT8vO1xuQmxvY2tseS51dGlscy5pc1JpZ2h0QnV0dG9uPWZ1bmN0aW9uKGEpe3JldHVybiBhLmN0cmxLZXkmJkJsb2NrbHkudXRpbHMudXNlckFnZW50Lk1BQz8hMDoyPT1hLmJ1dHRvbn07QmxvY2tseS51dGlscy5tb3VzZVRvU3ZnPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1iLmNyZWF0ZVNWR1BvaW50KCk7ZC54PWEuY2xpZW50WDtkLnk9YS5jbGllbnRZO2N8fChjPWIuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpKTtyZXR1cm4gZC5tYXRyaXhUcmFuc2Zvcm0oYyl9O1xuQmxvY2tseS51dGlscy5nZXRTY3JvbGxEZWx0YVBpeGVscz1mdW5jdGlvbihhKXtzd2l0Y2goYS5kZWx0YU1vZGUpe2RlZmF1bHQ6cmV0dXJue3g6YS5kZWx0YVgseTphLmRlbHRhWX07Y2FzZSAxOnJldHVybnt4OmEuZGVsdGFYKkJsb2NrbHkuTElORV9NT0RFX01VTFRJUExJRVIseTphLmRlbHRhWSpCbG9ja2x5LkxJTkVfTU9ERV9NVUxUSVBMSUVSfTtjYXNlIDI6cmV0dXJue3g6YS5kZWx0YVgqQmxvY2tseS5QQUdFX01PREVfTVVMVElQTElFUix5OmEuZGVsdGFZKkJsb2NrbHkuUEFHRV9NT0RFX01VTFRJUExJRVJ9fX07QmxvY2tseS51dGlscy50b2tlbml6ZUludGVycG9sYXRpb249ZnVuY3Rpb24oYSl7cmV0dXJuIEJsb2NrbHkudXRpbHMudG9rZW5pemVJbnRlcnBvbGF0aW9uXyhhLCEwKX07XG5CbG9ja2x5LnV0aWxzLnJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcz1mdW5jdGlvbihhKXtpZihcInN0cmluZ1wiIT10eXBlb2YgYSlyZXR1cm4gYTthPUJsb2NrbHkudXRpbHMudG9rZW5pemVJbnRlcnBvbGF0aW9uXyhhLCExKTtyZXR1cm4gYS5sZW5ndGg/U3RyaW5nKGFbMF0pOlwiXCJ9O0Jsb2NrbHkudXRpbHMuY2hlY2tNZXNzYWdlUmVmZXJlbmNlcz1mdW5jdGlvbihhKXtmb3IodmFyIGI9ITAsYz1CbG9ja2x5Lk1zZyxkPWEubWF0Y2goLyV7QktZX1tBLVpdXFx3Kn0vaWcpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXS50b1VwcGVyQ2FzZSgpO3ZvaWQgMD09Y1tmLnNsaWNlKDYsLTEpXSYmKGNvbnNvbGUubG9nKFwiV0FSTklORzogTm8gbWVzc2FnZSBzdHJpbmcgZm9yIFwiK2RbZV0rXCIgaW4gXCIrYSksYj0hMSl9cmV0dXJuIGJ9O1xuQmxvY2tseS51dGlscy50b2tlbml6ZUludGVycG9sYXRpb25fPWZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZD1hLnNwbGl0KFwiXCIpO2QucHVzaChcIlwiKTt2YXIgZT0wO2E9W107Zm9yKHZhciBmPW51bGwsZz0wO2c8ZC5sZW5ndGg7ZysrKXt2YXIgaD1kW2ddOzA9PWU/XCIlXCI9PWg/KChoPWEuam9pbihcIlwiKSkmJmMucHVzaChoKSxhLmxlbmd0aD0wLGU9MSk6YS5wdXNoKGgpOjE9PWU/XCIlXCI9PWg/KGEucHVzaChoKSxlPTApOmImJlwiMFwiPD1oJiZcIjlcIj49aD8oZT0yLGY9aCwoaD1hLmpvaW4oXCJcIikpJiZjLnB1c2goaCksYS5sZW5ndGg9MCk6XCJ7XCI9PWg/ZT0zOihhLnB1c2goXCIlXCIsaCksZT0wKToyPT1lP1wiMFwiPD1oJiZcIjlcIj49aD9mKz1oOihjLnB1c2gocGFyc2VJbnQoZiwxMCkpLGctLSxlPTApOjM9PWUmJihcIlwiPT1oPyhhLnNwbGljZSgwLDAsXCIle1wiKSxnLS0sZT0wKTpcIn1cIiE9aD9hLnB1c2goaCk6KGU9YS5qb2luKFwiXCIpLC9bQS1aXVxcdyovaS50ZXN0KGUpPyhoPWUudG9VcHBlckNhc2UoKSxcbihoPUJsb2NrbHkudXRpbHMuc3RyaW5nLnN0YXJ0c1dpdGgoaCxcIkJLWV9cIik/aC5zdWJzdHJpbmcoNCk6bnVsbCkmJmggaW4gQmxvY2tseS5Nc2c/KGU9QmxvY2tseS5Nc2dbaF0sXCJzdHJpbmdcIj09dHlwZW9mIGU/QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYyxCbG9ja2x5LnV0aWxzLnRva2VuaXplSW50ZXJwb2xhdGlvbl8oZSxiKSk6Yj9jLnB1c2goU3RyaW5nKGUpKTpjLnB1c2goZSkpOmMucHVzaChcIiV7XCIrZStcIn1cIikpOmMucHVzaChcIiV7XCIrZStcIn1cIiksZT1hLmxlbmd0aD0wKSl9KGg9YS5qb2luKFwiXCIpKSYmYy5wdXNoKGgpO2I9W107Zm9yKGc9YS5sZW5ndGg9MDtnPGMubGVuZ3RoOysrZylcInN0cmluZ1wiPT10eXBlb2YgY1tnXT9hLnB1c2goY1tnXSk6KChoPWEuam9pbihcIlwiKSkmJmIucHVzaChoKSxhLmxlbmd0aD0wLGIucHVzaChjW2ddKSk7KGg9YS5qb2luKFwiXCIpKSYmYi5wdXNoKGgpO2EubGVuZ3RoPTA7cmV0dXJuIGJ9O1xuQmxvY2tseS51dGlscy5nZW5VaWQ9ZnVuY3Rpb24oKXtmb3IodmFyIGE9QmxvY2tseS51dGlscy5nZW5VaWQuc291cF8ubGVuZ3RoLGI9W10sYz0wOzIwPmM7YysrKWJbY109QmxvY2tseS51dGlscy5nZW5VaWQuc291cF8uY2hhckF0KE1hdGgucmFuZG9tKCkqYSk7cmV0dXJuIGIuam9pbihcIlwiKX07QmxvY2tseS51dGlscy5nZW5VaWQuc291cF89XCIhIyQlKCkqKywtLi86Oz0/QFtdXl9ge3x9fkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7XG5CbG9ja2x5LnV0aWxzLmlzM2RTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtpZih2b2lkIDAhPT1CbG9ja2x5LnV0aWxzLmlzM2RTdXBwb3J0ZWQuY2FjaGVkXylyZXR1cm4gQmxvY2tseS51dGlscy5pczNkU3VwcG9ydGVkLmNhY2hlZF87aWYoIUJsb2NrbHkudXRpbHMuZ2xvYmFsLmdldENvbXB1dGVkU3R5bGUpcmV0dXJuITE7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIiksYj1cIm5vbmVcIixjPXt3ZWJraXRUcmFuc2Zvcm06XCItd2Via2l0LXRyYW5zZm9ybVwiLE9UcmFuc2Zvcm06XCItby10cmFuc2Zvcm1cIixtc1RyYW5zZm9ybTpcIi1tcy10cmFuc2Zvcm1cIixNb3pUcmFuc2Zvcm06XCItbW96LXRyYW5zZm9ybVwiLHRyYW5zZm9ybTpcInRyYW5zZm9ybVwifTtkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShhLG51bGwpO2Zvcih2YXIgZCBpbiBjKWlmKHZvaWQgMCE9PWEuc3R5bGVbZF0pe2Euc3R5bGVbZF09XCJ0cmFuc2xhdGUzZCgxcHgsMXB4LDFweClcIjtiPUJsb2NrbHkudXRpbHMuZ2xvYmFsLmdldENvbXB1dGVkU3R5bGUoYSk7XG5pZighYilyZXR1cm4gZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKSwhMTtiPWIuZ2V0UHJvcGVydHlWYWx1ZShjW2RdKX1kb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpO0Jsb2NrbHkudXRpbHMuaXMzZFN1cHBvcnRlZC5jYWNoZWRfPVwibm9uZVwiIT09YjtyZXR1cm4gQmxvY2tseS51dGlscy5pczNkU3VwcG9ydGVkLmNhY2hlZF99O0Jsb2NrbHkudXRpbHMucnVuQWZ0ZXJQYWdlTG9hZD1mdW5jdGlvbihhKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZG9jdW1lbnQpdGhyb3cgRXJyb3IoXCJCbG9ja2x5LnV0aWxzLnJ1bkFmdGVyUGFnZUxvYWQoKSByZXF1aXJlcyBicm93c2VyIGRvY3VtZW50LlwiKTtpZihcImNvbXBsZXRlXCI9PWRvY3VtZW50LnJlYWR5U3RhdGUpYSgpO2Vsc2UgdmFyIGI9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcImNvbXBsZXRlXCI9PWRvY3VtZW50LnJlYWR5U3RhdGUmJihjbGVhckludGVydmFsKGIpLGEoKSl9LDEwKX07XG5CbG9ja2x5LnV0aWxzLmdldFZpZXdwb3J0QkJveD1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkudXRpbHMuc3R5bGUuZ2V0Vmlld3BvcnRQYWdlT2Zmc2V0KCk7cmV0dXJue3JpZ2h0OmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCthLngsYm90dG9tOmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQrYS55LHRvcDphLnksbGVmdDphLnh9fTtCbG9ja2x5LnV0aWxzLmFycmF5UmVtb3ZlPWZ1bmN0aW9uKGEsYil7Yj1hLmluZGV4T2YoYik7aWYoLTE9PWIpcmV0dXJuITE7YS5zcGxpY2UoYiwxKTtyZXR1cm4hMH07XG5CbG9ja2x5LnV0aWxzLmdldERvY3VtZW50U2Nyb2xsPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGI9d2luZG93O3JldHVybiBCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5JRSYmYi5wYWdlWU9mZnNldCE9YS5zY3JvbGxUb3A/bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShhLnNjcm9sbExlZnQsYS5zY3JvbGxUb3ApOm5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoYi5wYWdlWE9mZnNldHx8YS5zY3JvbGxMZWZ0LGIucGFnZVlPZmZzZXR8fGEuc2Nyb2xsVG9wKX07QmxvY2tseS51dGlscy5nZXRCbG9ja1R5cGVDb3VudHM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1PYmplY3QuY3JlYXRlKG51bGwpLGQ9YS5nZXREZXNjZW5kYW50cyghMCk7YiYmKGE9YS5nZXROZXh0QmxvY2soKSkmJihhPWQuaW5kZXhPZihhKSxkLnNwbGljZShhLGQubGVuZ3RoLWEpKTtmb3IoYT0wO2I9ZFthXTthKyspY1tiLnR5cGVdP2NbYi50eXBlXSsrOmNbYi50eXBlXT0xO3JldHVybiBjfTtcbkJsb2NrbHkudXRpbHMuc2NyZWVuVG9Xc0Nvb3JkaW5hdGVzPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi54O2I9Yi55O3ZhciBkPWEuZ2V0SW5qZWN0aW9uRGl2KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Yz1uZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKGMtZC5sZWZ0LGItZC50b3ApO2I9YS5nZXRPcmlnaW5PZmZzZXRJblBpeGVscygpO3JldHVybiBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUuZGlmZmVyZW5jZShjLGIpLnNjYWxlKDEvYS5zY2FsZSl9O1xuQmxvY2tseS51dGlscy5wYXJzZUJsb2NrQ29sb3VyPWZ1bmN0aW9uKGEpe3ZhciBiPVwic3RyaW5nXCI9PXR5cGVvZiBhP0Jsb2NrbHkudXRpbHMucmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzKGEpOmEsYz1OdW1iZXIoYik7aWYoIWlzTmFOKGMpJiYwPD1jJiYzNjA+PWMpcmV0dXJue2h1ZTpjLGhleDpCbG9ja2x5LnV0aWxzLmNvbG91ci5oc3ZUb0hleChjLEJsb2NrbHkuSFNWX1NBVFVSQVRJT04sMjU1KkJsb2NrbHkuSFNWX1ZBTFVFKX07aWYoYz1CbG9ja2x5LnV0aWxzLmNvbG91ci5wYXJzZShiKSlyZXR1cm57aHVlOm51bGwsaGV4OmN9O2M9J0ludmFsaWQgY29sb3VyOiBcIicrYisnXCInO2EhPWImJihjKz0nIChmcm9tIFwiJythKydcIiknKTt0aHJvdyBFcnJvcihjKTt9O0Jsb2NrbHkuRXZlbnRzPXt9O0Jsb2NrbHkuRXZlbnRzLmdyb3VwXz1cIlwiO0Jsb2NrbHkuRXZlbnRzLnJlY29yZFVuZG89ITA7QmxvY2tseS5FdmVudHMuZGlzYWJsZWRfPTA7QmxvY2tseS5FdmVudHMuQ1JFQVRFPVwiY3JlYXRlXCI7QmxvY2tseS5FdmVudHMuQkxPQ0tfQ1JFQVRFPUJsb2NrbHkuRXZlbnRzLkNSRUFURTtCbG9ja2x5LkV2ZW50cy5ERUxFVEU9XCJkZWxldGVcIjtCbG9ja2x5LkV2ZW50cy5CTE9DS19ERUxFVEU9QmxvY2tseS5FdmVudHMuREVMRVRFO0Jsb2NrbHkuRXZlbnRzLkNIQU5HRT1cImNoYW5nZVwiO0Jsb2NrbHkuRXZlbnRzLkJMT0NLX0NIQU5HRT1CbG9ja2x5LkV2ZW50cy5DSEFOR0U7QmxvY2tseS5FdmVudHMuTU9WRT1cIm1vdmVcIjtCbG9ja2x5LkV2ZW50cy5CTE9DS19NT1ZFPUJsb2NrbHkuRXZlbnRzLk1PVkU7QmxvY2tseS5FdmVudHMuVkFSX0NSRUFURT1cInZhcl9jcmVhdGVcIjtCbG9ja2x5LkV2ZW50cy5WQVJfREVMRVRFPVwidmFyX2RlbGV0ZVwiO1xuQmxvY2tseS5FdmVudHMuVkFSX1JFTkFNRT1cInZhcl9yZW5hbWVcIjtCbG9ja2x5LkV2ZW50cy5VST1cInVpXCI7QmxvY2tseS5FdmVudHMuQ09NTUVOVF9DUkVBVEU9XCJjb21tZW50X2NyZWF0ZVwiO0Jsb2NrbHkuRXZlbnRzLkNPTU1FTlRfREVMRVRFPVwiY29tbWVudF9kZWxldGVcIjtCbG9ja2x5LkV2ZW50cy5DT01NRU5UX0NIQU5HRT1cImNvbW1lbnRfY2hhbmdlXCI7QmxvY2tseS5FdmVudHMuQ09NTUVOVF9NT1ZFPVwiY29tbWVudF9tb3ZlXCI7QmxvY2tseS5FdmVudHMuRklOSVNIRURfTE9BRElORz1cImZpbmlzaGVkX2xvYWRpbmdcIjtCbG9ja2x5LkV2ZW50cy5CVU1QX0VWRU5UUz1bQmxvY2tseS5FdmVudHMuQkxPQ0tfQ1JFQVRFLEJsb2NrbHkuRXZlbnRzLkJMT0NLX01PVkUsQmxvY2tseS5FdmVudHMuQ09NTUVOVF9DUkVBVEUsQmxvY2tseS5FdmVudHMuQ09NTUVOVF9NT1ZFXTtCbG9ja2x5LkV2ZW50cy5GSVJFX1FVRVVFXz1bXTtcbkJsb2NrbHkuRXZlbnRzLmZpcmU9ZnVuY3Rpb24oYSl7QmxvY2tseS5FdmVudHMuaXNFbmFibGVkKCkmJihCbG9ja2x5LkV2ZW50cy5GSVJFX1FVRVVFXy5sZW5ndGh8fHNldFRpbWVvdXQoQmxvY2tseS5FdmVudHMuZmlyZU5vd18sMCksQmxvY2tseS5FdmVudHMuRklSRV9RVUVVRV8ucHVzaChhKSl9O0Jsb2NrbHkuRXZlbnRzLmZpcmVOb3dfPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPUJsb2NrbHkuRXZlbnRzLmZpbHRlcihCbG9ja2x5LkV2ZW50cy5GSVJFX1FVRVVFXywhMCksYj1CbG9ja2x5LkV2ZW50cy5GSVJFX1FVRVVFXy5sZW5ndGg9MCxjO2M9YVtiXTtiKyspaWYoYy53b3Jrc3BhY2VJZCl7dmFyIGQ9QmxvY2tseS5Xb3Jrc3BhY2UuZ2V0QnlJZChjLndvcmtzcGFjZUlkKTtkJiZkLmZpcmVDaGFuZ2VMaXN0ZW5lcihjKX19O1xuQmxvY2tseS5FdmVudHMuZmlsdGVyPWZ1bmN0aW9uKGEsYil7YT1hLnNsaWNlKCk7Ynx8YS5yZXZlcnNlKCk7Zm9yKHZhciBjPVtdLGQ9T2JqZWN0LmNyZWF0ZShudWxsKSxlPTAsZjtmPWFbZV07ZSsrKWlmKCFmLmlzTnVsbCgpKXt2YXIgZz1bZi50eXBlLGYuYmxvY2tJZCxmLndvcmtzcGFjZUlkXS5qb2luKFwiIFwiKSxoPWRbZ10saz1oP2guZXZlbnQ6bnVsbDtpZighaClkW2ddPXtldmVudDpmLGluZGV4OmV9LGMucHVzaChmKTtlbHNlIGlmKGYudHlwZT09QmxvY2tseS5FdmVudHMuTU9WRSYmaC5pbmRleD09ZS0xKWsubmV3UGFyZW50SWQ9Zi5uZXdQYXJlbnRJZCxrLm5ld0lucHV0TmFtZT1mLm5ld0lucHV0TmFtZSxrLm5ld0Nvb3JkaW5hdGU9Zi5uZXdDb29yZGluYXRlLGguaW5kZXg9ZTtlbHNlIGlmKGYudHlwZT09QmxvY2tseS5FdmVudHMuQ0hBTkdFJiZmLmVsZW1lbnQ9PWsuZWxlbWVudCYmZi5uYW1lPT1rLm5hbWUpay5uZXdWYWx1ZT1mLm5ld1ZhbHVlO2Vsc2UgaWYoZi50eXBlIT1cbkJsb2NrbHkuRXZlbnRzLlVJfHxcImNsaWNrXCIhPWYuZWxlbWVudHx8XCJjb21tZW50T3BlblwiIT1rLmVsZW1lbnQmJlwibXV0YXRvck9wZW5cIiE9ay5lbGVtZW50JiZcIndhcm5pbmdPcGVuXCIhPWsuZWxlbWVudClkW2ddPXtldmVudDpmLGluZGV4OjF9LGMucHVzaChmKX1hPWMuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiFhLmlzTnVsbCgpfSk7Ynx8YS5yZXZlcnNlKCk7Zm9yKGU9MTtmPWFbZV07ZSsrKWYudHlwZT09QmxvY2tseS5FdmVudHMuQ0hBTkdFJiZcIm11dGF0aW9uXCI9PWYuZWxlbWVudCYmYS51bnNoaWZ0KGEuc3BsaWNlKGUsMSlbMF0pO3JldHVybiBhfTtCbG9ja2x5LkV2ZW50cy5jbGVhclBlbmRpbmdVbmRvPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYjtiPUJsb2NrbHkuRXZlbnRzLkZJUkVfUVVFVUVfW2FdO2ErKyliLnJlY29yZFVuZG89ITF9O0Jsb2NrbHkuRXZlbnRzLmRpc2FibGU9ZnVuY3Rpb24oKXtCbG9ja2x5LkV2ZW50cy5kaXNhYmxlZF8rK307XG5CbG9ja2x5LkV2ZW50cy5lbmFibGU9ZnVuY3Rpb24oKXtCbG9ja2x5LkV2ZW50cy5kaXNhYmxlZF8tLX07QmxvY2tseS5FdmVudHMuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PUJsb2NrbHkuRXZlbnRzLmRpc2FibGVkX307QmxvY2tseS5FdmVudHMuZ2V0R3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm4gQmxvY2tseS5FdmVudHMuZ3JvdXBffTtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cD1mdW5jdGlvbihhKXtCbG9ja2x5LkV2ZW50cy5ncm91cF89XCJib29sZWFuXCI9PXR5cGVvZiBhP2E/QmxvY2tseS51dGlscy5nZW5VaWQoKTpcIlwiOmF9O0Jsb2NrbHkuRXZlbnRzLmdldERlc2NlbmRhbnRJZHM9ZnVuY3Rpb24oYSl7dmFyIGI9W107YT1hLmdldERlc2NlbmRhbnRzKCExKTtmb3IodmFyIGM9MCxkO2Q9YVtjXTtjKyspYltjXT1kLmlkO3JldHVybiBifTtcbkJsb2NrbHkuRXZlbnRzLmZyb21Kc29uPWZ1bmN0aW9uKGEsYil7c3dpdGNoKGEudHlwZSl7Y2FzZSBCbG9ja2x5LkV2ZW50cy5DUkVBVEU6dmFyIGM9bmV3IEJsb2NrbHkuRXZlbnRzLkNyZWF0ZShudWxsKTticmVhaztjYXNlIEJsb2NrbHkuRXZlbnRzLkRFTEVURTpjPW5ldyBCbG9ja2x5LkV2ZW50cy5EZWxldGUobnVsbCk7YnJlYWs7Y2FzZSBCbG9ja2x5LkV2ZW50cy5DSEFOR0U6Yz1uZXcgQmxvY2tseS5FdmVudHMuQ2hhbmdlKG51bGwsXCJcIixcIlwiLFwiXCIsXCJcIik7YnJlYWs7Y2FzZSBCbG9ja2x5LkV2ZW50cy5NT1ZFOmM9bmV3IEJsb2NrbHkuRXZlbnRzLk1vdmUobnVsbCk7YnJlYWs7Y2FzZSBCbG9ja2x5LkV2ZW50cy5WQVJfQ1JFQVRFOmM9bmV3IEJsb2NrbHkuRXZlbnRzLlZhckNyZWF0ZShudWxsKTticmVhaztjYXNlIEJsb2NrbHkuRXZlbnRzLlZBUl9ERUxFVEU6Yz1uZXcgQmxvY2tseS5FdmVudHMuVmFyRGVsZXRlKG51bGwpO2JyZWFrO2Nhc2UgQmxvY2tseS5FdmVudHMuVkFSX1JFTkFNRTpjPVxubmV3IEJsb2NrbHkuRXZlbnRzLlZhclJlbmFtZShudWxsLFwiXCIpO2JyZWFrO2Nhc2UgQmxvY2tseS5FdmVudHMuVUk6Yz1uZXcgQmxvY2tseS5FdmVudHMuVWkobnVsbCxcIlwiLFwiXCIsXCJcIik7YnJlYWs7Y2FzZSBCbG9ja2x5LkV2ZW50cy5DT01NRU5UX0NSRUFURTpjPW5ldyBCbG9ja2x5LkV2ZW50cy5Db21tZW50Q3JlYXRlKG51bGwpO2JyZWFrO2Nhc2UgQmxvY2tseS5FdmVudHMuQ09NTUVOVF9DSEFOR0U6Yz1uZXcgQmxvY2tseS5FdmVudHMuQ29tbWVudENoYW5nZShudWxsLFwiXCIsXCJcIik7YnJlYWs7Y2FzZSBCbG9ja2x5LkV2ZW50cy5DT01NRU5UX01PVkU6Yz1uZXcgQmxvY2tseS5FdmVudHMuQ29tbWVudE1vdmUobnVsbCk7YnJlYWs7Y2FzZSBCbG9ja2x5LkV2ZW50cy5DT01NRU5UX0RFTEVURTpjPW5ldyBCbG9ja2x5LkV2ZW50cy5Db21tZW50RGVsZXRlKG51bGwpO2JyZWFrO2Nhc2UgQmxvY2tseS5FdmVudHMuRklOSVNIRURfTE9BRElORzpjPW5ldyBCbG9ja2x5LkV2ZW50cy5GaW5pc2hlZExvYWRpbmcoYik7XG5icmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5rbm93biBldmVudCB0eXBlLlwiKTt9Yy5mcm9tSnNvbihhKTtjLndvcmtzcGFjZUlkPWIuaWQ7cmV0dXJuIGN9O1xuQmxvY2tseS5FdmVudHMuZGlzYWJsZU9ycGhhbnM9ZnVuY3Rpb24oYSl7aWYoKGEudHlwZT09QmxvY2tseS5FdmVudHMuTU9WRXx8YS50eXBlPT1CbG9ja2x5LkV2ZW50cy5DUkVBVEUpJiZhLndvcmtzcGFjZUlkKXt2YXIgYj1CbG9ja2x5LldvcmtzcGFjZS5nZXRCeUlkKGEud29ya3NwYWNlSWQpO2lmKGE9Yi5nZXRCbG9ja0J5SWQoYS5ibG9ja0lkKSl7dmFyIGM9YS5nZXRQYXJlbnQoKTtpZihjJiZjLmlzRW5hYmxlZCgpKWZvcihiPWEuZ2V0RGVzY2VuZGFudHMoITEpLGE9MDtjPWJbYV07YSsrKWMuc2V0RW5hYmxlZCghMCk7ZWxzZSBpZigoYS5vdXRwdXRDb25uZWN0aW9ufHxhLnByZXZpb3VzQ29ubmVjdGlvbikmJiFiLmlzRHJhZ2dpbmcoKSl7ZG8gYS5zZXRFbmFibGVkKCExKSxhPWEuZ2V0TmV4dEJsb2NrKCk7d2hpbGUoYSl9fX19O0Jsb2NrbHkuRXZlbnRzLkFic3RyYWN0PWZ1bmN0aW9uKCl7dGhpcy53b3Jrc3BhY2VJZD12b2lkIDA7dGhpcy5ncm91cD1CbG9ja2x5LkV2ZW50cy5nZXRHcm91cCgpO3RoaXMucmVjb3JkVW5kbz1CbG9ja2x5LkV2ZW50cy5yZWNvcmRVbmRvfTtCbG9ja2x5LkV2ZW50cy5BYnN0cmFjdC5wcm90b3R5cGUudG9Kc29uPWZ1bmN0aW9uKCl7dmFyIGE9e3R5cGU6dGhpcy50eXBlfTt0aGlzLmdyb3VwJiYoYS5ncm91cD10aGlzLmdyb3VwKTtyZXR1cm4gYX07QmxvY2tseS5FdmVudHMuQWJzdHJhY3QucHJvdG90eXBlLmZyb21Kc29uPWZ1bmN0aW9uKGEpe3RoaXMuZ3JvdXA9YS5ncm91cH07QmxvY2tseS5FdmVudHMuQWJzdHJhY3QucHJvdG90eXBlLmlzTnVsbD1mdW5jdGlvbigpe3JldHVybiExfTtCbG9ja2x5LkV2ZW50cy5BYnN0cmFjdC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKGEpe307XG5CbG9ja2x5LkV2ZW50cy5BYnN0cmFjdC5wcm90b3R5cGUuZ2V0RXZlbnRXb3Jrc3BhY2VfPWZ1bmN0aW9uKCl7aWYodGhpcy53b3Jrc3BhY2VJZCl2YXIgYT1CbG9ja2x5LldvcmtzcGFjZS5nZXRCeUlkKHRoaXMud29ya3NwYWNlSWQpO2lmKCFhKXRocm93IEVycm9yKFwiV29ya3NwYWNlIGlzIG51bGwuIEV2ZW50IG11c3QgaGF2ZSBiZWVuIGdlbmVyYXRlZCBmcm9tIHJlYWwgQmxvY2tseSBldmVudHMuXCIpO3JldHVybiBhfTtCbG9ja2x5LnV0aWxzLm9iamVjdD17fTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cz1mdW5jdGlvbihhLGIpe2Euc3VwZXJDbGFzc189Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSk7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YX07QmxvY2tseS51dGlscy5vYmplY3QubWl4aW49ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGMgaW4gYilhW2NdPWJbY119O0Jsb2NrbHkudXRpbHMub2JqZWN0LmRlZXBNZXJnZT1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYyBpbiBiKWFbY109XCJvYmplY3RcIj09PXR5cGVvZiBiW2NdP0Jsb2NrbHkudXRpbHMub2JqZWN0LmRlZXBNZXJnZShhW2NdfHxPYmplY3QuY3JlYXRlKG51bGwpLGJbY10pOmJbY107cmV0dXJuIGF9O0Jsb2NrbHkudXRpbHMub2JqZWN0LnZhbHVlcz1mdW5jdGlvbihhKXtyZXR1cm4gT2JqZWN0LnZhbHVlcz9PYmplY3QudmFsdWVzKGEpOk9iamVjdC5rZXlzKGEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gYVtiXX0pfTtCbG9ja2x5LkV2ZW50cy5VaT1mdW5jdGlvbihhLGIsYyxkKXtCbG9ja2x5LkV2ZW50cy5VaS5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuYmxvY2tJZD1hP2EuaWQ6bnVsbDt0aGlzLndvcmtzcGFjZUlkPWE/YS53b3Jrc3BhY2UuaWQ6dm9pZCAwO3RoaXMuZWxlbWVudD1iO3RoaXMub2xkVmFsdWU9Yzt0aGlzLm5ld1ZhbHVlPWQ7dGhpcy5yZWNvcmRVbmRvPSExfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LkV2ZW50cy5VaSxCbG9ja2x5LkV2ZW50cy5BYnN0cmFjdCk7QmxvY2tseS5FdmVudHMuVWkucHJvdG90eXBlLnR5cGU9QmxvY2tseS5FdmVudHMuVUk7XG5CbG9ja2x5LkV2ZW50cy5VaS5wcm90b3R5cGUudG9Kc29uPWZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS5FdmVudHMuVWkuc3VwZXJDbGFzc18udG9Kc29uLmNhbGwodGhpcyk7YS5lbGVtZW50PXRoaXMuZWxlbWVudDt2b2lkIDAhPT10aGlzLm5ld1ZhbHVlJiYoYS5uZXdWYWx1ZT10aGlzLm5ld1ZhbHVlKTt0aGlzLmJsb2NrSWQmJihhLmJsb2NrSWQ9dGhpcy5ibG9ja0lkKTtyZXR1cm4gYX07QmxvY2tseS5FdmVudHMuVWkucHJvdG90eXBlLmZyb21Kc29uPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuRXZlbnRzLlVpLnN1cGVyQ2xhc3NfLmZyb21Kc29uLmNhbGwodGhpcyxhKTt0aGlzLmVsZW1lbnQ9YS5lbGVtZW50O3RoaXMubmV3VmFsdWU9YS5uZXdWYWx1ZTt0aGlzLmJsb2NrSWQ9YS5ibG9ja0lkfTtCbG9ja2x5LnV0aWxzLmRvbT17fTtCbG9ja2x5LnV0aWxzLmRvbS5TVkdfTlM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO0Jsb2NrbHkudXRpbHMuZG9tLkhUTUxfTlM9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI7QmxvY2tseS51dGlscy5kb20uWExJTktfTlM9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI7QmxvY2tseS51dGlscy5kb20uTm9kZT17RUxFTUVOVF9OT0RFOjEsVEVYVF9OT0RFOjMsQ09NTUVOVF9OT0RFOjgsRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZOjE2fTtCbG9ja2x5LnV0aWxzLmRvbS5jYWNoZVdpZHRoc189bnVsbDtCbG9ja2x5LnV0aWxzLmRvbS5jYWNoZVJlZmVyZW5jZV89MDtCbG9ja2x5LnV0aWxzLmRvbS5jYW52YXNDb250ZXh0Xz1udWxsO1xuQmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudD1mdW5jdGlvbihhLGIsYyl7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoQmxvY2tseS51dGlscy5kb20uU1ZHX05TLGEpO2Zvcih2YXIgZCBpbiBiKWEuc2V0QXR0cmlidXRlKGQsYltkXSk7ZG9jdW1lbnQuYm9keS5ydW50aW1lU3R5bGUmJihhLnJ1bnRpbWVTdHlsZT1hLmN1cnJlbnRTdHlsZT1hLnN0eWxlKTtjJiZjLmFwcGVuZENoaWxkKGEpO3JldHVybiBhfTtCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcz1mdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCI7aWYoLTEhPShcIiBcIitjK1wiIFwiKS5pbmRleE9mKFwiIFwiK2IrXCIgXCIpKXJldHVybiExO2MmJihjKz1cIiBcIik7YS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGMrYik7cmV0dXJuITB9O1xuQmxvY2tseS51dGlscy5kb20ucmVtb3ZlQ2xhc3M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO2lmKC0xPT0oXCIgXCIrYytcIiBcIikuaW5kZXhPZihcIiBcIitiK1wiIFwiKSlyZXR1cm4hMTtjPWMuc3BsaXQoL1xccysvKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyljW2RdJiZjW2RdIT1ifHwoYy5zcGxpY2UoZCwxKSxkLS0pO2MubGVuZ3RoP2Euc2V0QXR0cmlidXRlKFwiY2xhc3NcIixjLmpvaW4oXCIgXCIpKTphLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO3JldHVybiEwfTtCbG9ja2x5LnV0aWxzLmRvbS5oYXNDbGFzcz1mdW5jdGlvbihhLGIpe3JldHVybi0xIT0oXCIgXCIrYS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKStcIiBcIikuaW5kZXhPZihcIiBcIitiK1wiIFwiKX07QmxvY2tseS51dGlscy5kb20ucmVtb3ZlTm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmYS5wYXJlbnROb2RlP2EucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKTpudWxsfTtcbkJsb2NrbHkudXRpbHMuZG9tLmluc2VydEFmdGVyPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5uZXh0U2libGluZztiPWIucGFyZW50Tm9kZTtpZighYil0aHJvdyBFcnJvcihcIlJlZmVyZW5jZSBub2RlIGhhcyBubyBwYXJlbnQuXCIpO2M/Yi5pbnNlcnRCZWZvcmUoYSxjKTpiLmFwcGVuZENoaWxkKGEpfTtCbG9ja2x5LnV0aWxzLmRvbS5jb250YWluc05vZGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hIShhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpJkJsb2NrbHkudXRpbHMuZG9tLk5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZKX07QmxvY2tseS51dGlscy5kb20uc2V0Q3NzVHJhbnNmb3JtPWZ1bmN0aW9uKGEsYil7YS5zdHlsZS50cmFuc2Zvcm09YjthLnN0eWxlW1wiLXdlYmtpdC10cmFuc2Zvcm1cIl09Yn07XG5CbG9ja2x5LnV0aWxzLmRvbS5zdGFydFRleHRXaWR0aENhY2hlPWZ1bmN0aW9uKCl7QmxvY2tseS51dGlscy5kb20uY2FjaGVSZWZlcmVuY2VfKys7QmxvY2tseS51dGlscy5kb20uY2FjaGVXaWR0aHNffHwoQmxvY2tseS51dGlscy5kb20uY2FjaGVXaWR0aHNfPXt9KX07QmxvY2tseS51dGlscy5kb20uc3RvcFRleHRXaWR0aENhY2hlPWZ1bmN0aW9uKCl7QmxvY2tseS51dGlscy5kb20uY2FjaGVSZWZlcmVuY2VfLS07QmxvY2tseS51dGlscy5kb20uY2FjaGVSZWZlcmVuY2VffHwoQmxvY2tseS51dGlscy5kb20uY2FjaGVXaWR0aHNfPW51bGwpfTtcbkJsb2NrbHkudXRpbHMuZG9tLmdldFRleHRXaWR0aD1mdW5jdGlvbihhKXt2YXIgYj1hLnRleHRDb250ZW50K1wiXFxuXCIrYS5jbGFzc05hbWUuYmFzZVZhbCxjO2lmKEJsb2NrbHkudXRpbHMuZG9tLmNhY2hlV2lkdGhzXyYmKGM9QmxvY2tseS51dGlscy5kb20uY2FjaGVXaWR0aHNfW2JdKSlyZXR1cm4gYzt0cnl7Yz1CbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5JRXx8QmxvY2tseS51dGlscy51c2VyQWdlbnQuRURHRT9hLmdldEJCb3goKS53aWR0aDphLmdldENvbXB1dGVkVGV4dExlbmd0aCgpfWNhdGNoKGQpe3JldHVybiA4KmEudGV4dENvbnRlbnQubGVuZ3RofUJsb2NrbHkudXRpbHMuZG9tLmNhY2hlV2lkdGhzXyYmKEJsb2NrbHkudXRpbHMuZG9tLmNhY2hlV2lkdGhzX1tiXT1jKTtyZXR1cm4gY307XG5CbG9ja2x5LnV0aWxzLmRvbS5nZXRGYXN0VGV4dFdpZHRoPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBCbG9ja2x5LnV0aWxzLmRvbS5nZXRGYXN0VGV4dFdpZHRoV2l0aFNpemVTdHJpbmcoYSxiK1wicHRcIixjLGQpfTtcbkJsb2NrbHkudXRpbHMuZG9tLmdldEZhc3RUZXh0V2lkdGhXaXRoU2l6ZVN0cmluZz1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1hLnRleHRDb250ZW50O2E9ZStcIlxcblwiK2EuY2xhc3NOYW1lLmJhc2VWYWw7dmFyIGY7aWYoQmxvY2tseS51dGlscy5kb20uY2FjaGVXaWR0aHNfJiYoZj1CbG9ja2x5LnV0aWxzLmRvbS5jYWNoZVdpZHRoc19bYV0pKXJldHVybiBmO0Jsb2NrbHkudXRpbHMuZG9tLmNhbnZhc0NvbnRleHRffHwoZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLGYuY2xhc3NOYW1lPVwiYmxvY2tseUNvbXB1dGVDYW52YXNcIixkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGYpLEJsb2NrbHkudXRpbHMuZG9tLmNhbnZhc0NvbnRleHRfPWYuZ2V0Q29udGV4dChcIjJkXCIpKTtCbG9ja2x5LnV0aWxzLmRvbS5jYW52YXNDb250ZXh0Xy5mb250PWMrXCIgXCIrYitcIiBcIitkO2Y9QmxvY2tseS51dGlscy5kb20uY2FudmFzQ29udGV4dF8ubWVhc3VyZVRleHQoZSkud2lkdGg7QmxvY2tseS51dGlscy5kb20uY2FjaGVXaWR0aHNfJiZcbihCbG9ja2x5LnV0aWxzLmRvbS5jYWNoZVdpZHRoc19bYV09Zik7cmV0dXJuIGZ9O1xuQmxvY2tseS51dGlscy5kb20ubWVhc3VyZUZvbnRNZXRyaWNzPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2Uuc3R5bGUuZm9udD1jK1wiIFwiK2IrXCIgXCIrZDtlLnRleHRDb250ZW50PWE7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Euc3R5bGUud2lkdGg9XCIxcHhcIjthLnN0eWxlLmhlaWdodD1cIjBweFwiO2I9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtiLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJwb3NpdGlvbjogZml4ZWQ7IHRvcDogMDsgbGVmdDogMDsgZGlzcGxheTogZmxleDtcIik7Yi5hcHBlbmRDaGlsZChlKTtiLmFwcGVuZENoaWxkKGEpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYik7dHJ5e2M9e30sYi5zdHlsZS5hbGlnbkl0ZW1zPVwiYmFzZWxpbmVcIixjLmJhc2VsaW5lPWEub2Zmc2V0VG9wLWUub2Zmc2V0VG9wLGIuc3R5bGUuYWxpZ25JdGVtcz1cImZsZXgtZW5kXCIsYy5oZWlnaHQ9YS5vZmZzZXRUb3AtXG5lLm9mZnNldFRvcH1maW5hbGx5e2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYil9cmV0dXJuIGN9O0Jsb2NrbHkuQmxvY2tEcmFnU3VyZmFjZVN2Zz1mdW5jdGlvbihhKXt0aGlzLmNvbnRhaW5lcl89YTt0aGlzLmNyZWF0ZURvbSgpfTtCbG9ja2x5LkJsb2NrRHJhZ1N1cmZhY2VTdmcucHJvdG90eXBlLlNWR189bnVsbDtCbG9ja2x5LkJsb2NrRHJhZ1N1cmZhY2VTdmcucHJvdG90eXBlLmRyYWdHcm91cF89bnVsbDtCbG9ja2x5LkJsb2NrRHJhZ1N1cmZhY2VTdmcucHJvdG90eXBlLmNvbnRhaW5lcl89bnVsbDtCbG9ja2x5LkJsb2NrRHJhZ1N1cmZhY2VTdmcucHJvdG90eXBlLnNjYWxlXz0xO0Jsb2NrbHkuQmxvY2tEcmFnU3VyZmFjZVN2Zy5wcm90b3R5cGUuc3VyZmFjZVhZXz1udWxsO1xuQmxvY2tseS5CbG9ja0RyYWdTdXJmYWNlU3ZnLnByb3RvdHlwZS5jcmVhdGVEb209ZnVuY3Rpb24oKXt0aGlzLlNWR198fCh0aGlzLlNWR189QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInN2Z1wiLHt4bWxuczpCbG9ja2x5LnV0aWxzLmRvbS5TVkdfTlMsXCJ4bWxuczpodG1sXCI6QmxvY2tseS51dGlscy5kb20uSFRNTF9OUyxcInhtbG5zOnhsaW5rXCI6QmxvY2tseS51dGlscy5kb20uWExJTktfTlMsdmVyc2lvbjpcIjEuMVwiLFwiY2xhc3NcIjpcImJsb2NrbHlCbG9ja0RyYWdTdXJmYWNlXCJ9LHRoaXMuY29udGFpbmVyXyksdGhpcy5kcmFnR3JvdXBfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJnXCIse30sdGhpcy5TVkdfKSl9O1xuQmxvY2tseS5CbG9ja0RyYWdTdXJmYWNlU3ZnLnByb3RvdHlwZS5zZXRCbG9ja3NBbmRTaG93PWZ1bmN0aW9uKGEpe2lmKHRoaXMuZHJhZ0dyb3VwXy5jaGlsZE5vZGVzLmxlbmd0aCl0aHJvdyBFcnJvcihcIkFscmVhZHkgZHJhZ2dpbmcgYSBibG9jay5cIik7dGhpcy5kcmFnR3JvdXBfLmFwcGVuZENoaWxkKGEpO3RoaXMuU1ZHXy5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjt0aGlzLnN1cmZhY2VYWV89bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZSgwLDApfTtCbG9ja2x5LkJsb2NrRHJhZ1N1cmZhY2VTdmcucHJvdG90eXBlLnRyYW5zbGF0ZUFuZFNjYWxlR3JvdXA9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuc2NhbGVfPWM7YT1hLnRvRml4ZWQoMCk7Yj1iLnRvRml4ZWQoMCk7dGhpcy5kcmFnR3JvdXBfLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiK2ErXCIsXCIrYitcIikgc2NhbGUoXCIrYytcIilcIil9O1xuQmxvY2tseS5CbG9ja0RyYWdTdXJmYWNlU3ZnLnByb3RvdHlwZS50cmFuc2xhdGVTdXJmYWNlSW50ZXJuYWxfPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdXJmYWNlWFlfLngsYj10aGlzLnN1cmZhY2VYWV8ueTthPWEudG9GaXhlZCgwKTtiPWIudG9GaXhlZCgwKTt0aGlzLlNWR18uc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7QmxvY2tseS51dGlscy5kb20uc2V0Q3NzVHJhbnNmb3JtKHRoaXMuU1ZHXyxcInRyYW5zbGF0ZTNkKFwiK2ErXCJweCwgXCIrYitcInB4LCAwcHgpXCIpfTtCbG9ja2x5LkJsb2NrRHJhZ1N1cmZhY2VTdmcucHJvdG90eXBlLnRyYW5zbGF0ZVN1cmZhY2U9ZnVuY3Rpb24oYSxiKXt0aGlzLnN1cmZhY2VYWV89bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShhKnRoaXMuc2NhbGVfLGIqdGhpcy5zY2FsZV8pO3RoaXMudHJhbnNsYXRlU3VyZmFjZUludGVybmFsXygpfTtcbkJsb2NrbHkuQmxvY2tEcmFnU3VyZmFjZVN2Zy5wcm90b3R5cGUuZ2V0U3VyZmFjZVRyYW5zbGF0aW9uPWZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS51dGlscy5nZXRSZWxhdGl2ZVhZKHRoaXMuU1ZHXyk7cmV0dXJuIG5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoYS54L3RoaXMuc2NhbGVfLGEueS90aGlzLnNjYWxlXyl9O0Jsb2NrbHkuQmxvY2tEcmFnU3VyZmFjZVN2Zy5wcm90b3R5cGUuZ2V0R3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmFnR3JvdXBffTtCbG9ja2x5LkJsb2NrRHJhZ1N1cmZhY2VTdmcucHJvdG90eXBlLmdldEN1cnJlbnRCbG9jaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRyYWdHcm91cF8uZmlyc3RDaGlsZH07XG5CbG9ja2x5LkJsb2NrRHJhZ1N1cmZhY2VTdmcucHJvdG90eXBlLmNsZWFyQW5kSGlkZT1mdW5jdGlvbihhKXthP2EuYXBwZW5kQ2hpbGQodGhpcy5nZXRDdXJyZW50QmxvY2soKSk6dGhpcy5kcmFnR3JvdXBfLnJlbW92ZUNoaWxkKHRoaXMuZ2V0Q3VycmVudEJsb2NrKCkpO3RoaXMuU1ZHXy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2lmKHRoaXMuZHJhZ0dyb3VwXy5jaGlsZE5vZGVzLmxlbmd0aCl0aHJvdyBFcnJvcihcIkRyYWcgZ3JvdXAgd2FzIG5vdCBjbGVhcmVkLlwiKTt0aGlzLnN1cmZhY2VYWV89bnVsbH07QmxvY2tseS51dGlscy5JZEdlbmVyYXRvcj17fTtCbG9ja2x5LnV0aWxzLklkR2VuZXJhdG9yLm5leHRJZF89MDtCbG9ja2x5LnV0aWxzLklkR2VuZXJhdG9yLmdldE5leHRVbmlxdWVJZD1mdW5jdGlvbigpe3JldHVyblwiYmxvY2tseTpcIisoQmxvY2tseS51dGlscy5JZEdlbmVyYXRvci5uZXh0SWRfKyspLnRvU3RyaW5nKDM2KX07QmxvY2tseS5Db21wb25lbnQ9ZnVuY3Rpb24oKXt0aGlzLnJpZ2h0VG9MZWZ0Xz1CbG9ja2x5LkNvbXBvbmVudC5kZWZhdWx0UmlnaHRUb0xlZnQ7dGhpcy5pZF89bnVsbDt0aGlzLmluRG9jdW1lbnRfPSExO3RoaXMucGFyZW50Xz10aGlzLmVsZW1lbnRfPW51bGw7dGhpcy5jaGlsZHJlbl89W107dGhpcy5jaGlsZEluZGV4Xz17fX07QmxvY2tseS5Db21wb25lbnQuZGVmYXVsdFJpZ2h0VG9MZWZ0PSExO0Jsb2NrbHkuQ29tcG9uZW50LkVycm9yPXtBTFJFQURZX1JFTkRFUkVEOlwiQ29tcG9uZW50IGFscmVhZHkgcmVuZGVyZWRcIixQQVJFTlRfVU5BQkxFX1RPX0JFX1NFVDpcIlVuYWJsZSB0byBzZXQgcGFyZW50IGNvbXBvbmVudFwiLENISUxEX0lOREVYX09VVF9PRl9CT1VORFM6XCJDaGlsZCBjb21wb25lbnQgaW5kZXggb3V0IG9mIGJvdW5kc1wifTtCbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0SWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZF98fCh0aGlzLmlkXz1CbG9ja2x5LnV0aWxzLklkR2VuZXJhdG9yLmdldE5leHRVbmlxdWVJZCgpKX07XG5CbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnRffTtCbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuc2V0RWxlbWVudEludGVybmFsPWZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudF89YX07QmxvY2tseS5Db21wb25lbnQucHJvdG90eXBlLnNldFBhcmVudD1mdW5jdGlvbihhKXtpZih0aGlzPT1hKXRocm93IEVycm9yKEJsb2NrbHkuQ29tcG9uZW50LkVycm9yLlBBUkVOVF9VTkFCTEVfVE9fQkVfU0VUKTtpZihhJiZ0aGlzLnBhcmVudF8mJnRoaXMuaWRfJiZ0aGlzLnBhcmVudF8uZ2V0Q2hpbGQodGhpcy5pZF8pJiZ0aGlzLnBhcmVudF8hPWEpdGhyb3cgRXJyb3IoQmxvY2tseS5Db21wb25lbnQuRXJyb3IuUEFSRU5UX1VOQUJMRV9UT19CRV9TRVQpO3RoaXMucGFyZW50Xz1hfTtCbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0UGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50X307XG5CbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuaXNJbkRvY3VtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5Eb2N1bWVudF99O0Jsb2NrbHkuQ29tcG9uZW50LnByb3RvdHlwZS5jcmVhdGVEb209ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnRfPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIil9O0Jsb2NrbHkuQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oYSl7dGhpcy5yZW5kZXJfKGEpfTtCbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyQmVmb3JlPWZ1bmN0aW9uKGEpe3RoaXMucmVuZGVyXyhhLnBhcmVudE5vZGUsYSl9O1xuQmxvY2tseS5Db21wb25lbnQucHJvdG90eXBlLnJlbmRlcl89ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmluRG9jdW1lbnRfKXRocm93IEVycm9yKEJsb2NrbHkuQ29tcG9uZW50LkVycm9yLkFMUkVBRFlfUkVOREVSRUQpO3RoaXMuZWxlbWVudF98fHRoaXMuY3JlYXRlRG9tKCk7YT9hLmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnRfLGJ8fG51bGwpOmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50Xyk7dGhpcy5wYXJlbnRfJiYhdGhpcy5wYXJlbnRfLmlzSW5Eb2N1bWVudCgpfHx0aGlzLmVudGVyRG9jdW1lbnQoKX07QmxvY2tseS5Db21wb25lbnQucHJvdG90eXBlLmVudGVyRG9jdW1lbnQ9ZnVuY3Rpb24oKXt0aGlzLmluRG9jdW1lbnRfPSEwO3RoaXMuZm9yRWFjaENoaWxkKGZ1bmN0aW9uKGEpeyFhLmlzSW5Eb2N1bWVudCgpJiZhLmdldEVsZW1lbnQoKSYmYS5lbnRlckRvY3VtZW50KCl9KX07XG5CbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuZXhpdERvY3VtZW50PWZ1bmN0aW9uKCl7dGhpcy5mb3JFYWNoQ2hpbGQoZnVuY3Rpb24oYSl7YS5pc0luRG9jdW1lbnQoKSYmYS5leGl0RG9jdW1lbnQoKX0pO3RoaXMuaW5Eb2N1bWVudF89ITF9O0Jsb2NrbHkuQ29tcG9uZW50LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5kaXNwb3NlZF98fCh0aGlzLmRpc3Bvc2VkXz0hMCx0aGlzLmRpc3Bvc2VJbnRlcm5hbCgpKX07XG5CbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsPWZ1bmN0aW9uKCl7dGhpcy5pbkRvY3VtZW50XyYmdGhpcy5leGl0RG9jdW1lbnQoKTt0aGlzLmZvckVhY2hDaGlsZChmdW5jdGlvbihhKXthLmRpc3Bvc2UoKX0pO3RoaXMuZWxlbWVudF8mJkJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZU5vZGUodGhpcy5lbGVtZW50Xyk7dGhpcy5wYXJlbnRfPXRoaXMuZWxlbWVudF89dGhpcy5jaGlsZEluZGV4Xz10aGlzLmNoaWxkcmVuXz1udWxsfTtCbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuYWRkQ2hpbGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmFkZENoaWxkQXQoYSx0aGlzLmdldENoaWxkQ291bnQoKSxiKX07XG5CbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuYWRkQ2hpbGRBdD1mdW5jdGlvbihhLGIsYyl7aWYoYS5pbkRvY3VtZW50XyYmKGN8fCF0aGlzLmluRG9jdW1lbnRfKSl0aHJvdyBFcnJvcihCbG9ja2x5LkNvbXBvbmVudC5FcnJvci5BTFJFQURZX1JFTkRFUkVEKTtpZigwPmJ8fGI+dGhpcy5nZXRDaGlsZENvdW50KCkpdGhyb3cgRXJyb3IoQmxvY2tseS5Db21wb25lbnQuRXJyb3IuQ0hJTERfSU5ERVhfT1VUX09GX0JPVU5EUyk7dGhpcy5jaGlsZEluZGV4X1thLmdldElkKCldPWE7aWYoYS5nZXRQYXJlbnQoKT09dGhpcyl7dmFyIGQ9dGhpcy5jaGlsZHJlbl8uaW5kZXhPZihhKTstMTxkJiZ0aGlzLmNoaWxkcmVuXy5zcGxpY2UoZCwxKX1hLnNldFBhcmVudCh0aGlzKTt0aGlzLmNoaWxkcmVuXy5zcGxpY2UoYiwwLGEpO2EuaW5Eb2N1bWVudF8mJnRoaXMuaW5Eb2N1bWVudF8mJmEuZ2V0UGFyZW50KCk9PXRoaXM/KGM9dGhpcy5nZXRDb250ZW50RWxlbWVudCgpLGI9Yy5jaGlsZE5vZGVzW2JdfHxcbm51bGwsYiE9YS5nZXRFbGVtZW50KCkmJmMuaW5zZXJ0QmVmb3JlKGEuZ2V0RWxlbWVudCgpLGIpKTpjPyh0aGlzLmVsZW1lbnRffHx0aGlzLmNyZWF0ZURvbSgpLGI9dGhpcy5nZXRDaGlsZEF0KGIrMSksYS5yZW5kZXJfKHRoaXMuZ2V0Q29udGVudEVsZW1lbnQoKSxiP2IuZWxlbWVudF86bnVsbCkpOnRoaXMuaW5Eb2N1bWVudF8mJiFhLmluRG9jdW1lbnRfJiZhLmVsZW1lbnRfJiZhLmVsZW1lbnRfLnBhcmVudE5vZGUmJmEuZWxlbWVudF8ucGFyZW50Tm9kZS5ub2RlVHlwZT09QmxvY2tseS51dGlscy5kb20uTm9kZS5FTEVNRU5UX05PREUmJmEuZW50ZXJEb2N1bWVudCgpfTtCbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0Q29udGVudEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50X307XG5CbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuc2V0UmlnaHRUb0xlZnQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5pbkRvY3VtZW50Xyl0aHJvdyBFcnJvcihCbG9ja2x5LkNvbXBvbmVudC5FcnJvci5BTFJFQURZX1JFTkRFUkVEKTt0aGlzLnJpZ2h0VG9MZWZ0Xz1hfTtCbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuaGFzQ2hpbGRyZW49ZnVuY3Rpb24oKXtyZXR1cm4gMCE9dGhpcy5jaGlsZHJlbl8ubGVuZ3RofTtCbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuZ2V0Q2hpbGRDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoaWxkcmVuXy5sZW5ndGh9O0Jsb2NrbHkuQ29tcG9uZW50LnByb3RvdHlwZS5nZXRDaGlsZD1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmNoaWxkSW5kZXhfW2FdfHxudWxsOm51bGx9O0Jsb2NrbHkuQ29tcG9uZW50LnByb3RvdHlwZS5nZXRDaGlsZEF0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNoaWxkcmVuX1thXXx8bnVsbH07XG5CbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuZm9yRWFjaENoaWxkPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLmNoaWxkcmVuXy5sZW5ndGg7YysrKWEuY2FsbChiLHRoaXMuY2hpbGRyZW5fW2NdLGMpfTtCbG9ja2x5LkNvbXBvbmVudC5wcm90b3R5cGUuaW5kZXhPZkNoaWxkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNoaWxkcmVuXy5pbmRleE9mKGEpfTtCbG9ja2x5LkNzcz17fTtCbG9ja2x5LkNzcy5pbmplY3RlZF89ITE7QmxvY2tseS5Dc3MucmVnaXN0ZXI9ZnVuY3Rpb24oYSl7aWYoQmxvY2tseS5Dc3MuaW5qZWN0ZWRfKXRocm93IEVycm9yKFwiQ1NTIGFscmVhZHkgaW5qZWN0ZWRcIik7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoQmxvY2tseS5Dc3MuQ09OVEVOVCxhKTthLmxlbmd0aD0wfTtcbkJsb2NrbHkuQ3NzLmluamVjdD1mdW5jdGlvbihhLGIpe2lmKCFCbG9ja2x5LkNzcy5pbmplY3RlZF8pe0Jsb2NrbHkuQ3NzLmluamVjdGVkXz0hMDt2YXIgYz1CbG9ja2x5LkNzcy5DT05URU5ULmpvaW4oXCJcXG5cIik7QmxvY2tseS5Dc3MuQ09OVEVOVC5sZW5ndGg9MDthJiYoYT1iLnJlcGxhY2UoL1tcXFxcL10kLyxcIlwiKSxjPWMucmVwbGFjZSgvPDw8UEFUSD4+Pi9nLGEpLGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLGEuaWQ9XCJibG9ja2x5LWNvbW1vbi1zdHlsZVwiLGM9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYyksYS5hcHBlbmRDaGlsZChjKSxkb2N1bWVudC5oZWFkLmluc2VydEJlZm9yZShhLGRvY3VtZW50LmhlYWQuZmlyc3RDaGlsZCkpfX07QmxvY2tseS5Dc3Muc2V0Q3Vyc29yPWZ1bmN0aW9uKGEpe2NvbnNvbGUud2FybihcIkRlcHJlY2F0ZWQgY2FsbCB0byBCbG9ja2x5LkNzcy5zZXRDdXJzb3IuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvaXNzdWVzLzk4MSBmb3IgY29udGV4dFwiKX07XG5CbG9ja2x5LkNzcy5DT05URU5UPVtcIi5ibG9ja2x5U3ZnIHtcIixcImJhY2tncm91bmQtY29sb3I6ICNmZmY7XCIsXCJvdXRsaW5lOiBub25lO1wiLFwib3ZlcmZsb3c6IGhpZGRlbjtcIixcInBvc2l0aW9uOiBhYnNvbHV0ZTtcIixcImRpc3BsYXk6IGJsb2NrO1wiLFwifVwiLFwiLmJsb2NrbHlXaWRnZXREaXYge1wiLFwiZGlzcGxheTogbm9uZTtcIixcInBvc2l0aW9uOiBhYnNvbHV0ZTtcIixcInotaW5kZXg6IDk5OTk5O1wiLFwifVwiLFwiLmluamVjdGlvbkRpdiB7XCIsXCJoZWlnaHQ6IDEwMCU7XCIsXCJwb3NpdGlvbjogcmVsYXRpdmU7XCIsXCJvdmVyZmxvdzogaGlkZGVuO1wiLFwidG91Y2gtYWN0aW9uOiBub25lO1wiLFwifVwiLFwiLmJsb2NrbHlOb25TZWxlY3RhYmxlIHtcIixcInVzZXItc2VsZWN0OiBub25lO1wiLFwiLW1zLXVzZXItc2VsZWN0OiBub25lO1wiLFwiLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcIixcIn1cIixcIi5ibG9ja2x5V3NEcmFnU3VyZmFjZSB7XCIsXCJkaXNwbGF5OiBub25lO1wiLFwicG9zaXRpb246IGFic29sdXRlO1wiLFwidG9wOiAwO1wiLFxuXCJsZWZ0OiAwO1wiLFwifVwiLFwiLmJsb2NrbHlXc0RyYWdTdXJmYWNlLmJsb2NrbHlPdmVyZmxvd1Zpc2libGUge1wiLFwib3ZlcmZsb3c6IHZpc2libGU7XCIsXCJ9XCIsXCIuYmxvY2tseUJsb2NrRHJhZ1N1cmZhY2Uge1wiLFwiZGlzcGxheTogbm9uZTtcIixcInBvc2l0aW9uOiBhYnNvbHV0ZTtcIixcInRvcDogMDtcIixcImxlZnQ6IDA7XCIsXCJyaWdodDogMDtcIixcImJvdHRvbTogMDtcIixcIm92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7XCIsXCJ6LWluZGV4OiA1MDtcIixcIn1cIixcIi5ibG9ja2x5QmxvY2tDYW52YXMuYmxvY2tseUNhbnZhc1RyYW5zaXRpb25pbmcsXCIsXCIuYmxvY2tseUJ1YmJsZUNhbnZhcy5ibG9ja2x5Q2FudmFzVHJhbnNpdGlvbmluZyB7XCIsXCJ0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjVzO1wiLFwifVwiLFwiLmJsb2NrbHlUb29sdGlwRGl2IHtcIixcImJhY2tncm91bmQtY29sb3I6ICNmZmZmYzc7XCIsXCJib3JkZXI6IDFweCBzb2xpZCAjZGRjO1wiLFwiYm94LXNoYWRvdzogNHB4IDRweCAyMHB4IDFweCByZ2JhKDAsMCwwLC4xNSk7XCIsXG5cImNvbG9yOiAjMDAwO1wiLFwiZGlzcGxheTogbm9uZTtcIixcImZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1wiLFwiZm9udC1zaXplOiA5cHQ7XCIsXCJvcGFjaXR5OiAuOTtcIixcInBhZGRpbmc6IDJweDtcIixcInBvc2l0aW9uOiBhYnNvbHV0ZTtcIixcInotaW5kZXg6IDEwMDAwMDtcIixcIn1cIixcIi5ibG9ja2x5RHJvcERvd25EaXYge1wiLFwicG9zaXRpb246IGFic29sdXRlO1wiLFwibGVmdDogMDtcIixcInRvcDogMDtcIixcInotaW5kZXg6IDEwMDA7XCIsXCJkaXNwbGF5OiBub25lO1wiLFwiYm9yZGVyOiAxcHggc29saWQ7XCIsXCJib3JkZXItY29sb3I6ICNkYWRjZTA7XCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1wiLFwiYm9yZGVyLXJhZGl1czogMnB4O1wiLFwicGFkZGluZzogNHB4O1wiLFwiYm94LXNoYWRvdzogMHB4IDBweCAzcHggMXB4IHJnYmEoMCwwLDAsLjMpO1wiLFwifVwiLFwiLmJsb2NrbHlEcm9wRG93bkRpdi5mb2N1c2VkIHtcIixcImJveC1zaGFkb3c6IDBweCAwcHggNnB4IDFweCByZ2JhKDAsMCwwLC4zKTtcIixcIn1cIixcIi5ibG9ja2x5RHJvcERvd25Db250ZW50IHtcIixcblwibWF4LWhlaWdodDogMzAwcHg7XCIsXCJvdmVyZmxvdzogYXV0bztcIixcIm92ZXJmbG93LXg6IGhpZGRlbjtcIixcIn1cIixcIi5ibG9ja2x5RHJvcERvd25BcnJvdyB7XCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7XCIsXCJsZWZ0OiAwO1wiLFwidG9wOiAwO1wiLFwid2lkdGg6IDE2cHg7XCIsXCJoZWlnaHQ6IDE2cHg7XCIsXCJ6LWluZGV4OiAtMTtcIixcImJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XCIsXCJib3JkZXItY29sb3I6IGluaGVyaXQ7XCIsXCJ9XCIsXCIuYmxvY2tseURyb3BEb3duQnV0dG9uIHtcIixcImRpc3BsYXk6IGlubGluZS1ibG9jaztcIixcImZsb2F0OiBsZWZ0O1wiLFwicGFkZGluZzogMDtcIixcIm1hcmdpbjogNHB4O1wiLFwiYm9yZGVyLXJhZGl1czogNHB4O1wiLFwib3V0bGluZTogbm9uZTtcIixcImJvcmRlcjogMXB4IHNvbGlkO1wiLFwidHJhbnNpdGlvbjogYm94LXNoYWRvdyAuMXM7XCIsXCJjdXJzb3I6IHBvaW50ZXI7XCIsXCJ9XCIsXCIuYmxvY2tseUFycm93VG9wIHtcIixcImJvcmRlci10b3A6IDFweCBzb2xpZDtcIixcImJvcmRlci1sZWZ0OiAxcHggc29saWQ7XCIsXG5cImJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDRweDtcIixcImJvcmRlci1jb2xvcjogaW5oZXJpdDtcIixcIn1cIixcIi5ibG9ja2x5QXJyb3dCb3R0b20ge1wiLFwiYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO1wiLFwiYm9yZGVyLXJpZ2h0OiAxcHggc29saWQ7XCIsXCJib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNHB4O1wiLFwiYm9yZGVyLWNvbG9yOiBpbmhlcml0O1wiLFwifVwiLFwiLmJsb2NrbHlSZXNpemVTRSB7XCIsXCJjdXJzb3I6IHNlLXJlc2l6ZTtcIixcImZpbGw6ICNhYWE7XCIsXCJ9XCIsXCIuYmxvY2tseVJlc2l6ZVNXIHtcIixcImN1cnNvcjogc3ctcmVzaXplO1wiLFwiZmlsbDogI2FhYTtcIixcIn1cIixcIi5ibG9ja2x5UmVzaXplTGluZSB7XCIsXCJzdHJva2U6ICM1MTVBNUE7XCIsXCJzdHJva2Utd2lkdGg6IDE7XCIsXCJ9XCIsXCIuYmxvY2tseUhpZ2hsaWdodGVkQ29ubmVjdGlvblBhdGgge1wiLFwiZmlsbDogbm9uZTtcIixcInN0cm9rZTogI2ZjMztcIixcInN0cm9rZS13aWR0aDogNHB4O1wiLFwifVwiLFwiLmJsb2NrbHlQYXRoTGlnaHQge1wiLFxuXCJmaWxsOiBub25lO1wiLFwic3Ryb2tlLWxpbmVjYXA6IHJvdW5kO1wiLFwic3Ryb2tlLXdpZHRoOiAxO1wiLFwifVwiLFwiLmJsb2NrbHlTZWxlY3RlZD4uYmxvY2tseVBhdGhMaWdodCB7XCIsXCJkaXNwbGF5OiBub25lO1wiLFwifVwiLFwiLmJsb2NrbHlEcmFnZ2FibGUge1wiLCdjdXJzb3I6IHVybChcIjw8PFBBVEg+Pj4vaGFuZG9wZW4uY3VyXCIpLCBhdXRvOycsXCJjdXJzb3I6IGdyYWI7XCIsXCJjdXJzb3I6IC13ZWJraXQtZ3JhYjtcIixcIn1cIixcIi5ibG9ja2x5RHJhZ2dpbmcge1wiLCdjdXJzb3I6IHVybChcIjw8PFBBVEg+Pj4vaGFuZGNsb3NlZC5jdXJcIiksIGF1dG87JyxcImN1cnNvcjogZ3JhYmJpbmc7XCIsXCJjdXJzb3I6IC13ZWJraXQtZ3JhYmJpbmc7XCIsXCJ9XCIsXCIuYmxvY2tseURyYWdnYWJsZTphY3RpdmUge1wiLCdjdXJzb3I6IHVybChcIjw8PFBBVEg+Pj4vaGFuZGNsb3NlZC5jdXJcIiksIGF1dG87JyxcImN1cnNvcjogZ3JhYmJpbmc7XCIsXCJjdXJzb3I6IC13ZWJraXQtZ3JhYmJpbmc7XCIsXCJ9XCIsXCIuYmxvY2tseUJsb2NrRHJhZ1N1cmZhY2UgLmJsb2NrbHlEcmFnZ2FibGUge1wiLFxuJ2N1cnNvcjogdXJsKFwiPDw8UEFUSD4+Pi9oYW5kY2xvc2VkLmN1clwiKSwgYXV0bzsnLFwiY3Vyc29yOiBncmFiYmluZztcIixcImN1cnNvcjogLXdlYmtpdC1ncmFiYmluZztcIixcIn1cIixcIi5ibG9ja2x5RHJhZ2dpbmcuYmxvY2tseURyYWdnaW5nRGVsZXRlIHtcIiwnY3Vyc29yOiB1cmwoXCI8PDxQQVRIPj4+L2hhbmRkZWxldGUuY3VyXCIpLCBhdXRvOycsXCJ9XCIsXCIuYmxvY2tseURyYWdnaW5nPi5ibG9ja2x5UGF0aCxcIixcIi5ibG9ja2x5RHJhZ2dpbmc+LmJsb2NrbHlQYXRoTGlnaHQge1wiLFwiZmlsbC1vcGFjaXR5OiAuODtcIixcInN0cm9rZS1vcGFjaXR5OiAuODtcIixcIn1cIixcIi5ibG9ja2x5RHJhZ2dpbmc+LmJsb2NrbHlQYXRoRGFyayB7XCIsXCJkaXNwbGF5OiBub25lO1wiLFwifVwiLFwiLmJsb2NrbHlEaXNhYmxlZD4uYmxvY2tseVBhdGgge1wiLFwiZmlsbC1vcGFjaXR5OiAuNTtcIixcInN0cm9rZS1vcGFjaXR5OiAuNTtcIixcIn1cIixcIi5ibG9ja2x5RGlzYWJsZWQ+LmJsb2NrbHlQYXRoTGlnaHQsXCIsXCIuYmxvY2tseURpc2FibGVkPi5ibG9ja2x5UGF0aERhcmsge1wiLFxuXCJkaXNwbGF5OiBub25lO1wiLFwifVwiLFwiLmJsb2NrbHlJbnNlcnRpb25NYXJrZXI+LmJsb2NrbHlQYXRoLFwiLFwiLmJsb2NrbHlJbnNlcnRpb25NYXJrZXI+LmJsb2NrbHlQYXRoTGlnaHQsXCIsXCIuYmxvY2tseUluc2VydGlvbk1hcmtlcj4uYmxvY2tseVBhdGhEYXJrIHtcIixcImZpbGwtb3BhY2l0eTogLjI7XCIsXCJzdHJva2U6IG5vbmVcIixcIn1cIixcIi5ibG9ja2x5TXVsdGlsaW5lVGV4dCB7XCIsXCJmb250LWZhbWlseTogbW9ub3NwYWNlO1wiLFwifVwiLFwiLmJsb2NrbHlOb25FZGl0YWJsZVRleHQ+dGV4dCB7XCIsXCJwb2ludGVyLWV2ZW50czogbm9uZTtcIixcIn1cIixcIi5ibG9ja2x5Rmx5b3V0IHtcIixcInBvc2l0aW9uOiBhYnNvbHV0ZTtcIixcInotaW5kZXg6IDIwO1wiLFwifVwiLFwiLmJsb2NrbHlUZXh0IHRleHQge1wiLFwiY3Vyc29yOiBkZWZhdWx0O1wiLFwifVwiLFwiLmJsb2NrbHlTdmcgdGV4dCwgLmJsb2NrbHlCbG9ja0RyYWdTdXJmYWNlIHRleHQge1wiLFwidXNlci1zZWxlY3Q6IG5vbmU7XCIsXCItbXMtdXNlci1zZWxlY3Q6IG5vbmU7XCIsXG5cIi13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XCIsXCJjdXJzb3I6IGluaGVyaXQ7XCIsXCJ9XCIsXCIuYmxvY2tseUhpZGRlbiB7XCIsXCJkaXNwbGF5OiBub25lO1wiLFwifVwiLFwiLmJsb2NrbHlGaWVsZERyb3Bkb3duOm5vdCguYmxvY2tseUhpZGRlbikge1wiLFwiZGlzcGxheTogYmxvY2s7XCIsXCJ9XCIsXCIuYmxvY2tseUljb25Hcm91cCB7XCIsXCJjdXJzb3I6IGRlZmF1bHQ7XCIsXCJ9XCIsXCIuYmxvY2tseUljb25Hcm91cDpub3QoOmhvdmVyKSxcIixcIi5ibG9ja2x5SWNvbkdyb3VwUmVhZG9ubHkge1wiLFwib3BhY2l0eTogLjY7XCIsXCJ9XCIsXCIuYmxvY2tseUljb25TaGFwZSB7XCIsXCJmaWxsOiAjMDBmO1wiLFwic3Ryb2tlOiAjZmZmO1wiLFwic3Ryb2tlLXdpZHRoOiAxcHg7XCIsXCJ9XCIsXCIuYmxvY2tseUljb25TeW1ib2wge1wiLFwiZmlsbDogI2ZmZjtcIixcIn1cIixcIi5ibG9ja2x5TWluaW1hbEJvZHkge1wiLFwibWFyZ2luOiAwO1wiLFwicGFkZGluZzogMDtcIixcIn1cIixcIi5ibG9ja2x5SHRtbElucHV0IHtcIixcImJvcmRlcjogbm9uZTtcIixcImJvcmRlci1yYWRpdXM6IDRweDtcIixcblwiaGVpZ2h0OiAxMDAlO1wiLFwibWFyZ2luOiAwO1wiLFwib3V0bGluZTogbm9uZTtcIixcInBhZGRpbmc6IDA7XCIsXCJ3aWR0aDogMTAwJTtcIixcInRleHQtYWxpZ246IGNlbnRlcjtcIixcImRpc3BsYXk6IGJsb2NrO1wiLFwiYm94LXNpemluZzogYm9yZGVyLWJveDtcIixcIn1cIixcIi5ibG9ja2x5SHRtbElucHV0OjotbXMtY2xlYXIge1wiLFwiZGlzcGxheTogbm9uZTtcIixcIn1cIixcIi5ibG9ja2x5TWFpbkJhY2tncm91bmQge1wiLFwic3Ryb2tlLXdpZHRoOiAxO1wiLFwic3Ryb2tlOiAjYzZjNmM2O1wiLFwifVwiLFwiLmJsb2NrbHlNdXRhdG9yQmFja2dyb3VuZCB7XCIsXCJmaWxsOiAjZmZmO1wiLFwic3Ryb2tlOiAjZGRkO1wiLFwic3Ryb2tlLXdpZHRoOiAxO1wiLFwifVwiLFwiLmJsb2NrbHlGbHlvdXRCYWNrZ3JvdW5kIHtcIixcImZpbGw6ICNkZGQ7XCIsXCJmaWxsLW9wYWNpdHk6IC44O1wiLFwifVwiLFwiLmJsb2NrbHlNYWluV29ya3NwYWNlU2Nyb2xsYmFyIHtcIixcInotaW5kZXg6IDIwO1wiLFwifVwiLFwiLmJsb2NrbHlGbHlvdXRTY3JvbGxiYXIge1wiLFwiei1pbmRleDogMzA7XCIsXG5cIn1cIixcIi5ibG9ja2x5U2Nyb2xsYmFySG9yaXpvbnRhbCwgLmJsb2NrbHlTY3JvbGxiYXJWZXJ0aWNhbCB7XCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7XCIsXCJvdXRsaW5lOiBub25lO1wiLFwifVwiLFwiLmJsb2NrbHlTY3JvbGxiYXJCYWNrZ3JvdW5kIHtcIixcIm9wYWNpdHk6IDA7XCIsXCJ9XCIsXCIuYmxvY2tseVNjcm9sbGJhckhhbmRsZSB7XCIsXCJmaWxsOiAjY2NjO1wiLFwifVwiLFwiLmJsb2NrbHlTY3JvbGxiYXJCYWNrZ3JvdW5kOmhvdmVyKy5ibG9ja2x5U2Nyb2xsYmFySGFuZGxlLFwiLFwiLmJsb2NrbHlTY3JvbGxiYXJIYW5kbGU6aG92ZXIge1wiLFwiZmlsbDogI2JiYjtcIixcIn1cIixcIi5ibG9ja2x5Rmx5b3V0IC5ibG9ja2x5U2Nyb2xsYmFySGFuZGxlIHtcIixcImZpbGw6ICNiYmI7XCIsXCJ9XCIsXCIuYmxvY2tseUZseW91dCAuYmxvY2tseVNjcm9sbGJhckJhY2tncm91bmQ6aG92ZXIrLmJsb2NrbHlTY3JvbGxiYXJIYW5kbGUsXCIsXCIuYmxvY2tseUZseW91dCAuYmxvY2tseVNjcm9sbGJhckhhbmRsZTpob3ZlciB7XCIsXG5cImZpbGw6ICNhYWE7XCIsXCJ9XCIsXCIuYmxvY2tseUludmFsaWRJbnB1dCB7XCIsXCJiYWNrZ3JvdW5kOiAjZmFhO1wiLFwifVwiLFwiLmJsb2NrbHlDb250ZXh0TWVudSB7XCIsXCJib3JkZXItcmFkaXVzOiA0cHg7XCIsXCJtYXgtaGVpZ2h0OiAxMDAlO1wiLFwifVwiLFwiLmJsb2NrbHlEcm9wZG93bk1lbnUge1wiLFwiYm9yZGVyLXJhZGl1czogMnB4O1wiLFwicGFkZGluZzogMCAhaW1wb3J0YW50O1wiLFwifVwiLFwiLmJsb2NrbHlXaWRnZXREaXYgLmJsb2NrbHlEcm9wZG93bk1lbnUgLmdvb2ctbWVudWl0ZW0sXCIsXCIuYmxvY2tseURyb3BEb3duRGl2IC5ibG9ja2x5RHJvcGRvd25NZW51IC5nb29nLW1lbnVpdGVtIHtcIixcInBhZGRpbmctbGVmdDogMjhweDtcIixcIn1cIixcIi5ibG9ja2x5V2lkZ2V0RGl2IC5ibG9ja2x5RHJvcGRvd25NZW51IC5nb29nLW1lbnVpdGVtLmdvb2ctbWVudWl0ZW0tcnRsLFwiLFwiLmJsb2NrbHlEcm9wRG93bkRpdiAuYmxvY2tseURyb3Bkb3duTWVudSAuZ29vZy1tZW51aXRlbS5nb29nLW1lbnVpdGVtLXJ0bCB7XCIsXG5cInBhZGRpbmctbGVmdDogNXB4O1wiLFwicGFkZGluZy1yaWdodDogMjhweDtcIixcIn1cIixcIi5ibG9ja2x5VmVydGljYWxNYXJrZXIge1wiLFwic3Ryb2tlLXdpZHRoOiAzcHg7XCIsXCJmaWxsOiByZ2JhKDI1NSwyNTUsMjU1LC41KTtcIixcInBvaW50ZXItZXZlbnRzOiBub25lXCIsXCJ9XCIsXCIuYmxvY2tseVdpZGdldERpdiAuZ29vZy1vcHRpb24tc2VsZWN0ZWQgLmdvb2ctbWVudWl0ZW0tY2hlY2tib3gsXCIsXCIuYmxvY2tseVdpZGdldERpdiAuZ29vZy1vcHRpb24tc2VsZWN0ZWQgLmdvb2ctbWVudWl0ZW0taWNvbixcIixcIi5ibG9ja2x5RHJvcERvd25EaXYgLmdvb2ctb3B0aW9uLXNlbGVjdGVkIC5nb29nLW1lbnVpdGVtLWNoZWNrYm94LFwiLFwiLmJsb2NrbHlEcm9wRG93bkRpdiAuZ29vZy1vcHRpb24tc2VsZWN0ZWQgLmdvb2ctbWVudWl0ZW0taWNvbiB7XCIsXCJiYWNrZ3JvdW5kOiB1cmwoPDw8UEFUSD4+Pi9zcHJpdGVzLnBuZykgbm8tcmVwZWF0IC00OHB4IC0xNnB4O1wiLFwifVwiLFwiLmJsb2NrbHlXaWRnZXREaXYgLmdvb2ctbWVudSB7XCIsXG5cImJhY2tncm91bmQ6ICNmZmY7XCIsXCJib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1wiLFwiYm9yZGVyLXN0eWxlOiBzb2xpZDtcIixcImJvcmRlci13aWR0aDogMXB4O1wiLFwiY3Vyc29yOiBkZWZhdWx0O1wiLFwiZm9udDogbm9ybWFsIDEzcHggQXJpYWwsIHNhbnMtc2VyaWY7XCIsXCJtYXJnaW46IDA7XCIsXCJvdXRsaW5lOiBub25lO1wiLFwicGFkZGluZzogNHB4IDA7XCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7XCIsXCJvdmVyZmxvdy15OiBhdXRvO1wiLFwib3ZlcmZsb3cteDogaGlkZGVuO1wiLFwibWF4LWhlaWdodDogMTAwJTtcIixcInotaW5kZXg6IDIwMDAwO1wiLFwiYm94LXNoYWRvdzogMHB4IDBweCAzcHggMXB4IHJnYmEoMCwwLDAsLjMpO1wiLFwifVwiLFwiLmJsb2NrbHlXaWRnZXREaXYgLmdvb2ctbWVudS5mb2N1c2VkIHtcIixcImJveC1zaGFkb3c6IDBweCAwcHggNnB4IDFweCByZ2JhKDAsMCwwLC4zKTtcIixcIn1cIixcIi5ibG9ja2x5RHJvcERvd25EaXYgLmdvb2ctbWVudSB7XCIsXCJjdXJzb3I6IGRlZmF1bHQ7XCIsJ2ZvbnQ6IG5vcm1hbCAxM3B4IFwiSGVsdmV0aWNhIE5ldWVcIiwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOycsXG5cIm91dGxpbmU6IG5vbmU7XCIsXCJ6LWluZGV4OiAyMDAwMDtcIixcIn1cIixcIi5ibG9ja2x5V2lkZ2V0RGl2IC5nb29nLW1lbnVpdGVtLFwiLFwiLmJsb2NrbHlEcm9wRG93bkRpdiAuZ29vZy1tZW51aXRlbSB7XCIsXCJjb2xvcjogIzAwMDtcIixcImZvbnQ6IG5vcm1hbCAxM3B4IEFyaWFsLCBzYW5zLXNlcmlmO1wiLFwibGlzdC1zdHlsZTogbm9uZTtcIixcIm1hcmdpbjogMDtcIixcIm1pbi13aWR0aDogN2VtO1wiLFwiYm9yZGVyOiBub25lO1wiLFwicGFkZGluZzogNnB4IDE1cHg7XCIsXCJ3aGl0ZS1zcGFjZTogbm93cmFwO1wiLFwiY3Vyc29yOiBwb2ludGVyO1wiLFwifVwiLFwiLmJsb2NrbHlXaWRnZXREaXYgLmdvb2ctbWVudS1ub2NoZWNrYm94IC5nb29nLW1lbnVpdGVtLFwiLFwiLmJsb2NrbHlXaWRnZXREaXYgLmdvb2ctbWVudS1ub2ljb24gLmdvb2ctbWVudWl0ZW0sXCIsXCIuYmxvY2tseURyb3BEb3duRGl2IC5nb29nLW1lbnUtbm9jaGVja2JveCAuZ29vZy1tZW51aXRlbSxcIixcIi5ibG9ja2x5RHJvcERvd25EaXYgLmdvb2ctbWVudS1ub2ljb24gLmdvb2ctbWVudWl0ZW0ge1wiLFxuXCJwYWRkaW5nLWxlZnQ6IDEycHg7XCIsXCJ9XCIsXCIuYmxvY2tseVdpZGdldERpdiAuZ29vZy1tZW51aXRlbS1jb250ZW50LFwiLFwiLmJsb2NrbHlEcm9wRG93bkRpdiAuZ29vZy1tZW51aXRlbS1jb250ZW50IHtcIixcImZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcIixcImZvbnQtc2l6ZTogMTNweDtcIixcIn1cIixcIi5ibG9ja2x5V2lkZ2V0RGl2IC5nb29nLW1lbnVpdGVtLWNvbnRlbnQge1wiLFwiY29sb3I6ICMwMDA7XCIsXCJ9XCIsXCIuYmxvY2tseURyb3BEb3duRGl2IC5nb29nLW1lbnVpdGVtLWNvbnRlbnQge1wiLFwiY29sb3I6ICMwMDA7XCIsXCJ9XCIsXCIuYmxvY2tseVdpZGdldERpdiAuZ29vZy1tZW51aXRlbS1kaXNhYmxlZCxcIixcIi5ibG9ja2x5RHJvcERvd25EaXYgLmdvb2ctbWVudWl0ZW0tZGlzYWJsZWQge1wiLFwiY3Vyc29yOiBpbmhlcml0O1wiLFwifVwiLFwiLmJsb2NrbHlXaWRnZXREaXYgLmdvb2ctbWVudWl0ZW0tZGlzYWJsZWQgLmdvb2ctbWVudWl0ZW0tY29udGVudCxcIixcIi5ibG9ja2x5RHJvcERvd25EaXYgLmdvb2ctbWVudWl0ZW0tZGlzYWJsZWQgLmdvb2ctbWVudWl0ZW0tY29udGVudCB7XCIsXG5cImNvbG9yOiAjY2NjICFpbXBvcnRhbnQ7XCIsXCJ9XCIsXCIuYmxvY2tseVdpZGdldERpdiAuZ29vZy1tZW51aXRlbS1kaXNhYmxlZCAuZ29vZy1tZW51aXRlbS1pY29uLFwiLFwiLmJsb2NrbHlEcm9wRG93bkRpdiAuZ29vZy1tZW51aXRlbS1kaXNhYmxlZCAuZ29vZy1tZW51aXRlbS1pY29uIHtcIixcIm9wYWNpdHk6IC4zO1wiLFwiZmlsdGVyOiBhbHBoYShvcGFjaXR5PTMwKTtcIixcIn1cIixcIi5ibG9ja2x5V2lkZ2V0RGl2IC5nb29nLW1lbnVpdGVtLWhpZ2hsaWdodCAsXCIsXCIuYmxvY2tseURyb3BEb3duRGl2IC5nb29nLW1lbnVpdGVtLWhpZ2hsaWdodCB7XCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLC4xKTtcIixcIn1cIixcIi5ibG9ja2x5V2lkZ2V0RGl2IC5nb29nLW1lbnVpdGVtLWNoZWNrYm94LFwiLFwiLmJsb2NrbHlXaWRnZXREaXYgLmdvb2ctbWVudWl0ZW0taWNvbixcIixcIi5ibG9ja2x5RHJvcERvd25EaXYgLmdvb2ctbWVudWl0ZW0tY2hlY2tib3gsXCIsXCIuYmxvY2tseURyb3BEb3duRGl2IC5nb29nLW1lbnVpdGVtLWljb24ge1wiLFxuXCJiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1wiLFwiaGVpZ2h0OiAxNnB4O1wiLFwibGVmdDogNnB4O1wiLFwicG9zaXRpb246IGFic29sdXRlO1wiLFwicmlnaHQ6IGF1dG87XCIsXCJ2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1wiLFwid2lkdGg6IDE2cHg7XCIsXCJ9XCIsXCIuYmxvY2tseVdpZGdldERpdiAuZ29vZy1tZW51aXRlbS1ydGwgLmdvb2ctbWVudWl0ZW0tY2hlY2tib3gsXCIsXCIuYmxvY2tseVdpZGdldERpdiAuZ29vZy1tZW51aXRlbS1ydGwgLmdvb2ctbWVudWl0ZW0taWNvbixcIixcIi5ibG9ja2x5RHJvcERvd25EaXYgLmdvb2ctbWVudWl0ZW0tcnRsIC5nb29nLW1lbnVpdGVtLWNoZWNrYm94LFwiLFwiLmJsb2NrbHlEcm9wRG93bkRpdiAuZ29vZy1tZW51aXRlbS1ydGwgLmdvb2ctbWVudWl0ZW0taWNvbiB7XCIsXCJsZWZ0OiBhdXRvO1wiLFwicmlnaHQ6IDZweDtcIixcIn1cIixcIi5ibG9ja2x5V2lkZ2V0RGl2IC5nb29nLW9wdGlvbi1zZWxlY3RlZCAuZ29vZy1tZW51aXRlbS1jaGVja2JveCxcIixcIi5ibG9ja2x5V2lkZ2V0RGl2IC5nb29nLW9wdGlvbi1zZWxlY3RlZCAuZ29vZy1tZW51aXRlbS1pY29uLFwiLFxuXCIuYmxvY2tseURyb3BEb3duRGl2IC5nb29nLW9wdGlvbi1zZWxlY3RlZCAuZ29vZy1tZW51aXRlbS1jaGVja2JveCxcIixcIi5ibG9ja2x5RHJvcERvd25EaXYgLmdvb2ctb3B0aW9uLXNlbGVjdGVkIC5nb29nLW1lbnVpdGVtLWljb24ge1wiLFwicG9zaXRpb246IHN0YXRpYztcIixcImZsb2F0OiBsZWZ0O1wiLFwibWFyZ2luLWxlZnQ6IC0yNHB4O1wiLFwifVwiLFwiLmJsb2NrbHlXaWRnZXREaXYgLmdvb2ctbWVudWl0ZW0tcnRsIC5nb29nLW1lbnVpdGVtLWNoZWNrYm94LFwiLFwiLmJsb2NrbHlXaWRnZXREaXYgLmdvb2ctbWVudWl0ZW0tcnRsIC5nb29nLW1lbnVpdGVtLWljb24sXCIsXCIuYmxvY2tseURyb3BEb3duRGl2IC5nb29nLW1lbnVpdGVtLXJ0bCAuZ29vZy1tZW51aXRlbS1jaGVja2JveCxcIixcIi5ibG9ja2x5RHJvcERvd25EaXYgLmdvb2ctbWVudWl0ZW0tcnRsIC5nb29nLW1lbnVpdGVtLWljb24ge1wiLFwiZmxvYXQ6IHJpZ2h0O1wiLFwibWFyZ2luLXJpZ2h0OiAtMjRweDtcIixcIn1cIixcIi5ibG9ja2x5Q29tcHV0ZUNhbnZhcyB7XCIsXG5cInBvc2l0aW9uOiBhYnNvbHV0ZTtcIixcIndpZHRoOiAwO1wiLFwiaGVpZ2h0OiAwO1wiLFwifVwiLFwiLmJsb2NrbHlOb1BvaW50ZXJFdmVudHMge1wiLFwicG9pbnRlci1ldmVudHM6IG5vbmU7XCIsXCJ9XCJdO0Jsb2NrbHkudXRpbHMubWF0aD17fTtCbG9ja2x5LnV0aWxzLm1hdGgudG9SYWRpYW5zPWZ1bmN0aW9uKGEpe3JldHVybiBhKk1hdGguUEkvMTgwfTtCbG9ja2x5LnV0aWxzLm1hdGgudG9EZWdyZWVzPWZ1bmN0aW9uKGEpe3JldHVybiAxODAqYS9NYXRoLlBJfTtCbG9ja2x5LnV0aWxzLm1hdGguY2xhbXA9ZnVuY3Rpb24oYSxiLGMpe2lmKGM8YSl7dmFyIGQ9YztjPWE7YT1kfXJldHVybiBNYXRoLm1heChhLE1hdGgubWluKGIsYykpfTtCbG9ja2x5LkRyb3BEb3duRGl2PWZ1bmN0aW9uKCl7fTtCbG9ja2x5LkRyb3BEb3duRGl2LmJvdW5kc0VsZW1lbnRfPW51bGw7QmxvY2tseS5Ecm9wRG93bkRpdi5vd25lcl89bnVsbDtCbG9ja2x5LkRyb3BEb3duRGl2LnBvc2l0aW9uVG9GaWVsZF89bnVsbDtCbG9ja2x5LkRyb3BEb3duRGl2LkFSUk9XX1NJWkU9MTY7QmxvY2tseS5Ecm9wRG93bkRpdi5CT1JERVJfU0laRT0xO0Jsb2NrbHkuRHJvcERvd25EaXYuQVJST1dfSE9SSVpPTlRBTF9QQURESU5HPTEyO0Jsb2NrbHkuRHJvcERvd25EaXYuUEFERElOR19ZPTE2O0Jsb2NrbHkuRHJvcERvd25EaXYuQU5JTUFUSU9OX1RJTUU9LjI1O0Jsb2NrbHkuRHJvcERvd25EaXYuYW5pbWF0ZU91dFRpbWVyXz1udWxsO0Jsb2NrbHkuRHJvcERvd25EaXYub25IaWRlXz1udWxsO0Jsb2NrbHkuRHJvcERvd25EaXYucmVuZGVyZXJDbGFzc05hbWVfPVwiXCI7QmxvY2tseS5Ecm9wRG93bkRpdi50aGVtZUNsYXNzTmFtZV89XCJcIjtcbkJsb2NrbHkuRHJvcERvd25EaXYuY3JlYXRlRG9tPWZ1bmN0aW9uKCl7aWYoIUJsb2NrbHkuRHJvcERvd25EaXYuRElWXyl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLmNsYXNzTmFtZT1cImJsb2NrbHlEcm9wRG93bkRpdlwiOyhCbG9ja2x5LnBhcmVudENvbnRhaW5lcnx8ZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoYSk7QmxvY2tseS5Ecm9wRG93bkRpdi5ESVZfPWE7dmFyIGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtiLmNsYXNzTmFtZT1cImJsb2NrbHlEcm9wRG93bkNvbnRlbnRcIjthLmFwcGVuZENoaWxkKGIpO0Jsb2NrbHkuRHJvcERvd25EaXYuY29udGVudF89YjtiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yi5jbGFzc05hbWU9XCJibG9ja2x5RHJvcERvd25BcnJvd1wiO2EuYXBwZW5kQ2hpbGQoYik7QmxvY2tseS5Ecm9wRG93bkRpdi5hcnJvd189YjtCbG9ja2x5LkRyb3BEb3duRGl2LkRJVl8uc3R5bGUub3BhY2l0eT0wO0Jsb2NrbHkuRHJvcERvd25EaXYuRElWXy5zdHlsZS50cmFuc2l0aW9uPVxuXCJ0cmFuc2Zvcm0gXCIrQmxvY2tseS5Ecm9wRG93bkRpdi5BTklNQVRJT05fVElNRStcInMsIG9wYWNpdHkgXCIrQmxvY2tseS5Ecm9wRG93bkRpdi5BTklNQVRJT05fVElNRStcInNcIjthLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c2luXCIsZnVuY3Rpb24oKXtCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyhhLFwiZm9jdXNlZFwiKX0pO2EuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsZnVuY3Rpb24oKXtCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyhhLFwiZm9jdXNlZFwiKX0pfX07QmxvY2tseS5Ecm9wRG93bkRpdi5zZXRCb3VuZHNFbGVtZW50PWZ1bmN0aW9uKGEpe0Jsb2NrbHkuRHJvcERvd25EaXYuYm91bmRzRWxlbWVudF89YX07QmxvY2tseS5Ecm9wRG93bkRpdi5nZXRDb250ZW50RGl2PWZ1bmN0aW9uKCl7cmV0dXJuIEJsb2NrbHkuRHJvcERvd25EaXYuY29udGVudF99O1xuQmxvY2tseS5Ecm9wRG93bkRpdi5jbGVhckNvbnRlbnQ9ZnVuY3Rpb24oKXtCbG9ja2x5LkRyb3BEb3duRGl2LmNvbnRlbnRfLnRleHRDb250ZW50PVwiXCI7QmxvY2tseS5Ecm9wRG93bkRpdi5jb250ZW50Xy5zdHlsZS53aWR0aD1cIlwifTtCbG9ja2x5LkRyb3BEb3duRGl2LnNldENvbG91cj1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuRHJvcERvd25EaXYuRElWXy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YTtCbG9ja2x5LkRyb3BEb3duRGl2LkRJVl8uc3R5bGUuYm9yZGVyQ29sb3I9Yn07QmxvY2tseS5Ecm9wRG93bkRpdi5zaG93UG9zaXRpb25lZEJ5QmxvY2s9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIEJsb2NrbHkuRHJvcERvd25EaXYuc2hvd1Bvc2l0aW9uZWRCeVJlY3RfKEJsb2NrbHkuRHJvcERvd25EaXYuZ2V0U2NhbGVkQmJveE9mQmxvY2tfKGIpLGEsYyxkKX07XG5CbG9ja2x5LkRyb3BEb3duRGl2LnNob3dQb3NpdGlvbmVkQnlGaWVsZD1mdW5jdGlvbihhLGIsYyl7QmxvY2tseS5Ecm9wRG93bkRpdi5wb3NpdGlvblRvRmllbGRfPSEwO3JldHVybiBCbG9ja2x5LkRyb3BEb3duRGl2LnNob3dQb3NpdGlvbmVkQnlSZWN0XyhCbG9ja2x5LkRyb3BEb3duRGl2LmdldFNjYWxlZEJib3hPZkZpZWxkXyhhKSxhLGIsYyl9O0Jsb2NrbHkuRHJvcERvd25EaXYuZ2V0U2NhbGVkQmJveE9mQmxvY2tfPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0U3ZnUm9vdCgpLGM9Yi5nZXRCQm94KCksZD1hLndvcmtzcGFjZS5zY2FsZTthPWMuaGVpZ2h0KmQ7Yz1jLndpZHRoKmQ7Yj1CbG9ja2x5LnV0aWxzLnN0eWxlLmdldFBhZ2VPZmZzZXQoYik7cmV0dXJuIG5ldyBCbG9ja2x5LnV0aWxzLlJlY3QoYi55LGIueSthLGIueCxiLngrYyl9O1xuQmxvY2tseS5Ecm9wRG93bkRpdi5nZXRTY2FsZWRCYm94T2ZGaWVsZF89ZnVuY3Rpb24oYSl7YT1hLmdldFNjYWxlZEJCb3goKTtyZXR1cm4gbmV3IEJsb2NrbHkudXRpbHMuUmVjdChhLnRvcCxhLmJvdHRvbSxhLmxlZnQsYS5yaWdodCl9O0Jsb2NrbHkuRHJvcERvd25EaXYuc2hvd1Bvc2l0aW9uZWRCeVJlY3RfPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEubGVmdCsoYS5yaWdodC1hLmxlZnQpLzIsZj1hLmJvdHRvbTthPWEudG9wO2QmJihhKz1kKTtkPWIuZ2V0U291cmNlQmxvY2soKTtCbG9ja2x5LkRyb3BEb3duRGl2LnNldEJvdW5kc0VsZW1lbnQoZC53b3Jrc3BhY2UuZ2V0UGFyZW50U3ZnKCkucGFyZW50Tm9kZSk7cmV0dXJuIEJsb2NrbHkuRHJvcERvd25EaXYuc2hvdyhiLGQuUlRMLGUsZixlLGEsYyl9O1xuQmxvY2tseS5Ecm9wRG93bkRpdi5zaG93PWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe0Jsb2NrbHkuRHJvcERvd25EaXYub3duZXJfPWE7QmxvY2tseS5Ecm9wRG93bkRpdi5vbkhpZGVfPWd8fG51bGw7YT1CbG9ja2x5LkRyb3BEb3duRGl2LkRJVl87YS5zdHlsZS5kaXJlY3Rpb249Yj9cInJ0bFwiOlwibHRyXCI7QmxvY2tseS5Ecm9wRG93bkRpdi5yZW5kZXJlckNsYXNzTmFtZV89QmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCkuZ2V0UmVuZGVyZXIoKS5nZXRDbGFzc05hbWUoKTtCbG9ja2x5LkRyb3BEb3duRGl2LnRoZW1lQ2xhc3NOYW1lXz1CbG9ja2x5LmdldE1haW5Xb3Jrc3BhY2UoKS5nZXRUaGVtZSgpLmdldENsYXNzTmFtZSgpO0Jsb2NrbHkudXRpbHMuZG9tLmFkZENsYXNzKGEsQmxvY2tseS5Ecm9wRG93bkRpdi5yZW5kZXJlckNsYXNzTmFtZV8pO0Jsb2NrbHkudXRpbHMuZG9tLmFkZENsYXNzKGEsQmxvY2tseS5Ecm9wRG93bkRpdi50aGVtZUNsYXNzTmFtZV8pO3JldHVybiBCbG9ja2x5LkRyb3BEb3duRGl2LnBvc2l0aW9uSW50ZXJuYWxfKGMsXG5kLGUsZil9O0Jsb2NrbHkuRHJvcERvd25EaXYuZ2V0Qm91bmRzSW5mb189ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5LnV0aWxzLnN0eWxlLmdldFBhZ2VPZmZzZXQoQmxvY2tseS5Ecm9wRG93bkRpdi5ib3VuZHNFbGVtZW50XyksYj1CbG9ja2x5LnV0aWxzLnN0eWxlLmdldFNpemUoQmxvY2tseS5Ecm9wRG93bkRpdi5ib3VuZHNFbGVtZW50Xyk7cmV0dXJue2xlZnQ6YS54LHJpZ2h0OmEueCtiLndpZHRoLHRvcDphLnksYm90dG9tOmEueStiLmhlaWdodCx3aWR0aDpiLndpZHRoLGhlaWdodDpiLmhlaWdodH19O1xuQmxvY2tseS5Ecm9wRG93bkRpdi5nZXRQb3NpdGlvbk1ldHJpY3NfPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPUJsb2NrbHkuRHJvcERvd25EaXYuZ2V0Qm91bmRzSW5mb18oKSxmPUJsb2NrbHkudXRpbHMuc3R5bGUuZ2V0U2l6ZShCbG9ja2x5LkRyb3BEb3duRGl2LkRJVl8pO3JldHVybiBiK2YuaGVpZ2h0PGUuYm90dG9tP0Jsb2NrbHkuRHJvcERvd25EaXYuZ2V0UG9zaXRpb25CZWxvd01ldHJpY3NfKGEsYixlLGYpOmQtZi5oZWlnaHQ+ZS50b3A/QmxvY2tseS5Ecm9wRG93bkRpdi5nZXRQb3NpdGlvbkFib3ZlTWV0cmljc18oYyxkLGUsZik6YitmLmhlaWdodDxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0P0Jsb2NrbHkuRHJvcERvd25EaXYuZ2V0UG9zaXRpb25CZWxvd01ldHJpY3NfKGEsYixlLGYpOmQtZi5oZWlnaHQ+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFRvcD9CbG9ja2x5LkRyb3BEb3duRGl2LmdldFBvc2l0aW9uQWJvdmVNZXRyaWNzXyhjLFxuZCxlLGYpOkJsb2NrbHkuRHJvcERvd25EaXYuZ2V0UG9zaXRpb25Ub3BPZlBhZ2VNZXRyaWNzXyhhLGUsZil9O0Jsb2NrbHkuRHJvcERvd25EaXYuZ2V0UG9zaXRpb25CZWxvd01ldHJpY3NfPWZ1bmN0aW9uKGEsYixjLGQpe2E9QmxvY2tseS5Ecm9wRG93bkRpdi5nZXRQb3NpdGlvblgoYSxjLmxlZnQsYy5yaWdodCxkLndpZHRoKTtyZXR1cm57aW5pdGlhbFg6YS5kaXZYLGluaXRpYWxZOmIsZmluYWxYOmEuZGl2WCxmaW5hbFk6YitCbG9ja2x5LkRyb3BEb3duRGl2LlBBRERJTkdfWSxhcnJvd1g6YS5hcnJvd1gsYXJyb3dZOi0oQmxvY2tseS5Ecm9wRG93bkRpdi5BUlJPV19TSVpFLzIrQmxvY2tseS5Ecm9wRG93bkRpdi5CT1JERVJfU0laRSksYXJyb3dBdFRvcDohMCxhcnJvd1Zpc2libGU6ITB9fTtcbkJsb2NrbHkuRHJvcERvd25EaXYuZ2V0UG9zaXRpb25BYm92ZU1ldHJpY3NfPWZ1bmN0aW9uKGEsYixjLGQpe2E9QmxvY2tseS5Ecm9wRG93bkRpdi5nZXRQb3NpdGlvblgoYSxjLmxlZnQsYy5yaWdodCxkLndpZHRoKTtyZXR1cm57aW5pdGlhbFg6YS5kaXZYLGluaXRpYWxZOmItZC5oZWlnaHQsZmluYWxYOmEuZGl2WCxmaW5hbFk6Yi1kLmhlaWdodC1CbG9ja2x5LkRyb3BEb3duRGl2LlBBRERJTkdfWSxhcnJvd1g6YS5hcnJvd1gsYXJyb3dZOmQuaGVpZ2h0LTIqQmxvY2tseS5Ecm9wRG93bkRpdi5CT1JERVJfU0laRS1CbG9ja2x5LkRyb3BEb3duRGl2LkFSUk9XX1NJWkUvMixhcnJvd0F0VG9wOiExLGFycm93VmlzaWJsZTohMH19O1xuQmxvY2tseS5Ecm9wRG93bkRpdi5nZXRQb3NpdGlvblRvcE9mUGFnZU1ldHJpY3NfPWZ1bmN0aW9uKGEsYixjKXthPUJsb2NrbHkuRHJvcERvd25EaXYuZ2V0UG9zaXRpb25YKGEsYi5sZWZ0LGIucmlnaHQsYy53aWR0aCk7cmV0dXJue2luaXRpYWxYOmEuZGl2WCxpbml0aWFsWTowLGZpbmFsWDphLmRpdlgsZmluYWxZOjAsYXJyb3dWaXNpYmxlOiExfX07QmxvY2tseS5Ecm9wRG93bkRpdi5nZXRQb3NpdGlvblg9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YTthPUJsb2NrbHkudXRpbHMubWF0aC5jbGFtcChiLGEtZC8yLGMtZCk7ZS09QmxvY2tseS5Ecm9wRG93bkRpdi5BUlJPV19TSVpFLzI7Yj1CbG9ja2x5LkRyb3BEb3duRGl2LkFSUk9XX0hPUklaT05UQUxfUEFERElORztkPUJsb2NrbHkudXRpbHMubWF0aC5jbGFtcChiLGUtYSxkLWItQmxvY2tseS5Ecm9wRG93bkRpdi5BUlJPV19TSVpFKTtyZXR1cm57YXJyb3dYOmQsZGl2WDphfX07XG5CbG9ja2x5LkRyb3BEb3duRGl2LmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiEhQmxvY2tseS5Ecm9wRG93bkRpdi5vd25lcl99O0Jsb2NrbHkuRHJvcERvd25EaXYuaGlkZUlmT3duZXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQmxvY2tseS5Ecm9wRG93bkRpdi5vd25lcl89PT1hPyhiP0Jsb2NrbHkuRHJvcERvd25EaXYuaGlkZVdpdGhvdXRBbmltYXRpb24oKTpCbG9ja2x5LkRyb3BEb3duRGl2LmhpZGUoKSwhMCk6ITF9O1xuQmxvY2tseS5Ecm9wRG93bkRpdi5oaWRlPWZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS5Ecm9wRG93bkRpdi5ESVZfO2Euc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlKDAsIDApXCI7YS5zdHlsZS5vcGFjaXR5PTA7QmxvY2tseS5Ecm9wRG93bkRpdi5hbmltYXRlT3V0VGltZXJfPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtCbG9ja2x5LkRyb3BEb3duRGl2LmhpZGVXaXRob3V0QW5pbWF0aW9uKCl9LDFFMypCbG9ja2x5LkRyb3BEb3duRGl2LkFOSU1BVElPTl9USU1FKTtCbG9ja2x5LkRyb3BEb3duRGl2Lm9uSGlkZV8mJihCbG9ja2x5LkRyb3BEb3duRGl2Lm9uSGlkZV8oKSxCbG9ja2x5LkRyb3BEb3duRGl2Lm9uSGlkZV89bnVsbCl9O1xuQmxvY2tseS5Ecm9wRG93bkRpdi5oaWRlV2l0aG91dEFuaW1hdGlvbj1mdW5jdGlvbigpe2lmKEJsb2NrbHkuRHJvcERvd25EaXYuaXNWaXNpYmxlKCkpe0Jsb2NrbHkuRHJvcERvd25EaXYuYW5pbWF0ZU91dFRpbWVyXyYmY2xlYXJUaW1lb3V0KEJsb2NrbHkuRHJvcERvd25EaXYuYW5pbWF0ZU91dFRpbWVyXyk7dmFyIGE9QmxvY2tseS5Ecm9wRG93bkRpdi5ESVZfO2Euc3R5bGUudHJhbnNmb3JtPVwiXCI7YS5zdHlsZS5sZWZ0PVwiXCI7YS5zdHlsZS50b3A9XCJcIjthLnN0eWxlLm9wYWNpdHk9MDthLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7YS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJcIjthLnN0eWxlLmJvcmRlckNvbG9yPVwiXCI7QmxvY2tseS5Ecm9wRG93bkRpdi5vbkhpZGVfJiYoQmxvY2tseS5Ecm9wRG93bkRpdi5vbkhpZGVfKCksQmxvY2tseS5Ecm9wRG93bkRpdi5vbkhpZGVfPW51bGwpO0Jsb2NrbHkuRHJvcERvd25EaXYuY2xlYXJDb250ZW50KCk7QmxvY2tseS5Ecm9wRG93bkRpdi5vd25lcl89XG5udWxsO0Jsb2NrbHkuRHJvcERvd25EaXYucmVuZGVyZXJDbGFzc05hbWVfJiYoQmxvY2tseS51dGlscy5kb20ucmVtb3ZlQ2xhc3MoYSxCbG9ja2x5LkRyb3BEb3duRGl2LnJlbmRlcmVyQ2xhc3NOYW1lXyksQmxvY2tseS5Ecm9wRG93bkRpdi5yZW5kZXJlckNsYXNzTmFtZV89XCJcIik7QmxvY2tseS5Ecm9wRG93bkRpdi50aGVtZUNsYXNzTmFtZV8mJihCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyhhLEJsb2NrbHkuRHJvcERvd25EaXYudGhlbWVDbGFzc05hbWVfKSxCbG9ja2x5LkRyb3BEb3duRGl2LnRoZW1lQ2xhc3NOYW1lXz1cIlwiKTtCbG9ja2x5LmdldE1haW5Xb3Jrc3BhY2UoKS5tYXJrRm9jdXNlZCgpfX07XG5CbG9ja2x5LkRyb3BEb3duRGl2LnBvc2l0aW9uSW50ZXJuYWxfPWZ1bmN0aW9uKGEsYixjLGQpe2E9QmxvY2tseS5Ecm9wRG93bkRpdi5nZXRQb3NpdGlvbk1ldHJpY3NfKGEsYixjLGQpO2EuYXJyb3dWaXNpYmxlPyhCbG9ja2x5LkRyb3BEb3duRGl2LmFycm93Xy5zdHlsZS5kaXNwbGF5PVwiXCIsQmxvY2tseS5Ecm9wRG93bkRpdi5hcnJvd18uc3R5bGUudHJhbnNmb3JtPVwidHJhbnNsYXRlKFwiK2EuYXJyb3dYK1wicHgsXCIrYS5hcnJvd1krXCJweCkgcm90YXRlKDQ1ZGVnKVwiLEJsb2NrbHkuRHJvcERvd25EaXYuYXJyb3dfLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsYS5hcnJvd0F0VG9wP1wiYmxvY2tseURyb3BEb3duQXJyb3cgYmxvY2tseUFycm93VG9wXCI6XCJibG9ja2x5RHJvcERvd25BcnJvdyBibG9ja2x5QXJyb3dCb3R0b21cIikpOkJsb2NrbHkuRHJvcERvd25EaXYuYXJyb3dfLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7Yj1NYXRoLmZsb29yKGEuaW5pdGlhbFgpO2M9TWF0aC5mbG9vcihhLmluaXRpYWxZKTtcbmQ9TWF0aC5mbG9vcihhLmZpbmFsWCk7dmFyIGU9TWF0aC5mbG9vcihhLmZpbmFsWSksZj1CbG9ja2x5LkRyb3BEb3duRGl2LkRJVl87Zi5zdHlsZS5sZWZ0PWIrXCJweFwiO2Yuc3R5bGUudG9wPWMrXCJweFwiO2Yuc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7Zi5zdHlsZS5vcGFjaXR5PTE7Zi5zdHlsZS50cmFuc2Zvcm09XCJ0cmFuc2xhdGUoXCIrKGQtYikrXCJweCxcIisoZS1jKStcInB4KVwiO3JldHVybiBhLmFycm93QXRUb3B9O1xuQmxvY2tseS5Ecm9wRG93bkRpdi5yZXBvc2l0aW9uRm9yV2luZG93UmVzaXplPWZ1bmN0aW9uKCl7aWYoQmxvY2tseS5Ecm9wRG93bkRpdi5vd25lcl8pe3ZhciBhPUJsb2NrbHkuRHJvcERvd25EaXYub3duZXJfLGI9QmxvY2tseS5Ecm9wRG93bkRpdi5vd25lcl8uZ2V0U291cmNlQmxvY2soKTthPUJsb2NrbHkuRHJvcERvd25EaXYucG9zaXRpb25Ub0ZpZWxkXz9CbG9ja2x5LkRyb3BEb3duRGl2LmdldFNjYWxlZEJib3hPZkZpZWxkXyhhKTpCbG9ja2x5LkRyb3BEb3duRGl2LmdldFNjYWxlZEJib3hPZkJsb2NrXyhiKTtiPWEubGVmdCsoYS5yaWdodC1hLmxlZnQpLzI7QmxvY2tseS5Ecm9wRG93bkRpdi5wb3NpdGlvbkludGVybmFsXyhiLGEuYm90dG9tLGIsYS50b3ApfWVsc2UgQmxvY2tseS5Ecm9wRG93bkRpdi5oaWRlKCl9O0Jsb2NrbHkuR3JpZD1mdW5jdGlvbihhLGIpe3RoaXMuZ3JpZFBhdHRlcm5fPWE7dGhpcy5zcGFjaW5nXz1iLnNwYWNpbmc7dGhpcy5sZW5ndGhfPWIubGVuZ3RoO3RoaXMubGluZTJfPSh0aGlzLmxpbmUxXz1hLmZpcnN0Q2hpbGQpJiZ0aGlzLmxpbmUxXy5uZXh0U2libGluZzt0aGlzLnNuYXBUb0dyaWRfPWIuc25hcH07QmxvY2tseS5HcmlkLnByb3RvdHlwZS5zY2FsZV89MTtCbG9ja2x5LkdyaWQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmdyaWRQYXR0ZXJuXz1udWxsfTtCbG9ja2x5LkdyaWQucHJvdG90eXBlLnNob3VsZFNuYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zbmFwVG9HcmlkX307QmxvY2tseS5HcmlkLnByb3RvdHlwZS5nZXRTcGFjaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3BhY2luZ199O0Jsb2NrbHkuR3JpZC5wcm90b3R5cGUuZ2V0UGF0dGVybklkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JpZFBhdHRlcm5fLmlkfTtcbkJsb2NrbHkuR3JpZC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3RoaXMuc2NhbGVfPWE7dmFyIGI9dGhpcy5zcGFjaW5nXyphfHwxMDA7dGhpcy5ncmlkUGF0dGVybl8uc2V0QXR0cmlidXRlKFwid2lkdGhcIixiKTt0aGlzLmdyaWRQYXR0ZXJuXy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixiKTtiPU1hdGguZmxvb3IodGhpcy5zcGFjaW5nXy8yKSsuNTt2YXIgYz1iLXRoaXMubGVuZ3RoXy8yLGQ9Yit0aGlzLmxlbmd0aF8vMjtiKj1hO2MqPWE7ZCo9YTt0aGlzLnNldExpbmVBdHRyaWJ1dGVzXyh0aGlzLmxpbmUxXyxhLGMsZCxiLGIpO3RoaXMuc2V0TGluZUF0dHJpYnV0ZXNfKHRoaXMubGluZTJfLGEsYixiLGMsZCl9O1xuQmxvY2tseS5HcmlkLnByb3RvdHlwZS5zZXRMaW5lQXR0cmlidXRlc189ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2EmJihhLnNldEF0dHJpYnV0ZShcInN0cm9rZS13aWR0aFwiLGIpLGEuc2V0QXR0cmlidXRlKFwieDFcIixjKSxhLnNldEF0dHJpYnV0ZShcInkxXCIsZSksYS5zZXRBdHRyaWJ1dGUoXCJ4MlwiLGQpLGEuc2V0QXR0cmlidXRlKFwieTJcIixmKSl9O0Jsb2NrbHkuR3JpZC5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKGEsYil7dGhpcy5ncmlkUGF0dGVybl8uc2V0QXR0cmlidXRlKFwieFwiLGEpO3RoaXMuZ3JpZFBhdHRlcm5fLnNldEF0dHJpYnV0ZShcInlcIixiKTsoQmxvY2tseS51dGlscy51c2VyQWdlbnQuSUV8fEJsb2NrbHkudXRpbHMudXNlckFnZW50LkVER0UpJiZ0aGlzLnVwZGF0ZSh0aGlzLnNjYWxlXyl9O1xuQmxvY2tseS5HcmlkLmNyZWF0ZURvbT1mdW5jdGlvbihhLGIsYyl7YT1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicGF0dGVyblwiLHtpZDpcImJsb2NrbHlHcmlkUGF0dGVyblwiK2EscGF0dGVyblVuaXRzOlwidXNlclNwYWNlT25Vc2VcIn0sYyk7MDxiLmxlbmd0aCYmMDxiLnNwYWNpbmc/KEJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJsaW5lXCIse3N0cm9rZTpiLmNvbG91cn0sYSksMTxiLmxlbmd0aCYmQmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImxpbmVcIix7c3Ryb2tlOmIuY29sb3VyfSxhKSk6QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImxpbmVcIix7fSxhKTtyZXR1cm4gYX07QmxvY2tseS5UaGVtZT1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLm5hbWU9YTt0aGlzLmJsb2NrU3R5bGVzPWJ8fE9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5jYXRlZ29yeVN0eWxlcz1jfHxPYmplY3QuY3JlYXRlKG51bGwpO3RoaXMuY29tcG9uZW50U3R5bGVzPWR8fE9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5mb250U3R5bGU9T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLnN0YXJ0SGF0cz1udWxsfTtCbG9ja2x5LlRoZW1lLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lK1wiLXRoZW1lXCJ9O0Jsb2NrbHkuVGhlbWUucHJvdG90eXBlLnNldEJsb2NrU3R5bGU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJsb2NrU3R5bGVzW2FdPWJ9O0Jsb2NrbHkuVGhlbWUucHJvdG90eXBlLnNldENhdGVnb3J5U3R5bGU9ZnVuY3Rpb24oYSxiKXt0aGlzLmNhdGVnb3J5U3R5bGVzW2FdPWJ9O1xuQmxvY2tseS5UaGVtZS5wcm90b3R5cGUuZ2V0Q29tcG9uZW50U3R5bGU9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5jb21wb25lbnRTdHlsZXNbYV0pJiZcInN0cmluZ1wiPT10eXBlb2YgcHJvcGVydHlWYWx1ZSYmdGhpcy5nZXRDb21wb25lbnRTdHlsZShhKT90aGlzLmdldENvbXBvbmVudFN0eWxlKGEpOmE/U3RyaW5nKGEpOm51bGx9O0Jsb2NrbHkuVGhlbWUucHJvdG90eXBlLnNldENvbXBvbmVudFN0eWxlPWZ1bmN0aW9uKGEsYil7dGhpcy5jb21wb25lbnRTdHlsZXNbYV09Yn07QmxvY2tseS5UaGVtZS5wcm90b3R5cGUuc2V0Rm9udFN0eWxlPWZ1bmN0aW9uKGEpe3RoaXMuZm9udFN0eWxlPWF9O0Jsb2NrbHkuVGhlbWUucHJvdG90eXBlLnNldFN0YXJ0SGF0cz1mdW5jdGlvbihhKXt0aGlzLnN0YXJ0SGF0cz1hfTtcbkJsb2NrbHkuVGhlbWUuZGVmaW5lVGhlbWU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQmxvY2tseS5UaGVtZShhKSxkPWIuYmFzZTtkJiZkIGluc3RhbmNlb2YgQmxvY2tseS5UaGVtZSYmKEJsb2NrbHkudXRpbHMub2JqZWN0LmRlZXBNZXJnZShjLGQpLGMubmFtZT1hKTtCbG9ja2x5LnV0aWxzLm9iamVjdC5kZWVwTWVyZ2UoYy5ibG9ja1N0eWxlcyxiLmJsb2NrU3R5bGVzKTtCbG9ja2x5LnV0aWxzLm9iamVjdC5kZWVwTWVyZ2UoYy5jYXRlZ29yeVN0eWxlcyxiLmNhdGVnb3J5U3R5bGVzKTtCbG9ja2x5LnV0aWxzLm9iamVjdC5kZWVwTWVyZ2UoYy5jb21wb25lbnRTdHlsZXMsYi5jb21wb25lbnRTdHlsZXMpO0Jsb2NrbHkudXRpbHMub2JqZWN0LmRlZXBNZXJnZShjLmZvbnRTdHlsZSxiLmZvbnRTdHlsZSk7bnVsbCE9Yi5zdGFydEhhdHMmJihjLnN0YXJ0SGF0cz1iLnN0YXJ0SGF0cyk7cmV0dXJuIGN9O0Jsb2NrbHkuVGhlbWVzPXt9O0Jsb2NrbHkuVGhlbWVzLkNsYXNzaWM9e307QmxvY2tseS5UaGVtZXMuQ2xhc3NpYy5kZWZhdWx0QmxvY2tTdHlsZXM9e2NvbG91cl9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIyMFwifSxsaXN0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIjI2MFwifSxsb2dpY19ibG9ja3M6e2NvbG91clByaW1hcnk6XCIyMTBcIn0sbG9vcF9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIxMjBcIn0sbWF0aF9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIyMzBcIn0scHJvY2VkdXJlX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIjI5MFwifSx0ZXh0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIjE2MFwifSx2YXJpYWJsZV9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIzMzBcIn0sdmFyaWFibGVfZHluYW1pY19ibG9ja3M6e2NvbG91clByaW1hcnk6XCIzMTBcIn0saGF0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIjMzMFwiLGhhdDpcImNhcFwifX07XG5CbG9ja2x5LlRoZW1lcy5DbGFzc2ljLmNhdGVnb3J5U3R5bGVzPXtjb2xvdXJfY2F0ZWdvcnk6e2NvbG91cjpcIjIwXCJ9LGxpc3RfY2F0ZWdvcnk6e2NvbG91cjpcIjI2MFwifSxsb2dpY19jYXRlZ29yeTp7Y29sb3VyOlwiMjEwXCJ9LGxvb3BfY2F0ZWdvcnk6e2NvbG91cjpcIjEyMFwifSxtYXRoX2NhdGVnb3J5Ontjb2xvdXI6XCIyMzBcIn0scHJvY2VkdXJlX2NhdGVnb3J5Ontjb2xvdXI6XCIyOTBcIn0sdGV4dF9jYXRlZ29yeTp7Y29sb3VyOlwiMTYwXCJ9LHZhcmlhYmxlX2NhdGVnb3J5Ontjb2xvdXI6XCIzMzBcIn0sdmFyaWFibGVfZHluYW1pY19jYXRlZ29yeTp7Y29sb3VyOlwiMzEwXCJ9fTtCbG9ja2x5LlRoZW1lcy5DbGFzc2ljPW5ldyBCbG9ja2x5LlRoZW1lKFwiY2xhc3NpY1wiLEJsb2NrbHkuVGhlbWVzLkNsYXNzaWMuZGVmYXVsdEJsb2NrU3R5bGVzLEJsb2NrbHkuVGhlbWVzLkNsYXNzaWMuY2F0ZWdvcnlTdHlsZXMpO0Jsb2NrbHkudXRpbHMuS2V5Q29kZXM9e1dJTl9LRVlfRkZfTElOVVg6MCxNQUNfRU5URVI6MyxCQUNLU1BBQ0U6OCxUQUI6OSxOVU1fQ0VOVEVSOjEyLEVOVEVSOjEzLFNISUZUOjE2LENUUkw6MTcsQUxUOjE4LFBBVVNFOjE5LENBUFNfTE9DSzoyMCxFU0M6MjcsU1BBQ0U6MzIsUEFHRV9VUDozMyxQQUdFX0RPV046MzQsRU5EOjM1LEhPTUU6MzYsTEVGVDozNyxVUDozOCxSSUdIVDozOSxET1dOOjQwLFBMVVNfU0lHTjo0MyxQUklOVF9TQ1JFRU46NDQsSU5TRVJUOjQ1LERFTEVURTo0NixaRVJPOjQ4LE9ORTo0OSxUV086NTAsVEhSRUU6NTEsRk9VUjo1MixGSVZFOjUzLFNJWDo1NCxTRVZFTjo1NSxFSUdIVDo1NixOSU5FOjU3LEZGX1NFTUlDT0xPTjo1OSxGRl9FUVVBTFM6NjEsRkZfREFTSDoxNzMsRkZfSEFTSDoxNjMsUVVFU1RJT05fTUFSSzo2MyxBVF9TSUdOOjY0LEE6NjUsQjo2NixDOjY3LEQ6NjgsRTo2OSxGOjcwLEc6NzEsSDo3MixJOjczLEo6NzQsSzo3NSxMOjc2LE06NzcsXG5OOjc4LE86NzksUDo4MCxROjgxLFI6ODIsUzo4MyxUOjg0LFU6ODUsVjo4NixXOjg3LFg6ODgsWTo4OSxaOjkwLE1FVEE6OTEsV0lOX0tFWV9SSUdIVDo5MixDT05URVhUX01FTlU6OTMsTlVNX1pFUk86OTYsTlVNX09ORTo5NyxOVU1fVFdPOjk4LE5VTV9USFJFRTo5OSxOVU1fRk9VUjoxMDAsTlVNX0ZJVkU6MTAxLE5VTV9TSVg6MTAyLE5VTV9TRVZFTjoxMDMsTlVNX0VJR0hUOjEwNCxOVU1fTklORToxMDUsTlVNX01VTFRJUExZOjEwNixOVU1fUExVUzoxMDcsTlVNX01JTlVTOjEwOSxOVU1fUEVSSU9EOjExMCxOVU1fRElWSVNJT046MTExLEYxOjExMixGMjoxMTMsRjM6MTE0LEY0OjExNSxGNToxMTYsRjY6MTE3LEY3OjExOCxGODoxMTksRjk6MTIwLEYxMDoxMjEsRjExOjEyMixGMTI6MTIzLE5VTUxPQ0s6MTQ0LFNDUk9MTF9MT0NLOjE0NSxGSVJTVF9NRURJQV9LRVk6MTY2LExBU1RfTUVESUFfS0VZOjE4MyxTRU1JQ09MT046MTg2LERBU0g6MTg5LEVRVUFMUzoxODcsQ09NTUE6MTg4LFxuUEVSSU9EOjE5MCxTTEFTSDoxOTEsQVBPU1RST1BIRToxOTIsVElMREU6MTkyLFNJTkdMRV9RVU9URToyMjIsT1BFTl9TUVVBUkVfQlJBQ0tFVDoyMTksQkFDS1NMQVNIOjIyMCxDTE9TRV9TUVVBUkVfQlJBQ0tFVDoyMjEsV0lOX0tFWToyMjQsTUFDX0ZGX01FVEE6MjI0LE1BQ19XS19DTURfTEVGVDo5MSxNQUNfV0tfQ01EX1JJR0hUOjkzLFdJTl9JTUU6MjI5LFZLX05PTkFNRToyNTIsUEhBTlRPTToyNTV9O0Jsb2NrbHkudXNlcj17fTtCbG9ja2x5LnVzZXIua2V5TWFwPXt9O0Jsb2NrbHkudXNlci5rZXlNYXAubWFwXz17fTtCbG9ja2x5LnVzZXIua2V5TWFwLm1vZGlmaWVyS2V5cz17U0hJRlQ6XCJTaGlmdFwiLENPTlRST0w6XCJDb250cm9sXCIsQUxUOlwiQWx0XCIsTUVUQTpcIk1ldGFcIn07QmxvY2tseS51c2VyLmtleU1hcC5zZXRBY3Rpb25Gb3JLZXk9ZnVuY3Rpb24oYSxiKXt2YXIgYz1CbG9ja2x5LnVzZXIua2V5TWFwLmdldEtleUJ5QWN0aW9uKGIpO2MmJmRlbGV0ZSBCbG9ja2x5LnVzZXIua2V5TWFwLm1hcF9bY107QmxvY2tseS51c2VyLmtleU1hcC5tYXBfW2FdPWJ9O0Jsb2NrbHkudXNlci5rZXlNYXAuc2V0S2V5TWFwPWZ1bmN0aW9uKGEpe0Jsb2NrbHkudXNlci5rZXlNYXAubWFwXz1hfTtCbG9ja2x5LnVzZXIua2V5TWFwLmdldEtleU1hcD1mdW5jdGlvbigpe3ZhciBhPXt9O0Jsb2NrbHkudXRpbHMub2JqZWN0Lm1peGluKGEsQmxvY2tseS51c2VyLmtleU1hcC5tYXBfKTtyZXR1cm4gYX07XG5CbG9ja2x5LnVzZXIua2V5TWFwLmdldEFjdGlvbkJ5S2V5Q29kZT1mdW5jdGlvbihhKXtyZXR1cm4gQmxvY2tseS51c2VyLmtleU1hcC5tYXBfW2FdfTtCbG9ja2x5LnVzZXIua2V5TWFwLmdldEtleUJ5QWN0aW9uPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1PYmplY3Qua2V5cyhCbG9ja2x5LnVzZXIua2V5TWFwLm1hcF8pLGM9MCxkO2Q9YltjXTtjKyspaWYoQmxvY2tseS51c2VyLmtleU1hcC5tYXBfW2RdLm5hbWU9PT1hLm5hbWUpcmV0dXJuIGQ7cmV0dXJuIG51bGx9O0Jsb2NrbHkudXNlci5rZXlNYXAuc2VyaWFsaXplS2V5RXZlbnQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPUJsb2NrbHkudXRpbHMub2JqZWN0LnZhbHVlcyhCbG9ja2x5LnVzZXIua2V5TWFwLm1vZGlmaWVyS2V5cyksYz1cIlwiLGQ9MCxlO2U9YltkXTtkKyspYS5nZXRNb2RpZmllclN0YXRlKGUpJiYoYys9ZSk7cmV0dXJuIGMrPWEua2V5Q29kZX07XG5CbG9ja2x5LnVzZXIua2V5TWFwLmNoZWNrTW9kaWZpZXJzXz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ7ZD1hW2NdO2MrKylpZigwPmIuaW5kZXhPZihkKSl0aHJvdyBFcnJvcihkK1wiIGlzIG5vdCBhIHZhbGlkIG1vZGlmaWVyIGtleS5cIik7fTtCbG9ja2x5LnVzZXIua2V5TWFwLmNyZWF0ZVNlcmlhbGl6ZWRLZXk9ZnVuY3Rpb24oYSxiKXt2YXIgYz1cIlwiLGQ9QmxvY2tseS51dGlscy5vYmplY3QudmFsdWVzKEJsb2NrbHkudXNlci5rZXlNYXAubW9kaWZpZXJLZXlzKTtCbG9ja2x5LnVzZXIua2V5TWFwLmNoZWNrTW9kaWZpZXJzXyhiLGQpO2Zvcih2YXIgZT0wLGY7Zj1kW2VdO2UrKyktMTxiLmluZGV4T2YoZikmJihjKz1mKTtyZXR1cm4gYythfTtcbkJsb2NrbHkudXNlci5rZXlNYXAuY3JlYXRlRGVmYXVsdEtleU1hcD1mdW5jdGlvbigpe3ZhciBhPXt9LGI9QmxvY2tseS51c2VyLmtleU1hcC5jcmVhdGVTZXJpYWxpemVkS2V5KEJsb2NrbHkudXRpbHMuS2V5Q29kZXMuSyxbQmxvY2tseS51c2VyLmtleU1hcC5tb2RpZmllcktleXMuQ09OVFJPTCxCbG9ja2x5LnVzZXIua2V5TWFwLm1vZGlmaWVyS2V5cy5TSElGVF0pLGM9QmxvY2tseS51c2VyLmtleU1hcC5jcmVhdGVTZXJpYWxpemVkS2V5KEJsb2NrbHkudXRpbHMuS2V5Q29kZXMuVyxbQmxvY2tseS51c2VyLmtleU1hcC5tb2RpZmllcktleXMuU0hJRlRdKSxkPUJsb2NrbHkudXNlci5rZXlNYXAuY3JlYXRlU2VyaWFsaXplZEtleShCbG9ja2x5LnV0aWxzLktleUNvZGVzLkEsW0Jsb2NrbHkudXNlci5rZXlNYXAubW9kaWZpZXJLZXlzLlNISUZUXSksZT1CbG9ja2x5LnVzZXIua2V5TWFwLmNyZWF0ZVNlcmlhbGl6ZWRLZXkoQmxvY2tseS51dGlscy5LZXlDb2Rlcy5TLFtCbG9ja2x5LnVzZXIua2V5TWFwLm1vZGlmaWVyS2V5cy5TSElGVF0pLFxuZj1CbG9ja2x5LnVzZXIua2V5TWFwLmNyZWF0ZVNlcmlhbGl6ZWRLZXkoQmxvY2tseS51dGlscy5LZXlDb2Rlcy5ELFtCbG9ja2x5LnVzZXIua2V5TWFwLm1vZGlmaWVyS2V5cy5TSElGVF0pO2FbQmxvY2tseS51dGlscy5LZXlDb2Rlcy5XXT1CbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX1BSRVZJT1VTO2FbQmxvY2tseS51dGlscy5LZXlDb2Rlcy5BXT1CbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX09VVDthW0Jsb2NrbHkudXRpbHMuS2V5Q29kZXMuU109QmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9ORVhUO2FbQmxvY2tseS51dGlscy5LZXlDb2Rlcy5EXT1CbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX0lOO2FbQmxvY2tseS51dGlscy5LZXlDb2Rlcy5JXT1CbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX0lOU0VSVDthW0Jsb2NrbHkudXRpbHMuS2V5Q29kZXMuRU5URVJdPUJsb2NrbHkubmF2aWdhdGlvbi5BQ1RJT05fTUFSSzthW0Jsb2NrbHkudXRpbHMuS2V5Q29kZXMuWF09QmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9ESVNDT05ORUNUO1xuYVtCbG9ja2x5LnV0aWxzLktleUNvZGVzLlRdPUJsb2NrbHkubmF2aWdhdGlvbi5BQ1RJT05fVE9PTEJPWDthW0Jsb2NrbHkudXRpbHMuS2V5Q29kZXMuRV09QmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9FWElUO2FbQmxvY2tseS51dGlscy5LZXlDb2Rlcy5FU0NdPUJsb2NrbHkubmF2aWdhdGlvbi5BQ1RJT05fRVhJVDthW2JdPUJsb2NrbHkubmF2aWdhdGlvbi5BQ1RJT05fVE9HR0xFX0tFWUJPQVJEX05BVjthW2NdPUJsb2NrbHkubmF2aWdhdGlvbi5BQ1RJT05fTU9WRV9XU19DVVJTT1JfVVA7YVtkXT1CbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX01PVkVfV1NfQ1VSU09SX0xFRlQ7YVtlXT1CbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX01PVkVfV1NfQ1VSU09SX0RPV047YVtmXT1CbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX01PVkVfV1NfQ1VSU09SX1JJR0hUO3JldHVybiBhfTtCbG9ja2x5LnV0aWxzLnhtbD17fTtCbG9ja2x5LnV0aWxzLnhtbC5OQU1FX1NQQUNFPVwiaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vYmxvY2tseS94bWxcIjtCbG9ja2x5LnV0aWxzLnhtbC5kb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudH07QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudD1mdW5jdGlvbihhKXtyZXR1cm4gQmxvY2tseS51dGlscy54bWwuZG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50TlMoQmxvY2tseS51dGlscy54bWwuTkFNRV9TUEFDRSxhKX07QmxvY2tseS51dGlscy54bWwuY3JlYXRlVGV4dE5vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIEJsb2NrbHkudXRpbHMueG1sLmRvY3VtZW50KCkuY3JlYXRlVGV4dE5vZGUoYSl9O0Jsb2NrbHkudXRpbHMueG1sLnRleHRUb0RvbURvY3VtZW50PWZ1bmN0aW9uKGEpe3JldHVybihuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcoYSxcInRleHQveG1sXCIpfTtcbkJsb2NrbHkudXRpbHMueG1sLmRvbVRvVGV4dD1mdW5jdGlvbihhKXtyZXR1cm4obmV3IFhNTFNlcmlhbGl6ZXIpLnNlcmlhbGl6ZVRvU3RyaW5nKGEpfTtCbG9ja2x5LkV2ZW50cy5CbG9ja0Jhc2U9ZnVuY3Rpb24oYSl7QmxvY2tseS5FdmVudHMuQmxvY2tCYXNlLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5ibG9ja0lkPWEuaWQ7dGhpcy53b3Jrc3BhY2VJZD1hLndvcmtzcGFjZS5pZH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5FdmVudHMuQmxvY2tCYXNlLEJsb2NrbHkuRXZlbnRzLkFic3RyYWN0KTtCbG9ja2x5LkV2ZW50cy5CbG9ja0Jhc2UucHJvdG90eXBlLnRvSnNvbj1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkuRXZlbnRzLkJsb2NrQmFzZS5zdXBlckNsYXNzXy50b0pzb24uY2FsbCh0aGlzKTthLmJsb2NrSWQ9dGhpcy5ibG9ja0lkO3JldHVybiBhfTtcbkJsb2NrbHkuRXZlbnRzLkJsb2NrQmFzZS5wcm90b3R5cGUuZnJvbUpzb249ZnVuY3Rpb24oYSl7QmxvY2tseS5FdmVudHMuQmxvY2tCYXNlLnN1cGVyQ2xhc3NfLmZyb21Kc29uLmNhbGwodGhpcyxhKTt0aGlzLmJsb2NrSWQ9YS5ibG9ja0lkfTtCbG9ja2x5LkV2ZW50cy5DaGFuZ2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXthJiYoQmxvY2tseS5FdmVudHMuQ2hhbmdlLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKSx0aGlzLmVsZW1lbnQ9Yix0aGlzLm5hbWU9Yyx0aGlzLm9sZFZhbHVlPWQsdGhpcy5uZXdWYWx1ZT1lKX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5FdmVudHMuQ2hhbmdlLEJsb2NrbHkuRXZlbnRzLkJsb2NrQmFzZSk7QmxvY2tseS5FdmVudHMuQmxvY2tDaGFuZ2U9QmxvY2tseS5FdmVudHMuQ2hhbmdlO0Jsb2NrbHkuRXZlbnRzLkNoYW5nZS5wcm90b3R5cGUudHlwZT1CbG9ja2x5LkV2ZW50cy5DSEFOR0U7XG5CbG9ja2x5LkV2ZW50cy5DaGFuZ2UucHJvdG90eXBlLnRvSnNvbj1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkuRXZlbnRzLkNoYW5nZS5zdXBlckNsYXNzXy50b0pzb24uY2FsbCh0aGlzKTthLmVsZW1lbnQ9dGhpcy5lbGVtZW50O3RoaXMubmFtZSYmKGEubmFtZT10aGlzLm5hbWUpO2EubmV3VmFsdWU9dGhpcy5uZXdWYWx1ZTtyZXR1cm4gYX07QmxvY2tseS5FdmVudHMuQ2hhbmdlLnByb3RvdHlwZS5mcm9tSnNvbj1mdW5jdGlvbihhKXtCbG9ja2x5LkV2ZW50cy5DaGFuZ2Uuc3VwZXJDbGFzc18uZnJvbUpzb24uY2FsbCh0aGlzLGEpO3RoaXMuZWxlbWVudD1hLmVsZW1lbnQ7dGhpcy5uYW1lPWEubmFtZTt0aGlzLm5ld1ZhbHVlPWEubmV3VmFsdWV9O0Jsb2NrbHkuRXZlbnRzLkNoYW5nZS5wcm90b3R5cGUuaXNOdWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2xkVmFsdWU9PXRoaXMubmV3VmFsdWV9O1xuQmxvY2tseS5FdmVudHMuQ2hhbmdlLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKS5nZXRCbG9ja0J5SWQodGhpcy5ibG9ja0lkKTtpZihiKXN3aXRjaChiLm11dGF0b3ImJmIubXV0YXRvci5zZXRWaXNpYmxlKCExKSxhPWE/dGhpcy5uZXdWYWx1ZTp0aGlzLm9sZFZhbHVlLHRoaXMuZWxlbWVudCl7Y2FzZSBcImZpZWxkXCI6KGI9Yi5nZXRGaWVsZCh0aGlzLm5hbWUpKT9iLnNldFZhbHVlKGEpOmNvbnNvbGUud2FybihcIkNhbid0IHNldCBub24tZXhpc3RlbnQgZmllbGQ6IFwiK3RoaXMubmFtZSk7YnJlYWs7Y2FzZSBcImNvbW1lbnRcIjpiLnNldENvbW1lbnRUZXh0KGF8fG51bGwpO2JyZWFrO2Nhc2UgXCJjb2xsYXBzZWRcIjpiLnNldENvbGxhcHNlZCghIWEpO2JyZWFrO2Nhc2UgXCJkaXNhYmxlZFwiOmIuc2V0RW5hYmxlZCghYSk7YnJlYWs7Y2FzZSBcImlubGluZVwiOmIuc2V0SW5wdXRzSW5saW5lKCEhYSk7YnJlYWs7Y2FzZSBcIm11dGF0aW9uXCI6dmFyIGM9XG5cIlwiO2IubXV0YXRpb25Ub0RvbSYmKGM9KGM9Yi5tdXRhdGlvblRvRG9tKCkpJiZCbG9ja2x5LlhtbC5kb21Ub1RleHQoYykpO2lmKGIuZG9tVG9NdXRhdGlvbil7dmFyIGQ9QmxvY2tseS5YbWwudGV4dFRvRG9tKGF8fFwiPG11dGF0aW9uLz5cIik7Yi5kb21Ub011dGF0aW9uKGQpfUJsb2NrbHkuRXZlbnRzLmZpcmUobmV3IEJsb2NrbHkuRXZlbnRzLkNoYW5nZShiLFwibXV0YXRpb25cIixudWxsLGMsYSkpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKFwiVW5rbm93biBjaGFuZ2UgdHlwZTogXCIrdGhpcy5lbGVtZW50KX1lbHNlIGNvbnNvbGUud2FybihcIkNhbid0IGNoYW5nZSBub24tZXhpc3RlbnQgYmxvY2s6IFwiK3RoaXMuYmxvY2tJZCl9O1xuQmxvY2tseS5FdmVudHMuQ3JlYXRlPWZ1bmN0aW9uKGEpe2EmJihCbG9ja2x5LkV2ZW50cy5DcmVhdGUuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpLHRoaXMueG1sPWEud29ya3NwYWNlLnJlbmRlcmVkP0Jsb2NrbHkuWG1sLmJsb2NrVG9Eb21XaXRoWFkoYSk6QmxvY2tseS5YbWwuYmxvY2tUb0RvbShhKSx0aGlzLmlkcz1CbG9ja2x5LkV2ZW50cy5nZXREZXNjZW5kYW50SWRzKGEpKX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5FdmVudHMuQ3JlYXRlLEJsb2NrbHkuRXZlbnRzLkJsb2NrQmFzZSk7QmxvY2tseS5FdmVudHMuQmxvY2tDcmVhdGU9QmxvY2tseS5FdmVudHMuQ3JlYXRlO0Jsb2NrbHkuRXZlbnRzLkNyZWF0ZS5wcm90b3R5cGUudHlwZT1CbG9ja2x5LkV2ZW50cy5DUkVBVEU7XG5CbG9ja2x5LkV2ZW50cy5DcmVhdGUucHJvdG90eXBlLnRvSnNvbj1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkuRXZlbnRzLkNyZWF0ZS5zdXBlckNsYXNzXy50b0pzb24uY2FsbCh0aGlzKTthLnhtbD1CbG9ja2x5LlhtbC5kb21Ub1RleHQodGhpcy54bWwpO2EuaWRzPXRoaXMuaWRzO3JldHVybiBhfTtCbG9ja2x5LkV2ZW50cy5DcmVhdGUucHJvdG90eXBlLmZyb21Kc29uPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuRXZlbnRzLkNyZWF0ZS5zdXBlckNsYXNzXy5mcm9tSnNvbi5jYWxsKHRoaXMsYSk7dGhpcy54bWw9QmxvY2tseS5YbWwudGV4dFRvRG9tKGEueG1sKTt0aGlzLmlkcz1hLmlkc307XG5CbG9ja2x5LkV2ZW50cy5DcmVhdGUucHJvdG90eXBlLnJ1bj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO2lmKGEpYT1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwieG1sXCIpLGEuYXBwZW5kQ2hpbGQodGhpcy54bWwpLEJsb2NrbHkuWG1sLmRvbVRvV29ya3NwYWNlKGEsYik7ZWxzZXthPTA7Zm9yKHZhciBjO2M9dGhpcy5pZHNbYV07YSsrKXt2YXIgZD1iLmdldEJsb2NrQnlJZChjKTtkP2QuZGlzcG9zZSghMSk6Yz09dGhpcy5ibG9ja0lkJiZjb25zb2xlLndhcm4oXCJDYW4ndCB1bmNyZWF0ZSBub24tZXhpc3RlbnQgYmxvY2s6IFwiK2MpfX19O1xuQmxvY2tseS5FdmVudHMuRGVsZXRlPWZ1bmN0aW9uKGEpe2lmKGEpe2lmKGEuZ2V0UGFyZW50KCkpdGhyb3cgRXJyb3IoXCJDb25uZWN0ZWQgYmxvY2tzIGNhbm5vdCBiZSBkZWxldGVkLlwiKTtCbG9ja2x5LkV2ZW50cy5EZWxldGUuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpO3RoaXMub2xkWG1sPWEud29ya3NwYWNlLnJlbmRlcmVkP0Jsb2NrbHkuWG1sLmJsb2NrVG9Eb21XaXRoWFkoYSk6QmxvY2tseS5YbWwuYmxvY2tUb0RvbShhKTt0aGlzLmlkcz1CbG9ja2x5LkV2ZW50cy5nZXREZXNjZW5kYW50SWRzKGEpfX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5FdmVudHMuRGVsZXRlLEJsb2NrbHkuRXZlbnRzLkJsb2NrQmFzZSk7QmxvY2tseS5FdmVudHMuQmxvY2tEZWxldGU9QmxvY2tseS5FdmVudHMuRGVsZXRlO0Jsb2NrbHkuRXZlbnRzLkRlbGV0ZS5wcm90b3R5cGUudHlwZT1CbG9ja2x5LkV2ZW50cy5ERUxFVEU7XG5CbG9ja2x5LkV2ZW50cy5EZWxldGUucHJvdG90eXBlLnRvSnNvbj1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkuRXZlbnRzLkRlbGV0ZS5zdXBlckNsYXNzXy50b0pzb24uY2FsbCh0aGlzKTthLmlkcz10aGlzLmlkcztyZXR1cm4gYX07QmxvY2tseS5FdmVudHMuRGVsZXRlLnByb3RvdHlwZS5mcm9tSnNvbj1mdW5jdGlvbihhKXtCbG9ja2x5LkV2ZW50cy5EZWxldGUuc3VwZXJDbGFzc18uZnJvbUpzb24uY2FsbCh0aGlzLGEpO3RoaXMuaWRzPWEuaWRzfTtcbkJsb2NrbHkuRXZlbnRzLkRlbGV0ZS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0RXZlbnRXb3Jrc3BhY2VfKCk7aWYoYSl7YT0wO2Zvcih2YXIgYztjPXRoaXMuaWRzW2FdO2ErKyl7dmFyIGQ9Yi5nZXRCbG9ja0J5SWQoYyk7ZD9kLmRpc3Bvc2UoITEpOmM9PXRoaXMuYmxvY2tJZCYmY29uc29sZS53YXJuKFwiQ2FuJ3QgZGVsZXRlIG5vbi1leGlzdGVudCBibG9jazogXCIrYyl9fWVsc2UgYT1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwieG1sXCIpLGEuYXBwZW5kQ2hpbGQodGhpcy5vbGRYbWwpLEJsb2NrbHkuWG1sLmRvbVRvV29ya3NwYWNlKGEsYil9O1xuQmxvY2tseS5FdmVudHMuTW92ZT1mdW5jdGlvbihhKXthJiYoQmxvY2tseS5FdmVudHMuTW92ZS5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSksYT10aGlzLmN1cnJlbnRMb2NhdGlvbl8oKSx0aGlzLm9sZFBhcmVudElkPWEucGFyZW50SWQsdGhpcy5vbGRJbnB1dE5hbWU9YS5pbnB1dE5hbWUsdGhpcy5vbGRDb29yZGluYXRlPWEuY29vcmRpbmF0ZSl9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuRXZlbnRzLk1vdmUsQmxvY2tseS5FdmVudHMuQmxvY2tCYXNlKTtCbG9ja2x5LkV2ZW50cy5CbG9ja01vdmU9QmxvY2tseS5FdmVudHMuTW92ZTtCbG9ja2x5LkV2ZW50cy5Nb3ZlLnByb3RvdHlwZS50eXBlPUJsb2NrbHkuRXZlbnRzLk1PVkU7XG5CbG9ja2x5LkV2ZW50cy5Nb3ZlLnByb3RvdHlwZS50b0pzb249ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5LkV2ZW50cy5Nb3ZlLnN1cGVyQ2xhc3NfLnRvSnNvbi5jYWxsKHRoaXMpO3RoaXMubmV3UGFyZW50SWQmJihhLm5ld1BhcmVudElkPXRoaXMubmV3UGFyZW50SWQpO3RoaXMubmV3SW5wdXROYW1lJiYoYS5uZXdJbnB1dE5hbWU9dGhpcy5uZXdJbnB1dE5hbWUpO3RoaXMubmV3Q29vcmRpbmF0ZSYmKGEubmV3Q29vcmRpbmF0ZT1NYXRoLnJvdW5kKHRoaXMubmV3Q29vcmRpbmF0ZS54KStcIixcIitNYXRoLnJvdW5kKHRoaXMubmV3Q29vcmRpbmF0ZS55KSk7cmV0dXJuIGF9O1xuQmxvY2tseS5FdmVudHMuTW92ZS5wcm90b3R5cGUuZnJvbUpzb249ZnVuY3Rpb24oYSl7QmxvY2tseS5FdmVudHMuTW92ZS5zdXBlckNsYXNzXy5mcm9tSnNvbi5jYWxsKHRoaXMsYSk7dGhpcy5uZXdQYXJlbnRJZD1hLm5ld1BhcmVudElkO3RoaXMubmV3SW5wdXROYW1lPWEubmV3SW5wdXROYW1lO2EubmV3Q29vcmRpbmF0ZSYmKGE9YS5uZXdDb29yZGluYXRlLnNwbGl0KFwiLFwiKSx0aGlzLm5ld0Nvb3JkaW5hdGU9bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShOdW1iZXIoYVswXSksTnVtYmVyKGFbMV0pKSl9O0Jsb2NrbHkuRXZlbnRzLk1vdmUucHJvdG90eXBlLnJlY29yZE5ldz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY3VycmVudExvY2F0aW9uXygpO3RoaXMubmV3UGFyZW50SWQ9YS5wYXJlbnRJZDt0aGlzLm5ld0lucHV0TmFtZT1hLmlucHV0TmFtZTt0aGlzLm5ld0Nvb3JkaW5hdGU9YS5jb29yZGluYXRlfTtcbkJsb2NrbHkuRXZlbnRzLk1vdmUucHJvdG90eXBlLmN1cnJlbnRMb2NhdGlvbl89ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpLmdldEJsb2NrQnlJZCh0aGlzLmJsb2NrSWQpLGI9e30sYz1hLmdldFBhcmVudCgpO2lmKGMpe2lmKGIucGFyZW50SWQ9Yy5pZCxhPWMuZ2V0SW5wdXRXaXRoQmxvY2soYSkpYi5pbnB1dE5hbWU9YS5uYW1lfWVsc2UgYi5jb29yZGluYXRlPWEuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO3JldHVybiBifTtCbG9ja2x5LkV2ZW50cy5Nb3ZlLnByb3RvdHlwZS5pc051bGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbGRQYXJlbnRJZD09dGhpcy5uZXdQYXJlbnRJZCYmdGhpcy5vbGRJbnB1dE5hbWU9PXRoaXMubmV3SW5wdXROYW1lJiZCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUuZXF1YWxzKHRoaXMub2xkQ29vcmRpbmF0ZSx0aGlzLm5ld0Nvb3JkaW5hdGUpfTtcbkJsb2NrbHkuRXZlbnRzLk1vdmUucHJvdG90eXBlLnJ1bj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpLGM9Yi5nZXRCbG9ja0J5SWQodGhpcy5ibG9ja0lkKTtpZihjKXt2YXIgZD1hP3RoaXMubmV3UGFyZW50SWQ6dGhpcy5vbGRQYXJlbnRJZCxlPWE/dGhpcy5uZXdJbnB1dE5hbWU6dGhpcy5vbGRJbnB1dE5hbWU7YT1hP3RoaXMubmV3Q29vcmRpbmF0ZTp0aGlzLm9sZENvb3JkaW5hdGU7dmFyIGY9bnVsbDtpZihkJiYoZj1iLmdldEJsb2NrQnlJZChkKSwhZikpe2NvbnNvbGUud2FybihcIkNhbid0IGNvbm5lY3QgdG8gbm9uLWV4aXN0ZW50IGJsb2NrOiBcIitkKTtyZXR1cm59Yy5nZXRQYXJlbnQoKSYmYy51bnBsdWcoKTtpZihhKWU9Yy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCksYy5tb3ZlQnkoYS54LWUueCxhLnktZS55KTtlbHNle2M9Yy5vdXRwdXRDb25uZWN0aW9ufHxjLnByZXZpb3VzQ29ubmVjdGlvbjtpZihlKXtpZihiPWYuZ2V0SW5wdXQoZSkpdmFyIGc9XG5iLmNvbm5lY3Rpb259ZWxzZSBjLnR5cGU9PUJsb2NrbHkuUFJFVklPVVNfU1RBVEVNRU5UJiYoZz1mLm5leHRDb25uZWN0aW9uKTtnP2MuY29ubmVjdChnKTpjb25zb2xlLndhcm4oXCJDYW4ndCBjb25uZWN0IHRvIG5vbi1leGlzdGVudCBpbnB1dDogXCIrZSl9fWVsc2UgY29uc29sZS53YXJuKFwiQ2FuJ3QgbW92ZSBub24tZXhpc3RlbnQgYmxvY2s6IFwiK3RoaXMuYmxvY2tJZCl9O0Jsb2NrbHkuRXZlbnRzLkZpbmlzaGVkTG9hZGluZz1mdW5jdGlvbihhKXt0aGlzLndvcmtzcGFjZUlkPWEuaWQ7dGhpcy5ncm91cD1CbG9ja2x5LkV2ZW50cy5nZXRHcm91cCgpO3RoaXMucmVjb3JkVW5kbz0hMX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5FdmVudHMuRmluaXNoZWRMb2FkaW5nLEJsb2NrbHkuRXZlbnRzLlVpKTtCbG9ja2x5LkV2ZW50cy5GaW5pc2hlZExvYWRpbmcucHJvdG90eXBlLnR5cGU9QmxvY2tseS5FdmVudHMuRklOSVNIRURfTE9BRElORztCbG9ja2x5LkV2ZW50cy5GaW5pc2hlZExvYWRpbmcucHJvdG90eXBlLnRvSnNvbj1mdW5jdGlvbigpe3ZhciBhPXt0eXBlOnRoaXMudHlwZX07dGhpcy5ncm91cCYmKGEuZ3JvdXA9dGhpcy5ncm91cCk7dGhpcy53b3Jrc3BhY2VJZCYmKGEud29ya3NwYWNlSWQ9dGhpcy53b3Jrc3BhY2VJZCk7cmV0dXJuIGF9O1xuQmxvY2tseS5FdmVudHMuRmluaXNoZWRMb2FkaW5nLnByb3RvdHlwZS5mcm9tSnNvbj1mdW5jdGlvbihhKXt0aGlzLndvcmtzcGFjZUlkPWEud29ya3NwYWNlSWQ7dGhpcy5ncm91cD1hLmdyb3VwfTtCbG9ja2x5LkV2ZW50cy5WYXJCYXNlPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuRXZlbnRzLlZhckJhc2Uuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLnZhcklkPWEuZ2V0SWQoKTt0aGlzLndvcmtzcGFjZUlkPWEud29ya3NwYWNlLmlkfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LkV2ZW50cy5WYXJCYXNlLEJsb2NrbHkuRXZlbnRzLkFic3RyYWN0KTtCbG9ja2x5LkV2ZW50cy5WYXJCYXNlLnByb3RvdHlwZS50b0pzb249ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5LkV2ZW50cy5WYXJCYXNlLnN1cGVyQ2xhc3NfLnRvSnNvbi5jYWxsKHRoaXMpO2EudmFySWQ9dGhpcy52YXJJZDtyZXR1cm4gYX07QmxvY2tseS5FdmVudHMuVmFyQmFzZS5wcm90b3R5cGUuZnJvbUpzb249ZnVuY3Rpb24oYSl7QmxvY2tseS5FdmVudHMuVmFyQmFzZS5zdXBlckNsYXNzXy50b0pzb24uY2FsbCh0aGlzKTt0aGlzLnZhcklkPWEudmFySWR9O1xuQmxvY2tseS5FdmVudHMuVmFyQ3JlYXRlPWZ1bmN0aW9uKGEpe2EmJihCbG9ja2x5LkV2ZW50cy5WYXJDcmVhdGUuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpLHRoaXMudmFyVHlwZT1hLnR5cGUsdGhpcy52YXJOYW1lPWEubmFtZSl9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuRXZlbnRzLlZhckNyZWF0ZSxCbG9ja2x5LkV2ZW50cy5WYXJCYXNlKTtCbG9ja2x5LkV2ZW50cy5WYXJDcmVhdGUucHJvdG90eXBlLnR5cGU9QmxvY2tseS5FdmVudHMuVkFSX0NSRUFURTtCbG9ja2x5LkV2ZW50cy5WYXJDcmVhdGUucHJvdG90eXBlLnRvSnNvbj1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkuRXZlbnRzLlZhckNyZWF0ZS5zdXBlckNsYXNzXy50b0pzb24uY2FsbCh0aGlzKTthLnZhclR5cGU9dGhpcy52YXJUeXBlO2EudmFyTmFtZT10aGlzLnZhck5hbWU7cmV0dXJuIGF9O1xuQmxvY2tseS5FdmVudHMuVmFyQ3JlYXRlLnByb3RvdHlwZS5mcm9tSnNvbj1mdW5jdGlvbihhKXtCbG9ja2x5LkV2ZW50cy5WYXJDcmVhdGUuc3VwZXJDbGFzc18uZnJvbUpzb24uY2FsbCh0aGlzLGEpO3RoaXMudmFyVHlwZT1hLnZhclR5cGU7dGhpcy52YXJOYW1lPWEudmFyTmFtZX07QmxvY2tseS5FdmVudHMuVmFyQ3JlYXRlLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKTthP2IuY3JlYXRlVmFyaWFibGUodGhpcy52YXJOYW1lLHRoaXMudmFyVHlwZSx0aGlzLnZhcklkKTpiLmRlbGV0ZVZhcmlhYmxlQnlJZCh0aGlzLnZhcklkKX07QmxvY2tseS5FdmVudHMuVmFyRGVsZXRlPWZ1bmN0aW9uKGEpe2EmJihCbG9ja2x5LkV2ZW50cy5WYXJEZWxldGUuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpLHRoaXMudmFyVHlwZT1hLnR5cGUsdGhpcy52YXJOYW1lPWEubmFtZSl9O1xuQmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5FdmVudHMuVmFyRGVsZXRlLEJsb2NrbHkuRXZlbnRzLlZhckJhc2UpO0Jsb2NrbHkuRXZlbnRzLlZhckRlbGV0ZS5wcm90b3R5cGUudHlwZT1CbG9ja2x5LkV2ZW50cy5WQVJfREVMRVRFO0Jsb2NrbHkuRXZlbnRzLlZhckRlbGV0ZS5wcm90b3R5cGUudG9Kc29uPWZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS5FdmVudHMuVmFyRGVsZXRlLnN1cGVyQ2xhc3NfLnRvSnNvbi5jYWxsKHRoaXMpO2EudmFyVHlwZT10aGlzLnZhclR5cGU7YS52YXJOYW1lPXRoaXMudmFyTmFtZTtyZXR1cm4gYX07QmxvY2tseS5FdmVudHMuVmFyRGVsZXRlLnByb3RvdHlwZS5mcm9tSnNvbj1mdW5jdGlvbihhKXtCbG9ja2x5LkV2ZW50cy5WYXJEZWxldGUuc3VwZXJDbGFzc18uZnJvbUpzb24uY2FsbCh0aGlzLGEpO3RoaXMudmFyVHlwZT1hLnZhclR5cGU7dGhpcy52YXJOYW1lPWEudmFyTmFtZX07XG5CbG9ja2x5LkV2ZW50cy5WYXJEZWxldGUucHJvdG90eXBlLnJ1bj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO2E/Yi5kZWxldGVWYXJpYWJsZUJ5SWQodGhpcy52YXJJZCk6Yi5jcmVhdGVWYXJpYWJsZSh0aGlzLnZhck5hbWUsdGhpcy52YXJUeXBlLHRoaXMudmFySWQpfTtCbG9ja2x5LkV2ZW50cy5WYXJSZW5hbWU9ZnVuY3Rpb24oYSxiKXthJiYoQmxvY2tseS5FdmVudHMuVmFyUmVuYW1lLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKSx0aGlzLm9sZE5hbWU9YS5uYW1lLHRoaXMubmV3TmFtZT1iKX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5FdmVudHMuVmFyUmVuYW1lLEJsb2NrbHkuRXZlbnRzLlZhckJhc2UpO0Jsb2NrbHkuRXZlbnRzLlZhclJlbmFtZS5wcm90b3R5cGUudHlwZT1CbG9ja2x5LkV2ZW50cy5WQVJfUkVOQU1FO1xuQmxvY2tseS5FdmVudHMuVmFyUmVuYW1lLnByb3RvdHlwZS50b0pzb249ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5LkV2ZW50cy5WYXJSZW5hbWUuc3VwZXJDbGFzc18udG9Kc29uLmNhbGwodGhpcyk7YS5vbGROYW1lPXRoaXMub2xkTmFtZTthLm5ld05hbWU9dGhpcy5uZXdOYW1lO3JldHVybiBhfTtCbG9ja2x5LkV2ZW50cy5WYXJSZW5hbWUucHJvdG90eXBlLmZyb21Kc29uPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuRXZlbnRzLlZhclJlbmFtZS5zdXBlckNsYXNzXy5mcm9tSnNvbi5jYWxsKHRoaXMsYSk7dGhpcy5vbGROYW1lPWEub2xkTmFtZTt0aGlzLm5ld05hbWU9YS5uZXdOYW1lfTtCbG9ja2x5LkV2ZW50cy5WYXJSZW5hbWUucHJvdG90eXBlLnJ1bj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpO2E/Yi5yZW5hbWVWYXJpYWJsZUJ5SWQodGhpcy52YXJJZCx0aGlzLm5ld05hbWUpOmIucmVuYW1lVmFyaWFibGVCeUlkKHRoaXMudmFySWQsdGhpcy5vbGROYW1lKX07QmxvY2tseS5YbWw9e307QmxvY2tseS5YbWwud29ya3NwYWNlVG9Eb209ZnVuY3Rpb24oYSxiKXt2YXIgYz1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwieG1sXCIpLGQ9QmxvY2tseS5YbWwudmFyaWFibGVzVG9Eb20oQmxvY2tseS5WYXJpYWJsZXMuYWxsVXNlZFZhck1vZGVscyhhKSk7ZC5oYXNDaGlsZE5vZGVzKCkmJmMuYXBwZW5kQ2hpbGQoZCk7dmFyIGU9YS5nZXRUb3BDb21tZW50cyghMCk7ZD0wO2Zvcih2YXIgZjtmPWVbZF07ZCsrKWMuYXBwZW5kQ2hpbGQoZi50b1htbFdpdGhYWShiKSk7YT1hLmdldFRvcEJsb2NrcyghMCk7Zm9yKGQ9MDtlPWFbZF07ZCsrKWMuYXBwZW5kQ2hpbGQoQmxvY2tseS5YbWwuYmxvY2tUb0RvbVdpdGhYWShlLGIpKTtyZXR1cm4gY307XG5CbG9ja2x5LlhtbC52YXJpYWJsZXNUb0RvbT1mdW5jdGlvbihhKXtmb3IodmFyIGI9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcInZhcmlhYmxlc1wiKSxjPTAsZDtkPWFbY107YysrKXt2YXIgZT1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwidmFyaWFibGVcIik7ZS5hcHBlbmRDaGlsZChCbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVUZXh0Tm9kZShkLm5hbWUpKTtkLnR5cGUmJmUuc2V0QXR0cmlidXRlKFwidHlwZVwiLGQudHlwZSk7ZS5pZD1kLmdldElkKCk7Yi5hcHBlbmRDaGlsZChlKX1yZXR1cm4gYn07XG5CbG9ja2x5LlhtbC5ibG9ja1RvRG9tV2l0aFhZPWZ1bmN0aW9uKGEsYil7dmFyIGM7YS53b3Jrc3BhY2UuUlRMJiYoYz1hLndvcmtzcGFjZS5nZXRXaWR0aCgpKTtiPUJsb2NrbHkuWG1sLmJsb2NrVG9Eb20oYSxiKTt2YXIgZD1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtiLnNldEF0dHJpYnV0ZShcInhcIixNYXRoLnJvdW5kKGEud29ya3NwYWNlLlJUTD9jLWQueDpkLngpKTtiLnNldEF0dHJpYnV0ZShcInlcIixNYXRoLnJvdW5kKGQueSkpO3JldHVybiBifTtCbG9ja2x5LlhtbC5maWVsZFRvRG9tXz1mdW5jdGlvbihhKXtpZihhLmlzU2VyaWFsaXphYmxlKCkpe3ZhciBiPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJmaWVsZFwiKTtiLnNldEF0dHJpYnV0ZShcIm5hbWVcIixhLm5hbWV8fFwiXCIpO3JldHVybiBhLnRvWG1sKGIpfXJldHVybiBudWxsfTtcbkJsb2NrbHkuWG1sLmFsbEZpZWxkc1RvRG9tXz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ7ZD1hLmlucHV0TGlzdFtjXTtjKyspZm9yKHZhciBlPTAsZjtmPWQuZmllbGRSb3dbZV07ZSsrKShmPUJsb2NrbHkuWG1sLmZpZWxkVG9Eb21fKGYpKSYmYi5hcHBlbmRDaGlsZChmKX07XG5CbG9ja2x5LlhtbC5ibG9ja1RvRG9tPWZ1bmN0aW9uKGEsYil7dmFyIGM9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChhLmlzU2hhZG93KCk/XCJzaGFkb3dcIjpcImJsb2NrXCIpO2Muc2V0QXR0cmlidXRlKFwidHlwZVwiLGEudHlwZSk7Ynx8Yy5zZXRBdHRyaWJ1dGUoXCJpZFwiLGEuaWQpO2lmKGEubXV0YXRpb25Ub0RvbSl7dmFyIGQ9YS5tdXRhdGlvblRvRG9tKCk7ZCYmKGQuaGFzQ2hpbGROb2RlcygpfHxkLmhhc0F0dHJpYnV0ZXMoKSkmJmMuYXBwZW5kQ2hpbGQoZCl9QmxvY2tseS5YbWwuYWxsRmllbGRzVG9Eb21fKGEsYyk7aWYoZD1hLmdldENvbW1lbnRUZXh0KCkpe3ZhciBlPWEuY29tbWVudE1vZGVsLnNpemUsZj1hLmNvbW1lbnRNb2RlbC5waW5uZWQsZz1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiY29tbWVudFwiKTtnLmFwcGVuZENoaWxkKEJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZVRleHROb2RlKGQpKTtnLnNldEF0dHJpYnV0ZShcInBpbm5lZFwiLGYpO2cuc2V0QXR0cmlidXRlKFwiaFwiLFxuZS5oZWlnaHQpO2cuc2V0QXR0cmlidXRlKFwid1wiLGUud2lkdGgpO2MuYXBwZW5kQ2hpbGQoZyl9YS5kYXRhJiYoZD1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiZGF0YVwiKSxkLmFwcGVuZENoaWxkKEJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZVRleHROb2RlKGEuZGF0YSkpLGMuYXBwZW5kQ2hpbGQoZCkpO2ZvcihlPTA7Zj1hLmlucHV0TGlzdFtlXTtlKyspe3ZhciBoO2c9ITA7aWYoZi50eXBlIT1CbG9ja2x5LkRVTU1ZX0lOUFVUKXt2YXIgaz1mLmNvbm5lY3Rpb24udGFyZ2V0QmxvY2soKTtmLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUU/aD1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwidmFsdWVcIik6Zi50eXBlPT1CbG9ja2x5Lk5FWFRfU1RBVEVNRU5UJiYoaD1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwic3RhdGVtZW50XCIpKTtkPWYuY29ubmVjdGlvbi5nZXRTaGFkb3dEb20oKTshZHx8ayYmay5pc1NoYWRvdygpfHxoLmFwcGVuZENoaWxkKEJsb2NrbHkuWG1sLmNsb25lU2hhZG93XyhkLFxuYikpO2smJihoLmFwcGVuZENoaWxkKEJsb2NrbHkuWG1sLmJsb2NrVG9Eb20oayxiKSksZz0hMSk7aC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsZi5uYW1lKTtnfHxjLmFwcGVuZENoaWxkKGgpfX12b2lkIDAhPWEuaW5wdXRzSW5saW5lJiZhLmlucHV0c0lubGluZSE9YS5pbnB1dHNJbmxpbmVEZWZhdWx0JiZjLnNldEF0dHJpYnV0ZShcImlubGluZVwiLGEuaW5wdXRzSW5saW5lKTthLmlzQ29sbGFwc2VkKCkmJmMuc2V0QXR0cmlidXRlKFwiY29sbGFwc2VkXCIsITApO2EuaXNFbmFibGVkKCl8fGMuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwhMCk7YS5pc0RlbGV0YWJsZSgpfHxhLmlzU2hhZG93KCl8fGMuc2V0QXR0cmlidXRlKFwiZGVsZXRhYmxlXCIsITEpO2EuaXNNb3ZhYmxlKCl8fGEuaXNTaGFkb3coKXx8Yy5zZXRBdHRyaWJ1dGUoXCJtb3ZhYmxlXCIsITEpO2EuaXNFZGl0YWJsZSgpfHxjLnNldEF0dHJpYnV0ZShcImVkaXRhYmxlXCIsITEpO2lmKGU9YS5nZXROZXh0QmxvY2soKSloPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJuZXh0XCIpLFxuaC5hcHBlbmRDaGlsZChCbG9ja2x5LlhtbC5ibG9ja1RvRG9tKGUsYikpLGMuYXBwZW5kQ2hpbGQoaCk7ZD1hLm5leHRDb25uZWN0aW9uJiZhLm5leHRDb25uZWN0aW9uLmdldFNoYWRvd0RvbSgpOyFkfHxlJiZlLmlzU2hhZG93KCl8fGguYXBwZW5kQ2hpbGQoQmxvY2tseS5YbWwuY2xvbmVTaGFkb3dfKGQsYikpO3JldHVybiBjfTtcbkJsb2NrbHkuWG1sLmNsb25lU2hhZG93Xz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1hPWEuY2xvbmVOb2RlKCEwKSxkO2M7KWlmKGImJlwic2hhZG93XCI9PWMubm9kZU5hbWUmJmMucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiksYy5maXJzdENoaWxkKWM9Yy5maXJzdENoaWxkO2Vsc2V7Zm9yKDtjJiYhYy5uZXh0U2libGluZzspZD1jLGM9Yy5wYXJlbnROb2RlLGQubm9kZVR5cGU9PUJsb2NrbHkudXRpbHMuZG9tLk5vZGUuVEVYVF9OT0RFJiZcIlwiPT1kLmRhdGEudHJpbSgpJiZjLmZpcnN0Q2hpbGQhPWQmJkJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZU5vZGUoZCk7YyYmKGQ9YyxjPWMubmV4dFNpYmxpbmcsZC5ub2RlVHlwZT09QmxvY2tseS51dGlscy5kb20uTm9kZS5URVhUX05PREUmJlwiXCI9PWQuZGF0YS50cmltKCkmJkJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZU5vZGUoZCkpfXJldHVybiBhfTtcbkJsb2NrbHkuWG1sLmRvbVRvVGV4dD1mdW5jdGlvbihhKXthPUJsb2NrbHkudXRpbHMueG1sLmRvbVRvVGV4dChhKTt2YXIgYj0vKDxbXi9dKD86W14+XSpbXi9dKT8+W148XSopXFxuKFtePF0qPFxcLykvO2Rve3ZhciBjPWE7YT1hLnJlcGxhY2UoYixcIiQxJiMxMDskMlwiKX13aGlsZShhIT1jKTtyZXR1cm4gYS5yZXBsYWNlKC88KFxcdyspKFtePF0qKVxcLz4vZyxcIjwkMSQyPjwvJDE+XCIpfTtcbkJsb2NrbHkuWG1sLmRvbVRvUHJldHR5VGV4dD1mdW5jdGlvbihhKXthPUJsb2NrbHkuWG1sLmRvbVRvVGV4dChhKS5zcGxpdChcIjxcIik7Zm9yKHZhciBiPVwiXCIsYz0xO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdO1wiL1wiPT1kWzBdJiYoYj1iLnN1YnN0cmluZygyKSk7YVtjXT1iK1wiPFwiK2Q7XCIvXCIhPWRbMF0mJlwiLz5cIiE9ZC5zbGljZSgtMikmJihiKz1cIiAgXCIpfWE9YS5qb2luKFwiXFxuXCIpO2E9YS5yZXBsYWNlKC8oPChcXHcrKVxcYltePl0qPlteXFxuXSopXFxuICo8XFwvXFwyPi9nLFwiJDE8LyQyPlwiKTtyZXR1cm4gYS5yZXBsYWNlKC9eXFxuLyxcIlwiKX07XG5CbG9ja2x5LlhtbC50ZXh0VG9Eb209ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS51dGlscy54bWwudGV4dFRvRG9tRG9jdW1lbnQoYSk7aWYoIWJ8fCFiLmRvY3VtZW50RWxlbWVudHx8Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInBhcnNlcmVycm9yXCIpLmxlbmd0aCl0aHJvdyBFcnJvcihcInRleHRUb0RvbSB3YXMgdW5hYmxlIHRvIHBhcnNlOiBcIithKTtyZXR1cm4gYi5kb2N1bWVudEVsZW1lbnR9O0Jsb2NrbHkuWG1sLmNsZWFyV29ya3NwYWNlQW5kTG9hZEZyb21YbWw9ZnVuY3Rpb24oYSxiKXtiLnNldFJlc2l6ZXNFbmFibGVkKCExKTtiLmNsZWFyKCk7YT1CbG9ja2x5LlhtbC5kb21Ub1dvcmtzcGFjZShhLGIpO2Iuc2V0UmVzaXplc0VuYWJsZWQoITApO3JldHVybiBhfTtcbkJsb2NrbHkuWG1sLmRvbVRvV29ya3NwYWNlPWZ1bmN0aW9uKGEsYil7aWYoYSBpbnN0YW5jZW9mIEJsb2NrbHkuV29ya3NwYWNlKXt2YXIgYz1hO2E9YjtiPWM7Y29uc29sZS53YXJuKFwiRGVwcmVjYXRlZCBjYWxsIHRvIEJsb2NrbHkuWG1sLmRvbVRvV29ya3NwYWNlLCBzd2FwIHRoZSBhcmd1bWVudHMuXCIpfXZhciBkO2IuUlRMJiYoZD1iLmdldFdpZHRoKCkpO2M9W107QmxvY2tseS51dGlscy5kb20uc3RhcnRUZXh0V2lkdGhDYWNoZSgpO3ZhciBlPUJsb2NrbHkuRXZlbnRzLmdldEdyb3VwKCk7ZXx8QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITApO2Iuc2V0UmVzaXplc0VuYWJsZWQmJmIuc2V0UmVzaXplc0VuYWJsZWQoITEpO3ZhciBmPSEwO3RyeXtmb3IodmFyIGc9MCxoO2g9YS5jaGlsZE5vZGVzW2ddO2crKyl7dmFyIGs9aC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGw9aDtpZihcImJsb2NrXCI9PWt8fFwic2hhZG93XCI9PWsmJiFCbG9ja2x5LkV2ZW50cy5yZWNvcmRVbmRvKXt2YXIgbT1cbkJsb2NrbHkuWG1sLmRvbVRvQmxvY2sobCxiKTtjLnB1c2gobS5pZCk7dmFyIG49bC5oYXNBdHRyaWJ1dGUoXCJ4XCIpP3BhcnNlSW50KGwuZ2V0QXR0cmlidXRlKFwieFwiKSwxMCk6MTAscD1sLmhhc0F0dHJpYnV0ZShcInlcIik/cGFyc2VJbnQobC5nZXRBdHRyaWJ1dGUoXCJ5XCIpLDEwKToxMDtpc05hTihuKXx8aXNOYU4ocCl8fG0ubW92ZUJ5KGIuUlRMP2QtbjpuLHApO2Y9ITF9ZWxzZXtpZihcInNoYWRvd1wiPT1rKXRocm93IFR5cGVFcnJvcihcIlNoYWRvdyBibG9jayBjYW5ub3QgYmUgYSB0b3AtbGV2ZWwgYmxvY2suXCIpO2lmKFwiY29tbWVudFwiPT1rKWIucmVuZGVyZWQ/QmxvY2tseS5Xb3Jrc3BhY2VDb21tZW50U3ZnP0Jsb2NrbHkuV29ya3NwYWNlQ29tbWVudFN2Zy5mcm9tWG1sKGwsYixkKTpjb25zb2xlLndhcm4oXCJNaXNzaW5nIHJlcXVpcmUgZm9yIEJsb2NrbHkuV29ya3NwYWNlQ29tbWVudFN2ZywgaWdub3Jpbmcgd29ya3NwYWNlIGNvbW1lbnQuXCIpOkJsb2NrbHkuV29ya3NwYWNlQ29tbWVudD9cbkJsb2NrbHkuV29ya3NwYWNlQ29tbWVudC5mcm9tWG1sKGwsYik6Y29uc29sZS53YXJuKFwiTWlzc2luZyByZXF1aXJlIGZvciBCbG9ja2x5LldvcmtzcGFjZUNvbW1lbnQsIGlnbm9yaW5nIHdvcmtzcGFjZSBjb21tZW50LlwiKTtlbHNlIGlmKFwidmFyaWFibGVzXCI9PWspe2lmKGYpQmxvY2tseS5YbWwuZG9tVG9WYXJpYWJsZXMobCxiKTtlbHNlIHRocm93IEVycm9yKFwiJ3ZhcmlhYmxlcycgdGFnIG11c3QgZXhpc3Qgb25jZSBiZWZvcmUgYmxvY2sgYW5kIHNoYWRvdyB0YWcgZWxlbWVudHMgaW4gdGhlIHdvcmtzcGFjZSBYTUwsIGJ1dCBpdCB3YXMgZm91bmQgaW4gYW5vdGhlciBsb2NhdGlvbi5cIik7Zj0hMX19fX1maW5hbGx5e2V8fEJsb2NrbHkuRXZlbnRzLnNldEdyb3VwKCExKSxCbG9ja2x5LnV0aWxzLmRvbS5zdG9wVGV4dFdpZHRoQ2FjaGUoKX1iLnNldFJlc2l6ZXNFbmFibGVkJiZiLnNldFJlc2l6ZXNFbmFibGVkKCEwKTtCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5GaW5pc2hlZExvYWRpbmcoYikpO1xucmV0dXJuIGN9O0Jsb2NrbHkuWG1sLmFwcGVuZERvbVRvV29ya3NwYWNlPWZ1bmN0aW9uKGEsYil7dmFyIGM7Yi5oYXNPd25Qcm9wZXJ0eShcInNjYWxlXCIpJiYoYz1iLmdldEJsb2Nrc0JvdW5kaW5nQm94KCkpO2E9QmxvY2tseS5YbWwuZG9tVG9Xb3Jrc3BhY2UoYSxiKTtpZihjJiZjLnRvcCE9Yy5ib3R0b20pe3ZhciBkPWMuYm90dG9tO3ZhciBlPWIuUlRMP2MucmlnaHQ6Yy5sZWZ0O3ZhciBmPUluZmluaXR5LGc9LUluZmluaXR5LGg9SW5maW5pdHk7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGs9Yi5nZXRCbG9ja0J5SWQoYVtjXSkuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2sueTxoJiYoaD1rLnkpO2sueDxmJiYoZj1rLngpO2sueD5nJiYoZz1rLngpfWQ9ZC1oKzEwO2U9Yi5SVEw/ZS1nOmUtZjtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWIuZ2V0QmxvY2tCeUlkKGFbY10pLm1vdmVCeShlLGQpfXJldHVybiBhfTtcbkJsb2NrbHkuWG1sLmRvbVRvQmxvY2s9ZnVuY3Rpb24oYSxiKXtpZihhIGluc3RhbmNlb2YgQmxvY2tseS5Xb3Jrc3BhY2Upe3ZhciBjPWE7YT1iO2I9Yztjb25zb2xlLndhcm4oXCJEZXByZWNhdGVkIGNhbGwgdG8gQmxvY2tseS5YbWwuZG9tVG9CbG9jaywgc3dhcCB0aGUgYXJndW1lbnRzLlwiKX1CbG9ja2x5LkV2ZW50cy5kaXNhYmxlKCk7Yz1iLmdldEFsbFZhcmlhYmxlcygpO3RyeXt2YXIgZD1CbG9ja2x5LlhtbC5kb21Ub0Jsb2NrSGVhZGxlc3NfKGEsYiksZT1kLmdldERlc2NlbmRhbnRzKCExKTtpZihiLnJlbmRlcmVkKXtkLnNldENvbm5lY3Rpb25UcmFja2luZyghMSk7Zm9yKHZhciBmPWUubGVuZ3RoLTE7MDw9ZjtmLS0pZVtmXS5pbml0U3ZnKCk7Zm9yKGY9ZS5sZW5ndGgtMTswPD1mO2YtLSllW2ZdLnJlbmRlcighMSk7c2V0VGltZW91dChmdW5jdGlvbigpe2QuZGlzcG9zZWR8fGQuc2V0Q29ubmVjdGlvblRyYWNraW5nKCEwKX0sMSk7ZC51cGRhdGVEaXNhYmxlZCgpO2IucmVzaXplQ29udGVudHMoKX1lbHNlIGZvcihmPVxuZS5sZW5ndGgtMTswPD1mO2YtLSllW2ZdLmluaXRNb2RlbCgpfWZpbmFsbHl7QmxvY2tseS5FdmVudHMuZW5hYmxlKCl9aWYoQmxvY2tseS5FdmVudHMuaXNFbmFibGVkKCkpe2E9QmxvY2tseS5WYXJpYWJsZXMuZ2V0QWRkZWRWYXJpYWJsZXMoYixjKTtmb3IoZj0wO2Y8YS5sZW5ndGg7ZisrKUJsb2NrbHkuRXZlbnRzLmZpcmUobmV3IEJsb2NrbHkuRXZlbnRzLlZhckNyZWF0ZShhW2ZdKSk7QmxvY2tseS5FdmVudHMuZmlyZShuZXcgQmxvY2tseS5FdmVudHMuQmxvY2tDcmVhdGUoZCkpfXJldHVybiBkfTtcbkJsb2NrbHkuWG1sLmRvbVRvVmFyaWFibGVzPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZDtkPWEuY2hpbGROb2Rlc1tjXTtjKyspaWYoZC5ub2RlVHlwZT09QmxvY2tseS51dGlscy5kb20uTm9kZS5FTEVNRU5UX05PREUpe3ZhciBlPWQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxmPWQuZ2V0QXR0cmlidXRlKFwiaWRcIik7Yi5jcmVhdGVWYXJpYWJsZShkLnRleHRDb250ZW50LGUsZil9fTtcbkJsb2NrbHkuWG1sLmRvbVRvQmxvY2tIZWFkbGVzc189ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsLGQ9YS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpO2lmKCFkKXRocm93IFR5cGVFcnJvcihcIkJsb2NrIHR5cGUgdW5zcGVjaWZpZWQ6IFwiK2Eub3V0ZXJIVE1MKTt2YXIgZT1hLmdldEF0dHJpYnV0ZShcImlkXCIpO2M9Yi5uZXdCbG9jayhkLGUpO3ZhciBmPW51bGw7ZT0wO2Zvcih2YXIgZztnPWEuY2hpbGROb2Rlc1tlXTtlKyspaWYoZy5ub2RlVHlwZSE9QmxvY2tseS51dGlscy5kb20uTm9kZS5URVhUX05PREUpe3ZhciBoPWY9bnVsbDt2YXIgaz0wO2Zvcih2YXIgbDtsPWcuY2hpbGROb2Rlc1trXTtrKyspbC5ub2RlVHlwZT09QmxvY2tseS51dGlscy5kb20uTm9kZS5FTEVNRU5UX05PREUmJihcImJsb2NrXCI9PWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKT9mPWw6XCJzaGFkb3dcIj09bC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYoaD1sKSk7IWYmJmgmJihmPWgpO2w9Zy5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuaz1nO3N3aXRjaChnLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2Nhc2UgXCJtdXRhdGlvblwiOmMuZG9tVG9NdXRhdGlvbiYmKGMuZG9tVG9NdXRhdGlvbihrKSxjLmluaXRTdmcmJmMuaW5pdFN2ZygpKTticmVhaztjYXNlIFwiY29tbWVudFwiOmlmKCFCbG9ja2x5LkNvbW1lbnQpe2NvbnNvbGUud2FybihcIk1pc3NpbmcgcmVxdWlyZSBmb3IgQmxvY2tseS5Db21tZW50LCBpZ25vcmluZyBibG9jayBjb21tZW50LlwiKTticmVha31mPWsudGV4dENvbnRlbnQ7aD1cInRydWVcIj09ay5nZXRBdHRyaWJ1dGUoXCJwaW5uZWRcIik7Zz1wYXJzZUludChrLmdldEF0dHJpYnV0ZShcIndcIiksMTApO2s9cGFyc2VJbnQoay5nZXRBdHRyaWJ1dGUoXCJoXCIpLDEwKTtjLnNldENvbW1lbnRUZXh0KGYpO2MuY29tbWVudE1vZGVsLnBpbm5lZD1oO2lzTmFOKGcpfHxpc05hTihrKXx8KGMuY29tbWVudE1vZGVsLnNpemU9bmV3IEJsb2NrbHkudXRpbHMuU2l6ZShnLGspKTtoJiZjLmdldENvbW1lbnRJY29uJiYhYy5pc0luRmx5b3V0JiZcbnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmdldENvbW1lbnRJY29uKCkuc2V0VmlzaWJsZSghMCl9LDEpO2JyZWFrO2Nhc2UgXCJkYXRhXCI6Yy5kYXRhPWcudGV4dENvbnRlbnQ7YnJlYWs7Y2FzZSBcInRpdGxlXCI6Y2FzZSBcImZpZWxkXCI6QmxvY2tseS5YbWwuZG9tVG9GaWVsZF8oYyxsLGspO2JyZWFrO2Nhc2UgXCJ2YWx1ZVwiOmNhc2UgXCJzdGF0ZW1lbnRcIjprPWMuZ2V0SW5wdXQobCk7aWYoIWspe2NvbnNvbGUud2FybihcIklnbm9yaW5nIG5vbi1leGlzdGVudCBpbnB1dCBcIitsK1wiIGluIGJsb2NrIFwiK2QpO2JyZWFrfWgmJmsuY29ubmVjdGlvbi5zZXRTaGFkb3dEb20oaCk7aWYoZilpZihmPUJsb2NrbHkuWG1sLmRvbVRvQmxvY2tIZWFkbGVzc18oZixiKSxmLm91dHB1dENvbm5lY3Rpb24pay5jb25uZWN0aW9uLmNvbm5lY3QoZi5vdXRwdXRDb25uZWN0aW9uKTtlbHNlIGlmKGYucHJldmlvdXNDb25uZWN0aW9uKWsuY29ubmVjdGlvbi5jb25uZWN0KGYucHJldmlvdXNDb25uZWN0aW9uKTtlbHNlIHRocm93IFR5cGVFcnJvcihcIkNoaWxkIGJsb2NrIGRvZXMgbm90IGhhdmUgb3V0cHV0IG9yIHByZXZpb3VzIHN0YXRlbWVudC5cIik7XG5icmVhaztjYXNlIFwibmV4dFwiOmgmJmMubmV4dENvbm5lY3Rpb24mJmMubmV4dENvbm5lY3Rpb24uc2V0U2hhZG93RG9tKGgpO2lmKGYpe2lmKCFjLm5leHRDb25uZWN0aW9uKXRocm93IFR5cGVFcnJvcihcIk5leHQgc3RhdGVtZW50IGRvZXMgbm90IGV4aXN0LlwiKTtpZihjLm5leHRDb25uZWN0aW9uLmlzQ29ubmVjdGVkKCkpdGhyb3cgVHlwZUVycm9yKFwiTmV4dCBzdGF0ZW1lbnQgaXMgYWxyZWFkeSBjb25uZWN0ZWQuXCIpO2Y9QmxvY2tseS5YbWwuZG9tVG9CbG9ja0hlYWRsZXNzXyhmLGIpO2lmKCFmLnByZXZpb3VzQ29ubmVjdGlvbil0aHJvdyBUeXBlRXJyb3IoXCJOZXh0IGJsb2NrIGRvZXMgbm90IGhhdmUgcHJldmlvdXMgc3RhdGVtZW50LlwiKTtjLm5leHRDb25uZWN0aW9uLmNvbm5lY3QoZi5wcmV2aW91c0Nvbm5lY3Rpb24pfWJyZWFrO2RlZmF1bHQ6Y29uc29sZS53YXJuKFwiSWdub3JpbmcgdW5rbm93biB0YWc6IFwiK2cubm9kZU5hbWUpfX0oZT1hLmdldEF0dHJpYnV0ZShcImlubGluZVwiKSkmJlxuYy5zZXRJbnB1dHNJbmxpbmUoXCJ0cnVlXCI9PWUpOyhlPWEuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikpJiZjLnNldEVuYWJsZWQoXCJ0cnVlXCIhPWUmJlwiZGlzYWJsZWRcIiE9ZSk7KGU9YS5nZXRBdHRyaWJ1dGUoXCJkZWxldGFibGVcIikpJiZjLnNldERlbGV0YWJsZShcInRydWVcIj09ZSk7KGU9YS5nZXRBdHRyaWJ1dGUoXCJtb3ZhYmxlXCIpKSYmYy5zZXRNb3ZhYmxlKFwidHJ1ZVwiPT1lKTsoZT1hLmdldEF0dHJpYnV0ZShcImVkaXRhYmxlXCIpKSYmYy5zZXRFZGl0YWJsZShcInRydWVcIj09ZSk7KGU9YS5nZXRBdHRyaWJ1dGUoXCJjb2xsYXBzZWRcIikpJiZjLnNldENvbGxhcHNlZChcInRydWVcIj09ZSk7aWYoXCJzaGFkb3dcIj09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXthPWMuZ2V0Q2hpbGRyZW4oITEpO2ZvcihlPTA7Yj1hW2VdO2UrKylpZighYi5pc1NoYWRvdygpKXRocm93IFR5cGVFcnJvcihcIlNoYWRvdyBibG9jayBub3QgYWxsb3dlZCBub24tc2hhZG93IGNoaWxkLlwiKTtpZihjLmdldFZhck1vZGVscygpLmxlbmd0aCl0aHJvdyBUeXBlRXJyb3IoXCJTaGFkb3cgYmxvY2tzIGNhbm5vdCBoYXZlIHZhcmlhYmxlIHJlZmVyZW5jZXMuXCIpO1xuYy5zZXRTaGFkb3coITApfXJldHVybiBjfTtCbG9ja2x5LlhtbC5kb21Ub0ZpZWxkXz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5nZXRGaWVsZChiKTtkP2QuZnJvbVhtbChjKTpjb25zb2xlLndhcm4oXCJJZ25vcmluZyBub24tZXhpc3RlbnQgZmllbGQgXCIrYitcIiBpbiBibG9jayBcIithLnR5cGUpfTtCbG9ja2x5LlhtbC5kZWxldGVOZXh0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM7Yz1hLmNoaWxkTm9kZXNbYl07YisrKWlmKFwibmV4dFwiPT1jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2EucmVtb3ZlQ2hpbGQoYyk7YnJlYWt9fTtCbG9ja2x5Lk9wdGlvbnM9ZnVuY3Rpb24oYSl7dmFyIGI9ISFhLnJlYWRPbmx5O2lmKGIpdmFyIGM9bnVsbCxkPSExLGU9ITEsZj0hMSxnPSExLGg9ITEsaz0hMTtlbHNle2M9QmxvY2tseS5PcHRpb25zLnBhcnNlVG9vbGJveFRyZWUoYS50b29sYm94fHxudWxsKTtkPSEoIWN8fCFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiY2F0ZWdvcnlcIikubGVuZ3RoKTtlPWEudHJhc2hjYW47dm9pZCAwPT09ZSYmKGU9ZCk7dmFyIGw9YS5tYXhUcmFzaGNhbkNvbnRlbnRzO2U/dm9pZCAwPT09bCYmKGw9MzIpOmw9MDtmPWEuY29sbGFwc2U7dm9pZCAwPT09ZiYmKGY9ZCk7Zz1hLmNvbW1lbnRzO3ZvaWQgMD09PWcmJihnPWQpO2g9YS5kaXNhYmxlO3ZvaWQgMD09PWgmJihoPWQpO2s9YS5zb3VuZHM7dm9pZCAwPT09ayYmKGs9ITApfXZhciBtPSEhYS5ydGwsbj1hLmhvcml6b250YWxMYXlvdXQ7dm9pZCAwPT09biYmKG49ITEpO3ZhciBwPWEudG9vbGJveFBvc2l0aW9uO3A9XCJlbmRcIiE9PXA7cD1uP1xucD9CbG9ja2x5LlRPT0xCT1hfQVRfVE9QOkJsb2NrbHkuVE9PTEJPWF9BVF9CT1RUT006cD09bT9CbG9ja2x5LlRPT0xCT1hfQVRfUklHSFQ6QmxvY2tseS5UT09MQk9YX0FUX0xFRlQ7dmFyIHE9YS5jc3M7dm9pZCAwPT09cSYmKHE9ITApO3ZhciByPVwiaHR0cHM6Ly9ibG9ja2x5LWRlbW8uYXBwc3BvdC5jb20vc3RhdGljL21lZGlhL1wiO2EubWVkaWE/cj1hLm1lZGlhOmEucGF0aCYmKHI9YS5wYXRoK1wibWVkaWEvXCIpO3ZhciB0PXZvaWQgMD09PWEub25lQmFzZWRJbmRleD8hMDohIWEub25lQmFzZWRJbmRleCx1PWEua2V5TWFwfHxCbG9ja2x5LnVzZXIua2V5TWFwLmNyZWF0ZURlZmF1bHRLZXlNYXAoKSx2PWEucmVuZGVyZXJ8fFwiZ2VyYXNcIjt0aGlzLlJUTD1tO3RoaXMub25lQmFzZWRJbmRleD10O3RoaXMuY29sbGFwc2U9Zjt0aGlzLmNvbW1lbnRzPWc7dGhpcy5kaXNhYmxlPWg7dGhpcy5yZWFkT25seT1iO3RoaXMubWF4QmxvY2tzPWEubWF4QmxvY2tzfHxJbmZpbml0eTt0aGlzLm1heEluc3RhbmNlcz1cbmEubWF4SW5zdGFuY2VzO3RoaXMucGF0aFRvTWVkaWE9cjt0aGlzLmhhc0NhdGVnb3JpZXM9ZDt0aGlzLm1vdmVPcHRpb25zPUJsb2NrbHkuT3B0aW9ucy5wYXJzZU1vdmVPcHRpb25zKGEsZCk7dGhpcy5oYXNTY3JvbGxiYXJzPXRoaXMubW92ZU9wdGlvbnMuc2Nyb2xsYmFyczt0aGlzLmhhc1RyYXNoY2FuPWU7dGhpcy5tYXhUcmFzaGNhbkNvbnRlbnRzPWw7dGhpcy5oYXNTb3VuZHM9azt0aGlzLmhhc0Nzcz1xO3RoaXMuaG9yaXpvbnRhbExheW91dD1uO3RoaXMubGFuZ3VhZ2VUcmVlPWM7dGhpcy5ncmlkT3B0aW9ucz1CbG9ja2x5Lk9wdGlvbnMucGFyc2VHcmlkT3B0aW9uc18oYSk7dGhpcy56b29tT3B0aW9ucz1CbG9ja2x5Lk9wdGlvbnMucGFyc2Vab29tT3B0aW9uc18oYSk7dGhpcy50b29sYm94UG9zaXRpb249cDt0aGlzLnRoZW1lPUJsb2NrbHkuT3B0aW9ucy5wYXJzZVRoZW1lT3B0aW9uc18oYSk7dGhpcy5rZXlNYXA9dTt0aGlzLnJlbmRlcmVyPXY7dGhpcy5yZW5kZXJlck92ZXJyaWRlcz1cbmEucmVuZGVyZXJPdmVycmlkZXM7dGhpcy5ncmlkUGF0dGVybj12b2lkIDA7dGhpcy5wYXJlbnRXb3Jrc3BhY2U9YS5wYXJlbnRXb3Jrc3BhY2V9O0Jsb2NrbHkuQmxvY2tseU9wdGlvbnM9ZnVuY3Rpb24oKXt9O0Jsb2NrbHkuT3B0aW9ucy5wYXJzZU1vdmVPcHRpb25zPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5tb3ZlfHx7fSxkPXt9O2Quc2Nyb2xsYmFycz12b2lkIDA9PT1jLnNjcm9sbGJhcnMmJnZvaWQgMD09PWEuc2Nyb2xsYmFycz9iOiEhYy5zY3JvbGxiYXJzfHwhIWEuc2Nyb2xsYmFycztkLndoZWVsPWQuc2Nyb2xsYmFycyYmdm9pZCAwIT09Yy53aGVlbD8hIWMud2hlZWw6ITE7ZC5kcmFnPWQuc2Nyb2xsYmFycz92b2lkIDA9PT1jLmRyYWc/ITA6ISFjLmRyYWc6ITE7cmV0dXJuIGR9O1xuQmxvY2tseS5PcHRpb25zLnBhcnNlWm9vbU9wdGlvbnNfPWZ1bmN0aW9uKGEpe2E9YS56b29tfHx7fTt2YXIgYj17fTtiLmNvbnRyb2xzPXZvaWQgMD09PWEuY29udHJvbHM/ITE6ISFhLmNvbnRyb2xzO2Iud2hlZWw9dm9pZCAwPT09YS53aGVlbD8hMTohIWEud2hlZWw7Yi5zdGFydFNjYWxlPXZvaWQgMD09PWEuc3RhcnRTY2FsZT8xOk51bWJlcihhLnN0YXJ0U2NhbGUpO2IubWF4U2NhbGU9dm9pZCAwPT09YS5tYXhTY2FsZT8zOk51bWJlcihhLm1heFNjYWxlKTtiLm1pblNjYWxlPXZvaWQgMD09PWEubWluU2NhbGU/LjM6TnVtYmVyKGEubWluU2NhbGUpO2Iuc2NhbGVTcGVlZD12b2lkIDA9PT1hLnNjYWxlU3BlZWQ/MS4yOk51bWJlcihhLnNjYWxlU3BlZWQpO2IucGluY2g9dm9pZCAwPT09YS5waW5jaD9iLndoZWVsfHxiLmNvbnRyb2xzOiEhYS5waW5jaDtyZXR1cm4gYn07XG5CbG9ja2x5Lk9wdGlvbnMucGFyc2VHcmlkT3B0aW9uc189ZnVuY3Rpb24oYSl7YT1hLmdyaWR8fHt9O3ZhciBiPXt9O2Iuc3BhY2luZz1OdW1iZXIoYS5zcGFjaW5nKXx8MDtiLmNvbG91cj1hLmNvbG91cnx8XCIjODg4XCI7Yi5sZW5ndGg9dm9pZCAwPT09YS5sZW5ndGg/MTpOdW1iZXIoYS5sZW5ndGgpO2Iuc25hcD0wPGIuc3BhY2luZyYmISFhLnNuYXA7cmV0dXJuIGJ9O0Jsb2NrbHkuT3B0aW9ucy5wYXJzZVRoZW1lT3B0aW9uc189ZnVuY3Rpb24oYSl7YT1hLnRoZW1lfHxCbG9ja2x5LlRoZW1lcy5DbGFzc2ljO3JldHVybiBhIGluc3RhbmNlb2YgQmxvY2tseS5UaGVtZT9hOkJsb2NrbHkuVGhlbWUuZGVmaW5lVGhlbWUoXCJidWlsdGluXCIsYSl9O1xuQmxvY2tseS5PcHRpb25zLnBhcnNlVG9vbGJveFRyZWU9ZnVuY3Rpb24oYSl7aWYoYSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEmJihCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5JRSYmYS5vdXRlckhUTUw/YT1hLm91dGVySFRNTDphIGluc3RhbmNlb2YgRWxlbWVudHx8KGE9bnVsbCkpLFwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1CbG9ja2x5LlhtbC50ZXh0VG9Eb20oYSksXCJ4bWxcIiE9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSl0aHJvdyBUeXBlRXJyb3IoXCJUb29sYm94IHNob3VsZCBiZSBhbiA8eG1sPiBkb2N1bWVudC5cIik7fWVsc2UgYT1udWxsO3JldHVybiBhfTtCbG9ja2x5LlRvdWNoPXt9O0Jsb2NrbHkuVG91Y2guVE9VQ0hfRU5BQkxFRD1cIm9udG91Y2hzdGFydFwiaW4gQmxvY2tseS51dGlscy5nbG9iYWx8fCEhKEJsb2NrbHkudXRpbHMuZ2xvYmFsLmRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJlwib250b3VjaHN0YXJ0XCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpfHwhKCFCbG9ja2x5LnV0aWxzLmdsb2JhbC5uYXZpZ2F0b3J8fCFCbG9ja2x5LnV0aWxzLmdsb2JhbC5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMmJiFCbG9ja2x5LnV0aWxzLmdsb2JhbC5uYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyk7QmxvY2tseS5Ub3VjaC50b3VjaElkZW50aWZpZXJfPW51bGw7QmxvY2tseS5Ub3VjaC5UT1VDSF9NQVA9e307XG5CbG9ja2x5LnV0aWxzLmdsb2JhbC5Qb2ludGVyRXZlbnQ/QmxvY2tseS5Ub3VjaC5UT1VDSF9NQVA9e21vdXNlZG93bjpbXCJwb2ludGVyZG93blwiXSxtb3VzZWVudGVyOltcInBvaW50ZXJlbnRlclwiXSxtb3VzZWxlYXZlOltcInBvaW50ZXJsZWF2ZVwiXSxtb3VzZW1vdmU6W1wicG9pbnRlcm1vdmVcIl0sbW91c2VvdXQ6W1wicG9pbnRlcm91dFwiXSxtb3VzZW92ZXI6W1wicG9pbnRlcm92ZXJcIl0sbW91c2V1cDpbXCJwb2ludGVydXBcIixcInBvaW50ZXJjYW5jZWxcIl0sdG91Y2hlbmQ6W1wicG9pbnRlcnVwXCJdLHRvdWNoY2FuY2VsOltcInBvaW50ZXJjYW5jZWxcIl19OkJsb2NrbHkuVG91Y2guVE9VQ0hfRU5BQkxFRCYmKEJsb2NrbHkuVG91Y2guVE9VQ0hfTUFQPXttb3VzZWRvd246W1widG91Y2hzdGFydFwiXSxtb3VzZW1vdmU6W1widG91Y2htb3ZlXCJdLG1vdXNldXA6W1widG91Y2hlbmRcIixcInRvdWNoY2FuY2VsXCJdfSk7QmxvY2tseS5sb25nUGlkXz0wO1xuQmxvY2tseS5sb25nU3RhcnQ9ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LmxvbmdTdG9wXygpO2EuY2hhbmdlZFRvdWNoZXMmJjEhPWEuY2hhbmdlZFRvdWNoZXMubGVuZ3RofHwoQmxvY2tseS5sb25nUGlkXz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5jaGFuZ2VkVG91Y2hlcyYmKGEuYnV0dG9uPTIsYS5jbGllbnRYPWEuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WCxhLmNsaWVudFk9YS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRZKTtiJiZiLmhhbmRsZVJpZ2h0Q2xpY2soYSl9LEJsb2NrbHkuTE9OR1BSRVNTKSl9O0Jsb2NrbHkubG9uZ1N0b3BfPWZ1bmN0aW9uKCl7QmxvY2tseS5sb25nUGlkXyYmKGNsZWFyVGltZW91dChCbG9ja2x5LmxvbmdQaWRfKSxCbG9ja2x5LmxvbmdQaWRfPTApfTtCbG9ja2x5LlRvdWNoLmNsZWFyVG91Y2hJZGVudGlmaWVyPWZ1bmN0aW9uKCl7QmxvY2tseS5Ub3VjaC50b3VjaElkZW50aWZpZXJfPW51bGx9O1xuQmxvY2tseS5Ub3VjaC5zaG91bGRIYW5kbGVFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4hQmxvY2tseS5Ub3VjaC5pc01vdXNlT3JUb3VjaEV2ZW50KGEpfHxCbG9ja2x5LlRvdWNoLmNoZWNrVG91Y2hJZGVudGlmaWVyKGEpfTtCbG9ja2x5LlRvdWNoLmdldFRvdWNoSWRlbnRpZmllckZyb21FdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwIT1hLnBvaW50ZXJJZD9hLnBvaW50ZXJJZDphLmNoYW5nZWRUb3VjaGVzJiZhLmNoYW5nZWRUb3VjaGVzWzBdJiZ2b2lkIDAhPT1hLmNoYW5nZWRUb3VjaGVzWzBdLmlkZW50aWZpZXImJm51bGwhPT1hLmNoYW5nZWRUb3VjaGVzWzBdLmlkZW50aWZpZXI/YS5jaGFuZ2VkVG91Y2hlc1swXS5pZGVudGlmaWVyOlwibW91c2VcIn07XG5CbG9ja2x5LlRvdWNoLmNoZWNrVG91Y2hJZGVudGlmaWVyPWZ1bmN0aW9uKGEpe3ZhciBiPUJsb2NrbHkuVG91Y2guZ2V0VG91Y2hJZGVudGlmaWVyRnJvbUV2ZW50KGEpO3JldHVybiB2b2lkIDAhPT1CbG9ja2x5LlRvdWNoLnRvdWNoSWRlbnRpZmllcl8mJm51bGwhPT1CbG9ja2x5LlRvdWNoLnRvdWNoSWRlbnRpZmllcl8/QmxvY2tseS5Ub3VjaC50b3VjaElkZW50aWZpZXJfPT1iOlwibW91c2Vkb3duXCI9PWEudHlwZXx8XCJ0b3VjaHN0YXJ0XCI9PWEudHlwZXx8XCJwb2ludGVyZG93blwiPT1hLnR5cGU/KEJsb2NrbHkuVG91Y2gudG91Y2hJZGVudGlmaWVyXz1iLCEwKTohMX07QmxvY2tseS5Ub3VjaC5zZXRDbGllbnRGcm9tVG91Y2g9ZnVuY3Rpb24oYSl7aWYoQmxvY2tseS51dGlscy5zdHJpbmcuc3RhcnRzV2l0aChhLnR5cGUsXCJ0b3VjaFwiKSl7dmFyIGI9YS5jaGFuZ2VkVG91Y2hlc1swXTthLmNsaWVudFg9Yi5jbGllbnRYO2EuY2xpZW50WT1iLmNsaWVudFl9fTtcbkJsb2NrbHkuVG91Y2guaXNNb3VzZU9yVG91Y2hFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gQmxvY2tseS51dGlscy5zdHJpbmcuc3RhcnRzV2l0aChhLnR5cGUsXCJ0b3VjaFwiKXx8QmxvY2tseS51dGlscy5zdHJpbmcuc3RhcnRzV2l0aChhLnR5cGUsXCJtb3VzZVwiKXx8QmxvY2tseS51dGlscy5zdHJpbmcuc3RhcnRzV2l0aChhLnR5cGUsXCJwb2ludGVyXCIpfTtCbG9ja2x5LlRvdWNoLmlzVG91Y2hFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gQmxvY2tseS51dGlscy5zdHJpbmcuc3RhcnRzV2l0aChhLnR5cGUsXCJ0b3VjaFwiKXx8QmxvY2tseS51dGlscy5zdHJpbmcuc3RhcnRzV2l0aChhLnR5cGUsXCJwb2ludGVyXCIpfTtcbkJsb2NrbHkuVG91Y2guc3BsaXRFdmVudEJ5VG91Y2hlcz1mdW5jdGlvbihhKXt2YXIgYj1bXTtpZihhLmNoYW5nZWRUb3VjaGVzKWZvcih2YXIgYz0wO2M8YS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7YysrKWJbY109e3R5cGU6YS50eXBlLGNoYW5nZWRUb3VjaGVzOlthLmNoYW5nZWRUb3VjaGVzW2NdXSx0YXJnZXQ6YS50YXJnZXQsc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7YS5zdG9wUHJvcGFnYXRpb24oKX0scHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXthLnByZXZlbnREZWZhdWx0KCl9fTtlbHNlIGIucHVzaChhKTtyZXR1cm4gYn07QmxvY2tseS5TY3JvbGxiYXJQYWlyPWZ1bmN0aW9uKGEpe3RoaXMud29ya3NwYWNlXz1hO3RoaXMuaFNjcm9sbD1uZXcgQmxvY2tseS5TY3JvbGxiYXIoYSwhMCwhMCxcImJsb2NrbHlNYWluV29ya3NwYWNlU2Nyb2xsYmFyXCIpO3RoaXMudlNjcm9sbD1uZXcgQmxvY2tseS5TY3JvbGxiYXIoYSwhMSwhMCxcImJsb2NrbHlNYWluV29ya3NwYWNlU2Nyb2xsYmFyXCIpO3RoaXMuY29ybmVyXz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicmVjdFwiLHtoZWlnaHQ6QmxvY2tseS5TY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzLHdpZHRoOkJsb2NrbHkuU2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcyxcImNsYXNzXCI6XCJibG9ja2x5U2Nyb2xsYmFyQmFja2dyb3VuZFwifSxudWxsKTtCbG9ja2x5LnV0aWxzLmRvbS5pbnNlcnRBZnRlcih0aGlzLmNvcm5lcl8sYS5nZXRCdWJibGVDYW52YXMoKSl9O1xuQmxvY2tseS5TY3JvbGxiYXJQYWlyLnByb3RvdHlwZS5vbGRIb3N0TWV0cmljc189bnVsbDtCbG9ja2x5LlNjcm9sbGJhclBhaXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVOb2RlKHRoaXMuY29ybmVyXyk7dGhpcy5vbGRIb3N0TWV0cmljc189dGhpcy53b3Jrc3BhY2VfPXRoaXMuY29ybmVyXz1udWxsO3RoaXMuaFNjcm9sbC5kaXNwb3NlKCk7dGhpcy5oU2Nyb2xsPW51bGw7dGhpcy52U2Nyb2xsLmRpc3Bvc2UoKTt0aGlzLnZTY3JvbGw9bnVsbH07XG5CbG9ja2x5LlNjcm9sbGJhclBhaXIucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMud29ya3NwYWNlXy5nZXRNZXRyaWNzKCk7aWYoYSl7dmFyIGI9ITEsYz0hMTt0aGlzLm9sZEhvc3RNZXRyaWNzXyYmdGhpcy5vbGRIb3N0TWV0cmljc18udmlld1dpZHRoPT1hLnZpZXdXaWR0aCYmdGhpcy5vbGRIb3N0TWV0cmljc18udmlld0hlaWdodD09YS52aWV3SGVpZ2h0JiZ0aGlzLm9sZEhvc3RNZXRyaWNzXy5hYnNvbHV0ZVRvcD09YS5hYnNvbHV0ZVRvcCYmdGhpcy5vbGRIb3N0TWV0cmljc18uYWJzb2x1dGVMZWZ0PT1hLmFic29sdXRlTGVmdD8odGhpcy5vbGRIb3N0TWV0cmljc18mJnRoaXMub2xkSG9zdE1ldHJpY3NfLmNvbnRlbnRXaWR0aD09YS5jb250ZW50V2lkdGgmJnRoaXMub2xkSG9zdE1ldHJpY3NfLnZpZXdMZWZ0PT1hLnZpZXdMZWZ0JiZ0aGlzLm9sZEhvc3RNZXRyaWNzXy5jb250ZW50TGVmdD09YS5jb250ZW50TGVmdHx8KGI9ITApLHRoaXMub2xkSG9zdE1ldHJpY3NfJiZcbnRoaXMub2xkSG9zdE1ldHJpY3NfLmNvbnRlbnRIZWlnaHQ9PWEuY29udGVudEhlaWdodCYmdGhpcy5vbGRIb3N0TWV0cmljc18udmlld1RvcD09YS52aWV3VG9wJiZ0aGlzLm9sZEhvc3RNZXRyaWNzXy5jb250ZW50VG9wPT1hLmNvbnRlbnRUb3B8fChjPSEwKSk6Yz1iPSEwO2ImJnRoaXMuaFNjcm9sbC5yZXNpemUoYSk7YyYmdGhpcy52U2Nyb2xsLnJlc2l6ZShhKTt0aGlzLm9sZEhvc3RNZXRyaWNzXyYmdGhpcy5vbGRIb3N0TWV0cmljc18udmlld1dpZHRoPT1hLnZpZXdXaWR0aCYmdGhpcy5vbGRIb3N0TWV0cmljc18uYWJzb2x1dGVMZWZ0PT1hLmFic29sdXRlTGVmdHx8dGhpcy5jb3JuZXJfLnNldEF0dHJpYnV0ZShcInhcIix0aGlzLnZTY3JvbGwucG9zaXRpb25fLngpO3RoaXMub2xkSG9zdE1ldHJpY3NfJiZ0aGlzLm9sZEhvc3RNZXRyaWNzXy52aWV3SGVpZ2h0PT1hLnZpZXdIZWlnaHQmJnRoaXMub2xkSG9zdE1ldHJpY3NfLmFic29sdXRlVG9wPT1hLmFic29sdXRlVG9wfHx0aGlzLmNvcm5lcl8uc2V0QXR0cmlidXRlKFwieVwiLFxudGhpcy5oU2Nyb2xsLnBvc2l0aW9uXy55KTt0aGlzLm9sZEhvc3RNZXRyaWNzXz1hfX07QmxvY2tseS5TY3JvbGxiYXJQYWlyLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz17fTthKj10aGlzLmhTY3JvbGwucmF0aW9fO2IqPXRoaXMudlNjcm9sbC5yYXRpb187dmFyIGQ9dGhpcy52U2Nyb2xsLnNjcm9sbFZpZXdTaXplXztjLng9dGhpcy5nZXRSYXRpb18oYSx0aGlzLmhTY3JvbGwuc2Nyb2xsVmlld1NpemVfKTtjLnk9dGhpcy5nZXRSYXRpb18oYixkKTt0aGlzLndvcmtzcGFjZV8uc2V0TWV0cmljcyhjKTt0aGlzLmhTY3JvbGwuc2V0SGFuZGxlUG9zaXRpb24oYSk7dGhpcy52U2Nyb2xsLnNldEhhbmRsZVBvc2l0aW9uKGIpfTtCbG9ja2x5LlNjcm9sbGJhclBhaXIucHJvdG90eXBlLmdldFJhdGlvXz1mdW5jdGlvbihhLGIpe2EvPWI7cmV0dXJuIGlzTmFOKGEpPzA6YX07XG5CbG9ja2x5LlNjcm9sbGJhcj1mdW5jdGlvbihhLGIsYyxkKXt0aGlzLndvcmtzcGFjZV89YTt0aGlzLnBhaXJfPWN8fCExO3RoaXMuaG9yaXpvbnRhbF89Yjt0aGlzLm9sZEhvc3RNZXRyaWNzXz1udWxsO3RoaXMuY3JlYXRlRG9tXyhkKTt0aGlzLnBvc2l0aW9uXz1uZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKDAsMCk7YT1CbG9ja2x5LlNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3M7Yj8odGhpcy5zdmdCYWNrZ3JvdW5kXy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixhKSx0aGlzLm91dGVyU3ZnXy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixhKSx0aGlzLnN2Z0hhbmRsZV8uc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsYS01KSx0aGlzLnN2Z0hhbmRsZV8uc2V0QXR0cmlidXRlKFwieVwiLDIuNSksdGhpcy5sZW5ndGhBdHRyaWJ1dGVfPVwid2lkdGhcIix0aGlzLnBvc2l0aW9uQXR0cmlidXRlXz1cInhcIik6KHRoaXMuc3ZnQmFja2dyb3VuZF8uc2V0QXR0cmlidXRlKFwid2lkdGhcIixhKSx0aGlzLm91dGVyU3ZnXy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLFxuYSksdGhpcy5zdmdIYW5kbGVfLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYS01KSx0aGlzLnN2Z0hhbmRsZV8uc2V0QXR0cmlidXRlKFwieFwiLDIuNSksdGhpcy5sZW5ndGhBdHRyaWJ1dGVfPVwiaGVpZ2h0XCIsdGhpcy5wb3NpdGlvbkF0dHJpYnV0ZV89XCJ5XCIpO3RoaXMub25Nb3VzZURvd25CYXJXcmFwcGVyXz1CbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKHRoaXMuc3ZnQmFja2dyb3VuZF8sXCJtb3VzZWRvd25cIix0aGlzLHRoaXMub25Nb3VzZURvd25CYXJfKTt0aGlzLm9uTW91c2VEb3duSGFuZGxlV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyh0aGlzLnN2Z0hhbmRsZV8sXCJtb3VzZWRvd25cIix0aGlzLHRoaXMub25Nb3VzZURvd25IYW5kbGVfKX07QmxvY2tseS5TY3JvbGxiYXIucHJvdG90eXBlLm9yaWdpbl89bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZSgwLDApO0Jsb2NrbHkuU2Nyb2xsYmFyLnByb3RvdHlwZS5zdGFydERyYWdNb3VzZV89MDtcbkJsb2NrbHkuU2Nyb2xsYmFyLnByb3RvdHlwZS5zY3JvbGxWaWV3U2l6ZV89MDtCbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUuaGFuZGxlTGVuZ3RoXz0wO0Jsb2NrbHkuU2Nyb2xsYmFyLnByb3RvdHlwZS5oYW5kbGVQb3NpdGlvbl89MDtCbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUuaXNWaXNpYmxlXz0hMDtCbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUuY29udGFpbmVyVmlzaWJsZV89ITA7QmxvY2tseS5TY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzPTE1O0Jsb2NrbHkuVG91Y2guVE9VQ0hfRU5BQkxFRCYmKEJsb2NrbHkuU2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcz0yNSk7XG5CbG9ja2x5LlNjcm9sbGJhci5tZXRyaWNzQXJlRXF1aXZhbGVudF89ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmYiYmYS52aWV3V2lkdGg9PWIudmlld1dpZHRoJiZhLnZpZXdIZWlnaHQ9PWIudmlld0hlaWdodCYmYS52aWV3TGVmdD09Yi52aWV3TGVmdCYmYS52aWV3VG9wPT1iLnZpZXdUb3AmJmEuYWJzb2x1dGVUb3A9PWIuYWJzb2x1dGVUb3AmJmEuYWJzb2x1dGVMZWZ0PT1iLmFic29sdXRlTGVmdCYmYS5jb250ZW50V2lkdGg9PWIuY29udGVudFdpZHRoJiZhLmNvbnRlbnRIZWlnaHQ9PWIuY29udGVudEhlaWdodCYmYS5jb250ZW50TGVmdD09Yi5jb250ZW50TGVmdCYmYS5jb250ZW50VG9wPT1iLmNvbnRlbnRUb3A/ITA6ITF9O1xuQmxvY2tseS5TY3JvbGxiYXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmNsZWFuVXBfKCk7QmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5vbk1vdXNlRG93bkJhcldyYXBwZXJfKTt0aGlzLm9uTW91c2VEb3duQmFyV3JhcHBlcl89bnVsbDtCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLm9uTW91c2VEb3duSGFuZGxlV3JhcHBlcl8pO3RoaXMub25Nb3VzZURvd25IYW5kbGVXcmFwcGVyXz1udWxsO0Jsb2NrbHkudXRpbHMuZG9tLnJlbW92ZU5vZGUodGhpcy5vdXRlclN2Z18pO3RoaXMuc3ZnQmFja2dyb3VuZF89dGhpcy5zdmdHcm91cF89dGhpcy5vdXRlclN2Z189bnVsbDt0aGlzLnN2Z0hhbmRsZV8mJih0aGlzLndvcmtzcGFjZV8uZ2V0VGhlbWVNYW5hZ2VyKCkudW5zdWJzY3JpYmUodGhpcy5zdmdIYW5kbGVfKSx0aGlzLnN2Z0hhbmRsZV89bnVsbCk7dGhpcy53b3Jrc3BhY2VfPW51bGx9O1xuQmxvY2tseS5TY3JvbGxiYXIucHJvdG90eXBlLnNldEhhbmRsZUxlbmd0aF89ZnVuY3Rpb24oYSl7dGhpcy5oYW5kbGVMZW5ndGhfPWE7dGhpcy5zdmdIYW5kbGVfLnNldEF0dHJpYnV0ZSh0aGlzLmxlbmd0aEF0dHJpYnV0ZV8sdGhpcy5oYW5kbGVMZW5ndGhfKX07QmxvY2tseS5TY3JvbGxiYXIucHJvdG90eXBlLnNldEhhbmRsZVBvc2l0aW9uPWZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlUG9zaXRpb25fPWE7dGhpcy5zdmdIYW5kbGVfLnNldEF0dHJpYnV0ZSh0aGlzLnBvc2l0aW9uQXR0cmlidXRlXyx0aGlzLmhhbmRsZVBvc2l0aW9uXyl9O1xuQmxvY2tseS5TY3JvbGxiYXIucHJvdG90eXBlLnNldFNjcm9sbFZpZXdTaXplXz1mdW5jdGlvbihhKXt0aGlzLnNjcm9sbFZpZXdTaXplXz1hO3RoaXMub3V0ZXJTdmdfLnNldEF0dHJpYnV0ZSh0aGlzLmxlbmd0aEF0dHJpYnV0ZV8sdGhpcy5zY3JvbGxWaWV3U2l6ZV8pO3RoaXMuc3ZnQmFja2dyb3VuZF8uc2V0QXR0cmlidXRlKHRoaXMubGVuZ3RoQXR0cmlidXRlXyx0aGlzLnNjcm9sbFZpZXdTaXplXyl9O0Jsb2NrbHkuU2Nyb2xsYmFyUGFpci5wcm90b3R5cGUuc2V0Q29udGFpbmVyVmlzaWJsZT1mdW5jdGlvbihhKXt0aGlzLmhTY3JvbGwuc2V0Q29udGFpbmVyVmlzaWJsZShhKTt0aGlzLnZTY3JvbGwuc2V0Q29udGFpbmVyVmlzaWJsZShhKX07XG5CbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUuc2V0UG9zaXRpb25fPWZ1bmN0aW9uKGEsYil7dGhpcy5wb3NpdGlvbl8ueD1hO3RoaXMucG9zaXRpb25fLnk9YjtCbG9ja2x5LnV0aWxzLmRvbS5zZXRDc3NUcmFuc2Zvcm0odGhpcy5vdXRlclN2Z18sXCJ0cmFuc2xhdGUoXCIrKHRoaXMucG9zaXRpb25fLngrdGhpcy5vcmlnaW5fLngpK1wicHgsXCIrKHRoaXMucG9zaXRpb25fLnkrdGhpcy5vcmlnaW5fLnkpK1wicHgpXCIpfTtCbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGEpe2lmKCFhJiYoYT10aGlzLndvcmtzcGFjZV8uZ2V0TWV0cmljcygpLCFhKSlyZXR1cm47QmxvY2tseS5TY3JvbGxiYXIubWV0cmljc0FyZUVxdWl2YWxlbnRfKGEsdGhpcy5vbGRIb3N0TWV0cmljc18pfHwodGhpcy5vbGRIb3N0TWV0cmljc189YSx0aGlzLmhvcml6b250YWxfP3RoaXMucmVzaXplSG9yaXpvbnRhbF8oYSk6dGhpcy5yZXNpemVWZXJ0aWNhbF8oYSksdGhpcy5vblNjcm9sbF8oKSl9O1xuQmxvY2tseS5TY3JvbGxiYXIucHJvdG90eXBlLnJlc2l6ZUhvcml6b250YWxfPWZ1bmN0aW9uKGEpe3RoaXMucmVzaXplVmlld0hvcml6b250YWwoYSl9O0Jsb2NrbHkuU2Nyb2xsYmFyLnByb3RvdHlwZS5yZXNpemVWaWV3SG9yaXpvbnRhbD1mdW5jdGlvbihhKXt2YXIgYj1hLnZpZXdXaWR0aC0xO3RoaXMucGFpcl8mJihiLT1CbG9ja2x5LlNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3MpO3RoaXMuc2V0U2Nyb2xsVmlld1NpemVfKE1hdGgubWF4KDAsYikpO2I9YS5hYnNvbHV0ZUxlZnQrLjU7dGhpcy5wYWlyXyYmdGhpcy53b3Jrc3BhY2VfLlJUTCYmKGIrPUJsb2NrbHkuU2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcyk7dGhpcy5zZXRQb3NpdGlvbl8oYixhLmFic29sdXRlVG9wK2Eudmlld0hlaWdodC1CbG9ja2x5LlNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3MtLjUpO3RoaXMucmVzaXplQ29udGVudEhvcml6b250YWwoYSl9O1xuQmxvY2tseS5TY3JvbGxiYXIucHJvdG90eXBlLnJlc2l6ZUNvbnRlbnRIb3Jpem9udGFsPWZ1bmN0aW9uKGEpe3RoaXMucGFpcl98fHRoaXMuc2V0VmlzaWJsZSh0aGlzLnNjcm9sbFZpZXdTaXplXzxhLmNvbnRlbnRXaWR0aCk7dGhpcy5yYXRpb189dGhpcy5zY3JvbGxWaWV3U2l6ZV8vYS5jb250ZW50V2lkdGg7aWYoLUluZmluaXR5PT10aGlzLnJhdGlvX3x8SW5maW5pdHk9PXRoaXMucmF0aW9ffHxpc05hTih0aGlzLnJhdGlvXykpdGhpcy5yYXRpb189MDt0aGlzLnNldEhhbmRsZUxlbmd0aF8oTWF0aC5tYXgoMCxhLnZpZXdXaWR0aCp0aGlzLnJhdGlvXykpO3RoaXMuc2V0SGFuZGxlUG9zaXRpb24odGhpcy5jb25zdHJhaW5IYW5kbGVfKChhLnZpZXdMZWZ0LWEuY29udGVudExlZnQpKnRoaXMucmF0aW9fKSl9O0Jsb2NrbHkuU2Nyb2xsYmFyLnByb3RvdHlwZS5yZXNpemVWZXJ0aWNhbF89ZnVuY3Rpb24oYSl7dGhpcy5yZXNpemVWaWV3VmVydGljYWwoYSl9O1xuQmxvY2tseS5TY3JvbGxiYXIucHJvdG90eXBlLnJlc2l6ZVZpZXdWZXJ0aWNhbD1mdW5jdGlvbihhKXt2YXIgYj1hLnZpZXdIZWlnaHQtMTt0aGlzLnBhaXJfJiYoYi09QmxvY2tseS5TY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzKTt0aGlzLnNldFNjcm9sbFZpZXdTaXplXyhNYXRoLm1heCgwLGIpKTtiPWEuYWJzb2x1dGVMZWZ0Ky41O3RoaXMud29ya3NwYWNlXy5SVEx8fChiKz1hLnZpZXdXaWR0aC1CbG9ja2x5LlNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3MtMSk7dGhpcy5zZXRQb3NpdGlvbl8oYixhLmFic29sdXRlVG9wKy41KTt0aGlzLnJlc2l6ZUNvbnRlbnRWZXJ0aWNhbChhKX07XG5CbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUucmVzaXplQ29udGVudFZlcnRpY2FsPWZ1bmN0aW9uKGEpe3RoaXMucGFpcl98fHRoaXMuc2V0VmlzaWJsZSh0aGlzLnNjcm9sbFZpZXdTaXplXzxhLmNvbnRlbnRIZWlnaHQpO3RoaXMucmF0aW9fPXRoaXMuc2Nyb2xsVmlld1NpemVfL2EuY29udGVudEhlaWdodDtpZigtSW5maW5pdHk9PXRoaXMucmF0aW9ffHxJbmZpbml0eT09dGhpcy5yYXRpb198fGlzTmFOKHRoaXMucmF0aW9fKSl0aGlzLnJhdGlvXz0wO3RoaXMuc2V0SGFuZGxlTGVuZ3RoXyhNYXRoLm1heCgwLGEudmlld0hlaWdodCp0aGlzLnJhdGlvXykpO3RoaXMuc2V0SGFuZGxlUG9zaXRpb24odGhpcy5jb25zdHJhaW5IYW5kbGVfKChhLnZpZXdUb3AtYS5jb250ZW50VG9wKSp0aGlzLnJhdGlvXykpfTtcbkJsb2NrbHkuU2Nyb2xsYmFyLnByb3RvdHlwZS5jcmVhdGVEb21fPWZ1bmN0aW9uKGEpe3ZhciBiPVwiYmxvY2tseVNjcm9sbGJhclwiKyh0aGlzLmhvcml6b250YWxfP1wiSG9yaXpvbnRhbFwiOlwiVmVydGljYWxcIik7YSYmKGIrPVwiIFwiK2EpO3RoaXMub3V0ZXJTdmdfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJzdmdcIix7XCJjbGFzc1wiOmJ9LG51bGwpO3RoaXMuc3ZnR3JvdXBfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJnXCIse30sdGhpcy5vdXRlclN2Z18pO3RoaXMuc3ZnQmFja2dyb3VuZF89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInJlY3RcIix7XCJjbGFzc1wiOlwiYmxvY2tseVNjcm9sbGJhckJhY2tncm91bmRcIn0sdGhpcy5zdmdHcm91cF8pO2E9TWF0aC5mbG9vcigoQmxvY2tseS5TY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzLTUpLzIpO3RoaXMuc3ZnSGFuZGxlXz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicmVjdFwiLFxue1wiY2xhc3NcIjpcImJsb2NrbHlTY3JvbGxiYXJIYW5kbGVcIixyeDphLHJ5OmF9LHRoaXMuc3ZnR3JvdXBfKTt0aGlzLndvcmtzcGFjZV8uZ2V0VGhlbWVNYW5hZ2VyKCkuc3Vic2NyaWJlKHRoaXMuc3ZnSGFuZGxlXyxcInNjcm9sbGJhckNvbG91clwiLFwiZmlsbFwiKTt0aGlzLndvcmtzcGFjZV8uZ2V0VGhlbWVNYW5hZ2VyKCkuc3Vic2NyaWJlKHRoaXMuc3ZnSGFuZGxlXyxcInNjcm9sbGJhck9wYWNpdHlcIixcImZpbGwtb3BhY2l0eVwiKTtCbG9ja2x5LnV0aWxzLmRvbS5pbnNlcnRBZnRlcih0aGlzLm91dGVyU3ZnXyx0aGlzLndvcmtzcGFjZV8uZ2V0UGFyZW50U3ZnKCkpfTtCbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNWaXNpYmxlX307XG5CbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUuc2V0Q29udGFpbmVyVmlzaWJsZT1mdW5jdGlvbihhKXt2YXIgYj1hIT10aGlzLmNvbnRhaW5lclZpc2libGVfO3RoaXMuY29udGFpbmVyVmlzaWJsZV89YTtiJiZ0aGlzLnVwZGF0ZURpc3BsYXlfKCl9O0Jsb2NrbHkuU2Nyb2xsYmFyLnByb3RvdHlwZS5zZXRWaXNpYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPWEhPXRoaXMuaXNWaXNpYmxlKCk7aWYodGhpcy5wYWlyXyl0aHJvdyBFcnJvcihcIlVuYWJsZSB0byB0b2dnbGUgdmlzaWJpbGl0eSBvZiBwYWlyZWQgc2Nyb2xsYmFycy5cIik7dGhpcy5pc1Zpc2libGVfPWE7YiYmdGhpcy51cGRhdGVEaXNwbGF5XygpfTtcbkJsb2NrbHkuU2Nyb2xsYmFyLnByb3RvdHlwZS51cGRhdGVEaXNwbGF5Xz1mdW5jdGlvbigpe3RoaXMuY29udGFpbmVyVmlzaWJsZV8mJnRoaXMuaXNWaXNpYmxlKCk/dGhpcy5vdXRlclN2Z18uc2V0QXR0cmlidXRlKFwiZGlzcGxheVwiLFwiYmxvY2tcIik6dGhpcy5vdXRlclN2Z18uc2V0QXR0cmlidXRlKFwiZGlzcGxheVwiLFwibm9uZVwiKX07XG5CbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUub25Nb3VzZURvd25CYXJfPWZ1bmN0aW9uKGEpe3RoaXMud29ya3NwYWNlXy5tYXJrRm9jdXNlZCgpO0Jsb2NrbHkuVG91Y2guY2xlYXJUb3VjaElkZW50aWZpZXIoKTt0aGlzLmNsZWFuVXBfKCk7aWYoQmxvY2tseS51dGlscy5pc1JpZ2h0QnV0dG9uKGEpKWEuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZXt2YXIgYj1CbG9ja2x5LnV0aWxzLm1vdXNlVG9TdmcoYSx0aGlzLndvcmtzcGFjZV8uZ2V0UGFyZW50U3ZnKCksdGhpcy53b3Jrc3BhY2VfLmdldEludmVyc2VTY3JlZW5DVE0oKSk7Yj10aGlzLmhvcml6b250YWxfP2IueDpiLnk7dmFyIGM9QmxvY2tseS51dGlscy5nZXRJbmplY3Rpb25EaXZYWV8odGhpcy5zdmdIYW5kbGVfKTtjPXRoaXMuaG9yaXpvbnRhbF8/Yy54OmMueTt2YXIgZD10aGlzLmhhbmRsZVBvc2l0aW9uXyxlPS45NSp0aGlzLmhhbmRsZUxlbmd0aF87Yjw9Yz9kLT1lOmI+PWMrdGhpcy5oYW5kbGVMZW5ndGhfJiYoZCs9XG5lKTt0aGlzLnNldEhhbmRsZVBvc2l0aW9uKHRoaXMuY29uc3RyYWluSGFuZGxlXyhkKSk7dGhpcy5vblNjcm9sbF8oKTthLnN0b3BQcm9wYWdhdGlvbigpO2EucHJldmVudERlZmF1bHQoKX19O1xuQmxvY2tseS5TY3JvbGxiYXIucHJvdG90eXBlLm9uTW91c2VEb3duSGFuZGxlXz1mdW5jdGlvbihhKXt0aGlzLndvcmtzcGFjZV8ubWFya0ZvY3VzZWQoKTt0aGlzLmNsZWFuVXBfKCk7QmxvY2tseS51dGlscy5pc1JpZ2h0QnV0dG9uKGEpP2Euc3RvcFByb3BhZ2F0aW9uKCk6KHRoaXMuc3RhcnREcmFnSGFuZGxlPXRoaXMuaGFuZGxlUG9zaXRpb25fLHRoaXMud29ya3NwYWNlXy5zZXR1cERyYWdTdXJmYWNlKCksdGhpcy5zdGFydERyYWdNb3VzZV89dGhpcy5ob3Jpem9udGFsXz9hLmNsaWVudFg6YS5jbGllbnRZLEJsb2NrbHkuU2Nyb2xsYmFyLm9uTW91c2VVcFdyYXBwZXJfPUJsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18oZG9jdW1lbnQsXCJtb3VzZXVwXCIsdGhpcyx0aGlzLm9uTW91c2VVcEhhbmRsZV8pLEJsb2NrbHkuU2Nyb2xsYmFyLm9uTW91c2VNb3ZlV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhkb2N1bWVudCxcIm1vdXNlbW92ZVwiLHRoaXMsdGhpcy5vbk1vdXNlTW92ZUhhbmRsZV8pLFxuYS5zdG9wUHJvcGFnYXRpb24oKSxhLnByZXZlbnREZWZhdWx0KCkpfTtCbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUub25Nb3VzZU1vdmVIYW5kbGVfPWZ1bmN0aW9uKGEpe3RoaXMuc2V0SGFuZGxlUG9zaXRpb24odGhpcy5jb25zdHJhaW5IYW5kbGVfKHRoaXMuc3RhcnREcmFnSGFuZGxlKygodGhpcy5ob3Jpem9udGFsXz9hLmNsaWVudFg6YS5jbGllbnRZKS10aGlzLnN0YXJ0RHJhZ01vdXNlXykpKTt0aGlzLm9uU2Nyb2xsXygpfTtCbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUub25Nb3VzZVVwSGFuZGxlXz1mdW5jdGlvbigpe3RoaXMud29ya3NwYWNlXy5yZXNldERyYWdTdXJmYWNlKCk7QmxvY2tseS5Ub3VjaC5jbGVhclRvdWNoSWRlbnRpZmllcigpO3RoaXMuY2xlYW5VcF8oKX07XG5CbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUuY2xlYW5VcF89ZnVuY3Rpb24oKXtCbG9ja2x5LmhpZGVDaGFmZighMCk7QmxvY2tseS5TY3JvbGxiYXIub25Nb3VzZVVwV3JhcHBlcl8mJihCbG9ja2x5LnVuYmluZEV2ZW50XyhCbG9ja2x5LlNjcm9sbGJhci5vbk1vdXNlVXBXcmFwcGVyXyksQmxvY2tseS5TY3JvbGxiYXIub25Nb3VzZVVwV3JhcHBlcl89bnVsbCk7QmxvY2tseS5TY3JvbGxiYXIub25Nb3VzZU1vdmVXcmFwcGVyXyYmKEJsb2NrbHkudW5iaW5kRXZlbnRfKEJsb2NrbHkuU2Nyb2xsYmFyLm9uTW91c2VNb3ZlV3JhcHBlcl8pLEJsb2NrbHkuU2Nyb2xsYmFyLm9uTW91c2VNb3ZlV3JhcHBlcl89bnVsbCl9O1xuQmxvY2tseS5TY3JvbGxiYXIucHJvdG90eXBlLmNvbnN0cmFpbkhhbmRsZV89ZnVuY3Rpb24oYSl7cmV0dXJuIGE9MD49YXx8aXNOYU4oYSl8fHRoaXMuc2Nyb2xsVmlld1NpemVfPHRoaXMuaGFuZGxlTGVuZ3RoXz8wOk1hdGgubWluKGEsdGhpcy5zY3JvbGxWaWV3U2l6ZV8tdGhpcy5oYW5kbGVMZW5ndGhfKX07QmxvY2tseS5TY3JvbGxiYXIucHJvdG90eXBlLm9uU2Nyb2xsXz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaGFuZGxlUG9zaXRpb25fL3RoaXMuc2Nyb2xsVmlld1NpemVfO2lzTmFOKGEpJiYoYT0wKTt2YXIgYj17fTt0aGlzLmhvcml6b250YWxfP2IueD1hOmIueT1hO3RoaXMud29ya3NwYWNlXy5zZXRNZXRyaWNzKGIpfTtCbG9ja2x5LlNjcm9sbGJhci5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEpe3RoaXMuc2V0SGFuZGxlUG9zaXRpb24odGhpcy5jb25zdHJhaW5IYW5kbGVfKGEqdGhpcy5yYXRpb18pKTt0aGlzLm9uU2Nyb2xsXygpfTtcbkJsb2NrbHkuU2Nyb2xsYmFyLnByb3RvdHlwZS5zZXRPcmlnaW49ZnVuY3Rpb24oYSxiKXt0aGlzLm9yaWdpbl89bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShhLGIpfTtCbG9ja2x5LlRvb2x0aXA9e307QmxvY2tseS5Ub29sdGlwLnZpc2libGU9ITE7QmxvY2tseS5Ub29sdGlwLmJsb2NrZWRfPSExO0Jsb2NrbHkuVG9vbHRpcC5MSU1JVD01MDtCbG9ja2x5LlRvb2x0aXAubW91c2VPdXRQaWRfPTA7QmxvY2tseS5Ub29sdGlwLnNob3dQaWRfPTA7QmxvY2tseS5Ub29sdGlwLmxhc3RYXz0wO0Jsb2NrbHkuVG9vbHRpcC5sYXN0WV89MDtCbG9ja2x5LlRvb2x0aXAuZWxlbWVudF89bnVsbDtCbG9ja2x5LlRvb2x0aXAucG9pc29uZWRFbGVtZW50Xz1udWxsO0Jsb2NrbHkuVG9vbHRpcC5PRkZTRVRfWD0wO0Jsb2NrbHkuVG9vbHRpcC5PRkZTRVRfWT0xMDtCbG9ja2x5LlRvb2x0aXAuUkFESVVTX09LPTEwO0Jsb2NrbHkuVG9vbHRpcC5IT1ZFUl9NUz03NTA7QmxvY2tseS5Ub29sdGlwLk1BUkdJTlM9NTtCbG9ja2x5LlRvb2x0aXAuRElWPW51bGw7XG5CbG9ja2x5LlRvb2x0aXAuY3JlYXRlRG9tPWZ1bmN0aW9uKCl7QmxvY2tseS5Ub29sdGlwLkRJVnx8KEJsb2NrbHkuVG9vbHRpcC5ESVY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxCbG9ja2x5LlRvb2x0aXAuRElWLmNsYXNzTmFtZT1cImJsb2NrbHlUb29sdGlwRGl2XCIsKEJsb2NrbHkucGFyZW50Q29udGFpbmVyfHxkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChCbG9ja2x5LlRvb2x0aXAuRElWKSl9O1xuQmxvY2tseS5Ub29sdGlwLmJpbmRNb3VzZUV2ZW50cz1mdW5jdGlvbihhKXthLm1vdXNlT3ZlcldyYXBwZXJfPUJsb2NrbHkuYmluZEV2ZW50XyhhLFwibW91c2VvdmVyXCIsbnVsbCxCbG9ja2x5LlRvb2x0aXAub25Nb3VzZU92ZXJfKTthLm1vdXNlT3V0V3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRfKGEsXCJtb3VzZW91dFwiLG51bGwsQmxvY2tseS5Ub29sdGlwLm9uTW91c2VPdXRfKTthLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixCbG9ja2x5LlRvb2x0aXAub25Nb3VzZU1vdmVfLCExKX07QmxvY2tseS5Ub29sdGlwLnVuYmluZE1vdXNlRXZlbnRzPWZ1bmN0aW9uKGEpe2EmJihCbG9ja2x5LnVuYmluZEV2ZW50XyhhLm1vdXNlT3ZlcldyYXBwZXJfKSxCbG9ja2x5LnVuYmluZEV2ZW50XyhhLm1vdXNlT3V0V3JhcHBlcl8pLGEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLEJsb2NrbHkuVG9vbHRpcC5vbk1vdXNlTW92ZV8pKX07XG5CbG9ja2x5LlRvb2x0aXAub25Nb3VzZU92ZXJfPWZ1bmN0aW9uKGEpe2lmKCFCbG9ja2x5LlRvb2x0aXAuYmxvY2tlZF8pe2ZvcihhPWEuY3VycmVudFRhcmdldDtcInN0cmluZ1wiIT10eXBlb2YgYS50b29sdGlwJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLnRvb2x0aXA7KWE9YS50b29sdGlwO0Jsb2NrbHkuVG9vbHRpcC5lbGVtZW50XyE9YSYmKEJsb2NrbHkuVG9vbHRpcC5oaWRlKCksQmxvY2tseS5Ub29sdGlwLnBvaXNvbmVkRWxlbWVudF89bnVsbCxCbG9ja2x5LlRvb2x0aXAuZWxlbWVudF89YSk7Y2xlYXJUaW1lb3V0KEJsb2NrbHkuVG9vbHRpcC5tb3VzZU91dFBpZF8pfX07XG5CbG9ja2x5LlRvb2x0aXAub25Nb3VzZU91dF89ZnVuY3Rpb24oYSl7QmxvY2tseS5Ub29sdGlwLmJsb2NrZWRffHwoQmxvY2tseS5Ub29sdGlwLm1vdXNlT3V0UGlkXz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7QmxvY2tseS5Ub29sdGlwLmVsZW1lbnRfPW51bGw7QmxvY2tseS5Ub29sdGlwLnBvaXNvbmVkRWxlbWVudF89bnVsbDtCbG9ja2x5LlRvb2x0aXAuaGlkZSgpfSwxKSxjbGVhclRpbWVvdXQoQmxvY2tseS5Ub29sdGlwLnNob3dQaWRfKSl9O1xuQmxvY2tseS5Ub29sdGlwLm9uTW91c2VNb3ZlXz1mdW5jdGlvbihhKXtpZihCbG9ja2x5LlRvb2x0aXAuZWxlbWVudF8mJkJsb2NrbHkuVG9vbHRpcC5lbGVtZW50Xy50b29sdGlwJiYhQmxvY2tseS5Ub29sdGlwLmJsb2NrZWRfKWlmKEJsb2NrbHkuVG9vbHRpcC52aXNpYmxlKXt2YXIgYj1CbG9ja2x5LlRvb2x0aXAubGFzdFhfLWEucGFnZVg7YT1CbG9ja2x5LlRvb2x0aXAubGFzdFlfLWEucGFnZVk7TWF0aC5zcXJ0KGIqYithKmEpPkJsb2NrbHkuVG9vbHRpcC5SQURJVVNfT0smJkJsb2NrbHkuVG9vbHRpcC5oaWRlKCl9ZWxzZSBCbG9ja2x5LlRvb2x0aXAucG9pc29uZWRFbGVtZW50XyE9QmxvY2tseS5Ub29sdGlwLmVsZW1lbnRfJiYoY2xlYXJUaW1lb3V0KEJsb2NrbHkuVG9vbHRpcC5zaG93UGlkXyksQmxvY2tseS5Ub29sdGlwLmxhc3RYXz1hLnBhZ2VYLEJsb2NrbHkuVG9vbHRpcC5sYXN0WV89YS5wYWdlWSxCbG9ja2x5LlRvb2x0aXAuc2hvd1BpZF89c2V0VGltZW91dChCbG9ja2x5LlRvb2x0aXAuc2hvd18sXG5CbG9ja2x5LlRvb2x0aXAuSE9WRVJfTVMpKX07QmxvY2tseS5Ub29sdGlwLmRpc3Bvc2U9ZnVuY3Rpb24oKXtCbG9ja2x5LlRvb2x0aXAuZWxlbWVudF89bnVsbDtCbG9ja2x5LlRvb2x0aXAucG9pc29uZWRFbGVtZW50Xz1udWxsO0Jsb2NrbHkuVG9vbHRpcC5oaWRlKCl9O0Jsb2NrbHkuVG9vbHRpcC5oaWRlPWZ1bmN0aW9uKCl7QmxvY2tseS5Ub29sdGlwLnZpc2libGUmJihCbG9ja2x5LlRvb2x0aXAudmlzaWJsZT0hMSxCbG9ja2x5LlRvb2x0aXAuRElWJiYoQmxvY2tseS5Ub29sdGlwLkRJVi5zdHlsZS5kaXNwbGF5PVwibm9uZVwiKSk7QmxvY2tseS5Ub29sdGlwLnNob3dQaWRfJiZjbGVhclRpbWVvdXQoQmxvY2tseS5Ub29sdGlwLnNob3dQaWRfKX07QmxvY2tseS5Ub29sdGlwLmJsb2NrPWZ1bmN0aW9uKCl7QmxvY2tseS5Ub29sdGlwLmhpZGUoKTtCbG9ja2x5LlRvb2x0aXAuYmxvY2tlZF89ITB9O1xuQmxvY2tseS5Ub29sdGlwLnVuYmxvY2s9ZnVuY3Rpb24oKXtCbG9ja2x5LlRvb2x0aXAuYmxvY2tlZF89ITF9O1xuQmxvY2tseS5Ub29sdGlwLnNob3dfPWZ1bmN0aW9uKCl7aWYoIUJsb2NrbHkuVG9vbHRpcC5ibG9ja2VkXyYmKEJsb2NrbHkuVG9vbHRpcC5wb2lzb25lZEVsZW1lbnRfPUJsb2NrbHkuVG9vbHRpcC5lbGVtZW50XyxCbG9ja2x5LlRvb2x0aXAuRElWKSl7QmxvY2tseS5Ub29sdGlwLkRJVi50ZXh0Q29udGVudD1cIlwiO2Zvcih2YXIgYT1CbG9ja2x5LlRvb2x0aXAuZWxlbWVudF8udG9vbHRpcDtcImZ1bmN0aW9uXCI9PXR5cGVvZiBhOylhPWEoKTthPUJsb2NrbHkudXRpbHMuc3RyaW5nLndyYXAoYSxCbG9ja2x5LlRvb2x0aXAuTElNSVQpO2E9YS5zcGxpdChcIlxcblwiKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGFbYl0pKTtCbG9ja2x5LlRvb2x0aXAuRElWLmFwcGVuZENoaWxkKGMpfWE9QmxvY2tseS5Ub29sdGlwLmVsZW1lbnRfLlJUTDtiPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbmM9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtCbG9ja2x5LlRvb2x0aXAuRElWLnN0eWxlLmRpcmVjdGlvbj1hP1wicnRsXCI6XCJsdHJcIjtCbG9ja2x5LlRvb2x0aXAuRElWLnN0eWxlLmRpc3BsYXk9XCJibG9ja1wiO0Jsb2NrbHkuVG9vbHRpcC52aXNpYmxlPSEwO3ZhciBkPUJsb2NrbHkuVG9vbHRpcC5sYXN0WF87ZD1hP2QtKEJsb2NrbHkuVG9vbHRpcC5PRkZTRVRfWCtCbG9ja2x5LlRvb2x0aXAuRElWLm9mZnNldFdpZHRoKTpkK0Jsb2NrbHkuVG9vbHRpcC5PRkZTRVRfWDt2YXIgZT1CbG9ja2x5LlRvb2x0aXAubGFzdFlfK0Jsb2NrbHkuVG9vbHRpcC5PRkZTRVRfWTtlK0Jsb2NrbHkuVG9vbHRpcC5ESVYub2Zmc2V0SGVpZ2h0PmMrd2luZG93LnNjcm9sbFkmJihlLT1CbG9ja2x5LlRvb2x0aXAuRElWLm9mZnNldEhlaWdodCsyKkJsb2NrbHkuVG9vbHRpcC5PRkZTRVRfWSk7YT9kPU1hdGgubWF4KEJsb2NrbHkuVG9vbHRpcC5NQVJHSU5TLXdpbmRvdy5zY3JvbGxYLFxuZCk6ZCtCbG9ja2x5LlRvb2x0aXAuRElWLm9mZnNldFdpZHRoPmIrd2luZG93LnNjcm9sbFgtMipCbG9ja2x5LlRvb2x0aXAuTUFSR0lOUyYmKGQ9Yi1CbG9ja2x5LlRvb2x0aXAuRElWLm9mZnNldFdpZHRoLTIqQmxvY2tseS5Ub29sdGlwLk1BUkdJTlMpO0Jsb2NrbHkuVG9vbHRpcC5ESVYuc3R5bGUudG9wPWUrXCJweFwiO0Jsb2NrbHkuVG9vbHRpcC5ESVYuc3R5bGUubGVmdD1kK1wicHhcIn19O0Jsb2NrbHkuV29ya3NwYWNlRHJhZ1N1cmZhY2VTdmc9ZnVuY3Rpb24oYSl7dGhpcy5jb250YWluZXJfPWE7dGhpcy5jcmVhdGVEb20oKX07QmxvY2tseS5Xb3Jrc3BhY2VEcmFnU3VyZmFjZVN2Zy5wcm90b3R5cGUuU1ZHXz1udWxsO0Jsb2NrbHkuV29ya3NwYWNlRHJhZ1N1cmZhY2VTdmcucHJvdG90eXBlLmRyYWdHcm91cF89bnVsbDtCbG9ja2x5LldvcmtzcGFjZURyYWdTdXJmYWNlU3ZnLnByb3RvdHlwZS5jb250YWluZXJfPW51bGw7XG5CbG9ja2x5LldvcmtzcGFjZURyYWdTdXJmYWNlU3ZnLnByb3RvdHlwZS5jcmVhdGVEb209ZnVuY3Rpb24oKXt0aGlzLlNWR198fCh0aGlzLlNWR189QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInN2Z1wiLHt4bWxuczpCbG9ja2x5LnV0aWxzLmRvbS5TVkdfTlMsXCJ4bWxuczpodG1sXCI6QmxvY2tseS51dGlscy5kb20uSFRNTF9OUyxcInhtbG5zOnhsaW5rXCI6QmxvY2tseS51dGlscy5kb20uWExJTktfTlMsdmVyc2lvbjpcIjEuMVwiLFwiY2xhc3NcIjpcImJsb2NrbHlXc0RyYWdTdXJmYWNlIGJsb2NrbHlPdmVyZmxvd1Zpc2libGVcIn0sbnVsbCksdGhpcy5jb250YWluZXJfLmFwcGVuZENoaWxkKHRoaXMuU1ZHXykpfTtcbkJsb2NrbHkuV29ya3NwYWNlRHJhZ1N1cmZhY2VTdmcucHJvdG90eXBlLnRyYW5zbGF0ZVN1cmZhY2U9ZnVuY3Rpb24oYSxiKXthPWEudG9GaXhlZCgwKTtiPWIudG9GaXhlZCgwKTt0aGlzLlNWR18uc3R5bGUuZGlzcGxheT1cImJsb2NrXCI7QmxvY2tseS51dGlscy5kb20uc2V0Q3NzVHJhbnNmb3JtKHRoaXMuU1ZHXyxcInRyYW5zbGF0ZTNkKFwiK2ErXCJweCwgXCIrYitcInB4LCAwcHgpXCIpfTtCbG9ja2x5LldvcmtzcGFjZURyYWdTdXJmYWNlU3ZnLnByb3RvdHlwZS5nZXRTdXJmYWNlVHJhbnNsYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gQmxvY2tseS51dGlscy5nZXRSZWxhdGl2ZVhZKHRoaXMuU1ZHXyl9O1xuQmxvY2tseS5Xb3Jrc3BhY2VEcmFnU3VyZmFjZVN2Zy5wcm90b3R5cGUuY2xlYXJBbmRIaWRlPWZ1bmN0aW9uKGEpe2lmKCFhKXRocm93IEVycm9yKFwiQ291bGRuJ3QgY2xlYXIgYW5kIGhpZGUgdGhlIGRyYWcgc3VyZmFjZTogbWlzc2luZyBuZXcgc3VyZmFjZS5cIik7dmFyIGI9dGhpcy5TVkdfLmNoaWxkTm9kZXNbMF0sYz10aGlzLlNWR18uY2hpbGROb2Rlc1sxXTtpZighKGImJmMmJkJsb2NrbHkudXRpbHMuZG9tLmhhc0NsYXNzKGIsXCJibG9ja2x5QmxvY2tDYW52YXNcIikmJkJsb2NrbHkudXRpbHMuZG9tLmhhc0NsYXNzKGMsXCJibG9ja2x5QnViYmxlQ2FudmFzXCIpKSl0aHJvdyBFcnJvcihcIkNvdWxkbid0IGNsZWFyIGFuZCBoaWRlIHRoZSBkcmFnIHN1cmZhY2UuIEEgbm9kZSB3YXMgbWlzc2luZy5cIik7bnVsbCE9dGhpcy5wcmV2aW91c1NpYmxpbmdfP0Jsb2NrbHkudXRpbHMuZG9tLmluc2VydEFmdGVyKGIsdGhpcy5wcmV2aW91c1NpYmxpbmdfKTphLmluc2VydEJlZm9yZShiLGEuZmlyc3RDaGlsZCk7XG5CbG9ja2x5LnV0aWxzLmRvbS5pbnNlcnRBZnRlcihjLGIpO3RoaXMuU1ZHXy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2lmKHRoaXMuU1ZHXy5jaGlsZE5vZGVzLmxlbmd0aCl0aHJvdyBFcnJvcihcIkRyYWcgc3VyZmFjZSB3YXMgbm90IGNsZWFyZWQuXCIpO0Jsb2NrbHkudXRpbHMuZG9tLnNldENzc1RyYW5zZm9ybSh0aGlzLlNWR18sXCJcIik7dGhpcy5wcmV2aW91c1NpYmxpbmdfPW51bGx9O1xuQmxvY2tseS5Xb3Jrc3BhY2VEcmFnU3VyZmFjZVN2Zy5wcm90b3R5cGUuc2V0Q29udGVudHNBbmRTaG93PWZ1bmN0aW9uKGEsYixjLGQsZSxmKXtpZih0aGlzLlNWR18uY2hpbGROb2Rlcy5sZW5ndGgpdGhyb3cgRXJyb3IoXCJBbHJlYWR5IGRyYWdnaW5nIGEgYmxvY2suXCIpO3RoaXMucHJldmlvdXNTaWJsaW5nXz1jO2Euc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoMCwgMCkgc2NhbGUoXCIrZitcIilcIik7Yi5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZSgwLCAwKSBzY2FsZShcIitmK1wiKVwiKTt0aGlzLlNWR18uc2V0QXR0cmlidXRlKFwid2lkdGhcIixkKTt0aGlzLlNWR18uc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsZSk7dGhpcy5TVkdfLmFwcGVuZENoaWxkKGEpO3RoaXMuU1ZHXy5hcHBlbmRDaGlsZChiKTt0aGlzLlNWR18uc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9O0Jsb2NrbHkuQVNUTm9kZT1mdW5jdGlvbihhLGIsYyl7aWYoIWIpdGhyb3cgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGEgbm9kZSB3aXRob3V0IGEgbG9jYXRpb24uXCIpO3RoaXMudHlwZV89YTt0aGlzLmlzQ29ubmVjdGlvbl89QmxvY2tseS5BU1ROb2RlLmlzQ29ubmVjdGlvblR5cGVfKGEpO3RoaXMubG9jYXRpb25fPWI7dGhpcy5wcm9jZXNzUGFyYW1zXyhjfHxudWxsKX07QmxvY2tseS5BU1ROb2RlLnR5cGVzPXtGSUVMRDpcImZpZWxkXCIsQkxPQ0s6XCJibG9ja1wiLElOUFVUOlwiaW5wdXRcIixPVVRQVVQ6XCJvdXRwdXRcIixORVhUOlwibmV4dFwiLFBSRVZJT1VTOlwicHJldmlvdXNcIixTVEFDSzpcInN0YWNrXCIsV09SS1NQQUNFOlwid29ya3NwYWNlXCJ9O0Jsb2NrbHkuQVNUTm9kZS5OQVZJR0FURV9BTExfRklFTERTPSExO0Jsb2NrbHkuQVNUTm9kZS5ERUZBVUxUX09GRlNFVF9ZPS0yMDtCbG9ja2x5LkFTVE5vZGUuaXNDb25uZWN0aW9uVHlwZV89ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLlBSRVZJT1VTOmNhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLk5FWFQ6Y2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuSU5QVVQ6Y2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuT1VUUFVUOnJldHVybiEwfXJldHVybiExfTtcbkJsb2NrbHkuQVNUTm9kZS5jcmVhdGVGaWVsZE5vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bmV3IEJsb2NrbHkuQVNUTm9kZShCbG9ja2x5LkFTVE5vZGUudHlwZXMuRklFTEQsYSk6bnVsbH07XG5CbG9ja2x5LkFTVE5vZGUuY3JlYXRlQ29ubmVjdGlvbk5vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/YS50eXBlPT1CbG9ja2x5LklOUFVUX1ZBTFVFfHxhLnR5cGU9PUJsb2NrbHkuTkVYVF9TVEFURU1FTlQmJmEuZ2V0UGFyZW50SW5wdXQoKT9CbG9ja2x5LkFTVE5vZGUuY3JlYXRlSW5wdXROb2RlKGEuZ2V0UGFyZW50SW5wdXQoKSk6YS50eXBlPT1CbG9ja2x5Lk5FWFRfU1RBVEVNRU5UP25ldyBCbG9ja2x5LkFTVE5vZGUoQmxvY2tseS5BU1ROb2RlLnR5cGVzLk5FWFQsYSk6YS50eXBlPT1CbG9ja2x5Lk9VVFBVVF9WQUxVRT9uZXcgQmxvY2tseS5BU1ROb2RlKEJsb2NrbHkuQVNUTm9kZS50eXBlcy5PVVRQVVQsYSk6YS50eXBlPT1CbG9ja2x5LlBSRVZJT1VTX1NUQVRFTUVOVD9uZXcgQmxvY2tseS5BU1ROb2RlKEJsb2NrbHkuQVNUTm9kZS50eXBlcy5QUkVWSU9VUyxhKTpudWxsOm51bGx9O1xuQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUlucHV0Tm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gYSYmYS5jb25uZWN0aW9uP25ldyBCbG9ja2x5LkFTVE5vZGUoQmxvY2tseS5BU1ROb2RlLnR5cGVzLklOUFVULGEuY29ubmVjdGlvbik6bnVsbH07QmxvY2tseS5BU1ROb2RlLmNyZWF0ZUJsb2NrTm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gYT9uZXcgQmxvY2tseS5BU1ROb2RlKEJsb2NrbHkuQVNUTm9kZS50eXBlcy5CTE9DSyxhKTpudWxsfTtCbG9ja2x5LkFTVE5vZGUuY3JlYXRlU3RhY2tOb2RlPWZ1bmN0aW9uKGEpe3JldHVybiBhP25ldyBCbG9ja2x5LkFTVE5vZGUoQmxvY2tseS5BU1ROb2RlLnR5cGVzLlNUQUNLLGEpOm51bGx9O0Jsb2NrbHkuQVNUTm9kZS5jcmVhdGVXb3Jrc3BhY2VOb2RlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGImJmE/bmV3IEJsb2NrbHkuQVNUTm9kZShCbG9ja2x5LkFTVE5vZGUudHlwZXMuV09SS1NQQUNFLGEse3dzQ29vcmRpbmF0ZTpifSk6bnVsbH07XG5CbG9ja2x5LkFTVE5vZGUucHJvdG90eXBlLnByb2Nlc3NQYXJhbXNfPWZ1bmN0aW9uKGEpe2EmJmEud3NDb29yZGluYXRlJiYodGhpcy53c0Nvb3JkaW5hdGVfPWEud3NDb29yZGluYXRlKX07QmxvY2tseS5BU1ROb2RlLnByb3RvdHlwZS5nZXRMb2NhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2F0aW9uX307QmxvY2tseS5BU1ROb2RlLnByb3RvdHlwZS5nZXRUeXBlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHlwZV99O0Jsb2NrbHkuQVNUTm9kZS5wcm90b3R5cGUuZ2V0V3NDb29yZGluYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud3NDb29yZGluYXRlX307QmxvY2tseS5BU1ROb2RlLnByb3RvdHlwZS5pc0Nvbm5lY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Nvbm5lY3Rpb25ffTtcbkJsb2NrbHkuQVNUTm9kZS5wcm90b3R5cGUuZmluZE5leHRGb3JJbnB1dF89ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxvY2F0aW9uXy5nZXRQYXJlbnRJbnB1dCgpLGI9YS5nZXRTb3VyY2VCbG9jaygpO2E9Yi5pbnB1dExpc3QuaW5kZXhPZihhKSsxO2Zvcih2YXIgYztjPWIuaW5wdXRMaXN0W2FdO2ErKyl7Zm9yKHZhciBkPWMuZmllbGRSb3csZT0wLGY7Zj1kW2VdO2UrKylpZihmLmlzQ2xpY2thYmxlKCl8fEJsb2NrbHkuQVNUTm9kZS5OQVZJR0FURV9BTExfRklFTERTKXJldHVybiBCbG9ja2x5LkFTVE5vZGUuY3JlYXRlRmllbGROb2RlKGYpO2lmKGMuY29ubmVjdGlvbilyZXR1cm4gQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUlucHV0Tm9kZShjKX1yZXR1cm4gbnVsbH07XG5CbG9ja2x5LkFTVE5vZGUucHJvdG90eXBlLmZpbmROZXh0Rm9yRmllbGRfPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5sb2NhdGlvbl8sYj1hLmdldFBhcmVudElucHV0KCksYz1hLmdldFNvdXJjZUJsb2NrKCksZD1jLmlucHV0TGlzdC5pbmRleE9mKGIpO2ZvcihhPWIuZmllbGRSb3cuaW5kZXhPZihhKSsxO2I9Yy5pbnB1dExpc3RbZF07ZCsrKXtmb3IodmFyIGU9Yi5maWVsZFJvdzthPGUubGVuZ3RoOyl7aWYoZVthXS5pc0NsaWNrYWJsZSgpfHxCbG9ja2x5LkFTVE5vZGUuTkFWSUdBVEVfQUxMX0ZJRUxEUylyZXR1cm4gQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUZpZWxkTm9kZShlW2FdKTthKyt9YT0wO2lmKGIuY29ubmVjdGlvbilyZXR1cm4gQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUlucHV0Tm9kZShiKX1yZXR1cm4gbnVsbH07XG5CbG9ja2x5LkFTVE5vZGUucHJvdG90eXBlLmZpbmRQcmV2Rm9ySW5wdXRfPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubG9jYXRpb25fLmdldFBhcmVudElucHV0KCksYj1hLmdldFNvdXJjZUJsb2NrKCksYz1iLmlucHV0TGlzdC5pbmRleE9mKGEpLGQ7ZD1iLmlucHV0TGlzdFtjXTtjLS0pe2lmKGQuY29ubmVjdGlvbiYmZCE9PWEpcmV0dXJuIEJsb2NrbHkuQVNUTm9kZS5jcmVhdGVJbnB1dE5vZGUoZCk7ZD1kLmZpZWxkUm93O2Zvcih2YXIgZT1kLmxlbmd0aC0xLGY7Zj1kW2VdO2UtLSlpZihmLmlzQ2xpY2thYmxlKCl8fEJsb2NrbHkuQVNUTm9kZS5OQVZJR0FURV9BTExfRklFTERTKXJldHVybiBCbG9ja2x5LkFTVE5vZGUuY3JlYXRlRmllbGROb2RlKGYpfXJldHVybiBudWxsfTtcbkJsb2NrbHkuQVNUTm9kZS5wcm90b3R5cGUuZmluZFByZXZGb3JGaWVsZF89ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxvY2F0aW9uXyxiPWEuZ2V0UGFyZW50SW5wdXQoKSxjPWEuZ2V0U291cmNlQmxvY2soKSxkPWMuaW5wdXRMaXN0LmluZGV4T2YoYik7YT1iLmZpZWxkUm93LmluZGV4T2YoYSktMTtmb3IodmFyIGU7ZT1jLmlucHV0TGlzdFtkXTtkLS0pe2lmKGUuY29ubmVjdGlvbiYmZSE9PWIpcmV0dXJuIEJsb2NrbHkuQVNUTm9kZS5jcmVhdGVJbnB1dE5vZGUoZSk7Zm9yKGU9ZS5maWVsZFJvdzstMTxhOyl7aWYoZVthXS5pc0NsaWNrYWJsZSgpfHxCbG9ja2x5LkFTVE5vZGUuTkFWSUdBVEVfQUxMX0ZJRUxEUylyZXR1cm4gQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUZpZWxkTm9kZShlW2FdKTthLS19MDw9ZC0xJiYoYT1jLmlucHV0TGlzdFtkLTFdLmZpZWxkUm93Lmxlbmd0aC0xKX1yZXR1cm4gbnVsbH07XG5CbG9ja2x5LkFTVE5vZGUucHJvdG90eXBlLm5hdmlnYXRlQmV0d2VlblN0YWNrc189ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRMb2NhdGlvbigpO2IgaW5zdGFuY2VvZiBCbG9ja2x5LkJsb2NrfHwoYj1iLmdldFNvdXJjZUJsb2NrKCkpO2lmKCFifHwhYi53b3Jrc3BhY2UpcmV0dXJuIG51bGw7dmFyIGM9Yi5nZXRSb290QmxvY2soKTtiPWMud29ya3NwYWNlLmdldFRvcEJsb2NrcyghMCk7Zm9yKHZhciBkPTAsZTtlPWJbZF07ZCsrKWlmKGMuaWQ9PWUuaWQpcmV0dXJuIGE9ZCsoYT8xOi0xKSwtMT09YXx8YT09Yi5sZW5ndGg/bnVsbDpCbG9ja2x5LkFTVE5vZGUuY3JlYXRlU3RhY2tOb2RlKGJbYV0pO3Rocm93IEVycm9yKFwiQ291bGRuJ3QgZmluZCBcIisoYT9cIm5leHRcIjpcInByZXZpb3VzXCIpK1wiIHN0YWNrPyFcIik7fTtcbkJsb2NrbHkuQVNUTm9kZS5wcm90b3R5cGUuZmluZFRvcEFTVE5vZGVGb3JCbG9ja189ZnVuY3Rpb24oYSl7dmFyIGI9YS5wcmV2aW91c0Nvbm5lY3Rpb258fGEub3V0cHV0Q29ubmVjdGlvbjtyZXR1cm4gYj9CbG9ja2x5LkFTVE5vZGUuY3JlYXRlQ29ubmVjdGlvbk5vZGUoYik6QmxvY2tseS5BU1ROb2RlLmNyZWF0ZUJsb2NrTm9kZShhKX07QmxvY2tseS5BU1ROb2RlLnByb3RvdHlwZS5nZXRPdXRBc3ROb2RlRm9yQmxvY2tfPWZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiBudWxsO2E9YS5nZXRUb3BTdGFja0Jsb2NrKCk7dmFyIGI9YS5wcmV2aW91c0Nvbm5lY3Rpb258fGEub3V0cHV0Q29ubmVjdGlvbjtyZXR1cm4gYiYmYi50YXJnZXRDb25uZWN0aW9uJiZiLnRhcmdldENvbm5lY3Rpb24uZ2V0UGFyZW50SW5wdXQoKT9CbG9ja2x5LkFTVE5vZGUuY3JlYXRlSW5wdXROb2RlKGIudGFyZ2V0Q29ubmVjdGlvbi5nZXRQYXJlbnRJbnB1dCgpKTpCbG9ja2x5LkFTVE5vZGUuY3JlYXRlU3RhY2tOb2RlKGEpfTtcbkJsb2NrbHkuQVNUTm9kZS5wcm90b3R5cGUuZmluZEZpcnN0RmllbGRPcklucHV0Xz1mdW5jdGlvbihhKXthPWEuaW5wdXRMaXN0O2Zvcih2YXIgYj0wLGM7Yz1hW2JdO2IrKyl7Zm9yKHZhciBkPWMuZmllbGRSb3csZT0wLGY7Zj1kW2VdO2UrKylpZihmLmlzQ2xpY2thYmxlKCl8fEJsb2NrbHkuQVNUTm9kZS5OQVZJR0FURV9BTExfRklFTERTKXJldHVybiBCbG9ja2x5LkFTVE5vZGUuY3JlYXRlRmllbGROb2RlKGYpO2lmKGMuY29ubmVjdGlvbilyZXR1cm4gQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUlucHV0Tm9kZShjKX1yZXR1cm4gbnVsbH07XG5CbG9ja2x5LkFTVE5vZGUucHJvdG90eXBlLmdldFNvdXJjZUJsb2NrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VHlwZSgpPT09QmxvY2tseS5BU1ROb2RlLnR5cGVzLkJMT0NLP3RoaXMuZ2V0TG9jYXRpb24oKTp0aGlzLmdldFR5cGUoKT09PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5TVEFDSz90aGlzLmdldExvY2F0aW9uKCk6dGhpcy5nZXRUeXBlKCk9PT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuV09SS1NQQUNFP251bGw6dGhpcy5nZXRMb2NhdGlvbigpLmdldFNvdXJjZUJsb2NrKCl9O1xuQmxvY2tseS5BU1ROb2RlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMudHlwZV8pe2Nhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLlNUQUNLOnJldHVybiB0aGlzLm5hdmlnYXRlQmV0d2VlblN0YWNrc18oITApO2Nhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLk9VVFBVVDpyZXR1cm4gQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUJsb2NrTm9kZSh0aGlzLmxvY2F0aW9uXy5nZXRTb3VyY2VCbG9jaygpKTtjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5GSUVMRDpyZXR1cm4gdGhpcy5maW5kTmV4dEZvckZpZWxkXygpO2Nhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLklOUFVUOnJldHVybiB0aGlzLmZpbmROZXh0Rm9ySW5wdXRfKCk7Y2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuQkxPQ0s6cmV0dXJuIEJsb2NrbHkuQVNUTm9kZS5jcmVhdGVDb25uZWN0aW9uTm9kZSh0aGlzLmxvY2F0aW9uXy5uZXh0Q29ubmVjdGlvbik7Y2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuUFJFVklPVVM6cmV0dXJuIEJsb2NrbHkuQVNUTm9kZS5jcmVhdGVCbG9ja05vZGUodGhpcy5sb2NhdGlvbl8uZ2V0U291cmNlQmxvY2soKSk7XG5jYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5ORVhUOnJldHVybiBCbG9ja2x5LkFTVE5vZGUuY3JlYXRlQ29ubmVjdGlvbk5vZGUodGhpcy5sb2NhdGlvbl8udGFyZ2V0Q29ubmVjdGlvbil9cmV0dXJuIG51bGx9O0Jsb2NrbHkuQVNUTm9kZS5wcm90b3R5cGUuaW49ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy50eXBlXyl7Y2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuV09SS1NQQUNFOnZhciBhPXRoaXMubG9jYXRpb25fLmdldFRvcEJsb2NrcyghMCk7aWYoMDxhLmxlbmd0aClyZXR1cm4gQmxvY2tseS5BU1ROb2RlLmNyZWF0ZVN0YWNrTm9kZShhWzBdKTticmVhaztjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5TVEFDSzpyZXR1cm4gYT10aGlzLmxvY2F0aW9uXyx0aGlzLmZpbmRUb3BBU1ROb2RlRm9yQmxvY2tfKGEpO2Nhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLkJMT0NLOnJldHVybiBhPXRoaXMubG9jYXRpb25fLHRoaXMuZmluZEZpcnN0RmllbGRPcklucHV0XyhhKTtjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5JTlBVVDpyZXR1cm4gQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUNvbm5lY3Rpb25Ob2RlKHRoaXMubG9jYXRpb25fLnRhcmdldENvbm5lY3Rpb24pfXJldHVybiBudWxsfTtcbkJsb2NrbHkuQVNUTm9kZS5wcm90b3R5cGUucHJldj1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLnR5cGVfKXtjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5TVEFDSzpyZXR1cm4gdGhpcy5uYXZpZ2F0ZUJldHdlZW5TdGFja3NfKCExKTtjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5GSUVMRDpyZXR1cm4gdGhpcy5maW5kUHJldkZvckZpZWxkXygpO2Nhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLklOUFVUOnJldHVybiB0aGlzLmZpbmRQcmV2Rm9ySW5wdXRfKCk7Y2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuQkxPQ0s6dmFyIGE9dGhpcy5sb2NhdGlvbl87cmV0dXJuIEJsb2NrbHkuQVNUTm9kZS5jcmVhdGVDb25uZWN0aW9uTm9kZShhLnByZXZpb3VzQ29ubmVjdGlvbnx8YS5vdXRwdXRDb25uZWN0aW9uKTtjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5QUkVWSU9VUzppZigoYT10aGlzLmxvY2F0aW9uXy50YXJnZXRDb25uZWN0aW9uKSYmIWEuZ2V0UGFyZW50SW5wdXQoKSlyZXR1cm4gQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUNvbm5lY3Rpb25Ob2RlKGEpO1xuYnJlYWs7Y2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuTkVYVDpyZXR1cm4gQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUJsb2NrTm9kZSh0aGlzLmxvY2F0aW9uXy5nZXRTb3VyY2VCbG9jaygpKX1yZXR1cm4gbnVsbH07XG5CbG9ja2x5LkFTVE5vZGUucHJvdG90eXBlLm91dD1mdW5jdGlvbigpe3N3aXRjaCh0aGlzLnR5cGVfKXtjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5TVEFDSzp2YXIgYT10aGlzLmxvY2F0aW9uXy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7YT1uZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKGEueCxhLnkrQmxvY2tseS5BU1ROb2RlLkRFRkFVTFRfT0ZGU0VUX1kpO3JldHVybiBCbG9ja2x5LkFTVE5vZGUuY3JlYXRlV29ya3NwYWNlTm9kZSh0aGlzLmxvY2F0aW9uXy53b3Jrc3BhY2UsYSk7Y2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuT1VUUFVUOnJldHVybihhPXRoaXMubG9jYXRpb25fLnRhcmdldENvbm5lY3Rpb24pP0Jsb2NrbHkuQVNUTm9kZS5jcmVhdGVDb25uZWN0aW9uTm9kZShhKTpCbG9ja2x5LkFTVE5vZGUuY3JlYXRlU3RhY2tOb2RlKHRoaXMubG9jYXRpb25fLmdldFNvdXJjZUJsb2NrKCkpO2Nhc2UgQmxvY2tseS5BU1ROb2RlLnR5cGVzLkZJRUxEOnJldHVybiBCbG9ja2x5LkFTVE5vZGUuY3JlYXRlQmxvY2tOb2RlKHRoaXMubG9jYXRpb25fLmdldFNvdXJjZUJsb2NrKCkpO1xuY2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuSU5QVVQ6cmV0dXJuIEJsb2NrbHkuQVNUTm9kZS5jcmVhdGVCbG9ja05vZGUodGhpcy5sb2NhdGlvbl8uZ2V0U291cmNlQmxvY2soKSk7Y2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuQkxPQ0s6cmV0dXJuIHRoaXMuZ2V0T3V0QXN0Tm9kZUZvckJsb2NrXyh0aGlzLmxvY2F0aW9uXyk7Y2FzZSBCbG9ja2x5LkFTVE5vZGUudHlwZXMuUFJFVklPVVM6cmV0dXJuIHRoaXMuZ2V0T3V0QXN0Tm9kZUZvckJsb2NrXyh0aGlzLmxvY2F0aW9uXy5nZXRTb3VyY2VCbG9jaygpKTtjYXNlIEJsb2NrbHkuQVNUTm9kZS50eXBlcy5ORVhUOnJldHVybiB0aGlzLmdldE91dEFzdE5vZGVGb3JCbG9ja18odGhpcy5sb2NhdGlvbl8uZ2V0U291cmNlQmxvY2soKSl9cmV0dXJuIG51bGx9O0Jsb2NrbHkuQmxvY2tzPU9iamVjdC5jcmVhdGUobnVsbCk7QmxvY2tseS5Db25uZWN0aW9uPWZ1bmN0aW9uKGEsYil7dGhpcy5zb3VyY2VCbG9ja189YTt0aGlzLnR5cGU9Yn07QmxvY2tseS5Db25uZWN0aW9uLkNBTl9DT05ORUNUPTA7QmxvY2tseS5Db25uZWN0aW9uLlJFQVNPTl9TRUxGX0NPTk5FQ1RJT049MTtCbG9ja2x5LkNvbm5lY3Rpb24uUkVBU09OX1dST05HX1RZUEU9MjtCbG9ja2x5LkNvbm5lY3Rpb24uUkVBU09OX1RBUkdFVF9OVUxMPTM7QmxvY2tseS5Db25uZWN0aW9uLlJFQVNPTl9DSEVDS1NfRkFJTEVEPTQ7QmxvY2tseS5Db25uZWN0aW9uLlJFQVNPTl9ESUZGRVJFTlRfV09SS1NQQUNFUz01O0Jsb2NrbHkuQ29ubmVjdGlvbi5SRUFTT05fU0hBRE9XX1BBUkVOVD02O0Jsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUudGFyZ2V0Q29ubmVjdGlvbj1udWxsO0Jsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUuZGlzcG9zZWQ9ITE7QmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS5jaGVja189bnVsbDtcbkJsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUuc2hhZG93RG9tXz1udWxsO0Jsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUueD0wO0Jsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUueT0wO1xuQmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS5jb25uZWN0Xz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5nZXRTb3VyY2VCbG9jaygpLGQ9YS5nZXRTb3VyY2VCbG9jaygpO2EuaXNDb25uZWN0ZWQoKSYmYS5kaXNjb25uZWN0KCk7aWYoYi5pc0Nvbm5lY3RlZCgpKXt2YXIgZT1iLnRhcmdldEJsb2NrKCksZj1iLmdldFNoYWRvd0RvbSgpO2Iuc2V0U2hhZG93RG9tKG51bGwpO2lmKGUuaXNTaGFkb3coKSlmPUJsb2NrbHkuWG1sLmJsb2NrVG9Eb20oZSksZS5kaXNwb3NlKCExKSxlPW51bGw7ZWxzZSBpZihiLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUUpe2lmKCFlLm91dHB1dENvbm5lY3Rpb24pdGhyb3cgRXJyb3IoXCJPcnBoYW4gYmxvY2sgZG9lcyBub3QgaGF2ZSBhbiBvdXRwdXQgY29ubmVjdGlvbi5cIik7dmFyIGc9QmxvY2tseS5Db25uZWN0aW9uLmxhc3RDb25uZWN0aW9uSW5Sb3coZCxlKTtnJiYoZS5vdXRwdXRDb25uZWN0aW9uLmNvbm5lY3QoZyksZT1udWxsKX1lbHNlIGlmKGIudHlwZT09XG5CbG9ja2x5Lk5FWFRfU1RBVEVNRU5UKXtpZighZS5wcmV2aW91c0Nvbm5lY3Rpb24pdGhyb3cgRXJyb3IoXCJPcnBoYW4gYmxvY2sgZG9lcyBub3QgaGF2ZSBhIHByZXZpb3VzIGNvbm5lY3Rpb24uXCIpO2ZvcihnPWQ7Zy5uZXh0Q29ubmVjdGlvbjspe3ZhciBoPWcuZ2V0TmV4dEJsb2NrKCk7aWYoaCYmIWguaXNTaGFkb3coKSlnPWg7ZWxzZXtlLnByZXZpb3VzQ29ubmVjdGlvbi5jaGVja1R5cGUoZy5uZXh0Q29ubmVjdGlvbikmJihnLm5leHRDb25uZWN0aW9uLmNvbm5lY3QoZS5wcmV2aW91c0Nvbm5lY3Rpb24pLGU9bnVsbCk7YnJlYWt9fX1pZihlJiYoYi5kaXNjb25uZWN0KCksQmxvY2tseS5FdmVudHMucmVjb3JkVW5kbykpe3ZhciBrPUJsb2NrbHkuRXZlbnRzLmdldEdyb3VwKCk7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKGUud29ya3NwYWNlJiYhZS5nZXRQYXJlbnQoKSl7QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoayk7aWYoZS5vdXRwdXRDb25uZWN0aW9uKWUub3V0cHV0Q29ubmVjdGlvbi5vbkZhaWxlZENvbm5lY3QoYik7XG5lbHNlIGlmKGUucHJldmlvdXNDb25uZWN0aW9uKWUucHJldmlvdXNDb25uZWN0aW9uLm9uRmFpbGVkQ29ubmVjdChiKTtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSl9fSxCbG9ja2x5LkJVTVBfREVMQVkpfWIuc2V0U2hhZG93RG9tKGYpfXZhciBsO0Jsb2NrbHkuRXZlbnRzLmlzRW5hYmxlZCgpJiYobD1uZXcgQmxvY2tseS5FdmVudHMuQmxvY2tNb3ZlKGQpKTtCbG9ja2x5LkNvbm5lY3Rpb24uY29ubmVjdFJlY2lwcm9jYWxseV8oYixhKTtkLnNldFBhcmVudChjKTtsJiYobC5yZWNvcmROZXcoKSxCbG9ja2x5LkV2ZW50cy5maXJlKGwpKX07QmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0Nvbm5lY3RlZCgpKXt0aGlzLnNldFNoYWRvd0RvbShudWxsKTt2YXIgYT10aGlzLnRhcmdldEJsb2NrKCk7YS5pc1NoYWRvdygpP2EuZGlzcG9zZSghMSk6YS51bnBsdWcoKX10aGlzLmRpc3Bvc2VkPSEwfTtcbkJsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U291cmNlQmxvY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2VCbG9ja199O0Jsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUuaXNTdXBlcmlvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUV8fHRoaXMudHlwZT09QmxvY2tseS5ORVhUX1NUQVRFTUVOVH07QmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS5pc0Nvbm5lY3RlZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy50YXJnZXRDb25uZWN0aW9ufTtcbkJsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUuY2FuQ29ubmVjdFdpdGhSZWFzb249ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIEJsb2NrbHkuQ29ubmVjdGlvbi5SRUFTT05fVEFSR0VUX05VTEw7aWYodGhpcy5pc1N1cGVyaW9yKCkpdmFyIGI9dGhpcy5zb3VyY2VCbG9ja18sYz1hLmdldFNvdXJjZUJsb2NrKCk7ZWxzZSBjPXRoaXMuc291cmNlQmxvY2tfLGI9YS5nZXRTb3VyY2VCbG9jaygpO3JldHVybiBiJiZiPT1jP0Jsb2NrbHkuQ29ubmVjdGlvbi5SRUFTT05fU0VMRl9DT05ORUNUSU9OOmEudHlwZSE9QmxvY2tseS5PUFBPU0lURV9UWVBFW3RoaXMudHlwZV0/QmxvY2tseS5Db25uZWN0aW9uLlJFQVNPTl9XUk9OR19UWVBFOmImJmMmJmIud29ya3NwYWNlIT09Yy53b3Jrc3BhY2U/QmxvY2tseS5Db25uZWN0aW9uLlJFQVNPTl9ESUZGRVJFTlRfV09SS1NQQUNFUzp0aGlzLmNoZWNrVHlwZShhKT9iLmlzU2hhZG93KCkmJiFjLmlzU2hhZG93KCk/QmxvY2tseS5Db25uZWN0aW9uLlJFQVNPTl9TSEFET1dfUEFSRU5UOlxuQmxvY2tseS5Db25uZWN0aW9uLkNBTl9DT05ORUNUOkJsb2NrbHkuQ29ubmVjdGlvbi5SRUFTT05fQ0hFQ0tTX0ZBSUxFRH07XG5CbG9ja2x5LkNvbm5lY3Rpb24ucHJvdG90eXBlLmNoZWNrQ29ubmVjdGlvbj1mdW5jdGlvbihhKXtzd2l0Y2godGhpcy5jYW5Db25uZWN0V2l0aFJlYXNvbihhKSl7Y2FzZSBCbG9ja2x5LkNvbm5lY3Rpb24uQ0FOX0NPTk5FQ1Q6YnJlYWs7Y2FzZSBCbG9ja2x5LkNvbm5lY3Rpb24uUkVBU09OX1NFTEZfQ09OTkVDVElPTjp0aHJvdyBFcnJvcihcIkF0dGVtcHRlZCB0byBjb25uZWN0IGEgYmxvY2sgdG8gaXRzZWxmLlwiKTtjYXNlIEJsb2NrbHkuQ29ubmVjdGlvbi5SRUFTT05fRElGRkVSRU5UX1dPUktTUEFDRVM6dGhyb3cgRXJyb3IoXCJCbG9ja3Mgbm90IG9uIHNhbWUgd29ya3NwYWNlLlwiKTtjYXNlIEJsb2NrbHkuQ29ubmVjdGlvbi5SRUFTT05fV1JPTkdfVFlQRTp0aHJvdyBFcnJvcihcIkF0dGVtcHQgdG8gY29ubmVjdCBpbmNvbXBhdGlibGUgdHlwZXMuXCIpO2Nhc2UgQmxvY2tseS5Db25uZWN0aW9uLlJFQVNPTl9UQVJHRVRfTlVMTDp0aHJvdyBFcnJvcihcIlRhcmdldCBjb25uZWN0aW9uIGlzIG51bGwuXCIpO1xuY2FzZSBCbG9ja2x5LkNvbm5lY3Rpb24uUkVBU09OX0NIRUNLU19GQUlMRUQ6dGhyb3cgRXJyb3IoXCJDb25uZWN0aW9uIGNoZWNrcyBmYWlsZWQuIFwiKyh0aGlzK1wiIGV4cGVjdGVkIFwiK3RoaXMuY2hlY2tfK1wiLCBmb3VuZCBcIithLmNoZWNrXykpO2Nhc2UgQmxvY2tseS5Db25uZWN0aW9uLlJFQVNPTl9TSEFET1dfUEFSRU5UOnRocm93IEVycm9yKFwiQ29ubmVjdGluZyBub24tc2hhZG93IHRvIHNoYWRvdyBibG9jay5cIik7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gY29ubmVjdGlvbiBmYWlsdXJlOiB0aGlzIHNob3VsZCBuZXZlciBoYXBwZW4hXCIpO319O1xuQmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS5jYW5Db25uZWN0VG9QcmV2aW91c189ZnVuY3Rpb24oYSl7aWYodGhpcy50YXJnZXRDb25uZWN0aW9ufHwtMSE9QmxvY2tseS5kcmFnZ2luZ0Nvbm5lY3Rpb25zLmluZGV4T2YoYSkpcmV0dXJuITE7aWYoIWEudGFyZ2V0Q29ubmVjdGlvbilyZXR1cm4hMDthPWEudGFyZ2V0QmxvY2soKTtyZXR1cm4gYS5pc0luc2VydGlvbk1hcmtlcigpPyFhLmdldFByZXZpb3VzQmxvY2soKTohMX07XG5CbG9ja2x5LkNvbm5lY3Rpb24ucHJvdG90eXBlLmlzQ29ubmVjdGlvbkFsbG93ZWQ9ZnVuY3Rpb24oYSl7aWYoYS5zb3VyY2VCbG9ja18uaXNJbnNlcnRpb25NYXJrZXIoKXx8dGhpcy5jYW5Db25uZWN0V2l0aFJlYXNvbihhKSE9QmxvY2tseS5Db25uZWN0aW9uLkNBTl9DT05ORUNUKXJldHVybiExO3N3aXRjaChhLnR5cGUpe2Nhc2UgQmxvY2tseS5QUkVWSU9VU19TVEFURU1FTlQ6cmV0dXJuIHRoaXMuY2FuQ29ubmVjdFRvUHJldmlvdXNfKGEpO2Nhc2UgQmxvY2tseS5PVVRQVVRfVkFMVUU6aWYoYS5pc0Nvbm5lY3RlZCgpJiYhYS50YXJnZXRCbG9jaygpLmlzSW5zZXJ0aW9uTWFya2VyKCl8fHRoaXMuaXNDb25uZWN0ZWQoKSlyZXR1cm4hMTticmVhaztjYXNlIEJsb2NrbHkuSU5QVVRfVkFMVUU6aWYoYS5pc0Nvbm5lY3RlZCgpJiYhYS50YXJnZXRCbG9jaygpLmlzTW92YWJsZSgpJiYhYS50YXJnZXRCbG9jaygpLmlzU2hhZG93KCkpcmV0dXJuITE7YnJlYWs7Y2FzZSBCbG9ja2x5Lk5FWFRfU1RBVEVNRU5UOmlmKGEuaXNDb25uZWN0ZWQoKSYmXG4hdGhpcy5zb3VyY2VCbG9ja18ubmV4dENvbm5lY3Rpb24mJiFhLnRhcmdldEJsb2NrKCkuaXNTaGFkb3coKSYmYS50YXJnZXRCbG9jaygpLm5leHRDb25uZWN0aW9uKXJldHVybiExO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIGNvbm5lY3Rpb24gdHlwZSBpbiBpc0Nvbm5lY3Rpb25BbGxvd2VkXCIpO31yZXR1cm4tMSE9QmxvY2tseS5kcmFnZ2luZ0Nvbm5lY3Rpb25zLmluZGV4T2YoYSk/ITE6ITB9O0Jsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUub25GYWlsZWRDb25uZWN0PWZ1bmN0aW9uKGEpe307XG5CbG9ja2x5LkNvbm5lY3Rpb24ucHJvdG90eXBlLmNvbm5lY3Q9ZnVuY3Rpb24oYSl7aWYodGhpcy50YXJnZXRDb25uZWN0aW9uIT1hKXt0aGlzLmNoZWNrQ29ubmVjdGlvbihhKTt2YXIgYj1CbG9ja2x5LkV2ZW50cy5nZXRHcm91cCgpO2J8fEJsb2NrbHkuRXZlbnRzLnNldEdyb3VwKCEwKTt0aGlzLmlzU3VwZXJpb3IoKT90aGlzLmNvbm5lY3RfKGEpOmEuY29ubmVjdF8odGhpcyk7Ynx8QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITEpfX07QmxvY2tseS5Db25uZWN0aW9uLmNvbm5lY3RSZWNpcHJvY2FsbHlfPWZ1bmN0aW9uKGEsYil7aWYoIWF8fCFiKXRocm93IEVycm9yKFwiQ2Fubm90IGNvbm5lY3QgbnVsbCBjb25uZWN0aW9ucy5cIik7YS50YXJnZXRDb25uZWN0aW9uPWI7Yi50YXJnZXRDb25uZWN0aW9uPWF9O1xuQmxvY2tseS5Db25uZWN0aW9uLnNpbmdsZUNvbm5lY3Rpb25fPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPW51bGwsZD0wO2Q8YS5pbnB1dExpc3QubGVuZ3RoO2QrKyl7dmFyIGU9YS5pbnB1dExpc3RbZF0uY29ubmVjdGlvbjtpZihlJiZlLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUUmJmIub3V0cHV0Q29ubmVjdGlvbi5jaGVja1R5cGUoZSkpe2lmKGMpcmV0dXJuIG51bGw7Yz1lfX1yZXR1cm4gY307QmxvY2tseS5Db25uZWN0aW9uLmxhc3RDb25uZWN0aW9uSW5Sb3c9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM7Yz1CbG9ja2x5LkNvbm5lY3Rpb24uc2luZ2xlQ29ubmVjdGlvbl8oYSxiKTspaWYoYT1jLnRhcmdldEJsb2NrKCksIWF8fGEuaXNTaGFkb3coKSlyZXR1cm4gYztyZXR1cm4gbnVsbH07XG5CbG9ja2x5LkNvbm5lY3Rpb24ucHJvdG90eXBlLmRpc2Nvbm5lY3Q9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRhcmdldENvbm5lY3Rpb247aWYoIWEpdGhyb3cgRXJyb3IoXCJTb3VyY2UgY29ubmVjdGlvbiBub3QgY29ubmVjdGVkLlwiKTtpZihhLnRhcmdldENvbm5lY3Rpb24hPXRoaXMpdGhyb3cgRXJyb3IoXCJUYXJnZXQgY29ubmVjdGlvbiBub3QgY29ubmVjdGVkIHRvIHNvdXJjZSBjb25uZWN0aW9uLlwiKTtpZih0aGlzLmlzU3VwZXJpb3IoKSl7dmFyIGI9dGhpcy5zb3VyY2VCbG9ja187dmFyIGM9YS5nZXRTb3VyY2VCbG9jaygpO2E9dGhpc31lbHNlIGI9YS5nZXRTb3VyY2VCbG9jaygpLGM9dGhpcy5zb3VyY2VCbG9ja187dmFyIGQ9QmxvY2tseS5FdmVudHMuZ2V0R3JvdXAoKTtkfHxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMCk7dGhpcy5kaXNjb25uZWN0SW50ZXJuYWxfKGIsYyk7YS5yZXNwYXduU2hhZG93XygpO2R8fEJsb2NrbHkuRXZlbnRzLnNldEdyb3VwKCExKX07XG5CbG9ja2x5LkNvbm5lY3Rpb24ucHJvdG90eXBlLmRpc2Nvbm5lY3RJbnRlcm5hbF89ZnVuY3Rpb24oYSxiKXt2YXIgYztCbG9ja2x5LkV2ZW50cy5pc0VuYWJsZWQoKSYmKGM9bmV3IEJsb2NrbHkuRXZlbnRzLkJsb2NrTW92ZShiKSk7dGhpcy50YXJnZXRDb25uZWN0aW9uPXRoaXMudGFyZ2V0Q29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uPW51bGw7Yi5zZXRQYXJlbnQobnVsbCk7YyYmKGMucmVjb3JkTmV3KCksQmxvY2tseS5FdmVudHMuZmlyZShjKSl9O1xuQmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS5yZXNwYXduU2hhZG93Xz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0U291cmNlQmxvY2soKSxiPXRoaXMuZ2V0U2hhZG93RG9tKCk7aWYoYS53b3Jrc3BhY2UmJmImJkJsb2NrbHkuRXZlbnRzLnJlY29yZFVuZG8paWYoYT1CbG9ja2x5LlhtbC5kb21Ub0Jsb2NrKGIsYS53b3Jrc3BhY2UpLGEub3V0cHV0Q29ubmVjdGlvbil0aGlzLmNvbm5lY3QoYS5vdXRwdXRDb25uZWN0aW9uKTtlbHNlIGlmKGEucHJldmlvdXNDb25uZWN0aW9uKXRoaXMuY29ubmVjdChhLnByZXZpb3VzQ29ubmVjdGlvbik7ZWxzZSB0aHJvdyBFcnJvcihcIkNoaWxkIGJsb2NrIGRvZXMgbm90IGhhdmUgb3V0cHV0IG9yIHByZXZpb3VzIHN0YXRlbWVudC5cIik7fTtcbkJsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUudGFyZ2V0QmxvY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0Nvbm5lY3RlZCgpP3RoaXMudGFyZ2V0Q29ubmVjdGlvbi5nZXRTb3VyY2VCbG9jaygpOm51bGx9O0Jsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUuY2hlY2tUeXBlPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmNoZWNrX3x8IWEuY2hlY2tfKXJldHVybiEwO2Zvcih2YXIgYj0wO2I8dGhpcy5jaGVja18ubGVuZ3RoO2IrKylpZigtMSE9YS5jaGVja18uaW5kZXhPZih0aGlzLmNoZWNrX1tiXSkpcmV0dXJuITA7cmV0dXJuITF9O0Jsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUuY2hlY2tUeXBlXz1mdW5jdGlvbihhKXtjb25zb2xlLndhcm4oXCJEZXByZWNhdGVkIGNhbGwgdG8gQmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS5jaGVja1R5cGVfLCB1c2UgQmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS5jaGVja1R5cGUgaW5zdGVhZC5cIik7cmV0dXJuIHRoaXMuY2hlY2tUeXBlKGEpfTtcbkJsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUub25DaGVja0NoYW5nZWRfPWZ1bmN0aW9uKCl7IXRoaXMuaXNDb25uZWN0ZWQoKXx8dGhpcy50YXJnZXRDb25uZWN0aW9uJiZ0aGlzLmNoZWNrVHlwZSh0aGlzLnRhcmdldENvbm5lY3Rpb24pfHwodGhpcy5pc1N1cGVyaW9yKCk/dGhpcy50YXJnZXRCbG9jaygpOnRoaXMuc291cmNlQmxvY2tfKS51bnBsdWcoKX07QmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS5zZXRDaGVjaz1mdW5jdGlvbihhKXthPyhBcnJheS5pc0FycmF5KGEpfHwoYT1bYV0pLHRoaXMuY2hlY2tfPWEsdGhpcy5vbkNoZWNrQ2hhbmdlZF8oKSk6dGhpcy5jaGVja189bnVsbDtyZXR1cm4gdGhpc307QmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS5nZXRDaGVjaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrX307QmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS5zZXRTaGFkb3dEb209ZnVuY3Rpb24oYSl7dGhpcy5zaGFkb3dEb21fPWF9O1xuQmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS5nZXRTaGFkb3dEb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFkb3dEb21ffTtCbG9ja2x5LkNvbm5lY3Rpb24ucHJvdG90eXBlLm5laWdoYm91cnM9ZnVuY3Rpb24oYSl7cmV0dXJuW119O0Jsb2NrbHkuQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UGFyZW50SW5wdXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bnVsbCxiPXRoaXMuc291cmNlQmxvY2tfLGM9Yi5pbnB1dExpc3QsZD0wO2Q8Yi5pbnB1dExpc3QubGVuZ3RoO2QrKylpZihjW2RdLmNvbm5lY3Rpb249PT10aGlzKXthPWNbZF07YnJlYWt9cmV0dXJuIGF9O1xuQmxvY2tseS5Db25uZWN0aW9uLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuc291cmNlQmxvY2tfO2lmKGEpaWYoYS5vdXRwdXRDb25uZWN0aW9uPT10aGlzKXZhciBiPVwiT3V0cHV0IENvbm5lY3Rpb24gb2YgXCI7ZWxzZSBpZihhLnByZXZpb3VzQ29ubmVjdGlvbj09dGhpcyliPVwiUHJldmlvdXMgQ29ubmVjdGlvbiBvZiBcIjtlbHNlIGlmKGEubmV4dENvbm5lY3Rpb249PXRoaXMpYj1cIk5leHQgQ29ubmVjdGlvbiBvZiBcIjtlbHNle2I9bnVsbDtmb3IodmFyIGM9MCxkO2Q9YS5pbnB1dExpc3RbY107YysrKWlmKGQuY29ubmVjdGlvbj09dGhpcyl7Yj1kO2JyZWFrfWlmKGIpYj0nSW5wdXQgXCInK2IubmFtZSsnXCIgY29ubmVjdGlvbiBvbiAnO2Vsc2UgcmV0dXJuIGNvbnNvbGUud2FybihcIkNvbm5lY3Rpb24gbm90IGFjdHVhbGx5IGNvbm5lY3RlZCB0byBzb3VyY2VCbG9ja19cIiksXCJPcnBoYW4gQ29ubmVjdGlvblwifWVsc2UgcmV0dXJuXCJPcnBoYW4gQ29ubmVjdGlvblwiO1xucmV0dXJuIGIrYS50b0RldlN0cmluZygpfTtCbG9ja2x5LkV4dGVuc2lvbnM9e307QmxvY2tseS5FeHRlbnNpb25zLkFMTF89e307QmxvY2tseS5FeHRlbnNpb25zLnJlZ2lzdGVyPWZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGF8fFwiXCI9PWEudHJpbSgpKXRocm93IEVycm9yKCdFcnJvcjogSW52YWxpZCBleHRlbnNpb24gbmFtZSBcIicrYSsnXCInKTtpZihCbG9ja2x5LkV4dGVuc2lvbnMuQUxMX1thXSl0aHJvdyBFcnJvcignRXJyb3I6IEV4dGVuc2lvbiBcIicrYSsnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkLicpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGIpdGhyb3cgRXJyb3IoJ0Vycm9yOiBFeHRlbnNpb24gXCInK2ErJ1wiIG11c3QgYmUgYSBmdW5jdGlvbicpO0Jsb2NrbHkuRXh0ZW5zaW9ucy5BTExfW2FdPWJ9O1xuQmxvY2tseS5FeHRlbnNpb25zLnJlZ2lzdGVyTWl4aW49ZnVuY3Rpb24oYSxiKXtpZighYnx8XCJvYmplY3RcIiE9dHlwZW9mIGIpdGhyb3cgRXJyb3IoJ0Vycm9yOiBNaXhpbiBcIicrYSsnXCIgbXVzdCBiZSBhIG9iamVjdCcpO0Jsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3RlcihhLGZ1bmN0aW9uKCl7dGhpcy5taXhpbihiKX0pfTtcbkJsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3Rlck11dGF0b3I9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9J0Vycm9yIHdoZW4gcmVnaXN0ZXJpbmcgbXV0YXRvciBcIicrYSsnXCI6ICc7QmxvY2tseS5FeHRlbnNpb25zLmNoZWNrSGFzRnVuY3Rpb25fKGUsYi5kb21Ub011dGF0aW9uLFwiZG9tVG9NdXRhdGlvblwiKTtCbG9ja2x5LkV4dGVuc2lvbnMuY2hlY2tIYXNGdW5jdGlvbl8oZSxiLm11dGF0aW9uVG9Eb20sXCJtdXRhdGlvblRvRG9tXCIpO3ZhciBmPUJsb2NrbHkuRXh0ZW5zaW9ucy5jaGVja011dGF0b3JEaWFsb2dfKGIsZSk7aWYoYyYmXCJmdW5jdGlvblwiIT10eXBlb2YgYyl0aHJvdyBFcnJvcignRXh0ZW5zaW9uIFwiJythKydcIiBpcyBub3QgYSBmdW5jdGlvbicpO0Jsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3RlcihhLGZ1bmN0aW9uKCl7aWYoZil7aWYoIUJsb2NrbHkuTXV0YXRvcil0aHJvdyBFcnJvcihlK1wiTWlzc2luZyByZXF1aXJlIGZvciBCbG9ja2x5Lk11dGF0b3JcIik7dGhpcy5zZXRNdXRhdG9yKG5ldyBCbG9ja2x5Lk11dGF0b3IoZHx8XG5bXSkpfXRoaXMubWl4aW4oYik7YyYmYy5hcHBseSh0aGlzKX0pfTtCbG9ja2x5LkV4dGVuc2lvbnMudW5yZWdpc3Rlcj1mdW5jdGlvbihhKXtCbG9ja2x5LkV4dGVuc2lvbnMuQUxMX1thXT9kZWxldGUgQmxvY2tseS5FeHRlbnNpb25zLkFMTF9bYV06Y29uc29sZS53YXJuKCdObyBleHRlbnNpb24gbWFwcGluZyBmb3IgbmFtZSBcIicrYSsnXCIgZm91bmQgdG8gdW5yZWdpc3RlcicpfTtcbkJsb2NrbHkuRXh0ZW5zaW9ucy5hcHBseT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9QmxvY2tseS5FeHRlbnNpb25zLkFMTF9bYV07aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZCl0aHJvdyBFcnJvcignRXJyb3I6IEV4dGVuc2lvbiBcIicrYSsnXCIgbm90IGZvdW5kLicpO2lmKGMpQmxvY2tseS5FeHRlbnNpb25zLmNoZWNrTm9NdXRhdG9yUHJvcGVydGllc18oYSxiKTtlbHNlIHZhciBlPUJsb2NrbHkuRXh0ZW5zaW9ucy5nZXRNdXRhdG9yUHJvcGVydGllc18oYik7ZC5hcHBseShiKTtpZihjKUJsb2NrbHkuRXh0ZW5zaW9ucy5jaGVja0Jsb2NrSGFzTXV0YXRvclByb3BlcnRpZXNfKCdFcnJvciBhZnRlciBhcHBseWluZyBtdXRhdG9yIFwiJythKydcIjogJyxiKTtlbHNlIGlmKCFCbG9ja2x5LkV4dGVuc2lvbnMubXV0YXRvclByb3BlcnRpZXNNYXRjaF8oZSxiKSl0aHJvdyBFcnJvcignRXJyb3Igd2hlbiBhcHBseWluZyBleHRlbnNpb24gXCInK2ErJ1wiOiBtdXRhdGlvbiBwcm9wZXJ0aWVzIGNoYW5nZWQgd2hlbiBhcHBseWluZyBhIG5vbi1tdXRhdG9yIGV4dGVuc2lvbi4nKTtcbn07QmxvY2tseS5FeHRlbnNpb25zLmNoZWNrSGFzRnVuY3Rpb25fPWZ1bmN0aW9uKGEsYixjKXtpZighYil0aHJvdyBFcnJvcihhKydtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiJytjKydcIicpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGIpdGhyb3cgRXJyb3IoYSsnXCIgcmVxdWlyZWQgcHJvcGVydHkgXCInK2MrJ1wiIG11c3QgYmUgYSBmdW5jdGlvbicpO307QmxvY2tseS5FeHRlbnNpb25zLmNoZWNrTm9NdXRhdG9yUHJvcGVydGllc189ZnVuY3Rpb24oYSxiKXtpZihCbG9ja2x5LkV4dGVuc2lvbnMuZ2V0TXV0YXRvclByb3BlcnRpZXNfKGIpLmxlbmd0aCl0aHJvdyBFcnJvcignRXJyb3I6IHRyaWVkIHRvIGFwcGx5IG11dGF0aW9uIFwiJythKydcIiB0byBhIGJsb2NrIHRoYXQgYWxyZWFkeSBoYXMgbXV0YXRvciBmdW5jdGlvbnMuICBCbG9jayBpZDogJytiLmlkKTt9O1xuQmxvY2tseS5FeHRlbnNpb25zLmNoZWNrTXV0YXRvckRpYWxvZ189ZnVuY3Rpb24oYSxiKXt2YXIgYz12b2lkIDAhPT1hLmNvbXBvc2UsZD12b2lkIDAhPT1hLmRlY29tcG9zZTtpZihjJiZkKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvc2UpdGhyb3cgRXJyb3IoYitcImNvbXBvc2UgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmRlY29tcG9zZSl0aHJvdyBFcnJvcihiK1wiZGVjb21wb3NlIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7cmV0dXJuITB9aWYoY3x8ZCl0aHJvdyBFcnJvcihiKydNdXN0IGhhdmUgYm90aCBvciBuZWl0aGVyIG9mIFwiY29tcG9zZVwiIGFuZCBcImRlY29tcG9zZVwiJyk7cmV0dXJuITF9O1xuQmxvY2tseS5FeHRlbnNpb25zLmNoZWNrQmxvY2tIYXNNdXRhdG9yUHJvcGVydGllc189ZnVuY3Rpb24oYSxiKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBiLmRvbVRvTXV0YXRpb24pdGhyb3cgRXJyb3IoYSsnQXBwbHlpbmcgYSBtdXRhdG9yIGRpZG5cXCd0IGFkZCBcImRvbVRvTXV0YXRpb25cIicpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGIubXV0YXRpb25Ub0RvbSl0aHJvdyBFcnJvcihhKydBcHBseWluZyBhIG11dGF0b3IgZGlkblxcJ3QgYWRkIFwibXV0YXRpb25Ub0RvbVwiJyk7QmxvY2tseS5FeHRlbnNpb25zLmNoZWNrTXV0YXRvckRpYWxvZ18oYixhKX07XG5CbG9ja2x5LkV4dGVuc2lvbnMuZ2V0TXV0YXRvclByb3BlcnRpZXNfPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO3ZvaWQgMCE9PWEuZG9tVG9NdXRhdGlvbiYmYi5wdXNoKGEuZG9tVG9NdXRhdGlvbik7dm9pZCAwIT09YS5tdXRhdGlvblRvRG9tJiZiLnB1c2goYS5tdXRhdGlvblRvRG9tKTt2b2lkIDAhPT1hLmNvbXBvc2UmJmIucHVzaChhLmNvbXBvc2UpO3ZvaWQgMCE9PWEuZGVjb21wb3NlJiZiLnB1c2goYS5kZWNvbXBvc2UpO3JldHVybiBifTtCbG9ja2x5LkV4dGVuc2lvbnMubXV0YXRvclByb3BlcnRpZXNNYXRjaF89ZnVuY3Rpb24oYSxiKXtiPUJsb2NrbHkuRXh0ZW5zaW9ucy5nZXRNdXRhdG9yUHJvcGVydGllc18oYik7aWYoYi5sZW5ndGghPWEubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGFbY10hPWJbY10pcmV0dXJuITE7cmV0dXJuITB9O1xuQmxvY2tseS5FeHRlbnNpb25zLmJ1aWxkVG9vbHRpcEZvckRyb3Bkb3duPWZ1bmN0aW9uKGEsYil7dmFyIGM9W107XCJvYmplY3RcIj09dHlwZW9mIGRvY3VtZW50JiZCbG9ja2x5LnV0aWxzLnJ1bkFmdGVyUGFnZUxvYWQoZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gYilCbG9ja2x5LnV0aWxzLmNoZWNrTWVzc2FnZVJlZmVyZW5jZXMoYlthXSl9KTtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLnR5cGUmJi0xPT1jLmluZGV4T2YodGhpcy50eXBlKSYmKEJsb2NrbHkuRXh0ZW5zaW9ucy5jaGVja0Ryb3Bkb3duT3B0aW9uc0luVGFibGVfKHRoaXMsYSxiKSxjLnB1c2godGhpcy50eXBlKSk7dGhpcy5zZXRUb29sdGlwKGZ1bmN0aW9uKCl7dmFyIGQ9U3RyaW5nKHRoaXMuZ2V0RmllbGRWYWx1ZShhKSksZT1iW2RdO251bGw9PWU/LTE9PWMuaW5kZXhPZih0aGlzLnR5cGUpJiYoZD1cIk5vIHRvb2x0aXAgbWFwcGluZyBmb3IgdmFsdWUgXCIrZCtcIiBvZiBmaWVsZCBcIithLG51bGwhPXRoaXMudHlwZSYmXG4oZCs9XCIgb2YgYmxvY2sgdHlwZSBcIit0aGlzLnR5cGUpLGNvbnNvbGUud2FybihkK1wiLlwiKSk6ZT1CbG9ja2x5LnV0aWxzLnJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyhlKTtyZXR1cm4gZX0uYmluZCh0aGlzKSl9fTtCbG9ja2x5LkV4dGVuc2lvbnMuY2hlY2tEcm9wZG93bk9wdGlvbnNJblRhYmxlXz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5nZXRGaWVsZChiKTtpZighZC5pc09wdGlvbkxpc3REeW5hbWljKCkpe2Q9ZC5nZXRPcHRpb25zKCk7Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2Upe3ZhciBmPWRbZV1bMV07bnVsbD09Y1tmXSYmY29uc29sZS53YXJuKFwiTm8gdG9vbHRpcCBtYXBwaW5nIGZvciB2YWx1ZSBcIitmK1wiIG9mIGZpZWxkIFwiK2IrXCIgb2YgYmxvY2sgdHlwZSBcIithLnR5cGUpfX19O1xuQmxvY2tseS5FeHRlbnNpb25zLmJ1aWxkVG9vbHRpcFdpdGhGaWVsZFRleHQ9ZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgZG9jdW1lbnQmJkJsb2NrbHkudXRpbHMucnVuQWZ0ZXJQYWdlTG9hZChmdW5jdGlvbigpe0Jsb2NrbHkudXRpbHMuY2hlY2tNZXNzYWdlUmVmZXJlbmNlcyhhKX0pO3JldHVybiBmdW5jdGlvbigpe3RoaXMuc2V0VG9vbHRpcChmdW5jdGlvbigpe3ZhciBjPXRoaXMuZ2V0RmllbGQoYik7cmV0dXJuIEJsb2NrbHkudXRpbHMucmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzKGEpLnJlcGxhY2UoXCIlMVwiLGM/Yy5nZXRUZXh0KCk6XCJcIil9LmJpbmQodGhpcykpfX07XG5CbG9ja2x5LkV4dGVuc2lvbnMuZXh0ZW5zaW9uUGFyZW50VG9vbHRpcF89ZnVuY3Rpb24oKXt0aGlzLnRvb2x0aXBXaGVuTm90Q29ubmVjdGVkXz10aGlzLnRvb2x0aXA7dGhpcy5zZXRUb29sdGlwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRQYXJlbnQoKTtyZXR1cm4gYSYmYS5nZXRJbnB1dHNJbmxpbmUoKSYmYS50b29sdGlwfHx0aGlzLnRvb2x0aXBXaGVuTm90Q29ubmVjdGVkX30uYmluZCh0aGlzKSl9O0Jsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3RlcihcInBhcmVudF90b29sdGlwX3doZW5faW5saW5lXCIsQmxvY2tseS5FeHRlbnNpb25zLmV4dGVuc2lvblBhcmVudFRvb2x0aXBfKTtCbG9ja2x5LmZpZWxkUmVnaXN0cnk9e307QmxvY2tseS5maWVsZFJlZ2lzdHJ5LnR5cGVNYXBfPXt9O0Jsb2NrbHkuZmllbGRSZWdpc3RyeS5yZWdpc3Rlcj1mdW5jdGlvbihhLGIpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBhfHxcIlwiPT1hLnRyaW0oKSl0aHJvdyBFcnJvcignSW52YWxpZCBmaWVsZCB0eXBlIFwiJythKydcIi4gVGhlIHR5cGUgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmcuJyk7aWYoQmxvY2tseS5maWVsZFJlZ2lzdHJ5LnR5cGVNYXBfW2FdKXRocm93IEVycm9yKCdFcnJvcjogRmllbGQgXCInK2ErJ1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4nKTtpZighYnx8XCJmdW5jdGlvblwiIT10eXBlb2YgYi5mcm9tSnNvbil0aHJvdyBFcnJvcignRmllbGQgXCInK2IrJ1wiIG11c3QgaGF2ZSBhIGZyb21Kc29uIGZ1bmN0aW9uJyk7YT1hLnRvTG93ZXJDYXNlKCk7QmxvY2tseS5maWVsZFJlZ2lzdHJ5LnR5cGVNYXBfW2FdPWJ9O1xuQmxvY2tseS5maWVsZFJlZ2lzdHJ5LnVucmVnaXN0ZXI9ZnVuY3Rpb24oYSl7QmxvY2tseS5maWVsZFJlZ2lzdHJ5LnR5cGVNYXBfW2FdP2RlbGV0ZSBCbG9ja2x5LmZpZWxkUmVnaXN0cnkudHlwZU1hcF9bYV06Y29uc29sZS53YXJuKCdObyBmaWVsZCBtYXBwaW5nIGZvciB0eXBlIFwiJythKydcIiBmb3VuZCB0byB1bnJlZ2lzdGVyJyl9O1xuQmxvY2tseS5maWVsZFJlZ2lzdHJ5LmZyb21Kc29uPWZ1bmN0aW9uKGEpe3ZhciBiPWEudHlwZS50b0xvd2VyQ2FzZSgpO2I9QmxvY2tseS5maWVsZFJlZ2lzdHJ5LnR5cGVNYXBfW2JdO3JldHVybiBiP2IuZnJvbUpzb24oYSk6KGNvbnNvbGUud2FybihcIkJsb2NrbHkgY291bGQgbm90IGNyZWF0ZSBhIGZpZWxkIG9mIHR5cGUgXCIrYS50eXBlK1wiLiBUaGUgZmllbGQgaXMgcHJvYmFibHkgbm90IGJlaW5nIHJlZ2lzdGVyZWQuIFRoaXMgY291bGQgYmUgYmVjYXVzZSB0aGUgZmlsZSBpcyBub3QgbG9hZGVkLCB0aGUgZmllbGQgZG9lcyBub3QgcmVnaXN0ZXIgaXRzZWxmIChJc3N1ZSAjMTU4NCksIG9yIHRoZSByZWdpc3RyYXRpb24gaXMgbm90IGJlaW5nIHJlYWNoZWQuXCIpLG51bGwpfTtCbG9ja2x5LmJsb2NrQW5pbWF0aW9ucz17fTtCbG9ja2x5LmJsb2NrQW5pbWF0aW9ucy5kaXNjb25uZWN0UGlkXz0wO0Jsb2NrbHkuYmxvY2tBbmltYXRpb25zLmRpc2Nvbm5lY3RHcm91cF89bnVsbDtCbG9ja2x5LmJsb2NrQW5pbWF0aW9ucy5kaXNwb3NlVWlFZmZlY3Q9ZnVuY3Rpb24oYSl7dmFyIGI9YS53b3Jrc3BhY2UsYz1hLmdldFN2Z1Jvb3QoKTtiLmdldEF1ZGlvTWFuYWdlcigpLnBsYXkoXCJkZWxldGVcIik7YT1iLmdldFN2Z1hZKGMpO2M9Yy5jbG9uZU5vZGUoITApO2MudHJhbnNsYXRlWF89YS54O2MudHJhbnNsYXRlWV89YS55O2Muc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoXCIrYS54K1wiLFwiK2EueStcIilcIik7Yi5nZXRQYXJlbnRTdmcoKS5hcHBlbmRDaGlsZChjKTtjLmJCb3hfPWMuZ2V0QkJveCgpO0Jsb2NrbHkuYmxvY2tBbmltYXRpb25zLmRpc3Bvc2VVaVN0ZXBfKGMsYi5SVEwsbmV3IERhdGUsYi5zY2FsZSl9O1xuQmxvY2tseS5ibG9ja0FuaW1hdGlvbnMuZGlzcG9zZVVpU3RlcF89ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9KG5ldyBEYXRlLWMpLzE1MDsxPGU/QmxvY2tseS51dGlscy5kb20ucmVtb3ZlTm9kZShhKTooYS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZShcIisoYS50cmFuc2xhdGVYXysoYj8tMToxKSphLmJCb3hfLndpZHRoKmQvMiplKStcIixcIisoYS50cmFuc2xhdGVZXythLmJCb3hfLmhlaWdodCpkKmUpK1wiKSBzY2FsZShcIisoMS1lKSpkK1wiKVwiKSxzZXRUaW1lb3V0KEJsb2NrbHkuYmxvY2tBbmltYXRpb25zLmRpc3Bvc2VVaVN0ZXBfLDEwLGEsYixjLGQpKX07XG5CbG9ja2x5LmJsb2NrQW5pbWF0aW9ucy5jb25uZWN0aW9uVWlFZmZlY3Q9ZnVuY3Rpb24oYSl7dmFyIGI9YS53b3Jrc3BhY2UsYz1iLnNjYWxlO2IuZ2V0QXVkaW9NYW5hZ2VyKCkucGxheShcImNsaWNrXCIpO2lmKCEoMT5jKSl7dmFyIGQ9Yi5nZXRTdmdYWShhLmdldFN2Z1Jvb3QoKSk7YS5vdXRwdXRDb25uZWN0aW9uPyhkLngrPShhLlJUTD8zOi0zKSpjLGQueSs9MTMqYyk6YS5wcmV2aW91c0Nvbm5lY3Rpb24mJihkLngrPShhLlJUTD8tMjM6MjMpKmMsZC55Kz0zKmMpO2E9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImNpcmNsZVwiLHtjeDpkLngsY3k6ZC55LHI6MCxmaWxsOlwibm9uZVwiLHN0cm9rZTpcIiM4ODhcIixcInN0cm9rZS13aWR0aFwiOjEwfSxiLmdldFBhcmVudFN2ZygpKTtCbG9ja2x5LmJsb2NrQW5pbWF0aW9ucy5jb25uZWN0aW9uVWlTdGVwXyhhLG5ldyBEYXRlLGMpfX07XG5CbG9ja2x5LmJsb2NrQW5pbWF0aW9ucy5jb25uZWN0aW9uVWlTdGVwXz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9KG5ldyBEYXRlLWIpLzE1MDsxPGQ/QmxvY2tseS51dGlscy5kb20ucmVtb3ZlTm9kZShhKTooYS5zZXRBdHRyaWJ1dGUoXCJyXCIsMjUqZCpjKSxhLnN0eWxlLm9wYWNpdHk9MS1kLEJsb2NrbHkuYmxvY2tBbmltYXRpb25zLmRpc2Nvbm5lY3RQaWRfPXNldFRpbWVvdXQoQmxvY2tseS5ibG9ja0FuaW1hdGlvbnMuY29ubmVjdGlvblVpU3RlcF8sMTAsYSxiLGMpKX07XG5CbG9ja2x5LmJsb2NrQW5pbWF0aW9ucy5kaXNjb25uZWN0VWlFZmZlY3Q9ZnVuY3Rpb24oYSl7YS53b3Jrc3BhY2UuZ2V0QXVkaW9NYW5hZ2VyKCkucGxheShcImRpc2Nvbm5lY3RcIik7aWYoISgxPmEud29ya3NwYWNlLnNjYWxlKSl7dmFyIGI9YS5nZXRIZWlnaHRXaWR0aCgpLmhlaWdodDtiPU1hdGguYXRhbigxMC9iKS9NYXRoLlBJKjE4MDthLlJUTHx8KGIqPS0xKTtCbG9ja2x5LmJsb2NrQW5pbWF0aW9ucy5kaXNjb25uZWN0VWlTdGVwXyhhLmdldFN2Z1Jvb3QoKSxiLG5ldyBEYXRlKX19O1xuQmxvY2tseS5ibG9ja0FuaW1hdGlvbnMuZGlzY29ubmVjdFVpU3RlcF89ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPShuZXcgRGF0ZS1jKS8yMDA7MTxkP2Euc2tld189XCJcIjooYS5za2V3Xz1cInNrZXdYKFwiK01hdGgucm91bmQoTWF0aC5zaW4oZCpNYXRoLlBJKjMpKigxLWQpKmIpK1wiKVwiLEJsb2NrbHkuYmxvY2tBbmltYXRpb25zLmRpc2Nvbm5lY3RHcm91cF89YSxCbG9ja2x5LmJsb2NrQW5pbWF0aW9ucy5kaXNjb25uZWN0UGlkXz1zZXRUaW1lb3V0KEJsb2NrbHkuYmxvY2tBbmltYXRpb25zLmRpc2Nvbm5lY3RVaVN0ZXBfLDEwLGEsYixjKSk7YS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixhLnRyYW5zbGF0ZV8rYS5za2V3Xyl9O1xuQmxvY2tseS5ibG9ja0FuaW1hdGlvbnMuZGlzY29ubmVjdFVpU3RvcD1mdW5jdGlvbigpe2lmKEJsb2NrbHkuYmxvY2tBbmltYXRpb25zLmRpc2Nvbm5lY3RHcm91cF8pe2NsZWFyVGltZW91dChCbG9ja2x5LmJsb2NrQW5pbWF0aW9ucy5kaXNjb25uZWN0UGlkXyk7dmFyIGE9QmxvY2tseS5ibG9ja0FuaW1hdGlvbnMuZGlzY29ubmVjdEdyb3VwXzthLnNrZXdfPVwiXCI7YS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixhLnRyYW5zbGF0ZV8pO0Jsb2NrbHkuYmxvY2tBbmltYXRpb25zLmRpc2Nvbm5lY3RHcm91cF89bnVsbH19O0Jsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlcj1mdW5jdGlvbihhKXt0aGlzLnRvcEJsb2NrXz1CbG9ja2x5LnNlbGVjdGVkPWE7dGhpcy53b3Jrc3BhY2VfPWEud29ya3NwYWNlO3RoaXMubGFzdE1hcmtlcl89dGhpcy5sYXN0T25TdGFja189bnVsbDt0aGlzLmZpcnN0TWFya2VyXz10aGlzLmNyZWF0ZU1hcmtlckJsb2NrXyh0aGlzLnRvcEJsb2NrXyk7dGhpcy5sb2NhbENvbm5lY3Rpb25fPXRoaXMuY2xvc2VzdENvbm5lY3Rpb25fPW51bGw7dGhpcy53b3VsZERlbGV0ZUJsb2NrXz0hMTt0aGlzLmZhZGVkQmxvY2tfPXRoaXMuaGlnaGxpZ2h0ZWRCbG9ja189dGhpcy5tYXJrZXJDb25uZWN0aW9uXz1udWxsO3RoaXMuYXZhaWxhYmxlQ29ubmVjdGlvbnNfPXRoaXMuaW5pdEF2YWlsYWJsZUNvbm5lY3Rpb25zXygpfTtCbG9ja2x5Lkluc2VydGlvbk1hcmtlck1hbmFnZXIuUFJFVklFV19UWVBFPXtJTlNFUlRJT05fTUFSS0VSOjAsSU5QVVRfT1VUTElORToxLFJFUExBQ0VNRU5UX0ZBREU6Mn07XG5CbG9ja2x5Lkluc2VydGlvbk1hcmtlck1hbmFnZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zXy5sZW5ndGg9MDtCbG9ja2x5LkV2ZW50cy5kaXNhYmxlKCk7dHJ5e3RoaXMuZmlyc3RNYXJrZXJfJiZ0aGlzLmZpcnN0TWFya2VyXy5kaXNwb3NlKCksdGhpcy5sYXN0TWFya2VyXyYmdGhpcy5sYXN0TWFya2VyXy5kaXNwb3NlKCl9ZmluYWxseXtCbG9ja2x5LkV2ZW50cy5lbmFibGUoKX19O0Jsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlci5wcm90b3R5cGUud291bGREZWxldGVCbG9jaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLndvdWxkRGVsZXRlQmxvY2tffTtCbG9ja2x5Lkluc2VydGlvbk1hcmtlck1hbmFnZXIucHJvdG90eXBlLndvdWxkQ29ubmVjdEJsb2NrPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmNsb3Nlc3RDb25uZWN0aW9uX307XG5CbG9ja2x5Lkluc2VydGlvbk1hcmtlck1hbmFnZXIucHJvdG90eXBlLmFwcGx5Q29ubmVjdGlvbnM9ZnVuY3Rpb24oKXtpZih0aGlzLmNsb3Nlc3RDb25uZWN0aW9uXyYmKEJsb2NrbHkuRXZlbnRzLmRpc2FibGUoKSx0aGlzLmhpZGVQcmV2aWV3XygpLEJsb2NrbHkuRXZlbnRzLmVuYWJsZSgpLHRoaXMubG9jYWxDb25uZWN0aW9uXy5jb25uZWN0KHRoaXMuY2xvc2VzdENvbm5lY3Rpb25fKSx0aGlzLnRvcEJsb2NrXy5yZW5kZXJlZCkpe3ZhciBhPXRoaXMubG9jYWxDb25uZWN0aW9uXy5pc1N1cGVyaW9yKCk/dGhpcy5jbG9zZXN0Q29ubmVjdGlvbl86dGhpcy5sb2NhbENvbm5lY3Rpb25fO0Jsb2NrbHkuYmxvY2tBbmltYXRpb25zLmNvbm5lY3Rpb25VaUVmZmVjdChhLmdldFNvdXJjZUJsb2NrKCkpO3RoaXMudG9wQmxvY2tfLmdldFJvb3RCbG9jaygpLmJyaW5nVG9Gcm9udCgpfX07XG5CbG9ja2x5Lkluc2VydGlvbk1hcmtlck1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q2FuZGlkYXRlXyhhKTtpZigodGhpcy53b3VsZERlbGV0ZUJsb2NrXz10aGlzLnNob3VsZERlbGV0ZV8oYyxiKSl8fHRoaXMuc2hvdWxkVXBkYXRlUHJldmlld3NfKGMsYSkpQmxvY2tseS5FdmVudHMuZGlzYWJsZSgpLHRoaXMubWF5YmVIaWRlUHJldmlld18oYyksdGhpcy5tYXliZVNob3dQcmV2aWV3XyhjKSxCbG9ja2x5LkV2ZW50cy5lbmFibGUoKX07XG5CbG9ja2x5Lkluc2VydGlvbk1hcmtlck1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZU1hcmtlckJsb2NrXz1mdW5jdGlvbihhKXt2YXIgYj1hLnR5cGU7QmxvY2tseS5FdmVudHMuZGlzYWJsZSgpO3RyeXt2YXIgYz10aGlzLndvcmtzcGFjZV8ubmV3QmxvY2soYik7Yy5zZXRJbnNlcnRpb25NYXJrZXIoITApO2lmKGEubXV0YXRpb25Ub0RvbSl7dmFyIGQ9YS5tdXRhdGlvblRvRG9tKCk7ZCYmYy5kb21Ub011dGF0aW9uKGQpfWMuc2V0Q29sbGFwc2VkKGEuaXNDb2xsYXBzZWQoKSk7Yy5zZXRJbnB1dHNJbmxpbmUoYS5nZXRJbnB1dHNJbmxpbmUoKSk7Zm9yKGI9MDtiPGEuaW5wdXRMaXN0Lmxlbmd0aDtiKyspe3ZhciBlPWEuaW5wdXRMaXN0W2JdO2lmKGUuaXNWaXNpYmxlKCkpe3ZhciBmPWMuaW5wdXRMaXN0W2JdO2ZvcihkPTA7ZDxlLmZpZWxkUm93Lmxlbmd0aDtkKyspZi5maWVsZFJvd1tkXS5zZXRWYWx1ZShlLmZpZWxkUm93W2RdLmdldFZhbHVlKCkpfX1jLmluaXRTdmcoKTtjLmdldFN2Z1Jvb3QoKS5zZXRBdHRyaWJ1dGUoXCJ2aXNpYmlsaXR5XCIsXG5cImhpZGRlblwiKX1maW5hbGx5e0Jsb2NrbHkuRXZlbnRzLmVuYWJsZSgpfXJldHVybiBjfTtCbG9ja2x5Lkluc2VydGlvbk1hcmtlck1hbmFnZXIucHJvdG90eXBlLmluaXRBdmFpbGFibGVDb25uZWN0aW9uc189ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRvcEJsb2NrXy5nZXRDb25uZWN0aW9uc18oITEpLGI9dGhpcy50b3BCbG9ja18ubGFzdENvbm5lY3Rpb25JblN0YWNrKCk7YiYmYiE9dGhpcy50b3BCbG9ja18ubmV4dENvbm5lY3Rpb24mJihhLnB1c2goYiksdGhpcy5sYXN0T25TdGFja189Yix0aGlzLmxhc3RNYXJrZXJfPXRoaXMuY3JlYXRlTWFya2VyQmxvY2tfKGIuZ2V0U291cmNlQmxvY2soKSkpO3JldHVybiBhfTtcbkJsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlci5wcm90b3R5cGUuc2hvdWxkVXBkYXRlUHJldmlld3NfPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5sb2NhbCxkPWEuY2xvc2VzdDthPWEucmFkaXVzO2lmKGMmJmQpe2lmKHRoaXMubG9jYWxDb25uZWN0aW9uXyYmdGhpcy5jbG9zZXN0Q29ubmVjdGlvbl8pe2lmKHRoaXMuY2xvc2VzdENvbm5lY3Rpb25fPT1kJiZ0aGlzLmxvY2FsQ29ubmVjdGlvbl89PWMpcmV0dXJuITE7Yz10aGlzLmxvY2FsQ29ubmVjdGlvbl8ueCtiLngtdGhpcy5jbG9zZXN0Q29ubmVjdGlvbl8ueDtiPXRoaXMubG9jYWxDb25uZWN0aW9uXy55K2IueS10aGlzLmNsb3Nlc3RDb25uZWN0aW9uXy55O2I9TWF0aC5zcXJ0KGMqYytiKmIpO3JldHVybiEoZCYmYT5iLUJsb2NrbHkuQ1VSUkVOVF9DT05ORUNUSU9OX1BSRUZFUkVOQ0UpfWlmKHRoaXMubG9jYWxDb25uZWN0aW9uX3x8dGhpcy5jbG9zZXN0Q29ubmVjdGlvbl8pY29uc29sZS5lcnJvcihcIk9ubHkgb25lIG9mIGxvY2FsQ29ubmVjdGlvbl8gYW5kIGNsb3Nlc3RDb25uZWN0aW9uXyB3YXMgc2V0LlwiKTtcbmVsc2UgcmV0dXJuITB9ZWxzZSByZXR1cm4hKCF0aGlzLmxvY2FsQ29ubmVjdGlvbl98fCF0aGlzLmNsb3Nlc3RDb25uZWN0aW9uXyk7Y29uc29sZS5lcnJvcihcIlJldHVybmluZyB0cnVlIGZyb20gc2hvdWxkVXBkYXRlUHJldmlld3MsIGJ1dCBpdCdzIG5vdCBjbGVhciB3aHkuXCIpO3JldHVybiEwfTtCbG9ja2x5Lkluc2VydGlvbk1hcmtlck1hbmFnZXIucHJvdG90eXBlLmdldENhbmRpZGF0ZV89ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ2V0U3RhcnRSYWRpdXNfKCksYz1udWxsLGQ9bnVsbCxlPTA7ZTx0aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zXy5sZW5ndGg7ZSsrKXt2YXIgZj10aGlzLmF2YWlsYWJsZUNvbm5lY3Rpb25zX1tlXSxnPWYuY2xvc2VzdChiLGEpO2cuY29ubmVjdGlvbiYmKGM9Zy5jb25uZWN0aW9uLGQ9ZixiPWcucmFkaXVzKX1yZXR1cm57Y2xvc2VzdDpjLGxvY2FsOmQscmFkaXVzOmJ9fTtcbkJsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlci5wcm90b3R5cGUuZ2V0U3RhcnRSYWRpdXNfPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvc2VzdENvbm5lY3Rpb25fJiZ0aGlzLmxvY2FsQ29ubmVjdGlvbl8/QmxvY2tseS5DT05ORUNUSU5HX1NOQVBfUkFESVVTOkJsb2NrbHkuU05BUF9SQURJVVN9O0Jsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlci5wcm90b3R5cGUuc2hvdWxkRGVsZXRlXz1mdW5jdGlvbihhLGIpe2E9YSYmISFhLmNsb3Nlc3QmJmIhPUJsb2NrbHkuREVMRVRFX0FSRUFfVE9PTEJPWDtyZXR1cm4hIWImJiF0aGlzLnRvcEJsb2NrXy5nZXRQYXJlbnQoKSYmdGhpcy50b3BCbG9ja18uaXNEZWxldGFibGUoKSYmIWF9O1xuQmxvY2tseS5JbnNlcnRpb25NYXJrZXJNYW5hZ2VyLnByb3RvdHlwZS5tYXliZVNob3dQcmV2aWV3Xz1mdW5jdGlvbihhKXtpZighdGhpcy53b3VsZERlbGV0ZUJsb2NrXyl7dmFyIGI9YS5jbG9zZXN0O2E9YS5sb2NhbDtiJiYoYj09dGhpcy5jbG9zZXN0Q29ubmVjdGlvbl98fGIuZ2V0U291cmNlQmxvY2soKS5pc0luc2VydGlvbk1hcmtlcigpP2NvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGNvbm5lY3QgdG8gYW4gaW5zZXJ0aW9uIG1hcmtlclwiKToodGhpcy5jbG9zZXN0Q29ubmVjdGlvbl89Yix0aGlzLmxvY2FsQ29ubmVjdGlvbl89YSx0aGlzLnNob3dQcmV2aWV3XygpKSl9fTtcbkJsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlci5wcm90b3R5cGUuc2hvd1ByZXZpZXdfPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jbG9zZXN0Q29ubmVjdGlvbl8sYj10aGlzLndvcmtzcGFjZV8uZ2V0UmVuZGVyZXIoKTtzd2l0Y2goYi5nZXRDb25uZWN0aW9uUHJldmlld01ldGhvZChhLHRoaXMubG9jYWxDb25uZWN0aW9uXyx0aGlzLnRvcEJsb2NrXykpe2Nhc2UgQmxvY2tseS5JbnNlcnRpb25NYXJrZXJNYW5hZ2VyLlBSRVZJRVdfVFlQRS5JTlBVVF9PVVRMSU5FOnRoaXMuc2hvd0luc2VydGlvbklucHV0T3V0bGluZV8oKTticmVhaztjYXNlIEJsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlci5QUkVWSUVXX1RZUEUuSU5TRVJUSU9OX01BUktFUjp0aGlzLnNob3dJbnNlcnRpb25NYXJrZXJfKCk7YnJlYWs7Y2FzZSBCbG9ja2x5Lkluc2VydGlvbk1hcmtlck1hbmFnZXIuUFJFVklFV19UWVBFLlJFUExBQ0VNRU5UX0ZBREU6dGhpcy5zaG93UmVwbGFjZW1lbnRGYWRlXygpfWEmJlxuYi5zaG91bGRIaWdobGlnaHRDb25uZWN0aW9uKGEpJiZhLmhpZ2hsaWdodCgpfTtCbG9ja2x5Lkluc2VydGlvbk1hcmtlck1hbmFnZXIucHJvdG90eXBlLm1heWJlSGlkZVByZXZpZXdfPWZ1bmN0aW9uKGEpe2lmKGEuY2xvc2VzdCl7dmFyIGI9dGhpcy5jbG9zZXN0Q29ubmVjdGlvbl8hPWEuY2xvc2VzdDthPXRoaXMubG9jYWxDb25uZWN0aW9uXyE9YS5sb2NhbDt0aGlzLmNsb3Nlc3RDb25uZWN0aW9uXyYmdGhpcy5sb2NhbENvbm5lY3Rpb25fJiYoYnx8YXx8dGhpcy53b3VsZERlbGV0ZUJsb2NrXykmJnRoaXMuaGlkZVByZXZpZXdfKCl9ZWxzZSB0aGlzLmhpZGVQcmV2aWV3XygpO3RoaXMubG9jYWxDb25uZWN0aW9uXz10aGlzLmNsb3Nlc3RDb25uZWN0aW9uXz10aGlzLm1hcmtlckNvbm5lY3Rpb25fPW51bGx9O1xuQmxvY2tseS5JbnNlcnRpb25NYXJrZXJNYW5hZ2VyLnByb3RvdHlwZS5oaWRlUHJldmlld189ZnVuY3Rpb24oKXt0aGlzLmNsb3Nlc3RDb25uZWN0aW9uXyYmdGhpcy5jbG9zZXN0Q29ubmVjdGlvbl8udGFyZ2V0QmxvY2soKSYmdGhpcy53b3Jrc3BhY2VfLmdldFJlbmRlcmVyKCkuc2hvdWxkSGlnaGxpZ2h0Q29ubmVjdGlvbih0aGlzLmNsb3Nlc3RDb25uZWN0aW9uXykmJnRoaXMuY2xvc2VzdENvbm5lY3Rpb25fLnVuaGlnaGxpZ2h0KCk7dGhpcy5mYWRlZEJsb2NrXz90aGlzLmhpZGVSZXBsYWNlbWVudEZhZGVfKCk6dGhpcy5oaWdobGlnaHRlZEJsb2NrXz90aGlzLmhpZGVJbnNlcnRpb25JbnB1dE91dGxpbmVfKCk6dGhpcy5tYXJrZXJDb25uZWN0aW9uXyYmdGhpcy5oaWRlSW5zZXJ0aW9uTWFya2VyXygpfTtcbkJsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlci5wcm90b3R5cGUuc2hvd0luc2VydGlvbk1hcmtlcl89ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxvY2FsQ29ubmVjdGlvbl8sYj10aGlzLmNsb3Nlc3RDb25uZWN0aW9uXyxjPXRoaXMubGFzdE9uU3RhY2tfJiZhPT10aGlzLmxhc3RPblN0YWNrXz90aGlzLmxhc3RNYXJrZXJfOnRoaXMuZmlyc3RNYXJrZXJfO2E9Yy5nZXRNYXRjaGluZ0Nvbm5lY3Rpb24oYS5nZXRTb3VyY2VCbG9jaygpLGEpO2lmKGE9PXRoaXMubWFya2VyQ29ubmVjdGlvbl8pdGhyb3cgRXJyb3IoXCJNYWRlIGl0IHRvIHNob3dJbnNlcnRpb25NYXJrZXJfIGV2ZW4gdGhvdWdoIHRoZSBtYXJrZXIgaXNuJ3QgY2hhbmdpbmdcIik7Yy5yZW5kZXIoKTtjLnJlbmRlcmVkPSEwO2MuZ2V0U3ZnUm9vdCgpLnNldEF0dHJpYnV0ZShcInZpc2liaWxpdHlcIixcInZpc2libGVcIik7YSYmYiYmYy5wb3NpdGlvbk5lYXJDb25uZWN0aW9uKGEsYik7YiYmYS5jb25uZWN0KGIpO3RoaXMubWFya2VyQ29ubmVjdGlvbl89XG5hfTtcbkJsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlci5wcm90b3R5cGUuaGlkZUluc2VydGlvbk1hcmtlcl89ZnVuY3Rpb24oKXtpZih0aGlzLm1hcmtlckNvbm5lY3Rpb25fKXt2YXIgYT10aGlzLm1hcmtlckNvbm5lY3Rpb25fLGI9YS5nZXRTb3VyY2VCbG9jaygpLGM9Yi5uZXh0Q29ubmVjdGlvbixkPWIucHJldmlvdXNDb25uZWN0aW9uLGU9Yi5vdXRwdXRDb25uZWN0aW9uO2U9YS50eXBlPT1CbG9ja2x5LklOUFVUX1ZBTFVFJiYhKGUmJmUudGFyZ2V0Q29ubmVjdGlvbik7IShhIT1jfHxkJiZkLnRhcmdldENvbm5lY3Rpb24pfHxlP2EudGFyZ2V0QmxvY2soKS51bnBsdWcoITEpOmEudHlwZT09QmxvY2tseS5ORVhUX1NUQVRFTUVOVCYmYSE9Yz8oYz1hLnRhcmdldENvbm5lY3Rpb24sYy5nZXRTb3VyY2VCbG9jaygpLnVucGx1ZyghMSksZD1kP2QudGFyZ2V0Q29ubmVjdGlvbjpudWxsLGIudW5wbHVnKCEwKSxkJiZkLmNvbm5lY3QoYykpOmIudW5wbHVnKCEwKTtpZihhLnRhcmdldENvbm5lY3Rpb24pdGhyb3cgRXJyb3IoXCJtYXJrZXJDb25uZWN0aW9uXyBzdGlsbCBjb25uZWN0ZWQgYXQgdGhlIGVuZCBvZiBkaXNjb25uZWN0SW5zZXJ0aW9uTWFya2VyXCIpO3RoaXMubWFya2VyQ29ubmVjdGlvbl89XG5udWxsO2IuZ2V0U3ZnUm9vdCgpLnNldEF0dHJpYnV0ZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKX1lbHNlIGNvbnNvbGUubG9nKFwiTm8gaW5zZXJ0aW9uIG1hcmtlciBjb25uZWN0aW9uIHRvIGRpc2Nvbm5lY3RcIil9O0Jsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlci5wcm90b3R5cGUuc2hvd0luc2VydGlvbklucHV0T3V0bGluZV89ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNsb3Nlc3RDb25uZWN0aW9uXzt0aGlzLmhpZ2hsaWdodGVkQmxvY2tfPWEuZ2V0U291cmNlQmxvY2soKTt0aGlzLmhpZ2hsaWdodGVkQmxvY2tfLmhpZ2hsaWdodFNoYXBlRm9ySW5wdXQoYSwhMCl9O1xuQmxvY2tseS5JbnNlcnRpb25NYXJrZXJNYW5hZ2VyLnByb3RvdHlwZS5oaWRlSW5zZXJ0aW9uSW5wdXRPdXRsaW5lXz1mdW5jdGlvbigpe3RoaXMuaGlnaGxpZ2h0ZWRCbG9ja18uaGlnaGxpZ2h0U2hhcGVGb3JJbnB1dCh0aGlzLmNsb3Nlc3RDb25uZWN0aW9uXywhMSk7dGhpcy5oaWdobGlnaHRlZEJsb2NrXz1udWxsfTtCbG9ja2x5Lkluc2VydGlvbk1hcmtlck1hbmFnZXIucHJvdG90eXBlLnNob3dSZXBsYWNlbWVudEZhZGVfPWZ1bmN0aW9uKCl7dGhpcy5mYWRlZEJsb2NrXz10aGlzLmNsb3Nlc3RDb25uZWN0aW9uXy50YXJnZXRCbG9jaygpO3RoaXMuZmFkZWRCbG9ja18uZmFkZUZvclJlcGxhY2VtZW50KCEwKX07QmxvY2tseS5JbnNlcnRpb25NYXJrZXJNYW5hZ2VyLnByb3RvdHlwZS5oaWRlUmVwbGFjZW1lbnRGYWRlXz1mdW5jdGlvbigpe3RoaXMuZmFkZWRCbG9ja18uZmFkZUZvclJlcGxhY2VtZW50KCExKTt0aGlzLmZhZGVkQmxvY2tfPW51bGx9O1xuQmxvY2tseS5JbnNlcnRpb25NYXJrZXJNYW5hZ2VyLnByb3RvdHlwZS5nZXRJbnNlcnRpb25NYXJrZXJzPWZ1bmN0aW9uKCl7dmFyIGE9W107dGhpcy5maXJzdE1hcmtlcl8mJmEucHVzaCh0aGlzLmZpcnN0TWFya2VyXyk7dGhpcy5sYXN0TWFya2VyXyYmYS5wdXNoKHRoaXMubGFzdE1hcmtlcl8pO3JldHVybiBhfTtCbG9ja2x5LkJsb2NrRHJhZ2dlcj1mdW5jdGlvbihhLGIpe3RoaXMuZHJhZ2dpbmdCbG9ja189YTt0aGlzLndvcmtzcGFjZV89Yjt0aGlzLmRyYWdnZWRDb25uZWN0aW9uTWFuYWdlcl89bmV3IEJsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlcih0aGlzLmRyYWdnaW5nQmxvY2tfKTt0aGlzLmRlbGV0ZUFyZWFfPW51bGw7dGhpcy53b3VsZERlbGV0ZUJsb2NrXz0hMTt0aGlzLnN0YXJ0WFlfPXRoaXMuZHJhZ2dpbmdCbG9ja18uZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO3RoaXMuZHJhZ0ljb25EYXRhXz1CbG9ja2x5LkJsb2NrRHJhZ2dlci5pbml0SWNvbkRhdGFfKGEpfTtCbG9ja2x5LkJsb2NrRHJhZ2dlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZHJhZ0ljb25EYXRhXy5sZW5ndGg9MDt0aGlzLmRyYWdnZWRDb25uZWN0aW9uTWFuYWdlcl8mJnRoaXMuZHJhZ2dlZENvbm5lY3Rpb25NYW5hZ2VyXy5kaXNwb3NlKCl9O1xuQmxvY2tseS5CbG9ja0RyYWdnZXIuaW5pdEljb25EYXRhXz1mdW5jdGlvbihhKXt2YXIgYj1bXTthPWEuZ2V0RGVzY2VuZGFudHMoITEpO2Zvcih2YXIgYz0wLGQ7ZD1hW2NdO2MrKyl7ZD1kLmdldEljb25zKCk7Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPXtsb2NhdGlvbjpkW2VdLmdldEljb25Mb2NhdGlvbigpLGljb246ZFtlXX07Yi5wdXNoKGYpfX1yZXR1cm4gYn07XG5CbG9ja2x5LkJsb2NrRHJhZ2dlci5wcm90b3R5cGUuc3RhcnRCbG9ja0RyYWc9ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LkV2ZW50cy5nZXRHcm91cCgpfHxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMCk7dGhpcy5maXJlRHJhZ1N0YXJ0RXZlbnRfKCk7dGhpcy53b3Jrc3BhY2VfLmlzTXV0YXRvciYmdGhpcy5kcmFnZ2luZ0Jsb2NrXy5icmluZ1RvRnJvbnQoKTtCbG9ja2x5LnV0aWxzLmRvbS5zdGFydFRleHRXaWR0aENhY2hlKCk7dGhpcy53b3Jrc3BhY2VfLnNldFJlc2l6ZXNFbmFibGVkKCExKTtCbG9ja2x5LmJsb2NrQW5pbWF0aW9ucy5kaXNjb25uZWN0VWlTdG9wKCk7aWYodGhpcy5kcmFnZ2luZ0Jsb2NrXy5nZXRQYXJlbnQoKXx8YiYmdGhpcy5kcmFnZ2luZ0Jsb2NrXy5uZXh0Q29ubmVjdGlvbiYmdGhpcy5kcmFnZ2luZ0Jsb2NrXy5uZXh0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpKXRoaXMuZHJhZ2dpbmdCbG9ja18udW5wbHVnKGIpLGE9dGhpcy5waXhlbHNUb1dvcmtzcGFjZVVuaXRzXyhhKSxcbmE9QmxvY2tseS51dGlscy5Db29yZGluYXRlLnN1bSh0aGlzLnN0YXJ0WFlfLGEpLHRoaXMuZHJhZ2dpbmdCbG9ja18udHJhbnNsYXRlKGEueCxhLnkpLEJsb2NrbHkuYmxvY2tBbmltYXRpb25zLmRpc2Nvbm5lY3RVaUVmZmVjdCh0aGlzLmRyYWdnaW5nQmxvY2tfKTt0aGlzLmRyYWdnaW5nQmxvY2tfLnNldERyYWdnaW5nKCEwKTt0aGlzLmRyYWdnaW5nQmxvY2tfLm1vdmVUb0RyYWdTdXJmYWNlKCk7aWYoYT10aGlzLndvcmtzcGFjZV8uZ2V0VG9vbGJveCgpKWI9dGhpcy5kcmFnZ2luZ0Jsb2NrXy5pc0RlbGV0YWJsZSgpP1wiYmxvY2tseVRvb2xib3hEZWxldGVcIjpcImJsb2NrbHlUb29sYm94R3JhYlwiLGEuYWRkU3R5bGUoYil9O1xuQmxvY2tseS5CbG9ja0RyYWdnZXIucHJvdG90eXBlLmZpcmVEcmFnU3RhcnRFdmVudF89ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmxvY2tseS5FdmVudHMuVWkodGhpcy5kcmFnZ2luZ0Jsb2NrXyxcImRyYWdTdGFydFwiLG51bGwsdGhpcy5kcmFnZ2luZ0Jsb2NrXy5nZXREZXNjZW5kYW50cyghMSkpO0Jsb2NrbHkuRXZlbnRzLmZpcmUoYSl9O0Jsb2NrbHkuQmxvY2tEcmFnZ2VyLnByb3RvdHlwZS5kcmFnQmxvY2s9ZnVuY3Rpb24oYSxiKXtiPXRoaXMucGl4ZWxzVG9Xb3Jrc3BhY2VVbml0c18oYik7dmFyIGM9QmxvY2tseS51dGlscy5Db29yZGluYXRlLnN1bSh0aGlzLnN0YXJ0WFlfLGIpO3RoaXMuZHJhZ2dpbmdCbG9ja18ubW92ZUR1cmluZ0RyYWcoYyk7dGhpcy5kcmFnSWNvbnNfKGIpO3RoaXMuZGVsZXRlQXJlYV89dGhpcy53b3Jrc3BhY2VfLmlzRGVsZXRlQXJlYShhKTt0aGlzLmRyYWdnZWRDb25uZWN0aW9uTWFuYWdlcl8udXBkYXRlKGIsdGhpcy5kZWxldGVBcmVhXyk7dGhpcy51cGRhdGVDdXJzb3JEdXJpbmdCbG9ja0RyYWdfKCl9O1xuQmxvY2tseS5CbG9ja0RyYWdnZXIucHJvdG90eXBlLmVuZEJsb2NrRHJhZz1mdW5jdGlvbihhLGIpe3RoaXMuZHJhZ0Jsb2NrKGEsYik7dGhpcy5kcmFnSWNvbkRhdGFfPVtdO3RoaXMuZmlyZURyYWdFbmRFdmVudF8oKTtCbG9ja2x5LnV0aWxzLmRvbS5zdG9wVGV4dFdpZHRoQ2FjaGUoKTtCbG9ja2x5LmJsb2NrQW5pbWF0aW9ucy5kaXNjb25uZWN0VWlTdG9wKCk7YT10aGlzLnBpeGVsc1RvV29ya3NwYWNlVW5pdHNfKGIpO2I9QmxvY2tseS51dGlscy5Db29yZGluYXRlLnN1bSh0aGlzLnN0YXJ0WFlfLGEpO3RoaXMuZHJhZ2dpbmdCbG9ja18ubW92ZU9mZkRyYWdTdXJmYWNlKGIpO3RoaXMubWF5YmVEZWxldGVCbG9ja18oKXx8KHRoaXMuZHJhZ2dpbmdCbG9ja18ubW92ZUNvbm5lY3Rpb25zKGEueCxhLnkpLHRoaXMuZHJhZ2dpbmdCbG9ja18uc2V0RHJhZ2dpbmcoITEpLHRoaXMuZmlyZU1vdmVFdmVudF8oKSx0aGlzLmRyYWdnZWRDb25uZWN0aW9uTWFuYWdlcl8ud291bGRDb25uZWN0QmxvY2soKT9cbnRoaXMuZHJhZ2dlZENvbm5lY3Rpb25NYW5hZ2VyXy5hcHBseUNvbm5lY3Rpb25zKCk6dGhpcy5kcmFnZ2luZ0Jsb2NrXy5yZW5kZXIoKSx0aGlzLmRyYWdnaW5nQmxvY2tfLnNjaGVkdWxlU25hcEFuZEJ1bXAoKSk7dGhpcy53b3Jrc3BhY2VfLnNldFJlc2l6ZXNFbmFibGVkKCEwKTtpZihhPXRoaXMud29ya3NwYWNlXy5nZXRUb29sYm94KCkpYj10aGlzLmRyYWdnaW5nQmxvY2tfLmlzRGVsZXRhYmxlKCk/XCJibG9ja2x5VG9vbGJveERlbGV0ZVwiOlwiYmxvY2tseVRvb2xib3hHcmFiXCIsYS5yZW1vdmVTdHlsZShiKTtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSl9O0Jsb2NrbHkuQmxvY2tEcmFnZ2VyLnByb3RvdHlwZS5maXJlRHJhZ0VuZEV2ZW50Xz1mdW5jdGlvbigpe3ZhciBhPW5ldyBCbG9ja2x5LkV2ZW50cy5VaSh0aGlzLmRyYWdnaW5nQmxvY2tfLFwiZHJhZ1N0b3BcIix0aGlzLmRyYWdnaW5nQmxvY2tfLmdldERlc2NlbmRhbnRzKCExKSxudWxsKTtCbG9ja2x5LkV2ZW50cy5maXJlKGEpfTtcbkJsb2NrbHkuQmxvY2tEcmFnZ2VyLnByb3RvdHlwZS5maXJlTW92ZUV2ZW50Xz1mdW5jdGlvbigpe3ZhciBhPW5ldyBCbG9ja2x5LkV2ZW50cy5CbG9ja01vdmUodGhpcy5kcmFnZ2luZ0Jsb2NrXyk7YS5vbGRDb29yZGluYXRlPXRoaXMuc3RhcnRYWV87YS5yZWNvcmROZXcoKTtCbG9ja2x5LkV2ZW50cy5maXJlKGEpfTtCbG9ja2x5LkJsb2NrRHJhZ2dlci5wcm90b3R5cGUubWF5YmVEZWxldGVCbG9ja189ZnVuY3Rpb24oKXt2YXIgYT10aGlzLndvcmtzcGFjZV8udHJhc2hjYW47dGhpcy53b3VsZERlbGV0ZUJsb2NrXz8oYSYmc2V0VGltZW91dChhLmNsb3NlLmJpbmQoYSksMTAwKSx0aGlzLmZpcmVNb3ZlRXZlbnRfKCksdGhpcy5kcmFnZ2luZ0Jsb2NrXy5kaXNwb3NlKCExLCEwKSxCbG9ja2x5LmRyYWdnaW5nQ29ubmVjdGlvbnM9W10pOmEmJmEuY2xvc2UoKTtyZXR1cm4gdGhpcy53b3VsZERlbGV0ZUJsb2NrX307XG5CbG9ja2x5LkJsb2NrRHJhZ2dlci5wcm90b3R5cGUudXBkYXRlQ3Vyc29yRHVyaW5nQmxvY2tEcmFnXz1mdW5jdGlvbigpe3RoaXMud291bGREZWxldGVCbG9ja189dGhpcy5kcmFnZ2VkQ29ubmVjdGlvbk1hbmFnZXJfLndvdWxkRGVsZXRlQmxvY2soKTt2YXIgYT10aGlzLndvcmtzcGFjZV8udHJhc2hjYW47dGhpcy53b3VsZERlbGV0ZUJsb2NrXz8odGhpcy5kcmFnZ2luZ0Jsb2NrXy5zZXREZWxldGVTdHlsZSghMCksdGhpcy5kZWxldGVBcmVhXz09QmxvY2tseS5ERUxFVEVfQVJFQV9UUkFTSCYmYSYmYS5zZXRPcGVuKCEwKSk6KHRoaXMuZHJhZ2dpbmdCbG9ja18uc2V0RGVsZXRlU3R5bGUoITEpLGEmJmEuc2V0T3BlbighMSkpfTtcbkJsb2NrbHkuQmxvY2tEcmFnZ2VyLnByb3RvdHlwZS5waXhlbHNUb1dvcmtzcGFjZVVuaXRzXz1mdW5jdGlvbihhKXthPW5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoYS54L3RoaXMud29ya3NwYWNlXy5zY2FsZSxhLnkvdGhpcy53b3Jrc3BhY2VfLnNjYWxlKTt0aGlzLndvcmtzcGFjZV8uaXNNdXRhdG9yJiZhLnNjYWxlKDEvdGhpcy53b3Jrc3BhY2VfLm9wdGlvbnMucGFyZW50V29ya3NwYWNlLnNjYWxlKTtyZXR1cm4gYX07QmxvY2tseS5CbG9ja0RyYWdnZXIucHJvdG90eXBlLmRyYWdJY29uc189ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7Yjx0aGlzLmRyYWdJY29uRGF0YV8ubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5kcmFnSWNvbkRhdGFfW2JdO2MuaWNvbi5zZXRJY29uTG9jYXRpb24oQmxvY2tseS51dGlscy5Db29yZGluYXRlLnN1bShjLmxvY2F0aW9uLGEpKX19O1xuQmxvY2tseS5CbG9ja0RyYWdnZXIucHJvdG90eXBlLmdldEluc2VydGlvbk1hcmtlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmFnZ2VkQ29ubmVjdGlvbk1hbmFnZXJfJiZ0aGlzLmRyYWdnZWRDb25uZWN0aW9uTWFuYWdlcl8uZ2V0SW5zZXJ0aW9uTWFya2Vycz90aGlzLmRyYWdnZWRDb25uZWN0aW9uTWFuYWdlcl8uZ2V0SW5zZXJ0aW9uTWFya2VycygpOltdfTtCbG9ja2x5LlZhcmlhYmxlTWFwPWZ1bmN0aW9uKGEpe3RoaXMudmFyaWFibGVNYXBfPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy53b3Jrc3BhY2U9YX07QmxvY2tseS5WYXJpYWJsZU1hcC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnZhcmlhYmxlTWFwXz1PYmplY3QuY3JlYXRlKG51bGwpfTtCbG9ja2x5LlZhcmlhYmxlTWFwLnByb3RvdHlwZS5yZW5hbWVWYXJpYWJsZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0VmFyaWFibGUoYixhLnR5cGUpLGQ9dGhpcy53b3Jrc3BhY2UuZ2V0QWxsQmxvY2tzKCExKTtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMCk7dHJ5e2MmJmMuZ2V0SWQoKSE9YS5nZXRJZCgpP3RoaXMucmVuYW1lVmFyaWFibGVXaXRoQ29uZmxpY3RfKGEsYixjLGQpOnRoaXMucmVuYW1lVmFyaWFibGVBbmRVc2VzXyhhLGIsZCl9ZmluYWxseXtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSl9fTtcbkJsb2NrbHkuVmFyaWFibGVNYXAucHJvdG90eXBlLnJlbmFtZVZhcmlhYmxlQnlJZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0VmFyaWFibGVCeUlkKGEpO2lmKCFjKXRocm93IEVycm9yKFwiVHJpZWQgdG8gcmVuYW1lIGEgdmFyaWFibGUgdGhhdCBkaWRuJ3QgZXhpc3QuIElEOiBcIithKTt0aGlzLnJlbmFtZVZhcmlhYmxlKGMsYil9O0Jsb2NrbHkuVmFyaWFibGVNYXAucHJvdG90eXBlLnJlbmFtZVZhcmlhYmxlQW5kVXNlc189ZnVuY3Rpb24oYSxiLGMpe0Jsb2NrbHkuRXZlbnRzLmZpcmUobmV3IEJsb2NrbHkuRXZlbnRzLlZhclJlbmFtZShhLGIpKTthLm5hbWU9Yjtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKWNbYl0udXBkYXRlVmFyTmFtZShhKX07XG5CbG9ja2x5LlZhcmlhYmxlTWFwLnByb3RvdHlwZS5yZW5hbWVWYXJpYWJsZVdpdGhDb25mbGljdF89ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS50eXBlO2IhPWMubmFtZSYmdGhpcy5yZW5hbWVWYXJpYWJsZUFuZFVzZXNfKGMsYixkKTtmb3IoYj0wO2I8ZC5sZW5ndGg7YisrKWRbYl0ucmVuYW1lVmFyQnlJZChhLmdldElkKCksYy5nZXRJZCgpKTtCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5WYXJEZWxldGUoYSkpO2E9dGhpcy5nZXRWYXJpYWJsZXNPZlR5cGUoZSkuaW5kZXhPZihhKTt0aGlzLnZhcmlhYmxlTWFwX1tlXS5zcGxpY2UoYSwxKX07XG5CbG9ja2x5LlZhcmlhYmxlTWFwLnByb3RvdHlwZS5jcmVhdGVWYXJpYWJsZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5nZXRWYXJpYWJsZShhLGIpO2lmKGQpe2lmKGMmJmQuZ2V0SWQoKSE9Yyl0aHJvdyBFcnJvcignVmFyaWFibGUgXCInK2ErJ1wiIGlzIGFscmVhZHkgaW4gdXNlIGFuZCBpdHMgaWQgaXMgXCInK2QuZ2V0SWQoKSsnXCIgd2hpY2ggY29uZmxpY3RzIHdpdGggdGhlIHBhc3NlZCBpbiBpZCwgXCInK2MrJ1wiLicpO3JldHVybiBkfWlmKGMmJnRoaXMuZ2V0VmFyaWFibGVCeUlkKGMpKXRocm93IEVycm9yKCdWYXJpYWJsZSBpZCwgXCInK2MrJ1wiLCBpcyBhbHJlYWR5IGluIHVzZS4nKTtkPWN8fEJsb2NrbHkudXRpbHMuZ2VuVWlkKCk7Yj1ifHxcIlwiO2Q9bmV3IEJsb2NrbHkuVmFyaWFibGVNb2RlbCh0aGlzLndvcmtzcGFjZSxhLGIsZCk7YT10aGlzLnZhcmlhYmxlTWFwX1tiXXx8W107YS5wdXNoKGQpO2RlbGV0ZSB0aGlzLnZhcmlhYmxlTWFwX1tiXTt0aGlzLnZhcmlhYmxlTWFwX1tiXT1cbmE7cmV0dXJuIGR9O0Jsb2NrbHkuVmFyaWFibGVNYXAucHJvdG90eXBlLmRlbGV0ZVZhcmlhYmxlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLnZhcmlhYmxlTWFwX1thLnR5cGVdLGM9MCxkO2Q9YltjXTtjKyspaWYoZC5nZXRJZCgpPT1hLmdldElkKCkpe2Iuc3BsaWNlKGMsMSk7QmxvY2tseS5FdmVudHMuZmlyZShuZXcgQmxvY2tseS5FdmVudHMuVmFyRGVsZXRlKGEpKTticmVha319O1xuQmxvY2tseS5WYXJpYWJsZU1hcC5wcm90b3R5cGUuZGVsZXRlVmFyaWFibGVCeUlkPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0VmFyaWFibGVCeUlkKGEpO2lmKGIpe3ZhciBjPWIubmFtZSxkPXRoaXMuZ2V0VmFyaWFibGVVc2VzQnlJZChhKTthPTA7Zm9yKHZhciBlO2U9ZFthXTthKyspaWYoXCJwcm9jZWR1cmVzX2RlZm5vcmV0dXJuXCI9PWUudHlwZXx8XCJwcm9jZWR1cmVzX2RlZnJldHVyblwiPT1lLnR5cGUpe2E9ZS5nZXRGaWVsZFZhbHVlKFwiTkFNRVwiKTtjPUJsb2NrbHkuTXNnLkNBTk5PVF9ERUxFVEVfVkFSSUFCTEVfUFJPQ0VEVVJFLnJlcGxhY2UoXCIlMVwiLGMpLnJlcGxhY2UoXCIlMlwiLGEpO0Jsb2NrbHkuYWxlcnQoYyk7cmV0dXJufXZhciBmPXRoaXM7MTxkLmxlbmd0aD8oYz1CbG9ja2x5Lk1zZy5ERUxFVEVfVkFSSUFCTEVfQ09ORklSTUFUSU9OLnJlcGxhY2UoXCIlMVwiLFN0cmluZyhkLmxlbmd0aCkpLnJlcGxhY2UoXCIlMlwiLGMpLEJsb2NrbHkuY29uZmlybShjLGZ1bmN0aW9uKGEpe2EmJlxuYiYmZi5kZWxldGVWYXJpYWJsZUludGVybmFsKGIsZCl9KSk6Zi5kZWxldGVWYXJpYWJsZUludGVybmFsKGIsZCl9ZWxzZSBjb25zb2xlLndhcm4oXCJDYW4ndCBkZWxldGUgbm9uLWV4aXN0ZW50IHZhcmlhYmxlOiBcIithKX07QmxvY2tseS5WYXJpYWJsZU1hcC5wcm90b3R5cGUuZGVsZXRlVmFyaWFibGVJbnRlcm5hbD1mdW5jdGlvbihhLGIpe3ZhciBjPUJsb2NrbHkuRXZlbnRzLmdldEdyb3VwKCk7Y3x8QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITApO3RyeXtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyliW2RdLmRpc3Bvc2UoITApO3RoaXMuZGVsZXRlVmFyaWFibGUoYSl9ZmluYWxseXtjfHxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSl9fTtcbkJsb2NrbHkuVmFyaWFibGVNYXAucHJvdG90eXBlLmdldFZhcmlhYmxlPWZ1bmN0aW9uKGEsYil7aWYoYj10aGlzLnZhcmlhYmxlTWFwX1tifHxcIlwiXSlmb3IodmFyIGM9MCxkO2Q9YltjXTtjKyspaWYoQmxvY2tseS5OYW1lcy5lcXVhbHMoZC5uYW1lLGEpKXJldHVybiBkO3JldHVybiBudWxsfTtCbG9ja2x5LlZhcmlhYmxlTWFwLnByb3RvdHlwZS5nZXRWYXJpYWJsZUJ5SWQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU9iamVjdC5rZXlzKHRoaXMudmFyaWFibGVNYXBfKSxjPTA7YzxiLmxlbmd0aDtjKyspZm9yKHZhciBkPWJbY10sZT0wLGY7Zj10aGlzLnZhcmlhYmxlTWFwX1tkXVtlXTtlKyspaWYoZi5nZXRJZCgpPT1hKXJldHVybiBmO3JldHVybiBudWxsfTtCbG9ja2x5LlZhcmlhYmxlTWFwLnByb3RvdHlwZS5nZXRWYXJpYWJsZXNPZlR5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy52YXJpYWJsZU1hcF9bYXx8XCJcIl0pP2Euc2xpY2UoKTpbXX07XG5CbG9ja2x5LlZhcmlhYmxlTWFwLnByb3RvdHlwZS5nZXRWYXJpYWJsZVR5cGVzPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O0Jsb2NrbHkudXRpbHMub2JqZWN0Lm1peGluKGIsdGhpcy52YXJpYWJsZU1hcF8pO2EmJmEuZ2V0UG90ZW50aWFsVmFyaWFibGVNYXAoKSYmQmxvY2tseS51dGlscy5vYmplY3QubWl4aW4oYixhLmdldFBvdGVudGlhbFZhcmlhYmxlTWFwKCkudmFyaWFibGVNYXBfKTthPU9iamVjdC5rZXlzKGIpO2I9ITE7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspXCJcIj09YVtjXSYmKGI9ITApO2J8fGEucHVzaChcIlwiKTtyZXR1cm4gYX07QmxvY2tseS5WYXJpYWJsZU1hcC5wcm90b3R5cGUuZ2V0QWxsVmFyaWFibGVzPWZ1bmN0aW9uKCl7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLnZhcmlhYmxlTWFwXylhPWEuY29uY2F0KHRoaXMudmFyaWFibGVNYXBfW2JdKTtyZXR1cm4gYX07XG5CbG9ja2x5LlZhcmlhYmxlTWFwLnByb3RvdHlwZS5nZXRBbGxWYXJpYWJsZU5hbWVzPWZ1bmN0aW9uKCl7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLnZhcmlhYmxlTWFwXylmb3IodmFyIGM9dGhpcy52YXJpYWJsZU1hcF9bYl0sZD0wLGU7ZT1jW2RdO2QrKylhLnB1c2goZS5uYW1lKTtyZXR1cm4gYX07QmxvY2tseS5WYXJpYWJsZU1hcC5wcm90b3R5cGUuZ2V0VmFyaWFibGVVc2VzQnlJZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz10aGlzLndvcmtzcGFjZS5nZXRBbGxCbG9ja3MoITEpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXS5nZXRWYXJNb2RlbHMoKTtpZihlKWZvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0uZ2V0SWQoKT09YSYmYi5wdXNoKGNbZF0pfXJldHVybiBifTtCbG9ja2x5LldvcmtzcGFjZT1mdW5jdGlvbihhKXt0aGlzLmlkPUJsb2NrbHkudXRpbHMuZ2VuVWlkKCk7QmxvY2tseS5Xb3Jrc3BhY2UuV29ya3NwYWNlREJfW3RoaXMuaWRdPXRoaXM7dGhpcy5vcHRpb25zPWF8fG5ldyBCbG9ja2x5Lk9wdGlvbnMoe30pO3RoaXMuUlRMPSEhdGhpcy5vcHRpb25zLlJUTDt0aGlzLmhvcml6b250YWxMYXlvdXQ9ISF0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbExheW91dDt0aGlzLnRvb2xib3hQb3NpdGlvbj10aGlzLm9wdGlvbnMudG9vbGJveFBvc2l0aW9uO3RoaXMudG9wQmxvY2tzXz1bXTt0aGlzLnRvcENvbW1lbnRzXz1bXTt0aGlzLmNvbW1lbnREQl89T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLmxpc3RlbmVyc189W107dGhpcy51bmRvU3RhY2tfPVtdO3RoaXMucmVkb1N0YWNrXz1bXTt0aGlzLmJsb2NrREJfPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy50eXBlZEJsb2Nrc0RCXz1PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMudmFyaWFibGVNYXBfPVxubmV3IEJsb2NrbHkuVmFyaWFibGVNYXAodGhpcyk7dGhpcy5wb3RlbnRpYWxWYXJpYWJsZU1hcF89bnVsbH07QmxvY2tseS5Xb3Jrc3BhY2UucHJvdG90eXBlLnJlbmRlcmVkPSExO0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5pc0NsZWFyaW5nPSExO0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5NQVhfVU5ETz0xMDI0O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5jb25uZWN0aW9uREJMaXN0PW51bGw7QmxvY2tseS5Xb3Jrc3BhY2UucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmxpc3RlbmVyc18ubGVuZ3RoPTA7dGhpcy5jbGVhcigpO2RlbGV0ZSBCbG9ja2x5LldvcmtzcGFjZS5Xb3Jrc3BhY2VEQl9bdGhpcy5pZF19O0Jsb2NrbHkuV29ya3NwYWNlLlNDQU5fQU5HTEU9MztcbkJsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5zb3J0T2JqZWN0c189ZnVuY3Rpb24oYSxiKXthPWEuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2I9Yi5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7cmV0dXJuIGEueStCbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuc29ydE9iamVjdHNfLm9mZnNldCphLngtKGIueStCbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuc29ydE9iamVjdHNfLm9mZnNldCpiLngpfTtCbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuYWRkVG9wQmxvY2s9ZnVuY3Rpb24oYSl7dGhpcy50b3BCbG9ja3NfLnB1c2goYSl9O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5yZW1vdmVUb3BCbG9jaz1mdW5jdGlvbihhKXtpZighQmxvY2tseS51dGlscy5hcnJheVJlbW92ZSh0aGlzLnRvcEJsb2Nrc18sYSkpdGhyb3cgRXJyb3IoXCJCbG9jayBub3QgcHJlc2VudCBpbiB3b3Jrc3BhY2UncyBsaXN0IG9mIHRvcC1tb3N0IGJsb2Nrcy5cIik7fTtcbkJsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5nZXRUb3BCbG9ja3M9ZnVuY3Rpb24oYSl7dmFyIGI9W10uY29uY2F0KHRoaXMudG9wQmxvY2tzXyk7YSYmMTxiLmxlbmd0aCYmKHRoaXMuc29ydE9iamVjdHNfLm9mZnNldD1NYXRoLnNpbihCbG9ja2x5LnV0aWxzLm1hdGgudG9SYWRpYW5zKEJsb2NrbHkuV29ya3NwYWNlLlNDQU5fQU5HTEUpKSx0aGlzLlJUTCYmKHRoaXMuc29ydE9iamVjdHNfLm9mZnNldCo9LTEpLGIuc29ydCh0aGlzLnNvcnRPYmplY3RzXykpO3JldHVybiBifTtCbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuYWRkVHlwZWRCbG9jaz1mdW5jdGlvbihhKXt0aGlzLnR5cGVkQmxvY2tzREJfW2EudHlwZV18fCh0aGlzLnR5cGVkQmxvY2tzREJfW2EudHlwZV09W10pO3RoaXMudHlwZWRCbG9ja3NEQl9bYS50eXBlXS5wdXNoKGEpfTtcbkJsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5yZW1vdmVUeXBlZEJsb2NrPWZ1bmN0aW9uKGEpe3RoaXMudHlwZWRCbG9ja3NEQl9bYS50eXBlXS5zcGxpY2UodGhpcy50eXBlZEJsb2Nrc0RCX1thLnR5cGVdLmluZGV4T2YoYSksMSk7dGhpcy50eXBlZEJsb2Nrc0RCX1thLnR5cGVdLmxlbmd0aHx8ZGVsZXRlIHRoaXMudHlwZWRCbG9ja3NEQl9bYS50eXBlXX07XG5CbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuZ2V0QmxvY2tzQnlUeXBlPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMudHlwZWRCbG9ja3NEQl9bYV0pcmV0dXJuW107YT10aGlzLnR5cGVkQmxvY2tzREJfW2FdLnNsaWNlKDApO2ImJjE8YS5sZW5ndGgmJih0aGlzLnNvcnRPYmplY3RzXy5vZmZzZXQ9TWF0aC5zaW4oQmxvY2tseS51dGlscy5tYXRoLnRvUmFkaWFucyhCbG9ja2x5LldvcmtzcGFjZS5TQ0FOX0FOR0xFKSksdGhpcy5SVEwmJih0aGlzLnNvcnRPYmplY3RzXy5vZmZzZXQqPS0xKSxhLnNvcnQodGhpcy5zb3J0T2JqZWN0c18pKTtyZXR1cm4gYX07XG5CbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuYWRkVG9wQ29tbWVudD1mdW5jdGlvbihhKXt0aGlzLnRvcENvbW1lbnRzXy5wdXNoKGEpO3RoaXMuY29tbWVudERCX1thLmlkXSYmY29uc29sZS53YXJuKCdPdmVycmlkaW5nIGFuIGV4aXN0aW5nIGNvbW1lbnQgb24gdGhpcyB3b3Jrc3BhY2UsIHdpdGggaWQgXCInK2EuaWQrJ1wiJyk7dGhpcy5jb21tZW50REJfW2EuaWRdPWF9O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5yZW1vdmVUb3BDb21tZW50PWZ1bmN0aW9uKGEpe2lmKCFCbG9ja2x5LnV0aWxzLmFycmF5UmVtb3ZlKHRoaXMudG9wQ29tbWVudHNfLGEpKXRocm93IEVycm9yKFwiQ29tbWVudCBub3QgcHJlc2VudCBpbiB3b3Jrc3BhY2UncyBsaXN0IG9mIHRvcC1tb3N0IGNvbW1lbnRzLlwiKTtkZWxldGUgdGhpcy5jb21tZW50REJfW2EuaWRdfTtcbkJsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5nZXRUb3BDb21tZW50cz1mdW5jdGlvbihhKXt2YXIgYj1bXS5jb25jYXQodGhpcy50b3BDb21tZW50c18pO2EmJjE8Yi5sZW5ndGgmJih0aGlzLnNvcnRPYmplY3RzXy5vZmZzZXQ9TWF0aC5zaW4oQmxvY2tseS51dGlscy5tYXRoLnRvUmFkaWFucyhCbG9ja2x5LldvcmtzcGFjZS5TQ0FOX0FOR0xFKSksdGhpcy5SVEwmJih0aGlzLnNvcnRPYmplY3RzXy5vZmZzZXQqPS0xKSxiLnNvcnQodGhpcy5zb3J0T2JqZWN0c18pKTtyZXR1cm4gYn07XG5CbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuZ2V0QWxsQmxvY2tzPWZ1bmN0aW9uKGEpe2lmKGEpe2E9dGhpcy5nZXRUb3BCbG9ja3MoITApO2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspYi5wdXNoLmFwcGx5KGIsYVtjXS5nZXREZXNjZW5kYW50cyghMCkpfWVsc2UgZm9yKGI9dGhpcy5nZXRUb3BCbG9ja3MoITEpLGM9MDtjPGIubGVuZ3RoO2MrKyliLnB1c2guYXBwbHkoYixiW2NdLmdldENoaWxkcmVuKCExKSk7cmV0dXJuIGIuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiFhLmlzSW5zZXJ0aW9uTWFya2VyKCl9KX07XG5CbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmlzQ2xlYXJpbmc9ITA7dHJ5e3ZhciBhPUJsb2NrbHkuRXZlbnRzLmdldEdyb3VwKCk7Zm9yKGF8fEJsb2NrbHkuRXZlbnRzLnNldEdyb3VwKCEwKTt0aGlzLnRvcEJsb2Nrc18ubGVuZ3RoOyl0aGlzLnRvcEJsb2Nrc19bMF0uZGlzcG9zZSghMSk7Zm9yKDt0aGlzLnRvcENvbW1lbnRzXy5sZW5ndGg7KXRoaXMudG9wQ29tbWVudHNfW3RoaXMudG9wQ29tbWVudHNfLmxlbmd0aC0xXS5kaXNwb3NlKCExKTthfHxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSk7dGhpcy52YXJpYWJsZU1hcF8uY2xlYXIoKTt0aGlzLnBvdGVudGlhbFZhcmlhYmxlTWFwXyYmdGhpcy5wb3RlbnRpYWxWYXJpYWJsZU1hcF8uY2xlYXIoKX1maW5hbGx5e3RoaXMuaXNDbGVhcmluZz0hMX19O1xuQmxvY2tseS5Xb3Jrc3BhY2UucHJvdG90eXBlLnJlbmFtZVZhcmlhYmxlQnlJZD1mdW5jdGlvbihhLGIpe3RoaXMudmFyaWFibGVNYXBfLnJlbmFtZVZhcmlhYmxlQnlJZChhLGIpfTtCbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuY3JlYXRlVmFyaWFibGU9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLnZhcmlhYmxlTWFwXy5jcmVhdGVWYXJpYWJsZShhLGIsYyl9O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5nZXRWYXJpYWJsZVVzZXNCeUlkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnZhcmlhYmxlTWFwXy5nZXRWYXJpYWJsZVVzZXNCeUlkKGEpfTtCbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuZGVsZXRlVmFyaWFibGVCeUlkPWZ1bmN0aW9uKGEpe3RoaXMudmFyaWFibGVNYXBfLmRlbGV0ZVZhcmlhYmxlQnlJZChhKX07XG5CbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuZGVsZXRlVmFyaWFibGVJbnRlcm5hbF89ZnVuY3Rpb24oYSxiKXt0aGlzLnZhcmlhYmxlTWFwXy5kZWxldGVWYXJpYWJsZUludGVybmFsKGEsYil9O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS52YXJpYWJsZUluZGV4T2Y9ZnVuY3Rpb24oYSl7Y29uc29sZS53YXJuKFwiRGVwcmVjYXRlZCBjYWxsIHRvIEJsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS52YXJpYWJsZUluZGV4T2ZcIik7cmV0dXJuLTF9O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5nZXRWYXJpYWJsZT1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnZhcmlhYmxlTWFwXy5nZXRWYXJpYWJsZShhLGIpfTtCbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuZ2V0VmFyaWFibGVCeUlkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnZhcmlhYmxlTWFwXy5nZXRWYXJpYWJsZUJ5SWQoYSl9O1xuQmxvY2tseS5Xb3Jrc3BhY2UucHJvdG90eXBlLmdldFZhcmlhYmxlc09mVHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52YXJpYWJsZU1hcF8uZ2V0VmFyaWFibGVzT2ZUeXBlKGEpfTtCbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuZ2V0VmFyaWFibGVUeXBlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhcmlhYmxlTWFwXy5nZXRWYXJpYWJsZVR5cGVzKHRoaXMpfTtCbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuZ2V0QWxsVmFyaWFibGVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFyaWFibGVNYXBfLmdldEFsbFZhcmlhYmxlcygpfTtCbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuZ2V0QWxsVmFyaWFibGVOYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhcmlhYmxlTWFwXy5nZXRBbGxWYXJpYWJsZU5hbWVzKCl9O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiAwfTtcbkJsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5uZXdCbG9jaz1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgQmxvY2tseS5CbG9jayh0aGlzLGEsYil9O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5yZW1haW5pbmdDYXBhY2l0eT1mdW5jdGlvbigpe3JldHVybiBpc05hTih0aGlzLm9wdGlvbnMubWF4QmxvY2tzKT9JbmZpbml0eTp0aGlzLm9wdGlvbnMubWF4QmxvY2tzLXRoaXMuZ2V0QWxsQmxvY2tzKCExKS5sZW5ndGh9O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5yZW1haW5pbmdDYXBhY2l0eU9mVHlwZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1heEluc3RhbmNlcz8odGhpcy5vcHRpb25zLm1heEluc3RhbmNlc1thXXx8SW5maW5pdHkpLXRoaXMuZ2V0QmxvY2tzQnlUeXBlKGEsITEpLmxlbmd0aDpJbmZpbml0eX07XG5CbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuaXNDYXBhY2l0eUF2YWlsYWJsZT1mdW5jdGlvbihhKXtpZighdGhpcy5oYXNCbG9ja0xpbWl0cygpKXJldHVybiEwO3ZhciBiPTAsYztmb3IoYyBpbiBhKXtpZihhW2NdPnRoaXMucmVtYWluaW5nQ2FwYWNpdHlPZlR5cGUoYykpcmV0dXJuITE7Yis9YVtjXX1yZXR1cm4gYj50aGlzLnJlbWFpbmluZ0NhcGFjaXR5KCk/ITE6ITB9O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5oYXNCbG9ja0xpbWl0cz1mdW5jdGlvbigpe3JldHVybiBJbmZpbml0eSE9dGhpcy5vcHRpb25zLm1heEJsb2Nrc3x8ISF0aGlzLm9wdGlvbnMubWF4SW5zdGFuY2VzfTtcbkJsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS51bmRvPWZ1bmN0aW9uKGEpe3ZhciBiPWE/dGhpcy5yZWRvU3RhY2tfOnRoaXMudW5kb1N0YWNrXyxjPWE/dGhpcy51bmRvU3RhY2tfOnRoaXMucmVkb1N0YWNrXyxkPWIucG9wKCk7aWYoZCl7Zm9yKHZhciBlPVtkXTtiLmxlbmd0aCYmZC5ncm91cCYmZC5ncm91cD09YltiLmxlbmd0aC0xXS5ncm91cDspZS5wdXNoKGIucG9wKCkpO2ZvcihiPTA7ZD1lW2JdO2IrKyljLnB1c2goZCk7ZT1CbG9ja2x5LkV2ZW50cy5maWx0ZXIoZSxhKTtCbG9ja2x5LkV2ZW50cy5yZWNvcmRVbmRvPSExO3RyeXtmb3IoYj0wO2Q9ZVtiXTtiKyspZC5ydW4oYSl9ZmluYWxseXtCbG9ja2x5LkV2ZW50cy5yZWNvcmRVbmRvPSEwfX19O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5jbGVhclVuZG89ZnVuY3Rpb24oKXt0aGlzLnVuZG9TdGFja18ubGVuZ3RoPTA7dGhpcy5yZWRvU3RhY2tfLmxlbmd0aD0wO0Jsb2NrbHkuRXZlbnRzLmNsZWFyUGVuZGluZ1VuZG8oKX07XG5CbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuYWRkQ2hhbmdlTGlzdGVuZXI9ZnVuY3Rpb24oYSl7dGhpcy5saXN0ZW5lcnNfLnB1c2goYSk7cmV0dXJuIGF9O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5yZW1vdmVDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbihhKXtCbG9ja2x5LnV0aWxzLmFycmF5UmVtb3ZlKHRoaXMubGlzdGVuZXJzXyxhKX07QmxvY2tseS5Xb3Jrc3BhY2UucHJvdG90eXBlLmZpcmVDaGFuZ2VMaXN0ZW5lcj1mdW5jdGlvbihhKXtpZihhLnJlY29yZFVuZG8pZm9yKHRoaXMudW5kb1N0YWNrXy5wdXNoKGEpLHRoaXMucmVkb1N0YWNrXy5sZW5ndGg9MDt0aGlzLnVuZG9TdGFja18ubGVuZ3RoPnRoaXMuTUFYX1VORE8mJjA8PXRoaXMuTUFYX1VORE87KXRoaXMudW5kb1N0YWNrXy5zaGlmdCgpO2Zvcih2YXIgYj0wLGM7Yz10aGlzLmxpc3RlbmVyc19bYl07YisrKWMoYSl9O1xuQmxvY2tseS5Xb3Jrc3BhY2UucHJvdG90eXBlLmdldEJsb2NrQnlJZD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ibG9ja0RCX1thXXx8bnVsbH07QmxvY2tseS5Xb3Jrc3BhY2UucHJvdG90eXBlLnNldEJsb2NrQnlJZD1mdW5jdGlvbihhLGIpe3RoaXMuYmxvY2tEQl9bYV09Yn07QmxvY2tseS5Xb3Jrc3BhY2UucHJvdG90eXBlLnJlbW92ZUJsb2NrQnlJZD1mdW5jdGlvbihhKXtkZWxldGUgdGhpcy5ibG9ja0RCX1thXX07QmxvY2tseS5Xb3Jrc3BhY2UucHJvdG90eXBlLmdldENvbW1lbnRCeUlkPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbW1lbnREQl9bYV18fG51bGx9O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5hbGxJbnB1dHNGaWxsZWQ9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuZ2V0VG9wQmxvY2tzKCExKSxjPTAsZDtkPWJbY107YysrKWlmKCFkLmFsbElucHV0c0ZpbGxlZChhKSlyZXR1cm4hMTtyZXR1cm4hMH07XG5CbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuZ2V0UG90ZW50aWFsVmFyaWFibGVNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wb3RlbnRpYWxWYXJpYWJsZU1hcF99O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5jcmVhdGVQb3RlbnRpYWxWYXJpYWJsZU1hcD1mdW5jdGlvbigpe3RoaXMucG90ZW50aWFsVmFyaWFibGVNYXBfPW5ldyBCbG9ja2x5LlZhcmlhYmxlTWFwKHRoaXMpfTtCbG9ja2x5LldvcmtzcGFjZS5wcm90b3R5cGUuZ2V0VmFyaWFibGVNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YXJpYWJsZU1hcF99O0Jsb2NrbHkuV29ya3NwYWNlLnByb3RvdHlwZS5zZXRWYXJpYWJsZU1hcD1mdW5jdGlvbihhKXt0aGlzLnZhcmlhYmxlTWFwXz1hfTtCbG9ja2x5LldvcmtzcGFjZS5Xb3Jrc3BhY2VEQl89T2JqZWN0LmNyZWF0ZShudWxsKTtcbkJsb2NrbHkuV29ya3NwYWNlLmdldEJ5SWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEJsb2NrbHkuV29ya3NwYWNlLldvcmtzcGFjZURCX1thXXx8bnVsbH07QmxvY2tseS5Xb3Jrc3BhY2UuZ2V0QWxsPWZ1bmN0aW9uKCl7dmFyIGE9W10sYjtmb3IoYiBpbiBCbG9ja2x5LldvcmtzcGFjZS5Xb3Jrc3BhY2VEQl8pYS5wdXNoKEJsb2NrbHkuV29ya3NwYWNlLldvcmtzcGFjZURCX1tiXSk7cmV0dXJuIGF9O0Jsb2NrbHkuQnViYmxlPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLndvcmtzcGFjZV89YTt0aGlzLmNvbnRlbnRfPWI7dGhpcy5zaGFwZV89Yzt0aGlzLm9uTW91c2VEb3duUmVzaXplV3JhcHBlcl89dGhpcy5vbk1vdXNlRG93bkJ1YmJsZVdyYXBwZXJfPXRoaXMubW92ZUNhbGxiYWNrXz10aGlzLnJlc2l6ZUNhbGxiYWNrXz1udWxsO3RoaXMuZGlzcG9zZWQ9ITE7Yz1CbG9ja2x5LkJ1YmJsZS5BUlJPV19BTkdMRTt0aGlzLndvcmtzcGFjZV8uUlRMJiYoYz0tYyk7dGhpcy5hcnJvd19yYWRpYW5zXz1CbG9ja2x5LnV0aWxzLm1hdGgudG9SYWRpYW5zKGMpO2EuZ2V0QnViYmxlQ2FudmFzKCkuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVEb21fKGIsISghZXx8IWYpKSk7dGhpcy5zZXRBbmNob3JMb2NhdGlvbihkKTtlJiZmfHwoYT10aGlzLmNvbnRlbnRfLmdldEJCb3goKSxlPWEud2lkdGgrMipCbG9ja2x5LkJ1YmJsZS5CT1JERVJfV0lEVEgsZj1hLmhlaWdodCsyKkJsb2NrbHkuQnViYmxlLkJPUkRFUl9XSURUSCk7XG50aGlzLnNldEJ1YmJsZVNpemUoZSxmKTt0aGlzLnBvc2l0aW9uQnViYmxlXygpO3RoaXMucmVuZGVyQXJyb3dfKCk7dGhpcy5yZW5kZXJlZF89ITB9O0Jsb2NrbHkuQnViYmxlLkJPUkRFUl9XSURUSD02O0Jsb2NrbHkuQnViYmxlLkFSUk9XX1RISUNLTkVTUz01O0Jsb2NrbHkuQnViYmxlLkFSUk9XX0FOR0xFPTIwO0Jsb2NrbHkuQnViYmxlLkFSUk9XX0JFTkQ9NDtCbG9ja2x5LkJ1YmJsZS5BTkNIT1JfUkFESVVTPTg7QmxvY2tseS5CdWJibGUub25Nb3VzZVVwV3JhcHBlcl89bnVsbDtCbG9ja2x5LkJ1YmJsZS5vbk1vdXNlTW92ZVdyYXBwZXJfPW51bGw7XG5CbG9ja2x5LkJ1YmJsZS51bmJpbmREcmFnRXZlbnRzXz1mdW5jdGlvbigpe0Jsb2NrbHkuQnViYmxlLm9uTW91c2VVcFdyYXBwZXJfJiYoQmxvY2tseS51bmJpbmRFdmVudF8oQmxvY2tseS5CdWJibGUub25Nb3VzZVVwV3JhcHBlcl8pLEJsb2NrbHkuQnViYmxlLm9uTW91c2VVcFdyYXBwZXJfPW51bGwpO0Jsb2NrbHkuQnViYmxlLm9uTW91c2VNb3ZlV3JhcHBlcl8mJihCbG9ja2x5LnVuYmluZEV2ZW50XyhCbG9ja2x5LkJ1YmJsZS5vbk1vdXNlTW92ZVdyYXBwZXJfKSxCbG9ja2x5LkJ1YmJsZS5vbk1vdXNlTW92ZVdyYXBwZXJfPW51bGwpfTtCbG9ja2x5LkJ1YmJsZS5idWJibGVNb3VzZVVwXz1mdW5jdGlvbihhKXtCbG9ja2x5LlRvdWNoLmNsZWFyVG91Y2hJZGVudGlmaWVyKCk7QmxvY2tseS5CdWJibGUudW5iaW5kRHJhZ0V2ZW50c18oKX07QmxvY2tseS5CdWJibGUucHJvdG90eXBlLnJlbmRlcmVkXz0hMTtCbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUuYW5jaG9yWFlfPW51bGw7XG5CbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUucmVsYXRpdmVMZWZ0Xz0wO0Jsb2NrbHkuQnViYmxlLnByb3RvdHlwZS5yZWxhdGl2ZVRvcF89MDtCbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUud2lkdGhfPTA7QmxvY2tseS5CdWJibGUucHJvdG90eXBlLmhlaWdodF89MDtCbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUuYXV0b0xheW91dF89ITA7XG5CbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUuY3JlYXRlRG9tXz1mdW5jdGlvbihhLGIpe3RoaXMuYnViYmxlR3JvdXBfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJnXCIse30sbnVsbCk7dmFyIGM9e2ZpbHRlcjpcInVybCgjXCIrdGhpcy53b3Jrc3BhY2VfLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCkuZW1ib3NzRmlsdGVySWQrXCIpXCJ9O0Jsb2NrbHkudXRpbHMudXNlckFnZW50LkpBVkFfRlgmJihjPXt9KTtjPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJnXCIsYyx0aGlzLmJ1YmJsZUdyb3VwXyk7dGhpcy5idWJibGVBcnJvd189QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInBhdGhcIix7fSxjKTt0aGlzLmJ1YmJsZUJhY2tfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJyZWN0XCIse1wiY2xhc3NcIjpcImJsb2NrbHlEcmFnZ2FibGVcIix4OjAseTowLHJ4OkJsb2NrbHkuQnViYmxlLkJPUkRFUl9XSURUSCxyeTpCbG9ja2x5LkJ1YmJsZS5CT1JERVJfV0lEVEh9LFxuYyk7Yj8odGhpcy5yZXNpemVHcm91cF89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImdcIix7XCJjbGFzc1wiOnRoaXMud29ya3NwYWNlXy5SVEw/XCJibG9ja2x5UmVzaXplU1dcIjpcImJsb2NrbHlSZXNpemVTRVwifSx0aGlzLmJ1YmJsZUdyb3VwXyksYj0yKkJsb2NrbHkuQnViYmxlLkJPUkRFUl9XSURUSCxCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicG9seWdvblwiLHtwb2ludHM6XCIwLHggeCx4IHgsMFwiLnJlcGxhY2UoL3gvZyxiLnRvU3RyaW5nKCkpfSx0aGlzLnJlc2l6ZUdyb3VwXyksQmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImxpbmVcIix7XCJjbGFzc1wiOlwiYmxvY2tseVJlc2l6ZUxpbmVcIix4MTpiLzMseTE6Yi0xLHgyOmItMSx5MjpiLzN9LHRoaXMucmVzaXplR3JvdXBfKSxCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwibGluZVwiLHtcImNsYXNzXCI6XCJibG9ja2x5UmVzaXplTGluZVwiLHgxOjIqYi8zLHkxOmItMSx4MjpiLVxuMSx5MjoyKmIvM30sdGhpcy5yZXNpemVHcm91cF8pKTp0aGlzLnJlc2l6ZUdyb3VwXz1udWxsO3RoaXMud29ya3NwYWNlXy5vcHRpb25zLnJlYWRPbmx5fHwodGhpcy5vbk1vdXNlRG93bkJ1YmJsZVdyYXBwZXJfPUJsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18odGhpcy5idWJibGVCYWNrXyxcIm1vdXNlZG93blwiLHRoaXMsdGhpcy5idWJibGVNb3VzZURvd25fKSx0aGlzLnJlc2l6ZUdyb3VwXyYmKHRoaXMub25Nb3VzZURvd25SZXNpemVXcmFwcGVyXz1CbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKHRoaXMucmVzaXplR3JvdXBfLFwibW91c2Vkb3duXCIsdGhpcyx0aGlzLnJlc2l6ZU1vdXNlRG93bl8pKSk7dGhpcy5idWJibGVHcm91cF8uYXBwZW5kQ2hpbGQoYSk7cmV0dXJuIHRoaXMuYnViYmxlR3JvdXBffTtCbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUuZ2V0U3ZnUm9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ1YmJsZUdyb3VwX307XG5CbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUuc2V0U3ZnSWQ9ZnVuY3Rpb24oYSl7dGhpcy5idWJibGVHcm91cF8uZGF0YXNldCYmKHRoaXMuYnViYmxlR3JvdXBfLmRhdGFzZXQuYmxvY2tJZD1hKX07QmxvY2tseS5CdWJibGUucHJvdG90eXBlLmJ1YmJsZU1vdXNlRG93bl89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy53b3Jrc3BhY2VfLmdldEdlc3R1cmUoYSk7YiYmYi5oYW5kbGVCdWJibGVTdGFydChhLHRoaXMpfTtCbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUuc2hvd0NvbnRleHRNZW51PWZ1bmN0aW9uKGEpe307QmxvY2tseS5CdWJibGUucHJvdG90eXBlLmlzRGVsZXRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITF9O1xuQmxvY2tseS5CdWJibGUucHJvdG90eXBlLnJlc2l6ZU1vdXNlRG93bl89ZnVuY3Rpb24oYSl7dGhpcy5wcm9tb3RlKCk7QmxvY2tseS5CdWJibGUudW5iaW5kRHJhZ0V2ZW50c18oKTtCbG9ja2x5LnV0aWxzLmlzUmlnaHRCdXR0b24oYSl8fCh0aGlzLndvcmtzcGFjZV8uc3RhcnREcmFnKGEsbmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZSh0aGlzLndvcmtzcGFjZV8uUlRMPy10aGlzLndpZHRoXzp0aGlzLndpZHRoXyx0aGlzLmhlaWdodF8pKSxCbG9ja2x5LkJ1YmJsZS5vbk1vdXNlVXBXcmFwcGVyXz1CbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGRvY3VtZW50LFwibW91c2V1cFwiLHRoaXMsQmxvY2tseS5CdWJibGUuYnViYmxlTW91c2VVcF8pLEJsb2NrbHkuQnViYmxlLm9uTW91c2VNb3ZlV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhkb2N1bWVudCxcIm1vdXNlbW92ZVwiLHRoaXMsdGhpcy5yZXNpemVNb3VzZU1vdmVfKSxCbG9ja2x5LmhpZGVDaGFmZigpKTtcbmEuc3RvcFByb3BhZ2F0aW9uKCl9O0Jsb2NrbHkuQnViYmxlLnByb3RvdHlwZS5yZXNpemVNb3VzZU1vdmVfPWZ1bmN0aW9uKGEpe3RoaXMuYXV0b0xheW91dF89ITE7YT10aGlzLndvcmtzcGFjZV8ubW92ZURyYWcoYSk7dGhpcy5zZXRCdWJibGVTaXplKHRoaXMud29ya3NwYWNlXy5SVEw/LWEueDphLngsYS55KTt0aGlzLndvcmtzcGFjZV8uUlRMJiZ0aGlzLnBvc2l0aW9uQnViYmxlXygpfTtCbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUucmVnaXN0ZXJSZXNpemVFdmVudD1mdW5jdGlvbihhKXt0aGlzLnJlc2l6ZUNhbGxiYWNrXz1hfTtCbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUucmVnaXN0ZXJNb3ZlRXZlbnQ9ZnVuY3Rpb24oYSl7dGhpcy5tb3ZlQ2FsbGJhY2tfPWF9O1xuQmxvY2tseS5CdWJibGUucHJvdG90eXBlLnByb21vdGU9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmJ1YmJsZUdyb3VwXy5wYXJlbnROb2RlO3JldHVybiBhLmxhc3RDaGlsZCE9PXRoaXMuYnViYmxlR3JvdXBfPyhhLmFwcGVuZENoaWxkKHRoaXMuYnViYmxlR3JvdXBfKSwhMCk6ITF9O0Jsb2NrbHkuQnViYmxlLnByb3RvdHlwZS5zZXRBbmNob3JMb2NhdGlvbj1mdW5jdGlvbihhKXt0aGlzLmFuY2hvclhZXz1hO3RoaXMucmVuZGVyZWRfJiZ0aGlzLnBvc2l0aW9uQnViYmxlXygpfTtcbkJsb2NrbHkuQnViYmxlLnByb3RvdHlwZS5sYXlvdXRCdWJibGVfPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy53b3Jrc3BhY2VfLmdldE1ldHJpY3MoKTthLnZpZXdMZWZ0Lz10aGlzLndvcmtzcGFjZV8uc2NhbGU7YS52aWV3V2lkdGgvPXRoaXMud29ya3NwYWNlXy5zY2FsZTthLnZpZXdUb3AvPXRoaXMud29ya3NwYWNlXy5zY2FsZTthLnZpZXdIZWlnaHQvPXRoaXMud29ya3NwYWNlXy5zY2FsZTt2YXIgYj10aGlzLmdldE9wdGltYWxSZWxhdGl2ZUxlZnRfKGEpLGM9dGhpcy5nZXRPcHRpbWFsUmVsYXRpdmVUb3BfKGEpLGQ9dGhpcy5zaGFwZV8uZ2V0QkJveCgpLGU9e3g6Yix5Oi10aGlzLmhlaWdodF8tdGhpcy53b3Jrc3BhY2VfLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCkuTUlOX0JMT0NLX0hFSUdIVH0sZj17eDotdGhpcy53aWR0aF8tMzAseTpjfTtjPXt4OmQud2lkdGgseTpjfTt2YXIgZz17eDpiLHk6ZC5oZWlnaHR9O2I9ZC53aWR0aDxkLmhlaWdodD9jOmc7ZD1kLndpZHRoPFxuZC5oZWlnaHQ/ZzpjO2M9dGhpcy5nZXRPdmVybGFwXyhlLGEpO2c9dGhpcy5nZXRPdmVybGFwXyhmLGEpO3ZhciBoPXRoaXMuZ2V0T3ZlcmxhcF8oYixhKTthPXRoaXMuZ2V0T3ZlcmxhcF8oZCxhKTthPU1hdGgubWF4KGMsZyxoLGEpO2M9PWE/KHRoaXMucmVsYXRpdmVMZWZ0Xz1lLngsdGhpcy5yZWxhdGl2ZVRvcF89ZS55KTpnPT1hPyh0aGlzLnJlbGF0aXZlTGVmdF89Zi54LHRoaXMucmVsYXRpdmVUb3BfPWYueSk6aD09YT8odGhpcy5yZWxhdGl2ZUxlZnRfPWIueCx0aGlzLnJlbGF0aXZlVG9wXz1iLnkpOih0aGlzLnJlbGF0aXZlTGVmdF89ZC54LHRoaXMucmVsYXRpdmVUb3BfPWQueSl9O1xuQmxvY2tseS5CdWJibGUucHJvdG90eXBlLmdldE92ZXJsYXBfPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy53b3Jrc3BhY2VfLlJUTD90aGlzLmFuY2hvclhZXy54LWEueC10aGlzLndpZHRoXzphLngrdGhpcy5hbmNob3JYWV8ueDthPWEueSt0aGlzLmFuY2hvclhZXy55O3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKDEsKE1hdGgubWluKGMrdGhpcy53aWR0aF8sYi52aWV3TGVmdCtiLnZpZXdXaWR0aCktTWF0aC5tYXgoYyxiLnZpZXdMZWZ0KSkqKE1hdGgubWluKGErdGhpcy5oZWlnaHRfLGIudmlld1RvcCtiLnZpZXdIZWlnaHQpLU1hdGgubWF4KGEsYi52aWV3VG9wKSkvKHRoaXMud2lkdGhfKnRoaXMuaGVpZ2h0XykpKX07XG5CbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUuZ2V0T3B0aW1hbFJlbGF0aXZlTGVmdF89ZnVuY3Rpb24oYSl7dmFyIGI9LXRoaXMud2lkdGhfLzQ7aWYodGhpcy53aWR0aF8+YS52aWV3V2lkdGgpcmV0dXJuIGI7aWYodGhpcy53b3Jrc3BhY2VfLlJUTCl2YXIgYz10aGlzLmFuY2hvclhZXy54LWIsZD1jLXRoaXMud2lkdGhfLGU9YS52aWV3TGVmdCthLnZpZXdXaWR0aCxmPWEudmlld0xlZnQrQmxvY2tseS5TY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzL3RoaXMud29ya3NwYWNlXy5zY2FsZTtlbHNlIGQ9Yit0aGlzLmFuY2hvclhZXy54LGM9ZCt0aGlzLndpZHRoXyxmPWEudmlld0xlZnQsZT1hLnZpZXdMZWZ0K2Eudmlld1dpZHRoLUJsb2NrbHkuU2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcy90aGlzLndvcmtzcGFjZV8uc2NhbGU7dGhpcy53b3Jrc3BhY2VfLlJUTD9kPGY/Yj0tKGYtdGhpcy5hbmNob3JYWV8ueCt0aGlzLndpZHRoXyk6Yz5lJiYoYj0tKGUtdGhpcy5hbmNob3JYWV8ueCkpOlxuZDxmP2I9Zi10aGlzLmFuY2hvclhZXy54OmM+ZSYmKGI9ZS10aGlzLmFuY2hvclhZXy54LXRoaXMud2lkdGhfKTtyZXR1cm4gYn07QmxvY2tseS5CdWJibGUucHJvdG90eXBlLmdldE9wdGltYWxSZWxhdGl2ZVRvcF89ZnVuY3Rpb24oYSl7dmFyIGI9LXRoaXMuaGVpZ2h0Xy80O2lmKHRoaXMuaGVpZ2h0Xz5hLnZpZXdIZWlnaHQpcmV0dXJuIGI7dmFyIGM9dGhpcy5hbmNob3JYWV8ueStiLGQ9Yyt0aGlzLmhlaWdodF8sZT1hLnZpZXdUb3A7YT1hLnZpZXdUb3ArYS52aWV3SGVpZ2h0LUJsb2NrbHkuU2Nyb2xsYmFyLnNjcm9sbGJhclRoaWNrbmVzcy90aGlzLndvcmtzcGFjZV8uc2NhbGU7dmFyIGY9dGhpcy5hbmNob3JYWV8ueTtjPGU/Yj1lLWY6ZD5hJiYoYj1hLWYtdGhpcy5oZWlnaHRfKTtyZXR1cm4gYn07XG5CbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUucG9zaXRpb25CdWJibGVfPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hbmNob3JYWV8ueDthPXRoaXMud29ya3NwYWNlXy5SVEw/YS0odGhpcy5yZWxhdGl2ZUxlZnRfK3RoaXMud2lkdGhfKTphK3RoaXMucmVsYXRpdmVMZWZ0Xzt0aGlzLm1vdmVUbyhhLHRoaXMucmVsYXRpdmVUb3BfK3RoaXMuYW5jaG9yWFlfLnkpfTtCbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKGEsYil7dGhpcy5idWJibGVHcm91cF8uc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoXCIrYStcIixcIitiK1wiKVwiKX07QmxvY2tseS5CdWJibGUucHJvdG90eXBlLnNldERyYWdnaW5nPWZ1bmN0aW9uKGEpeyFhJiZ0aGlzLm1vdmVDYWxsYmFja18mJnRoaXMubW92ZUNhbGxiYWNrXygpfTtcbkJsb2NrbHkuQnViYmxlLnByb3RvdHlwZS5nZXRCdWJibGVTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBCbG9ja2x5LnV0aWxzLlNpemUodGhpcy53aWR0aF8sdGhpcy5oZWlnaHRfKX07XG5CbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUuc2V0QnViYmxlU2l6ZT1mdW5jdGlvbihhLGIpe3ZhciBjPTIqQmxvY2tseS5CdWJibGUuQk9SREVSX1dJRFRIO2E9TWF0aC5tYXgoYSxjKzQ1KTtiPU1hdGgubWF4KGIsYysyMCk7dGhpcy53aWR0aF89YTt0aGlzLmhlaWdodF89Yjt0aGlzLmJ1YmJsZUJhY2tfLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYSk7dGhpcy5idWJibGVCYWNrXy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixiKTt0aGlzLnJlc2l6ZUdyb3VwXyYmKHRoaXMud29ya3NwYWNlXy5SVEw/dGhpcy5yZXNpemVHcm91cF8uc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoXCIrMipCbG9ja2x5LkJ1YmJsZS5CT1JERVJfV0lEVEgrXCIsXCIrKGItYykrXCIpIHNjYWxlKC0xIDEpXCIpOnRoaXMucmVzaXplR3JvdXBfLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiKyhhLWMpK1wiLFwiKyhiLWMpK1wiKVwiKSk7dGhpcy5hdXRvTGF5b3V0XyYmdGhpcy5sYXlvdXRCdWJibGVfKCk7XG50aGlzLnBvc2l0aW9uQnViYmxlXygpO3RoaXMucmVuZGVyQXJyb3dfKCk7dGhpcy5yZXNpemVDYWxsYmFja18mJnRoaXMucmVzaXplQ2FsbGJhY2tfKCl9O1xuQmxvY2tseS5CdWJibGUucHJvdG90eXBlLnJlbmRlckFycm93Xz1mdW5jdGlvbigpe3ZhciBhPVtdLGI9dGhpcy53aWR0aF8vMixjPXRoaXMuaGVpZ2h0Xy8yLGQ9LXRoaXMucmVsYXRpdmVMZWZ0XyxlPS10aGlzLnJlbGF0aXZlVG9wXztpZihiPT1kJiZjPT1lKWEucHVzaChcIk0gXCIrYitcIixcIitjKTtlbHNle2UtPWM7ZC09Yjt0aGlzLndvcmtzcGFjZV8uUlRMJiYoZCo9LTEpO3ZhciBmPU1hdGguc3FydChlKmUrZCpkKSxnPU1hdGguYWNvcyhkL2YpOzA+ZSYmKGc9MipNYXRoLlBJLWcpO3ZhciBoPWcrTWF0aC5QSS8yO2g+MipNYXRoLlBJJiYoaC09MipNYXRoLlBJKTt2YXIgaz1NYXRoLnNpbihoKSxsPU1hdGguY29zKGgpLG09dGhpcy5nZXRCdWJibGVTaXplKCk7aD0obS53aWR0aCttLmhlaWdodCkvQmxvY2tseS5CdWJibGUuQVJST1dfVEhJQ0tORVNTO2g9TWF0aC5taW4oaCxtLndpZHRoLG0uaGVpZ2h0KS80O209MS1CbG9ja2x5LkJ1YmJsZS5BTkNIT1JfUkFESVVTL2Y7ZD1iK1xubSpkO2U9YyttKmU7bT1iK2gqbDt2YXIgbj1jK2gqaztiLT1oKmw7Yy09aCprO2s9Zyt0aGlzLmFycm93X3JhZGlhbnNfO2s+MipNYXRoLlBJJiYoay09MipNYXRoLlBJKTtnPU1hdGguc2luKGspKmYvQmxvY2tseS5CdWJibGUuQVJST1dfQkVORDtmPU1hdGguY29zKGspKmYvQmxvY2tseS5CdWJibGUuQVJST1dfQkVORDthLnB1c2goXCJNXCIrbStcIixcIituKTthLnB1c2goXCJDXCIrKG0rZikrXCIsXCIrKG4rZykrXCIgXCIrZCtcIixcIitlK1wiIFwiK2QrXCIsXCIrZSk7YS5wdXNoKFwiQ1wiK2QrXCIsXCIrZStcIiBcIisoYitmKStcIixcIisoYytnKStcIiBcIitiK1wiLFwiK2MpfWEucHVzaChcInpcIik7dGhpcy5idWJibGVBcnJvd18uc2V0QXR0cmlidXRlKFwiZFwiLGEuam9pbihcIiBcIikpfTtCbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUuc2V0Q29sb3VyPWZ1bmN0aW9uKGEpe3RoaXMuYnViYmxlQmFja18uc2V0QXR0cmlidXRlKFwiZmlsbFwiLGEpO3RoaXMuYnViYmxlQXJyb3dfLnNldEF0dHJpYnV0ZShcImZpbGxcIixhKX07XG5CbG9ja2x5LkJ1YmJsZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMub25Nb3VzZURvd25CdWJibGVXcmFwcGVyXyYmQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5vbk1vdXNlRG93bkJ1YmJsZVdyYXBwZXJfKTt0aGlzLm9uTW91c2VEb3duUmVzaXplV3JhcHBlcl8mJkJsb2NrbHkudW5iaW5kRXZlbnRfKHRoaXMub25Nb3VzZURvd25SZXNpemVXcmFwcGVyXyk7QmxvY2tseS5CdWJibGUudW5iaW5kRHJhZ0V2ZW50c18oKTtCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVOb2RlKHRoaXMuYnViYmxlR3JvdXBfKTt0aGlzLmRpc3Bvc2VkPSEwfTtcbkJsb2NrbHkuQnViYmxlLnByb3RvdHlwZS5tb3ZlRHVyaW5nRHJhZz1mdW5jdGlvbihhLGIpe2E/YS50cmFuc2xhdGVTdXJmYWNlKGIueCxiLnkpOnRoaXMubW92ZVRvKGIueCxiLnkpO3RoaXMucmVsYXRpdmVMZWZ0Xz10aGlzLndvcmtzcGFjZV8uUlRMP3RoaXMuYW5jaG9yWFlfLngtYi54LXRoaXMud2lkdGhfOmIueC10aGlzLmFuY2hvclhZXy54O3RoaXMucmVsYXRpdmVUb3BfPWIueS10aGlzLmFuY2hvclhZXy55O3RoaXMucmVuZGVyQXJyb3dfKCl9O0Jsb2NrbHkuQnViYmxlLnByb3RvdHlwZS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUodGhpcy53b3Jrc3BhY2VfLlJUTD8tdGhpcy5yZWxhdGl2ZUxlZnRfK3RoaXMuYW5jaG9yWFlfLngtdGhpcy53aWR0aF86dGhpcy5hbmNob3JYWV8ueCt0aGlzLnJlbGF0aXZlTGVmdF8sdGhpcy5hbmNob3JYWV8ueSt0aGlzLnJlbGF0aXZlVG9wXyl9O1xuQmxvY2tseS5CdWJibGUucHJvdG90eXBlLnNldEF1dG9MYXlvdXQ9ZnVuY3Rpb24oYSl7dGhpcy5hdXRvTGF5b3V0Xz1hfTtCbG9ja2x5LkV2ZW50cy5Db21tZW50QmFzZT1mdW5jdGlvbihhKXt0aGlzLmNvbW1lbnRJZD1hLmlkO3RoaXMud29ya3NwYWNlSWQ9YS53b3Jrc3BhY2UuaWQ7dGhpcy5ncm91cD1CbG9ja2x5LkV2ZW50cy5nZXRHcm91cCgpO3RoaXMucmVjb3JkVW5kbz1CbG9ja2x5LkV2ZW50cy5yZWNvcmRVbmRvfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LkV2ZW50cy5Db21tZW50QmFzZSxCbG9ja2x5LkV2ZW50cy5BYnN0cmFjdCk7QmxvY2tseS5FdmVudHMuQ29tbWVudEJhc2UucHJvdG90eXBlLnRvSnNvbj1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkuRXZlbnRzLkNvbW1lbnRCYXNlLnN1cGVyQ2xhc3NfLnRvSnNvbi5jYWxsKHRoaXMpO3RoaXMuY29tbWVudElkJiYoYS5jb21tZW50SWQ9dGhpcy5jb21tZW50SWQpO3JldHVybiBhfTtcbkJsb2NrbHkuRXZlbnRzLkNvbW1lbnRCYXNlLnByb3RvdHlwZS5mcm9tSnNvbj1mdW5jdGlvbihhKXtCbG9ja2x5LkV2ZW50cy5Db21tZW50QmFzZS5zdXBlckNsYXNzXy5mcm9tSnNvbi5jYWxsKHRoaXMsYSk7dGhpcy5jb21tZW50SWQ9YS5jb21tZW50SWR9O0Jsb2NrbHkuRXZlbnRzLkNvbW1lbnRDaGFuZ2U9ZnVuY3Rpb24oYSxiLGMpe2EmJihCbG9ja2x5LkV2ZW50cy5Db21tZW50Q2hhbmdlLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKSx0aGlzLm9sZENvbnRlbnRzXz1iLHRoaXMubmV3Q29udGVudHNfPWMpfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LkV2ZW50cy5Db21tZW50Q2hhbmdlLEJsb2NrbHkuRXZlbnRzLkNvbW1lbnRCYXNlKTtCbG9ja2x5LkV2ZW50cy5Db21tZW50Q2hhbmdlLnByb3RvdHlwZS50eXBlPUJsb2NrbHkuRXZlbnRzLkNPTU1FTlRfQ0hBTkdFO1xuQmxvY2tseS5FdmVudHMuQ29tbWVudENoYW5nZS5wcm90b3R5cGUudG9Kc29uPWZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS5FdmVudHMuQ29tbWVudENoYW5nZS5zdXBlckNsYXNzXy50b0pzb24uY2FsbCh0aGlzKTthLm5ld0NvbnRlbnRzPXRoaXMubmV3Q29udGVudHNfO3JldHVybiBhfTtCbG9ja2x5LkV2ZW50cy5Db21tZW50Q2hhbmdlLnByb3RvdHlwZS5mcm9tSnNvbj1mdW5jdGlvbihhKXtCbG9ja2x5LkV2ZW50cy5Db21tZW50Q2hhbmdlLnN1cGVyQ2xhc3NfLmZyb21Kc29uLmNhbGwodGhpcyxhKTt0aGlzLm5ld0NvbnRlbnRzXz1hLm5ld1ZhbHVlfTtCbG9ja2x5LkV2ZW50cy5Db21tZW50Q2hhbmdlLnByb3RvdHlwZS5pc051bGw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vbGRDb250ZW50c189PXRoaXMubmV3Q29udGVudHNffTtcbkJsb2NrbHkuRXZlbnRzLkNvbW1lbnRDaGFuZ2UucHJvdG90eXBlLnJ1bj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEV2ZW50V29ya3NwYWNlXygpLmdldENvbW1lbnRCeUlkKHRoaXMuY29tbWVudElkKTtiP2Iuc2V0Q29udGVudChhP3RoaXMubmV3Q29udGVudHNfOnRoaXMub2xkQ29udGVudHNfKTpjb25zb2xlLndhcm4oXCJDYW4ndCBjaGFuZ2Ugbm9uLWV4aXN0ZW50IGNvbW1lbnQ6IFwiK3RoaXMuY29tbWVudElkKX07QmxvY2tseS5FdmVudHMuQ29tbWVudENyZWF0ZT1mdW5jdGlvbihhKXthJiYoQmxvY2tseS5FdmVudHMuQ29tbWVudENyZWF0ZS5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSksdGhpcy54bWw9YS50b1htbFdpdGhYWSgpKX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5FdmVudHMuQ29tbWVudENyZWF0ZSxCbG9ja2x5LkV2ZW50cy5Db21tZW50QmFzZSk7XG5CbG9ja2x5LkV2ZW50cy5Db21tZW50Q3JlYXRlLnByb3RvdHlwZS50eXBlPUJsb2NrbHkuRXZlbnRzLkNPTU1FTlRfQ1JFQVRFO0Jsb2NrbHkuRXZlbnRzLkNvbW1lbnRDcmVhdGUucHJvdG90eXBlLnRvSnNvbj1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkuRXZlbnRzLkNvbW1lbnRDcmVhdGUuc3VwZXJDbGFzc18udG9Kc29uLmNhbGwodGhpcyk7YS54bWw9QmxvY2tseS5YbWwuZG9tVG9UZXh0KHRoaXMueG1sKTtyZXR1cm4gYX07QmxvY2tseS5FdmVudHMuQ29tbWVudENyZWF0ZS5wcm90b3R5cGUuZnJvbUpzb249ZnVuY3Rpb24oYSl7QmxvY2tseS5FdmVudHMuQ29tbWVudENyZWF0ZS5zdXBlckNsYXNzXy5mcm9tSnNvbi5jYWxsKHRoaXMsYSk7dGhpcy54bWw9QmxvY2tseS5YbWwudGV4dFRvRG9tKGEueG1sKX07XG5CbG9ja2x5LkV2ZW50cy5Db21tZW50Q3JlYXRlLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oYSl7QmxvY2tseS5FdmVudHMuQ29tbWVudENyZWF0ZURlbGV0ZUhlbHBlcih0aGlzLGEpfTtCbG9ja2x5LkV2ZW50cy5Db21tZW50Q3JlYXRlRGVsZXRlSGVscGVyPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRFdmVudFdvcmtzcGFjZV8oKTtiPyhiPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJ4bWxcIiksYi5hcHBlbmRDaGlsZChhLnhtbCksQmxvY2tseS5YbWwuZG9tVG9Xb3Jrc3BhY2UoYixjKSk6KGM9Yy5nZXRDb21tZW50QnlJZChhLmNvbW1lbnRJZCkpP2MuZGlzcG9zZSghMSwhMSk6Y29uc29sZS53YXJuKFwiQ2FuJ3QgdW5jcmVhdGUgbm9uLWV4aXN0ZW50IGNvbW1lbnQ6IFwiK2EuY29tbWVudElkKX07XG5CbG9ja2x5LkV2ZW50cy5Db21tZW50RGVsZXRlPWZ1bmN0aW9uKGEpe2EmJihCbG9ja2x5LkV2ZW50cy5Db21tZW50RGVsZXRlLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKSx0aGlzLnhtbD1hLnRvWG1sV2l0aFhZKCkpfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LkV2ZW50cy5Db21tZW50RGVsZXRlLEJsb2NrbHkuRXZlbnRzLkNvbW1lbnRCYXNlKTtCbG9ja2x5LkV2ZW50cy5Db21tZW50RGVsZXRlLnByb3RvdHlwZS50eXBlPUJsb2NrbHkuRXZlbnRzLkNPTU1FTlRfREVMRVRFO0Jsb2NrbHkuRXZlbnRzLkNvbW1lbnREZWxldGUucHJvdG90eXBlLnRvSnNvbj1mdW5jdGlvbigpe3JldHVybiBCbG9ja2x5LkV2ZW50cy5Db21tZW50RGVsZXRlLnN1cGVyQ2xhc3NfLnRvSnNvbi5jYWxsKHRoaXMpfTtcbkJsb2NrbHkuRXZlbnRzLkNvbW1lbnREZWxldGUucHJvdG90eXBlLmZyb21Kc29uPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuRXZlbnRzLkNvbW1lbnREZWxldGUuc3VwZXJDbGFzc18uZnJvbUpzb24uY2FsbCh0aGlzLGEpfTtCbG9ja2x5LkV2ZW50cy5Db21tZW50RGVsZXRlLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oYSl7QmxvY2tseS5FdmVudHMuQ29tbWVudENyZWF0ZURlbGV0ZUhlbHBlcih0aGlzLCFhKX07QmxvY2tseS5FdmVudHMuQ29tbWVudE1vdmU9ZnVuY3Rpb24oYSl7YSYmKEJsb2NrbHkuRXZlbnRzLkNvbW1lbnRNb3ZlLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKSx0aGlzLmNvbW1lbnRfPWEsdGhpcy5vbGRDb29yZGluYXRlXz1hLmdldFhZKCksdGhpcy5uZXdDb29yZGluYXRlXz1udWxsKX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5FdmVudHMuQ29tbWVudE1vdmUsQmxvY2tseS5FdmVudHMuQ29tbWVudEJhc2UpO1xuQmxvY2tseS5FdmVudHMuQ29tbWVudE1vdmUucHJvdG90eXBlLnJlY29yZE5ldz1mdW5jdGlvbigpe2lmKCF0aGlzLmNvbW1lbnRfKXRocm93IEVycm9yKFwiVHJpZWQgdG8gcmVjb3JkIHRoZSBuZXcgcG9zaXRpb24gb2YgYSBjb21tZW50IG9uIHRoZSBzYW1lIGV2ZW50IHR3aWNlLlwiKTt0aGlzLm5ld0Nvb3JkaW5hdGVfPXRoaXMuY29tbWVudF8uZ2V0WFkoKTt0aGlzLmNvbW1lbnRfPW51bGx9O0Jsb2NrbHkuRXZlbnRzLkNvbW1lbnRNb3ZlLnByb3RvdHlwZS50eXBlPUJsb2NrbHkuRXZlbnRzLkNPTU1FTlRfTU9WRTtCbG9ja2x5LkV2ZW50cy5Db21tZW50TW92ZS5wcm90b3R5cGUuc2V0T2xkQ29vcmRpbmF0ZT1mdW5jdGlvbihhKXt0aGlzLm9sZENvb3JkaW5hdGVfPWF9O1xuQmxvY2tseS5FdmVudHMuQ29tbWVudE1vdmUucHJvdG90eXBlLnRvSnNvbj1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkuRXZlbnRzLkNvbW1lbnRNb3ZlLnN1cGVyQ2xhc3NfLnRvSnNvbi5jYWxsKHRoaXMpO3RoaXMubmV3Q29vcmRpbmF0ZV8mJihhLm5ld0Nvb3JkaW5hdGU9TWF0aC5yb3VuZCh0aGlzLm5ld0Nvb3JkaW5hdGVfLngpK1wiLFwiK01hdGgucm91bmQodGhpcy5uZXdDb29yZGluYXRlXy55KSk7cmV0dXJuIGF9O0Jsb2NrbHkuRXZlbnRzLkNvbW1lbnRNb3ZlLnByb3RvdHlwZS5mcm9tSnNvbj1mdW5jdGlvbihhKXtCbG9ja2x5LkV2ZW50cy5Db21tZW50TW92ZS5zdXBlckNsYXNzXy5mcm9tSnNvbi5jYWxsKHRoaXMsYSk7YS5uZXdDb29yZGluYXRlJiYoYT1hLm5ld0Nvb3JkaW5hdGUuc3BsaXQoXCIsXCIpLHRoaXMubmV3Q29vcmRpbmF0ZV89bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShOdW1iZXIoYVswXSksTnVtYmVyKGFbMV0pKSl9O1xuQmxvY2tseS5FdmVudHMuQ29tbWVudE1vdmUucHJvdG90eXBlLmlzTnVsbD1mdW5jdGlvbigpe3JldHVybiBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUuZXF1YWxzKHRoaXMub2xkQ29vcmRpbmF0ZV8sdGhpcy5uZXdDb29yZGluYXRlXyl9O0Jsb2NrbHkuRXZlbnRzLkNvbW1lbnRNb3ZlLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRFdmVudFdvcmtzcGFjZV8oKS5nZXRDb21tZW50QnlJZCh0aGlzLmNvbW1lbnRJZCk7aWYoYil7YT1hP3RoaXMubmV3Q29vcmRpbmF0ZV86dGhpcy5vbGRDb29yZGluYXRlXzt2YXIgYz1iLmdldFhZKCk7Yi5tb3ZlQnkoYS54LWMueCxhLnktYy55KX1lbHNlIGNvbnNvbGUud2FybihcIkNhbid0IG1vdmUgbm9uLWV4aXN0ZW50IGNvbW1lbnQ6IFwiK3RoaXMuY29tbWVudElkKX07QmxvY2tseS5CdWJibGVEcmFnZ2VyPWZ1bmN0aW9uKGEsYil7dGhpcy5kcmFnZ2luZ0J1YmJsZV89YTt0aGlzLndvcmtzcGFjZV89Yjt0aGlzLmRlbGV0ZUFyZWFfPW51bGw7dGhpcy53b3VsZERlbGV0ZUJ1YmJsZV89ITE7dGhpcy5zdGFydFhZXz10aGlzLmRyYWdnaW5nQnViYmxlXy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7dGhpcy5kcmFnU3VyZmFjZV89QmxvY2tseS51dGlscy5pczNkU3VwcG9ydGVkKCkmJmIuZ2V0QmxvY2tEcmFnU3VyZmFjZSgpP2IuZ2V0QmxvY2tEcmFnU3VyZmFjZSgpOm51bGx9O0Jsb2NrbHkuQnViYmxlRHJhZ2dlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZHJhZ1N1cmZhY2VfPXRoaXMud29ya3NwYWNlXz10aGlzLmRyYWdnaW5nQnViYmxlXz1udWxsfTtcbkJsb2NrbHkuQnViYmxlRHJhZ2dlci5wcm90b3R5cGUuc3RhcnRCdWJibGVEcmFnPWZ1bmN0aW9uKCl7QmxvY2tseS5FdmVudHMuZ2V0R3JvdXAoKXx8QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITApO3RoaXMud29ya3NwYWNlXy5zZXRSZXNpemVzRW5hYmxlZCghMSk7dGhpcy5kcmFnZ2luZ0J1YmJsZV8uc2V0QXV0b0xheW91dCghMSk7dGhpcy5kcmFnU3VyZmFjZV8mJnRoaXMubW92ZVRvRHJhZ1N1cmZhY2VfKCk7dGhpcy5kcmFnZ2luZ0J1YmJsZV8uc2V0RHJhZ2dpbmcmJnRoaXMuZHJhZ2dpbmdCdWJibGVfLnNldERyYWdnaW5nKCEwKTt2YXIgYT10aGlzLndvcmtzcGFjZV8uZ2V0VG9vbGJveCgpO2lmKGEpe3ZhciBiPXRoaXMuZHJhZ2dpbmdCdWJibGVfLmlzRGVsZXRhYmxlKCk/XCJibG9ja2x5VG9vbGJveERlbGV0ZVwiOlwiYmxvY2tseVRvb2xib3hHcmFiXCI7YS5hZGRTdHlsZShiKX19O1xuQmxvY2tseS5CdWJibGVEcmFnZ2VyLnByb3RvdHlwZS5kcmFnQnViYmxlPWZ1bmN0aW9uKGEsYil7Yj10aGlzLnBpeGVsc1RvV29ya3NwYWNlVW5pdHNfKGIpO2I9QmxvY2tseS51dGlscy5Db29yZGluYXRlLnN1bSh0aGlzLnN0YXJ0WFlfLGIpO3RoaXMuZHJhZ2dpbmdCdWJibGVfLm1vdmVEdXJpbmdEcmFnKHRoaXMuZHJhZ1N1cmZhY2VfLGIpO3RoaXMuZHJhZ2dpbmdCdWJibGVfLmlzRGVsZXRhYmxlKCkmJih0aGlzLmRlbGV0ZUFyZWFfPXRoaXMud29ya3NwYWNlXy5pc0RlbGV0ZUFyZWEoYSksdGhpcy51cGRhdGVDdXJzb3JEdXJpbmdCdWJibGVEcmFnXygpKX07XG5CbG9ja2x5LkJ1YmJsZURyYWdnZXIucHJvdG90eXBlLm1heWJlRGVsZXRlQnViYmxlXz1mdW5jdGlvbigpe3ZhciBhPXRoaXMud29ya3NwYWNlXy50cmFzaGNhbjt0aGlzLndvdWxkRGVsZXRlQnViYmxlXz8oYSYmc2V0VGltZW91dChhLmNsb3NlLmJpbmQoYSksMTAwKSx0aGlzLmZpcmVNb3ZlRXZlbnRfKCksdGhpcy5kcmFnZ2luZ0J1YmJsZV8uZGlzcG9zZSghMSwhMCkpOmEmJmEuY2xvc2UoKTtyZXR1cm4gdGhpcy53b3VsZERlbGV0ZUJ1YmJsZV99O1xuQmxvY2tseS5CdWJibGVEcmFnZ2VyLnByb3RvdHlwZS51cGRhdGVDdXJzb3JEdXJpbmdCdWJibGVEcmFnXz1mdW5jdGlvbigpe3RoaXMud291bGREZWxldGVCdWJibGVfPXRoaXMuZGVsZXRlQXJlYV8hPUJsb2NrbHkuREVMRVRFX0FSRUFfTk9ORTt2YXIgYT10aGlzLndvcmtzcGFjZV8udHJhc2hjYW47dGhpcy53b3VsZERlbGV0ZUJ1YmJsZV8/KHRoaXMuZHJhZ2dpbmdCdWJibGVfLnNldERlbGV0ZVN0eWxlKCEwKSx0aGlzLmRlbGV0ZUFyZWFfPT1CbG9ja2x5LkRFTEVURV9BUkVBX1RSQVNIJiZhJiZhLnNldE9wZW4oITApKToodGhpcy5kcmFnZ2luZ0J1YmJsZV8uc2V0RGVsZXRlU3R5bGUoITEpLGEmJmEuc2V0T3BlbighMSkpfTtcbkJsb2NrbHkuQnViYmxlRHJhZ2dlci5wcm90b3R5cGUuZW5kQnViYmxlRHJhZz1mdW5jdGlvbihhLGIpe3RoaXMuZHJhZ0J1YmJsZShhLGIpO2E9dGhpcy5waXhlbHNUb1dvcmtzcGFjZVVuaXRzXyhiKTthPUJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZS5zdW0odGhpcy5zdGFydFhZXyxhKTt0aGlzLmRyYWdnaW5nQnViYmxlXy5tb3ZlVG8oYS54LGEueSk7dGhpcy5tYXliZURlbGV0ZUJ1YmJsZV8oKXx8KHRoaXMuZHJhZ1N1cmZhY2VfJiZ0aGlzLmRyYWdTdXJmYWNlXy5jbGVhckFuZEhpZGUodGhpcy53b3Jrc3BhY2VfLmdldEJ1YmJsZUNhbnZhcygpKSx0aGlzLmRyYWdnaW5nQnViYmxlXy5zZXREcmFnZ2luZyYmdGhpcy5kcmFnZ2luZ0J1YmJsZV8uc2V0RHJhZ2dpbmcoITEpLHRoaXMuZmlyZU1vdmVFdmVudF8oKSk7dGhpcy53b3Jrc3BhY2VfLnNldFJlc2l6ZXNFbmFibGVkKCEwKTt0aGlzLndvcmtzcGFjZV8uZ2V0VG9vbGJveCgpJiYoYT10aGlzLmRyYWdnaW5nQnViYmxlXy5pc0RlbGV0YWJsZSgpP1xuXCJibG9ja2x5VG9vbGJveERlbGV0ZVwiOlwiYmxvY2tseVRvb2xib3hHcmFiXCIsdGhpcy53b3Jrc3BhY2VfLmdldFRvb2xib3goKS5yZW1vdmVTdHlsZShhKSk7QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITEpfTtCbG9ja2x5LkJ1YmJsZURyYWdnZXIucHJvdG90eXBlLmZpcmVNb3ZlRXZlbnRfPWZ1bmN0aW9uKCl7aWYodGhpcy5kcmFnZ2luZ0J1YmJsZV8uaXNDb21tZW50KXt2YXIgYT1uZXcgQmxvY2tseS5FdmVudHMuQ29tbWVudE1vdmUodGhpcy5kcmFnZ2luZ0J1YmJsZV8pO2Euc2V0T2xkQ29vcmRpbmF0ZSh0aGlzLnN0YXJ0WFlfKTthLnJlY29yZE5ldygpO0Jsb2NrbHkuRXZlbnRzLmZpcmUoYSl9fTtcbkJsb2NrbHkuQnViYmxlRHJhZ2dlci5wcm90b3R5cGUucGl4ZWxzVG9Xb3Jrc3BhY2VVbml0c189ZnVuY3Rpb24oYSl7YT1uZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKGEueC90aGlzLndvcmtzcGFjZV8uc2NhbGUsYS55L3RoaXMud29ya3NwYWNlXy5zY2FsZSk7dGhpcy53b3Jrc3BhY2VfLmlzTXV0YXRvciYmYS5zY2FsZSgxL3RoaXMud29ya3NwYWNlXy5vcHRpb25zLnBhcmVudFdvcmtzcGFjZS5zY2FsZSk7cmV0dXJuIGF9O0Jsb2NrbHkuQnViYmxlRHJhZ2dlci5wcm90b3R5cGUubW92ZVRvRHJhZ1N1cmZhY2VfPWZ1bmN0aW9uKCl7dGhpcy5kcmFnZ2luZ0J1YmJsZV8ubW92ZVRvKDAsMCk7dGhpcy5kcmFnU3VyZmFjZV8udHJhbnNsYXRlU3VyZmFjZSh0aGlzLnN0YXJ0WFlfLngsdGhpcy5zdGFydFhZXy55KTt0aGlzLmRyYWdTdXJmYWNlXy5zZXRCbG9ja3NBbmRTaG93KHRoaXMuZHJhZ2dpbmdCdWJibGVfLmdldFN2Z1Jvb3QoKSl9O0Jsb2NrbHkuV29ya3NwYWNlRHJhZ2dlcj1mdW5jdGlvbihhKXt0aGlzLndvcmtzcGFjZV89YTt0aGlzLnN0YXJ0U2Nyb2xsWFlfPW5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoYS5zY3JvbGxYLGEuc2Nyb2xsWSl9O0Jsb2NrbHkuV29ya3NwYWNlRHJhZ2dlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMud29ya3NwYWNlXz1udWxsfTtCbG9ja2x5LldvcmtzcGFjZURyYWdnZXIucHJvdG90eXBlLnN0YXJ0RHJhZz1mdW5jdGlvbigpe0Jsb2NrbHkuc2VsZWN0ZWQmJkJsb2NrbHkuc2VsZWN0ZWQudW5zZWxlY3QoKTt0aGlzLndvcmtzcGFjZV8uc2V0dXBEcmFnU3VyZmFjZSgpfTtCbG9ja2x5LldvcmtzcGFjZURyYWdnZXIucHJvdG90eXBlLmVuZERyYWc9ZnVuY3Rpb24oYSl7dGhpcy5kcmFnKGEpO3RoaXMud29ya3NwYWNlXy5yZXNldERyYWdTdXJmYWNlKCl9O1xuQmxvY2tseS5Xb3Jrc3BhY2VEcmFnZ2VyLnByb3RvdHlwZS5kcmFnPWZ1bmN0aW9uKGEpe2E9QmxvY2tseS51dGlscy5Db29yZGluYXRlLnN1bSh0aGlzLnN0YXJ0U2Nyb2xsWFlfLGEpO3RoaXMud29ya3NwYWNlXy5zY3JvbGwoYS54LGEueSl9O0Jsb2NrbHkuRmx5b3V0RHJhZ2dlcj1mdW5jdGlvbihhKXtCbG9ja2x5LkZseW91dERyYWdnZXIuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEuZ2V0V29ya3NwYWNlKCkpO3RoaXMuc2Nyb2xsYmFyXz1hLnNjcm9sbGJhcl87dGhpcy5ob3Jpem9udGFsTGF5b3V0Xz1hLmhvcml6b250YWxMYXlvdXRffTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LkZseW91dERyYWdnZXIsQmxvY2tseS5Xb3Jrc3BhY2VEcmFnZ2VyKTtCbG9ja2x5LkZseW91dERyYWdnZXIucHJvdG90eXBlLmRyYWc9ZnVuY3Rpb24oYSl7YT1CbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUuc3VtKHRoaXMuc3RhcnRTY3JvbGxYWV8sYSk7dGhpcy5ob3Jpem9udGFsTGF5b3V0Xz90aGlzLnNjcm9sbGJhcl8uc2V0KC1hLngpOnRoaXMuc2Nyb2xsYmFyXy5zZXQoLWEueSl9O0Jsb2NrbHkuQWN0aW9uPWZ1bmN0aW9uKGEsYil7dGhpcy5uYW1lPWE7dGhpcy5kZXNjPWJ9O0Jsb2NrbHkubmF2aWdhdGlvbj17fTtCbG9ja2x5Lm5hdmlnYXRpb24ubG9nZ2luZ0NhbGxiYWNrPW51bGw7QmxvY2tseS5uYXZpZ2F0aW9uLlNUQVRFX0ZMWU9VVD0xO0Jsb2NrbHkubmF2aWdhdGlvbi5TVEFURV9XUz0yO0Jsb2NrbHkubmF2aWdhdGlvbi5TVEFURV9UT09MQk9YPTM7QmxvY2tseS5uYXZpZ2F0aW9uLldTX01PVkVfRElTVEFOQ0U9NDA7QmxvY2tseS5uYXZpZ2F0aW9uLmN1cnJlbnRTdGF0ZV89QmxvY2tseS5uYXZpZ2F0aW9uLlNUQVRFX1dTO1xuQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzPXtQUkVWSU9VUzpcInByZXZpb3VzXCIsTkVYVDpcIm5leHRcIixJTjpcImluXCIsT1VUOlwib3V0XCIsSU5TRVJUOlwiaW5zZXJ0XCIsTUFSSzpcIm1hcmtcIixESVNDT05ORUNUOlwiZGlzY29ubmVjdFwiLFRPT0xCT1g6XCJ0b29sYm94XCIsRVhJVDpcImV4aXRcIixUT0dHTEVfS0VZQk9BUkRfTkFWOlwidG9nZ2xlX2tleWJvYXJkX25hdlwiLE1PVkVfV1NfQ1VSU09SX1VQOlwibW92ZSB3b3Jrc3BhY2UgY3Vyc29yIHVwXCIsTU9WRV9XU19DVVJTT1JfRE9XTjpcIm1vdmUgd29ya3NwYWNlIGN1cnNvciBkb3duXCIsTU9WRV9XU19DVVJTT1JfTEVGVDpcIm1vdmUgd29ya3NwYWNlIGN1cnNvciBsZWZ0XCIsTU9WRV9XU19DVVJTT1JfUklHSFQ6XCJtb3ZlIHdvcmtzcGFjZSBjdXJzb3IgcmlnaHRcIn07QmxvY2tseS5uYXZpZ2F0aW9uLk1BUktFUl9OQU1FPVwibG9jYWxfbWFya2VyXzFcIjtCbG9ja2x5Lm5hdmlnYXRpb24uZ2V0TWFya2VyPWZ1bmN0aW9uKCl7cmV0dXJuIEJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpLmdldE1hcmtlcihCbG9ja2x5Lm5hdmlnYXRpb24uTUFSS0VSX05BTUUpfTtcbkJsb2NrbHkubmF2aWdhdGlvbi5mb2N1c1Rvb2xib3hfPWZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCkuZ2V0VG9vbGJveCgpO2EmJihCbG9ja2x5Lm5hdmlnYXRpb24uY3VycmVudFN0YXRlXz1CbG9ja2x5Lm5hdmlnYXRpb24uU1RBVEVfVE9PTEJPWCxCbG9ja2x5Lm5hdmlnYXRpb24ucmVzZXRGbHlvdXRfKCExKSxCbG9ja2x5Lm5hdmlnYXRpb24uZ2V0TWFya2VyKCkuZ2V0Q3VyTm9kZSgpfHxCbG9ja2x5Lm5hdmlnYXRpb24ubWFya0F0Q3Vyc29yXygpLGEuc2VsZWN0Rmlyc3RDYXRlZ29yeSgpKX07XG5CbG9ja2x5Lm5hdmlnYXRpb24uZm9jdXNGbHlvdXRfPWZ1bmN0aW9uKCl7QmxvY2tseS5uYXZpZ2F0aW9uLmN1cnJlbnRTdGF0ZV89QmxvY2tseS5uYXZpZ2F0aW9uLlNUQVRFX0ZMWU9VVDt2YXIgYT1CbG9ja2x5LmdldE1haW5Xb3Jrc3BhY2UoKTt2YXIgYj1hLmdldFRvb2xib3goKTthPWI/Yi5mbHlvdXRfOmEuZ2V0Rmx5b3V0KCk7QmxvY2tseS5uYXZpZ2F0aW9uLmdldE1hcmtlcigpLmdldEN1ck5vZGUoKXx8QmxvY2tseS5uYXZpZ2F0aW9uLm1hcmtBdEN1cnNvcl8oKTthJiZhLmdldFdvcmtzcGFjZSgpJiYoYT1hLmdldFdvcmtzcGFjZSgpLmdldFRvcEJsb2NrcyghMCksMDxhLmxlbmd0aCYmKGE9YVswXSxhPUJsb2NrbHkuQVNUTm9kZS5jcmVhdGVTdGFja05vZGUoYSksQmxvY2tseS5uYXZpZ2F0aW9uLmdldEZseW91dEN1cnNvcl8oKS5zZXRDdXJOb2RlKGEpKSl9O1xuQmxvY2tseS5uYXZpZ2F0aW9uLmZvY3VzV29ya3NwYWNlXz1mdW5jdGlvbigpe0Jsb2NrbHkuaGlkZUNoYWZmKCk7dmFyIGE9QmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCksYj1hLmdldEN1cnNvcigpLGM9ISFhLmdldFRvb2xib3goKSxkPWEuZ2V0VG9wQmxvY2tzKCEwKTtCbG9ja2x5Lm5hdmlnYXRpb24ucmVzZXRGbHlvdXRfKGMpO0Jsb2NrbHkubmF2aWdhdGlvbi5jdXJyZW50U3RhdGVfPUJsb2NrbHkubmF2aWdhdGlvbi5TVEFURV9XUzswPGQubGVuZ3RoP2Iuc2V0Q3VyTm9kZShCbG9ja2x5Lm5hdmlnYXRpb24uZ2V0VG9wTm9kZShkWzBdKSk6KGM9bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZSgxMDAsMTAwKSxhPUJsb2NrbHkuQVNUTm9kZS5jcmVhdGVXb3Jrc3BhY2VOb2RlKGEsYyksYi5zZXRDdXJOb2RlKGEpKX07XG5CbG9ja2x5Lm5hdmlnYXRpb24uZ2V0Rmx5b3V0Q3Vyc29yXz1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpLGI9bnVsbDthLnJlbmRlcmVkJiYoYj0oYT0oYj1hLmdldFRvb2xib3goKSk/Yi5mbHlvdXRfOmEuZ2V0Rmx5b3V0KCkpP2Eud29ya3NwYWNlXy5nZXRDdXJzb3IoKTpudWxsKTtyZXR1cm4gYn07XG5CbG9ja2x5Lm5hdmlnYXRpb24uaW5zZXJ0RnJvbUZseW91dD1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpLGI9YS5nZXRGbHlvdXQoKTtpZihiJiZiLmlzVmlzaWJsZSgpKXt2YXIgYz1CbG9ja2x5Lm5hdmlnYXRpb24uZ2V0Rmx5b3V0Q3Vyc29yXygpLmdldEN1ck5vZGUoKS5nZXRMb2NhdGlvbigpO2MuaXNFbmFibGVkKCk/KGI9Yi5jcmVhdGVCbG9jayhjKSxiLnJlbmRlcigpLGIuc2V0Q29ubmVjdGlvblRyYWNraW5nKCEwKSxhLmdldEN1cnNvcigpLnNldEN1ck5vZGUoQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUJsb2NrTm9kZShiKSksQmxvY2tseS5uYXZpZ2F0aW9uLm1vZGlmeV8oKXx8QmxvY2tseS5uYXZpZ2F0aW9uLndhcm5fKFwiU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgaW5zZXJ0aW5nIGEgYmxvY2sgZnJvbSB0aGUgZmx5b3V0LlwiKSxCbG9ja2x5Lm5hdmlnYXRpb24uZm9jdXNXb3Jrc3BhY2VfKCksYS5nZXRDdXJzb3IoKS5zZXRDdXJOb2RlKEJsb2NrbHkubmF2aWdhdGlvbi5nZXRUb3BOb2RlKGIpKSxcbkJsb2NrbHkubmF2aWdhdGlvbi5yZW1vdmVNYXJrXygpKTpCbG9ja2x5Lm5hdmlnYXRpb24ud2Fybl8oXCJDYW4ndCBpbnNlcnQgYSBkaXNhYmxlZCBibG9jay5cIil9ZWxzZSBCbG9ja2x5Lm5hdmlnYXRpb24ud2Fybl8oXCJUcnlpbmcgdG8gaW5zZXJ0IGZyb20gdGhlIGZseW91dCB3aGVuIHRoZSBmbHlvdXQgZG9lcyBub3QgIGV4aXN0IG9yIGlzIG5vdCB2aXNpYmxlXCIpfTtCbG9ja2x5Lm5hdmlnYXRpb24ucmVzZXRGbHlvdXRfPWZ1bmN0aW9uKGEpe0Jsb2NrbHkubmF2aWdhdGlvbi5nZXRGbHlvdXRDdXJzb3JfKCkmJihCbG9ja2x5Lm5hdmlnYXRpb24uZ2V0Rmx5b3V0Q3Vyc29yXygpLmhpZGUoKSxhJiZCbG9ja2x5LmdldE1haW5Xb3Jrc3BhY2UoKS5nZXRGbHlvdXQoKS5oaWRlKCkpfTtcbkJsb2NrbHkubmF2aWdhdGlvbi5tb2RpZnlXYXJuXz1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkubmF2aWdhdGlvbi5nZXRNYXJrZXIoKS5nZXRDdXJOb2RlKCksYj1CbG9ja2x5LmdldE1haW5Xb3Jrc3BhY2UoKS5nZXRDdXJzb3IoKS5nZXRDdXJOb2RlKCk7aWYoIWEpcmV0dXJuIEJsb2NrbHkubmF2aWdhdGlvbi53YXJuXyhcIkNhbm5vdCBpbnNlcnQgd2l0aCBubyBtYXJrZWQgbm9kZS5cIiksITE7aWYoIWIpcmV0dXJuIEJsb2NrbHkubmF2aWdhdGlvbi53YXJuXyhcIkNhbm5vdCBpbnNlcnQgd2l0aCBubyBjdXJzb3Igbm9kZS5cIiksITE7YT1hLmdldFR5cGUoKTtiPWIuZ2V0VHlwZSgpO3JldHVybiBhPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuRklFTEQ/KEJsb2NrbHkubmF2aWdhdGlvbi53YXJuXyhcIlNob3VsZCBub3QgaGF2ZSBiZWVuIGFibGUgdG8gbWFyayBhIGZpZWxkLlwiKSwhMSk6YT09QmxvY2tseS5BU1ROb2RlLnR5cGVzLkJMT0NLPyhCbG9ja2x5Lm5hdmlnYXRpb24ud2Fybl8oXCJTaG91bGQgbm90IGhhdmUgYmVlbiBhYmxlIHRvIG1hcmsgYSBibG9jay5cIiksXG4hMSk6YT09QmxvY2tseS5BU1ROb2RlLnR5cGVzLlNUQUNLPyhCbG9ja2x5Lm5hdmlnYXRpb24ud2Fybl8oXCJTaG91bGQgbm90IGhhdmUgYmVlbiBhYmxlIHRvIG1hcmsgYSBzdGFjay5cIiksITEpOmI9PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5GSUVMRD8oQmxvY2tseS5uYXZpZ2F0aW9uLndhcm5fKFwiQ2Fubm90IGF0dGFjaCBhIGZpZWxkIHRvIGFueXRoaW5nIGVsc2UuXCIpLCExKTpiPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuV09SS1NQQUNFPyhCbG9ja2x5Lm5hdmlnYXRpb24ud2Fybl8oXCJDYW5ub3QgYXR0YWNoIGEgd29ya3NwYWNlIHRvIGFueXRoaW5nIGVsc2UuXCIpLCExKTohMH07XG5CbG9ja2x5Lm5hdmlnYXRpb24ubW92ZUJsb2NrVG9Xb3Jrc3BhY2VfPWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuITE7aWYoYS5pc1NoYWRvdygpKXJldHVybiBCbG9ja2x5Lm5hdmlnYXRpb24ud2Fybl8oXCJDYW5ub3QgbW92ZSBhIHNoYWRvdyBibG9jayB0byB0aGUgd29ya3NwYWNlLlwiKSwhMTthLmdldFBhcmVudCgpJiZhLnVucGx1ZyghMSk7YS5tb3ZlVG8oYi5nZXRXc0Nvb3JkaW5hdGUoKSk7cmV0dXJuITB9O1xuQmxvY2tseS5uYXZpZ2F0aW9uLm1vZGlmeV89ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5Lm5hdmlnYXRpb24uZ2V0TWFya2VyKCkuZ2V0Q3VyTm9kZSgpLGI9QmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCkuZ2V0Q3Vyc29yKCkuZ2V0Q3VyTm9kZSgpO2lmKCFCbG9ja2x5Lm5hdmlnYXRpb24ubW9kaWZ5V2Fybl8oKSlyZXR1cm4hMTt2YXIgYz1hLmdldFR5cGUoKSxkPWIuZ2V0VHlwZSgpLGU9Yi5nZXRMb2NhdGlvbigpLGY9YS5nZXRMb2NhdGlvbigpO2lmKGEuaXNDb25uZWN0aW9uKCkmJmIuaXNDb25uZWN0aW9uKCkpcmV0dXJuIEJsb2NrbHkubmF2aWdhdGlvbi5jb25uZWN0XyhlLGYpO2lmKGEuaXNDb25uZWN0aW9uKCkmJihkPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuQkxPQ0t8fGQ9PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5TVEFDSykpcmV0dXJuIEJsb2NrbHkubmF2aWdhdGlvbi5pbnNlcnRCbG9jayhlLGYpO2lmKGM9PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5XT1JLU1BBQ0UpcmV0dXJuIGI9XG5iP2IuZ2V0U291cmNlQmxvY2soKTpudWxsLEJsb2NrbHkubmF2aWdhdGlvbi5tb3ZlQmxvY2tUb1dvcmtzcGFjZV8oYixhKTtCbG9ja2x5Lm5hdmlnYXRpb24ud2Fybl8oXCJVbmV4cGVjdGVkIHN0YXRlIGluIEJsb2NrbHkubmF2aWdhdGlvbi5tb2RpZnlfLlwiKTtyZXR1cm4hMX07QmxvY2tseS5uYXZpZ2F0aW9uLmRpc2Nvbm5lY3RDaGlsZF89ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldFNvdXJjZUJsb2NrKCksZD1iLmdldFNvdXJjZUJsb2NrKCk7Yy5nZXRSb290QmxvY2soKT09ZC5nZXRSb290QmxvY2soKSYmKC0xPGMuZ2V0RGVzY2VuZGFudHMoITEpLmluZGV4T2YoZCk/QmxvY2tseS5uYXZpZ2F0aW9uLmdldEluZmVyaW9yQ29ubmVjdGlvbl8oYikuZGlzY29ubmVjdCgpOkJsb2NrbHkubmF2aWdhdGlvbi5nZXRJbmZlcmlvckNvbm5lY3Rpb25fKGEpLmRpc2Nvbm5lY3QoKSl9O1xuQmxvY2tseS5uYXZpZ2F0aW9uLm1vdmVBbmRDb25uZWN0Xz1mdW5jdGlvbihhLGIpe2lmKCFhfHwhYilyZXR1cm4hMTt2YXIgYz1hLmdldFNvdXJjZUJsb2NrKCk7cmV0dXJuIGIuY2FuQ29ubmVjdFdpdGhSZWFzb24oYSk9PUJsb2NrbHkuQ29ubmVjdGlvbi5DQU5fQ09OTkVDVD8oQmxvY2tseS5uYXZpZ2F0aW9uLmRpc2Nvbm5lY3RDaGlsZF8oYSxiKSxiLmlzU3VwZXJpb3IoKXx8Yy5nZXRSb290QmxvY2soKS5wb3NpdGlvbk5lYXJDb25uZWN0aW9uKGEsYiksYi5jb25uZWN0KGEpLCEwKTohMX07QmxvY2tseS5uYXZpZ2F0aW9uLmdldEluZmVyaW9yQ29ubmVjdGlvbl89ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRTb3VyY2VCbG9jaygpO3JldHVybiBhLmlzU3VwZXJpb3IoKT9iLnByZXZpb3VzQ29ubmVjdGlvbj9iLnByZXZpb3VzQ29ubmVjdGlvbjpiLm91dHB1dENvbm5lY3Rpb24/Yi5vdXRwdXRDb25uZWN0aW9uOm51bGw6YX07XG5CbG9ja2x5Lm5hdmlnYXRpb24uZ2V0U3VwZXJpb3JDb25uZWN0aW9uXz1mdW5jdGlvbihhKXtyZXR1cm4gYS5pc1N1cGVyaW9yKCk/YTphLnRhcmdldENvbm5lY3Rpb24/YS50YXJnZXRDb25uZWN0aW9uOm51bGx9O1xuQmxvY2tseS5uYXZpZ2F0aW9uLmNvbm5lY3RfPWZ1bmN0aW9uKGEsYil7aWYoIWF8fCFiKXJldHVybiExO3ZhciBjPUJsb2NrbHkubmF2aWdhdGlvbi5nZXRJbmZlcmlvckNvbm5lY3Rpb25fKGEpLGQ9QmxvY2tseS5uYXZpZ2F0aW9uLmdldFN1cGVyaW9yQ29ubmVjdGlvbl8oYiksZT1CbG9ja2x5Lm5hdmlnYXRpb24uZ2V0U3VwZXJpb3JDb25uZWN0aW9uXyhhKSxmPUJsb2NrbHkubmF2aWdhdGlvbi5nZXRJbmZlcmlvckNvbm5lY3Rpb25fKGIpO2lmKGMmJmQmJkJsb2NrbHkubmF2aWdhdGlvbi5tb3ZlQW5kQ29ubmVjdF8oYyxkKXx8ZSYmZiYmQmxvY2tseS5uYXZpZ2F0aW9uLm1vdmVBbmRDb25uZWN0XyhlLGYpfHxCbG9ja2x5Lm5hdmlnYXRpb24ubW92ZUFuZENvbm5lY3RfKGEsYikpcmV0dXJuITA7dHJ5e2IuY2hlY2tDb25uZWN0aW9uKGEpfWNhdGNoKGcpe0Jsb2NrbHkubmF2aWdhdGlvbi53YXJuXyhcIkNvbm5lY3Rpb24gZmFpbGVkIHdpdGggZXJyb3I6IFwiK2cpfXJldHVybiExfTtcbkJsb2NrbHkubmF2aWdhdGlvbi5pbnNlcnRCbG9jaz1mdW5jdGlvbihhLGIpe3N3aXRjaChiLnR5cGUpe2Nhc2UgQmxvY2tseS5QUkVWSU9VU19TVEFURU1FTlQ6aWYoQmxvY2tseS5uYXZpZ2F0aW9uLmNvbm5lY3RfKGEubmV4dENvbm5lY3Rpb24sYikpcmV0dXJuITA7YnJlYWs7Y2FzZSBCbG9ja2x5Lk5FWFRfU1RBVEVNRU5UOmlmKEJsb2NrbHkubmF2aWdhdGlvbi5jb25uZWN0XyhhLnByZXZpb3VzQ29ubmVjdGlvbixiKSlyZXR1cm4hMDticmVhaztjYXNlIEJsb2NrbHkuSU5QVVRfVkFMVUU6aWYoQmxvY2tseS5uYXZpZ2F0aW9uLmNvbm5lY3RfKGEub3V0cHV0Q29ubmVjdGlvbixiKSlyZXR1cm4hMDticmVhaztjYXNlIEJsb2NrbHkuT1VUUFVUX1ZBTFVFOmZvcih2YXIgYz0wO2M8YS5pbnB1dExpc3QubGVuZ3RoO2MrKyl7dmFyIGQ9YS5pbnB1dExpc3RbY10uY29ubmVjdGlvbjtpZihkJiZkLnR5cGU9PT1CbG9ja2x5LklOUFVUX1ZBTFVFJiZCbG9ja2x5Lm5hdmlnYXRpb24uY29ubmVjdF8oZCxcbmIpKXJldHVybiEwfWlmKGEub3V0cHV0Q29ubmVjdGlvbiYmQmxvY2tseS5uYXZpZ2F0aW9uLmNvbm5lY3RfKGEub3V0cHV0Q29ubmVjdGlvbixiKSlyZXR1cm4hMH1CbG9ja2x5Lm5hdmlnYXRpb24ud2Fybl8oXCJUaGlzIGJsb2NrIGNhbiBub3QgYmUgaW5zZXJ0ZWQgYXQgdGhlIG1hcmtlZCBsb2NhdGlvbi5cIik7cmV0dXJuITF9O1xuQmxvY2tseS5uYXZpZ2F0aW9uLmRpc2Nvbm5lY3RCbG9ja3NfPWZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCksYj1hLmdldEN1cnNvcigpLmdldEN1ck5vZGUoKTtpZihiLmlzQ29ubmVjdGlvbigpKXt2YXIgYz1iLmdldExvY2F0aW9uKCk7Yy5pc0Nvbm5lY3RlZCgpPyhiPWMuaXNTdXBlcmlvcigpP2M6Yy50YXJnZXRDb25uZWN0aW9uLGM9Yy5pc1N1cGVyaW9yKCk/Yy50YXJnZXRDb25uZWN0aW9uOmMsYy5nZXRTb3VyY2VCbG9jaygpLmlzU2hhZG93KCk/QmxvY2tseS5uYXZpZ2F0aW9uLmxvZ18oXCJDYW5ub3QgZGlzY29ubmVjdCBhIHNoYWRvdyBibG9ja1wiKTooYi5kaXNjb25uZWN0KCksYy5idW1wQXdheUZyb20oYiksYi5nZXRTb3VyY2VCbG9jaygpLmdldFJvb3RCbG9jaygpLmJyaW5nVG9Gcm9udCgpLGI9QmxvY2tseS5BU1ROb2RlLmNyZWF0ZUNvbm5lY3Rpb25Ob2RlKGIpLGEuZ2V0Q3Vyc29yKCkuc2V0Q3VyTm9kZShiKSkpOkJsb2NrbHkubmF2aWdhdGlvbi5sb2dfKFwiQ2Fubm90IGRpc2Nvbm5lY3QgdW5jb25uZWN0ZWQgY29ubmVjdGlvblwiKX1lbHNlIEJsb2NrbHkubmF2aWdhdGlvbi5sb2dfKFwiQ2Fubm90IGRpc2Nvbm5lY3QgYmxvY2tzIHdoZW4gdGhlIGN1cnNvciBpcyBub3Qgb24gYSBjb25uZWN0aW9uXCIpfTtcbkJsb2NrbHkubmF2aWdhdGlvbi5tYXJrQXRDdXJzb3JfPWZ1bmN0aW9uKCl7QmxvY2tseS5uYXZpZ2F0aW9uLmdldE1hcmtlcigpLnNldEN1ck5vZGUoQmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCkuZ2V0Q3Vyc29yKCkuZ2V0Q3VyTm9kZSgpKX07QmxvY2tseS5uYXZpZ2F0aW9uLnJlbW92ZU1hcmtfPWZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS5uYXZpZ2F0aW9uLmdldE1hcmtlcigpO2Euc2V0Q3VyTm9kZShudWxsKTthLmhpZGUoKX07QmxvY2tseS5uYXZpZ2F0aW9uLnNldFN0YXRlPWZ1bmN0aW9uKGEpe0Jsb2NrbHkubmF2aWdhdGlvbi5jdXJyZW50U3RhdGVfPWF9O0Jsb2NrbHkubmF2aWdhdGlvbi5nZXRUb3BOb2RlPWZ1bmN0aW9uKGEpe3ZhciBiPWEucHJldmlvdXNDb25uZWN0aW9ufHxhLm91dHB1dENvbm5lY3Rpb247cmV0dXJuIGI/QmxvY2tseS5BU1ROb2RlLmNyZWF0ZUNvbm5lY3Rpb25Ob2RlKGIpOkJsb2NrbHkuQVNUTm9kZS5jcmVhdGVCbG9ja05vZGUoYSl9O1xuQmxvY2tseS5uYXZpZ2F0aW9uLm1vdmVDdXJzb3JPbkJsb2NrRGVsZXRlPWZ1bmN0aW9uKGEpe3ZhciBiPUJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpO2lmKGImJihiPWIuZ2V0Q3Vyc29yKCkpKXt2YXIgYz1iLmdldEN1ck5vZGUoKTtjPWM/Yy5nZXRTb3VyY2VCbG9jaygpOm51bGw7Yz09PWE/Yy5nZXRQYXJlbnQoKT8oYT1jLnByZXZpb3VzQ29ubmVjdGlvbnx8Yy5vdXRwdXRDb25uZWN0aW9uKSYmYi5zZXRDdXJOb2RlKEJsb2NrbHkuQVNUTm9kZS5jcmVhdGVDb25uZWN0aW9uTm9kZShhLnRhcmdldENvbm5lY3Rpb24pKTpiLnNldEN1ck5vZGUoQmxvY2tseS5BU1ROb2RlLmNyZWF0ZVdvcmtzcGFjZU5vZGUoYy53b3Jrc3BhY2UsYy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCkpKTpjJiYtMTxhLmdldENoaWxkcmVuKCExKS5pbmRleE9mKGMpJiZiLnNldEN1ck5vZGUoQmxvY2tseS5BU1ROb2RlLmNyZWF0ZVdvcmtzcGFjZU5vZGUoYy53b3Jrc3BhY2UsYy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCkpKX19O1xuQmxvY2tseS5uYXZpZ2F0aW9uLm1vdmVDdXJzb3JPbkJsb2NrTXV0YXRpb249ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCkuZ2V0Q3Vyc29yKCk7aWYoYil7dmFyIGM9Yi5nZXRDdXJOb2RlKCk7Yz1jP2MuZ2V0U291cmNlQmxvY2soKTpudWxsO2M9PT1hJiZiLnNldEN1ck5vZGUoQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUJsb2NrTm9kZShjKSl9fTtCbG9ja2x5Lm5hdmlnYXRpb24uZW5hYmxlS2V5Ym9hcmRBY2Nlc3NpYmlsaXR5PWZ1bmN0aW9uKCl7QmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCkua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZXx8KEJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGU9ITAsQmxvY2tseS5uYXZpZ2F0aW9uLmZvY3VzV29ya3NwYWNlXygpKX07XG5CbG9ja2x5Lm5hdmlnYXRpb24uZGlzYWJsZUtleWJvYXJkQWNjZXNzaWJpbGl0eT1mdW5jdGlvbigpe2lmKEJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGUpe3ZhciBhPUJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpO0Jsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGU9ITE7YS5nZXRDdXJzb3IoKS5oaWRlKCk7QmxvY2tseS5uYXZpZ2F0aW9uLmdldE1hcmtlcigpLmhpZGUoKTtCbG9ja2x5Lm5hdmlnYXRpb24uZ2V0Rmx5b3V0Q3Vyc29yXygpJiZCbG9ja2x5Lm5hdmlnYXRpb24uZ2V0Rmx5b3V0Q3Vyc29yXygpLmhpZGUoKX19O0Jsb2NrbHkubmF2aWdhdGlvbi5sb2dfPWZ1bmN0aW9uKGEpe0Jsb2NrbHkubmF2aWdhdGlvbi5sb2dnaW5nQ2FsbGJhY2s/QmxvY2tseS5uYXZpZ2F0aW9uLmxvZ2dpbmdDYWxsYmFjayhcImxvZ1wiLGEpOmNvbnNvbGUubG9nKGEpfTtcbkJsb2NrbHkubmF2aWdhdGlvbi53YXJuXz1mdW5jdGlvbihhKXtCbG9ja2x5Lm5hdmlnYXRpb24ubG9nZ2luZ0NhbGxiYWNrP0Jsb2NrbHkubmF2aWdhdGlvbi5sb2dnaW5nQ2FsbGJhY2soXCJ3YXJuXCIsYSk6Y29uc29sZS53YXJuKGEpfTtCbG9ja2x5Lm5hdmlnYXRpb24uZXJyb3JfPWZ1bmN0aW9uKGEpe0Jsb2NrbHkubmF2aWdhdGlvbi5sb2dnaW5nQ2FsbGJhY2s/QmxvY2tseS5uYXZpZ2F0aW9uLmxvZ2dpbmdDYWxsYmFjayhcImVycm9yXCIsYSk6Y29uc29sZS5lcnJvcihhKX07QmxvY2tseS5uYXZpZ2F0aW9uLm9uS2V5UHJlc3M9ZnVuY3Rpb24oYSl7YT1CbG9ja2x5LnVzZXIua2V5TWFwLnNlcmlhbGl6ZUtleUV2ZW50KGEpO3JldHVybihhPUJsb2NrbHkudXNlci5rZXlNYXAuZ2V0QWN0aW9uQnlLZXlDb2RlKGEpKT9CbG9ja2x5Lm5hdmlnYXRpb24ub25CbG9ja2x5QWN0aW9uKGEpOiExfTtcbkJsb2NrbHkubmF2aWdhdGlvbi5vbkJsb2NrbHlBY3Rpb249ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCkub3B0aW9ucy5yZWFkT25seSxjPSExO0Jsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGU/Yj8tMTxCbG9ja2x5Lm5hdmlnYXRpb24uUkVBRE9OTFlfQUNUSU9OX0xJU1QuaW5kZXhPZihhKSYmKGM9QmxvY2tseS5uYXZpZ2F0aW9uLmhhbmRsZUFjdGlvbnNfKGEpKTpjPUJsb2NrbHkubmF2aWdhdGlvbi5oYW5kbGVBY3Rpb25zXyhhKTphLm5hbWU9PT1CbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuVE9HR0xFX0tFWUJPQVJEX05BViYmKEJsb2NrbHkubmF2aWdhdGlvbi5lbmFibGVLZXlib2FyZEFjY2Vzc2liaWxpdHkoKSxjPSEwKTtyZXR1cm4gY307XG5CbG9ja2x5Lm5hdmlnYXRpb24uaGFuZGxlQWN0aW9uc189ZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZT09QmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLlRPT0xCT1h8fEJsb2NrbHkubmF2aWdhdGlvbi5jdXJyZW50U3RhdGVfPT1CbG9ja2x5Lm5hdmlnYXRpb24uU1RBVEVfVE9PTEJPWD9CbG9ja2x5Lm5hdmlnYXRpb24udG9vbGJveE9uQWN0aW9uXyhhKTphLm5hbWU9PUJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5UT0dHTEVfS0VZQk9BUkRfTkFWPyhCbG9ja2x5Lm5hdmlnYXRpb24uZGlzYWJsZUtleWJvYXJkQWNjZXNzaWJpbGl0eSgpLCEwKTpCbG9ja2x5Lm5hdmlnYXRpb24uY3VycmVudFN0YXRlXz09QmxvY2tseS5uYXZpZ2F0aW9uLlNUQVRFX1dTP0Jsb2NrbHkubmF2aWdhdGlvbi53b3Jrc3BhY2VPbkFjdGlvbl8oYSk6QmxvY2tseS5uYXZpZ2F0aW9uLmN1cnJlbnRTdGF0ZV89PUJsb2NrbHkubmF2aWdhdGlvbi5TVEFURV9GTFlPVVQ/QmxvY2tseS5uYXZpZ2F0aW9uLmZseW91dE9uQWN0aW9uXyhhKTpcbiExfTtCbG9ja2x5Lm5hdmlnYXRpb24uZmx5b3V0T25BY3Rpb25fPWZ1bmN0aW9uKGEpe3ZhciBiPUJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpLGM9Yi5nZXRUb29sYm94KCk7aWYoKGI9Yz9jLmZseW91dF86Yi5nZXRGbHlvdXQoKSkmJmIub25CbG9ja2x5QWN0aW9uKGEpKXJldHVybiEwO3N3aXRjaChhLm5hbWUpe2Nhc2UgQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLk9VVDpyZXR1cm4gQmxvY2tseS5uYXZpZ2F0aW9uLmZvY3VzVG9vbGJveF8oKSwhMDtjYXNlIEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5NQVJLOnJldHVybiBCbG9ja2x5Lm5hdmlnYXRpb24uaW5zZXJ0RnJvbUZseW91dCgpLCEwO2Nhc2UgQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLkVYSVQ6cmV0dXJuIEJsb2NrbHkubmF2aWdhdGlvbi5mb2N1c1dvcmtzcGFjZV8oKSwhMDtkZWZhdWx0OnJldHVybiExfX07XG5CbG9ja2x5Lm5hdmlnYXRpb24udG9vbGJveE9uQWN0aW9uXz1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LmdldE1haW5Xb3Jrc3BhY2UoKSxjPWIuZ2V0VG9vbGJveCgpO3JldHVybiBjJiZjLm9uQmxvY2tseUFjdGlvbihhKT8hMDphLm5hbWU9PT1CbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuVE9PTEJPWD8oYi5nZXRUb29sYm94KCk/QmxvY2tseS5uYXZpZ2F0aW9uLmZvY3VzVG9vbGJveF8oKTpCbG9ja2x5Lm5hdmlnYXRpb24uZm9jdXNGbHlvdXRfKCksITApOmEubmFtZT09PUJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5JTj8oQmxvY2tseS5uYXZpZ2F0aW9uLmZvY3VzRmx5b3V0XygpLCEwKTphLm5hbWU9PT1CbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuRVhJVD8oQmxvY2tseS5uYXZpZ2F0aW9uLmZvY3VzV29ya3NwYWNlXygpLCEwKTohMX07XG5CbG9ja2x5Lm5hdmlnYXRpb24ubW92ZVdTQ3Vyc29yXz1mdW5jdGlvbihhLGIpe3ZhciBjPUJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpLmdldEN1cnNvcigpLGQ9QmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCkuZ2V0Q3Vyc29yKCkuZ2V0Q3VyTm9kZSgpO2lmKGQuZ2V0VHlwZSgpIT09QmxvY2tseS5BU1ROb2RlLnR5cGVzLldPUktTUEFDRSlyZXR1cm4hMTtkPWQuZ2V0V3NDb29yZGluYXRlKCk7YT1hKkJsb2NrbHkubmF2aWdhdGlvbi5XU19NT1ZFX0RJU1RBTkNFK2QueDtiPWIqQmxvY2tseS5uYXZpZ2F0aW9uLldTX01PVkVfRElTVEFOQ0UrZC55O2Muc2V0Q3VyTm9kZShCbG9ja2x5LkFTVE5vZGUuY3JlYXRlV29ya3NwYWNlTm9kZShCbG9ja2x5LmdldE1haW5Xb3Jrc3BhY2UoKSxuZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKGEsYikpKTtyZXR1cm4hMH07XG5CbG9ja2x5Lm5hdmlnYXRpb24ud29ya3NwYWNlT25BY3Rpb25fPWZ1bmN0aW9uKGEpe2lmKEJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpLmdldEN1cnNvcigpLm9uQmxvY2tseUFjdGlvbihhKSlyZXR1cm4hMDtzd2l0Y2goYS5uYW1lKXtjYXNlIEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5JTlNFUlQ6cmV0dXJuIEJsb2NrbHkubmF2aWdhdGlvbi5tb2RpZnlfKCksITA7Y2FzZSBCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuTUFSSzpyZXR1cm4gQmxvY2tseS5uYXZpZ2F0aW9uLmhhbmRsZUVudGVyRm9yV1NfKCksITA7Y2FzZSBCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuRElTQ09OTkVDVDpyZXR1cm4gQmxvY2tseS5uYXZpZ2F0aW9uLmRpc2Nvbm5lY3RCbG9ja3NfKCksITA7Y2FzZSBCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuTU9WRV9XU19DVVJTT1JfVVA6cmV0dXJuIEJsb2NrbHkubmF2aWdhdGlvbi5tb3ZlV1NDdXJzb3JfKDAsLTEpO1xuY2FzZSBCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuTU9WRV9XU19DVVJTT1JfRE9XTjpyZXR1cm4gQmxvY2tseS5uYXZpZ2F0aW9uLm1vdmVXU0N1cnNvcl8oMCwxKTtjYXNlIEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5NT1ZFX1dTX0NVUlNPUl9MRUZUOnJldHVybiBCbG9ja2x5Lm5hdmlnYXRpb24ubW92ZVdTQ3Vyc29yXygtMSwwKTtjYXNlIEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5NT1ZFX1dTX0NVUlNPUl9SSUdIVDpyZXR1cm4gQmxvY2tseS5uYXZpZ2F0aW9uLm1vdmVXU0N1cnNvcl8oMSwwKTtkZWZhdWx0OnJldHVybiExfX07XG5CbG9ja2x5Lm5hdmlnYXRpb24uaGFuZGxlRW50ZXJGb3JXU189ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5LmdldE1haW5Xb3Jrc3BhY2UoKS5nZXRDdXJzb3IoKS5nZXRDdXJOb2RlKCksYj1hLmdldFR5cGUoKTtiPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuRklFTEQ/YS5nZXRMb2NhdGlvbigpLnNob3dFZGl0b3IoKTphLmlzQ29ubmVjdGlvbigpfHxiPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuV09SS1NQQUNFP0Jsb2NrbHkubmF2aWdhdGlvbi5tYXJrQXRDdXJzb3JfKCk6Yj09QmxvY2tseS5BU1ROb2RlLnR5cGVzLkJMT0NLP0Jsb2NrbHkubmF2aWdhdGlvbi53YXJuXyhcIkNhbm5vdCBtYXJrIGEgYmxvY2suXCIpOmI9PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5TVEFDSyYmQmxvY2tseS5uYXZpZ2F0aW9uLndhcm5fKFwiQ2Fubm90IG1hcmsgYSBzdGFjay5cIil9O1xuQmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9QUkVWSU9VUz1uZXcgQmxvY2tseS5BY3Rpb24oQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLlBSRVZJT1VTLFwiR28gdG8gdGhlIHByZXZpb3VzIGxvY2F0aW9uLlwiKTtCbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX09VVD1uZXcgQmxvY2tseS5BY3Rpb24oQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLk9VVCxcIkdvIHRvIHRoZSBwYXJlbnQgb2YgdGhlIGN1cnJlbnQgbG9jYXRpb24uXCIpO0Jsb2NrbHkubmF2aWdhdGlvbi5BQ1RJT05fTkVYVD1uZXcgQmxvY2tseS5BY3Rpb24oQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLk5FWFQsXCJHbyB0byB0aGUgbmV4dCBsb2NhdGlvbi5cIik7QmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9JTj1uZXcgQmxvY2tseS5BY3Rpb24oQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLklOLFwiR28gdG8gdGhlIGZpcnN0IGNoaWxkIG9mIHRoZSBjdXJyZW50IGxvY2F0aW9uLlwiKTtcbkJsb2NrbHkubmF2aWdhdGlvbi5BQ1RJT05fSU5TRVJUPW5ldyBCbG9ja2x5LkFjdGlvbihCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuSU5TRVJULFwiQ29ubmVjdCB0aGUgY3VycmVudCBsb2NhdGlvbiB0byB0aGUgbWFya2VkIGxvY2F0aW9uLlwiKTtCbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX01BUks9bmV3IEJsb2NrbHkuQWN0aW9uKEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5NQVJLLFwiTWFyayB0aGUgY3VycmVudCBsb2NhdGlvbi5cIik7QmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9ESVNDT05ORUNUPW5ldyBCbG9ja2x5LkFjdGlvbihCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuRElTQ09OTkVDVCxcIkRpc2Nvbm5lY3QgdGhlIGJsb2NrIGF0IHRoZSBjdXJyZW50IGxvY2F0aW9uIGZyb20gaXRzIHBhcmVudC5cIik7XG5CbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX1RPT0xCT1g9bmV3IEJsb2NrbHkuQWN0aW9uKEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5UT09MQk9YLFwiT3BlbiB0aGUgdG9vbGJveC5cIik7QmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9FWElUPW5ldyBCbG9ja2x5LkFjdGlvbihCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuRVhJVCxcIkNsb3NlIHRoZSBjdXJyZW50IG1vZGFsLCBzdWNoIGFzIGEgdG9vbGJveCBvciBmaWVsZCBlZGl0b3IuXCIpO0Jsb2NrbHkubmF2aWdhdGlvbi5BQ1RJT05fVE9HR0xFX0tFWUJPQVJEX05BVj1uZXcgQmxvY2tseS5BY3Rpb24oQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLlRPR0dMRV9LRVlCT0FSRF9OQVYsXCJUdXJucyBvbiBhbmQgb2ZmIGtleWJvYXJkIG5hdmlnYXRpb24uXCIpO1xuQmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9NT1ZFX1dTX0NVUlNPUl9MRUZUPW5ldyBCbG9ja2x5LkFjdGlvbihCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuTU9WRV9XU19DVVJTT1JfTEVGVCxcIk1vdmUgdGhlIHdvcmtzcGFjZSBjdXJzb3IgdG8gdGhlIGxlZnRzLlwiKTtCbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX01PVkVfV1NfQ1VSU09SX1JJR0hUPW5ldyBCbG9ja2x5LkFjdGlvbihCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuTU9WRV9XU19DVVJTT1JfUklHSFQsXCJNb3ZlIHRoZSB3b3Jrc3BhY2UgY3Vyc29yIHRvIHRoZSByaWdodC5cIik7QmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9NT1ZFX1dTX0NVUlNPUl9VUD1uZXcgQmxvY2tseS5BY3Rpb24oQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLk1PVkVfV1NfQ1VSU09SX1VQLFwiTW92ZSB0aGUgd29ya3NwYWNlIGN1cnNvciB1cC5cIik7XG5CbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX01PVkVfV1NfQ1VSU09SX0RPV049bmV3IEJsb2NrbHkuQWN0aW9uKEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5NT1ZFX1dTX0NVUlNPUl9ET1dOLFwiTW92ZSB0aGUgd29ya3NwYWNlIGN1cnNvciBkb3duLlwiKTtCbG9ja2x5Lm5hdmlnYXRpb24uUkVBRE9OTFlfQUNUSU9OX0xJU1Q9W0Jsb2NrbHkubmF2aWdhdGlvbi5BQ1RJT05fUFJFVklPVVMsQmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9PVVQsQmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9JTixCbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX05FWFQsQmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9UT0dHTEVfS0VZQk9BUkRfTkFWXTtCbG9ja2x5Lkdlc3R1cmU9ZnVuY3Rpb24oYSxiKXt0aGlzLm1vdXNlRG93blhZXz1udWxsO3RoaXMuY3VycmVudERyYWdEZWx0YVhZXz1uZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKDAsMCk7dGhpcy5zdGFydFdvcmtzcGFjZV89dGhpcy50YXJnZXRCbG9ja189dGhpcy5zdGFydEJsb2NrXz10aGlzLnN0YXJ0RmllbGRfPXRoaXMuc3RhcnRCdWJibGVfPW51bGw7dGhpcy5jcmVhdG9yV29ya3NwYWNlXz1iO3RoaXMuaXNEcmFnZ2luZ0J1YmJsZV89dGhpcy5pc0RyYWdnaW5nQmxvY2tfPXRoaXMuaXNEcmFnZ2luZ1dvcmtzcGFjZV89dGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXNfPSExO3RoaXMubW9zdFJlY2VudEV2ZW50Xz1hO3RoaXMuZmx5b3V0Xz10aGlzLndvcmtzcGFjZURyYWdnZXJfPXRoaXMuYmxvY2tEcmFnZ2VyXz10aGlzLmJ1YmJsZURyYWdnZXJfPXRoaXMub25VcFdyYXBwZXJfPXRoaXMub25Nb3ZlV3JhcHBlcl89bnVsbDt0aGlzLmlzRW5kaW5nXz10aGlzLmhhc1N0YXJ0ZWRfPVxudGhpcy5jYWxsZWRVcGRhdGVJc0RyYWdnaW5nXz0hMTt0aGlzLmhlYWxTdGFja189IUJsb2NrbHkuRFJBR19TVEFDS307QmxvY2tseS5HZXN0dXJlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7QmxvY2tseS5Ub3VjaC5jbGVhclRvdWNoSWRlbnRpZmllcigpO0Jsb2NrbHkuVG9vbHRpcC51bmJsb2NrKCk7dGhpcy5jcmVhdG9yV29ya3NwYWNlXy5jbGVhckdlc3R1cmUoKTt0aGlzLm9uTW92ZVdyYXBwZXJfJiZCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLm9uTW92ZVdyYXBwZXJfKTt0aGlzLm9uVXBXcmFwcGVyXyYmQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5vblVwV3JhcHBlcl8pO3RoaXMuYmxvY2tEcmFnZ2VyXyYmdGhpcy5ibG9ja0RyYWdnZXJfLmRpc3Bvc2UoKTt0aGlzLndvcmtzcGFjZURyYWdnZXJfJiZ0aGlzLndvcmtzcGFjZURyYWdnZXJfLmRpc3Bvc2UoKTt0aGlzLmJ1YmJsZURyYWdnZXJfJiZ0aGlzLmJ1YmJsZURyYWdnZXJfLmRpc3Bvc2UoKX07XG5CbG9ja2x5Lkdlc3R1cmUucHJvdG90eXBlLnVwZGF0ZUZyb21FdmVudF89ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShhLmNsaWVudFgsYS5jbGllbnRZKTt0aGlzLnVwZGF0ZURyYWdEZWx0YV8oYikmJih0aGlzLnVwZGF0ZUlzRHJhZ2dpbmdfKCksQmxvY2tseS5sb25nU3RvcF8oKSk7dGhpcy5tb3N0UmVjZW50RXZlbnRfPWF9O1xuQmxvY2tseS5HZXN0dXJlLnByb3RvdHlwZS51cGRhdGVEcmFnRGVsdGFfPWZ1bmN0aW9uKGEpe3RoaXMuY3VycmVudERyYWdEZWx0YVhZXz1CbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUuZGlmZmVyZW5jZShhLHRoaXMubW91c2VEb3duWFlfKTtyZXR1cm4gdGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXNfPyExOnRoaXMuaGFzRXhjZWVkZWREcmFnUmFkaXVzXz1CbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUubWFnbml0dWRlKHRoaXMuY3VycmVudERyYWdEZWx0YVhZXyk+KHRoaXMuZmx5b3V0Xz9CbG9ja2x5LkZMWU9VVF9EUkFHX1JBRElVUzpCbG9ja2x5LkRSQUdfUkFESVVTKX07XG5CbG9ja2x5Lkdlc3R1cmUucHJvdG90eXBlLnVwZGF0ZUlzRHJhZ2dpbmdGcm9tRmx5b3V0Xz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRhcmdldEJsb2NrXyYmdGhpcy5mbHlvdXRfLmlzQmxvY2tDcmVhdGFibGVfKHRoaXMudGFyZ2V0QmxvY2tfKT8hdGhpcy5mbHlvdXRfLmlzU2Nyb2xsYWJsZSgpfHx0aGlzLmZseW91dF8uaXNEcmFnVG93YXJkV29ya3NwYWNlKHRoaXMuY3VycmVudERyYWdEZWx0YVhZXyk/KHRoaXMuc3RhcnRXb3Jrc3BhY2VfPXRoaXMuZmx5b3V0Xy50YXJnZXRXb3Jrc3BhY2VfLHRoaXMuc3RhcnRXb3Jrc3BhY2VfLnVwZGF0ZVNjcmVlbkNhbGN1bGF0aW9uc0lmU2Nyb2xsZWQoKSxCbG9ja2x5LkV2ZW50cy5nZXRHcm91cCgpfHxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMCksdGhpcy5zdGFydEJsb2NrXz1udWxsLHRoaXMudGFyZ2V0QmxvY2tfPXRoaXMuZmx5b3V0Xy5jcmVhdGVCbG9jayh0aGlzLnRhcmdldEJsb2NrXyksdGhpcy50YXJnZXRCbG9ja18uc2VsZWN0KCksXG4hMCk6ITE6ITF9O0Jsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUudXBkYXRlSXNEcmFnZ2luZ0J1YmJsZV89ZnVuY3Rpb24oKXtpZighdGhpcy5zdGFydEJ1YmJsZV8pcmV0dXJuITE7dGhpcy5pc0RyYWdnaW5nQnViYmxlXz0hMDt0aGlzLnN0YXJ0RHJhZ2dpbmdCdWJibGVfKCk7cmV0dXJuITB9O0Jsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUudXBkYXRlSXNEcmFnZ2luZ0Jsb2NrXz1mdW5jdGlvbigpe2lmKCF0aGlzLnRhcmdldEJsb2NrXylyZXR1cm4hMTt0aGlzLmZseW91dF8/dGhpcy5pc0RyYWdnaW5nQmxvY2tfPXRoaXMudXBkYXRlSXNEcmFnZ2luZ0Zyb21GbHlvdXRfKCk6dGhpcy50YXJnZXRCbG9ja18uaXNNb3ZhYmxlKCkmJih0aGlzLmlzRHJhZ2dpbmdCbG9ja189ITApO3JldHVybiB0aGlzLmlzRHJhZ2dpbmdCbG9ja18/KHRoaXMuc3RhcnREcmFnZ2luZ0Jsb2NrXygpLCEwKTohMX07XG5CbG9ja2x5Lkdlc3R1cmUucHJvdG90eXBlLnVwZGF0ZUlzRHJhZ2dpbmdXb3Jrc3BhY2VfPWZ1bmN0aW9uKCl7aWYodGhpcy5mbHlvdXRfP3RoaXMuZmx5b3V0Xy5pc1Njcm9sbGFibGUoKTp0aGlzLnN0YXJ0V29ya3NwYWNlXyYmdGhpcy5zdGFydFdvcmtzcGFjZV8uaXNEcmFnZ2FibGUoKSl0aGlzLndvcmtzcGFjZURyYWdnZXJfPXRoaXMuZmx5b3V0Xz9uZXcgQmxvY2tseS5GbHlvdXREcmFnZ2VyKHRoaXMuZmx5b3V0Xyk6bmV3IEJsb2NrbHkuV29ya3NwYWNlRHJhZ2dlcih0aGlzLnN0YXJ0V29ya3NwYWNlXyksdGhpcy5pc0RyYWdnaW5nV29ya3NwYWNlXz0hMCx0aGlzLndvcmtzcGFjZURyYWdnZXJfLnN0YXJ0RHJhZygpfTtcbkJsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUudXBkYXRlSXNEcmFnZ2luZ189ZnVuY3Rpb24oKXtpZih0aGlzLmNhbGxlZFVwZGF0ZUlzRHJhZ2dpbmdfKXRocm93IEVycm9yKFwidXBkYXRlSXNEcmFnZ2luZ18gc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgcGVyIGdlc3R1cmUuXCIpO3RoaXMuY2FsbGVkVXBkYXRlSXNEcmFnZ2luZ189ITA7dGhpcy51cGRhdGVJc0RyYWdnaW5nQnViYmxlXygpfHx0aGlzLnVwZGF0ZUlzRHJhZ2dpbmdCbG9ja18oKXx8dGhpcy51cGRhdGVJc0RyYWdnaW5nV29ya3NwYWNlXygpfTtcbkJsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUuc3RhcnREcmFnZ2luZ0Jsb2NrXz1mdW5jdGlvbigpe3RoaXMuYmxvY2tEcmFnZ2VyXz1uZXcgQmxvY2tseS5CbG9ja0RyYWdnZXIodGhpcy50YXJnZXRCbG9ja18sdGhpcy5zdGFydFdvcmtzcGFjZV8pO3RoaXMuYmxvY2tEcmFnZ2VyXy5zdGFydEJsb2NrRHJhZyh0aGlzLmN1cnJlbnREcmFnRGVsdGFYWV8sdGhpcy5oZWFsU3RhY2tfKTt0aGlzLmJsb2NrRHJhZ2dlcl8uZHJhZ0Jsb2NrKHRoaXMubW9zdFJlY2VudEV2ZW50Xyx0aGlzLmN1cnJlbnREcmFnRGVsdGFYWV8pfTtcbkJsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUuc3RhcnREcmFnZ2luZ0J1YmJsZV89ZnVuY3Rpb24oKXt0aGlzLmJ1YmJsZURyYWdnZXJfPW5ldyBCbG9ja2x5LkJ1YmJsZURyYWdnZXIodGhpcy5zdGFydEJ1YmJsZV8sdGhpcy5zdGFydFdvcmtzcGFjZV8pO3RoaXMuYnViYmxlRHJhZ2dlcl8uc3RhcnRCdWJibGVEcmFnKCk7dGhpcy5idWJibGVEcmFnZ2VyXy5kcmFnQnViYmxlKHRoaXMubW9zdFJlY2VudEV2ZW50Xyx0aGlzLmN1cnJlbnREcmFnRGVsdGFYWV8pfTtcbkJsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUuZG9TdGFydD1mdW5jdGlvbihhKXtCbG9ja2x5LnV0aWxzLmlzVGFyZ2V0SW5wdXQoYSk/dGhpcy5jYW5jZWwoKToodGhpcy5oYXNTdGFydGVkXz0hMCxCbG9ja2x5LmJsb2NrQW5pbWF0aW9ucy5kaXNjb25uZWN0VWlTdG9wKCksdGhpcy5zdGFydFdvcmtzcGFjZV8udXBkYXRlU2NyZWVuQ2FsY3VsYXRpb25zSWZTY3JvbGxlZCgpLHRoaXMuc3RhcnRXb3Jrc3BhY2VfLmlzTXV0YXRvciYmdGhpcy5zdGFydFdvcmtzcGFjZV8ucmVzaXplKCksQmxvY2tseS5oaWRlQ2hhZmYoISF0aGlzLmZseW91dF8pLHRoaXMuc3RhcnRXb3Jrc3BhY2VfLm1hcmtGb2N1c2VkKCksdGhpcy5tb3N0UmVjZW50RXZlbnRfPWEsQmxvY2tseS5Ub29sdGlwLmJsb2NrKCksdGhpcy50YXJnZXRCbG9ja18mJighdGhpcy50YXJnZXRCbG9ja18uaXNJbkZseW91dCYmYS5zaGlmdEtleSYmdGhpcy50YXJnZXRCbG9ja18ud29ya3NwYWNlLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGU/XG50aGlzLmNyZWF0b3JXb3Jrc3BhY2VfLmdldEN1cnNvcigpLnNldEN1ck5vZGUoQmxvY2tseS5uYXZpZ2F0aW9uLmdldFRvcE5vZGUodGhpcy50YXJnZXRCbG9ja18pKTp0aGlzLnRhcmdldEJsb2NrXy5zZWxlY3QoKSksQmxvY2tseS51dGlscy5pc1JpZ2h0QnV0dG9uKGEpP3RoaXMuaGFuZGxlUmlnaHRDbGljayhhKTooXCJ0b3VjaHN0YXJ0XCIhPWEudHlwZS50b0xvd2VyQ2FzZSgpJiZcInBvaW50ZXJkb3duXCIhPWEudHlwZS50b0xvd2VyQ2FzZSgpfHxcIm1vdXNlXCI9PWEucG9pbnRlclR5cGV8fEJsb2NrbHkubG9uZ1N0YXJ0KGEsdGhpcyksdGhpcy5tb3VzZURvd25YWV89bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShhLmNsaWVudFgsYS5jbGllbnRZKSx0aGlzLmhlYWxTdGFja189YS5hbHRLZXl8fGEuY3RybEtleXx8YS5tZXRhS2V5LHRoaXMuYmluZE1vdXNlRXZlbnRzKGEpKSl9O1xuQmxvY2tseS5HZXN0dXJlLnByb3RvdHlwZS5iaW5kTW91c2VFdmVudHM9ZnVuY3Rpb24oYSl7dGhpcy5vbk1vdmVXcmFwcGVyXz1CbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGRvY3VtZW50LFwibW91c2Vtb3ZlXCIsbnVsbCx0aGlzLmhhbmRsZU1vdmUuYmluZCh0aGlzKSk7dGhpcy5vblVwV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhkb2N1bWVudCxcIm1vdXNldXBcIixudWxsLHRoaXMuaGFuZGxlVXAuYmluZCh0aGlzKSk7YS5wcmV2ZW50RGVmYXVsdCgpO2Euc3RvcFByb3BhZ2F0aW9uKCl9O1xuQmxvY2tseS5HZXN0dXJlLnByb3RvdHlwZS5oYW5kbGVNb3ZlPWZ1bmN0aW9uKGEpe3RoaXMudXBkYXRlRnJvbUV2ZW50XyhhKTt0aGlzLmlzRHJhZ2dpbmdXb3Jrc3BhY2VfP3RoaXMud29ya3NwYWNlRHJhZ2dlcl8uZHJhZyh0aGlzLmN1cnJlbnREcmFnRGVsdGFYWV8pOnRoaXMuaXNEcmFnZ2luZ0Jsb2NrXz90aGlzLmJsb2NrRHJhZ2dlcl8uZHJhZ0Jsb2NrKHRoaXMubW9zdFJlY2VudEV2ZW50Xyx0aGlzLmN1cnJlbnREcmFnRGVsdGFYWV8pOnRoaXMuaXNEcmFnZ2luZ0J1YmJsZV8mJnRoaXMuYnViYmxlRHJhZ2dlcl8uZHJhZ0J1YmJsZSh0aGlzLm1vc3RSZWNlbnRFdmVudF8sdGhpcy5jdXJyZW50RHJhZ0RlbHRhWFlfKTthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKX07XG5CbG9ja2x5Lkdlc3R1cmUucHJvdG90eXBlLmhhbmRsZVVwPWZ1bmN0aW9uKGEpe3RoaXMudXBkYXRlRnJvbUV2ZW50XyhhKTtCbG9ja2x5LmxvbmdTdG9wXygpO3RoaXMuaXNFbmRpbmdfP2NvbnNvbGUubG9nKFwiVHJ5aW5nIHRvIGVuZCBhIGdlc3R1cmUgcmVjdXJzaXZlbHkuXCIpOih0aGlzLmlzRW5kaW5nXz0hMCx0aGlzLmlzRHJhZ2dpbmdCdWJibGVfP3RoaXMuYnViYmxlRHJhZ2dlcl8uZW5kQnViYmxlRHJhZyhhLHRoaXMuY3VycmVudERyYWdEZWx0YVhZXyk6dGhpcy5pc0RyYWdnaW5nQmxvY2tfP3RoaXMuYmxvY2tEcmFnZ2VyXy5lbmRCbG9ja0RyYWcoYSx0aGlzLmN1cnJlbnREcmFnRGVsdGFYWV8pOnRoaXMuaXNEcmFnZ2luZ1dvcmtzcGFjZV8/dGhpcy53b3Jrc3BhY2VEcmFnZ2VyXy5lbmREcmFnKHRoaXMuY3VycmVudERyYWdEZWx0YVhZXyk6dGhpcy5pc0J1YmJsZUNsaWNrXygpP3RoaXMuZG9CdWJibGVDbGlja18oKTp0aGlzLmlzRmllbGRDbGlja18oKT90aGlzLmRvRmllbGRDbGlja18oKTpcbnRoaXMuaXNCbG9ja0NsaWNrXygpP3RoaXMuZG9CbG9ja0NsaWNrXygpOnRoaXMuaXNXb3Jrc3BhY2VDbGlja18oKSYmdGhpcy5kb1dvcmtzcGFjZUNsaWNrXyhhKSxhLnByZXZlbnREZWZhdWx0KCksYS5zdG9wUHJvcGFnYXRpb24oKSx0aGlzLmRpc3Bvc2UoKSl9O1xuQmxvY2tseS5HZXN0dXJlLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmlzRW5kaW5nX3x8KEJsb2NrbHkubG9uZ1N0b3BfKCksdGhpcy5pc0RyYWdnaW5nQnViYmxlXz90aGlzLmJ1YmJsZURyYWdnZXJfLmVuZEJ1YmJsZURyYWcodGhpcy5tb3N0UmVjZW50RXZlbnRfLHRoaXMuY3VycmVudERyYWdEZWx0YVhZXyk6dGhpcy5pc0RyYWdnaW5nQmxvY2tfP3RoaXMuYmxvY2tEcmFnZ2VyXy5lbmRCbG9ja0RyYWcodGhpcy5tb3N0UmVjZW50RXZlbnRfLHRoaXMuY3VycmVudERyYWdEZWx0YVhZXyk6dGhpcy5pc0RyYWdnaW5nV29ya3NwYWNlXyYmdGhpcy53b3Jrc3BhY2VEcmFnZ2VyXy5lbmREcmFnKHRoaXMuY3VycmVudERyYWdEZWx0YVhZXyksdGhpcy5kaXNwb3NlKCkpfTtcbkJsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUuaGFuZGxlUmlnaHRDbGljaz1mdW5jdGlvbihhKXt0aGlzLnRhcmdldEJsb2NrXz8odGhpcy5icmluZ0Jsb2NrVG9Gcm9udF8oKSxCbG9ja2x5LmhpZGVDaGFmZighIXRoaXMuZmx5b3V0XyksdGhpcy50YXJnZXRCbG9ja18uc2hvd0NvbnRleHRNZW51KGEpKTp0aGlzLnN0YXJ0QnViYmxlXz90aGlzLnN0YXJ0QnViYmxlXy5zaG93Q29udGV4dE1lbnUoYSk6dGhpcy5zdGFydFdvcmtzcGFjZV8mJiF0aGlzLmZseW91dF8mJihCbG9ja2x5LmhpZGVDaGFmZigpLHRoaXMuc3RhcnRXb3Jrc3BhY2VfLnNob3dDb250ZXh0TWVudShhKSk7YS5wcmV2ZW50RGVmYXVsdCgpO2Euc3RvcFByb3BhZ2F0aW9uKCk7dGhpcy5kaXNwb3NlKCl9O1xuQmxvY2tseS5HZXN0dXJlLnByb3RvdHlwZS5oYW5kbGVXc1N0YXJ0PWZ1bmN0aW9uKGEsYil7aWYodGhpcy5oYXNTdGFydGVkXyl0aHJvdyBFcnJvcihcIlRyaWVkIHRvIGNhbGwgZ2VzdHVyZS5oYW5kbGVXc1N0YXJ0LCBidXQgdGhlIGdlc3R1cmUgaGFkIGFscmVhZHkgYmVlbiBzdGFydGVkLlwiKTt0aGlzLnNldFN0YXJ0V29ya3NwYWNlXyhiKTt0aGlzLm1vc3RSZWNlbnRFdmVudF89YTt0aGlzLmRvU3RhcnQoYSk7dGhpcy5zdGFydFdvcmtzcGFjZV8ua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSYmQmxvY2tseS5uYXZpZ2F0aW9uLnNldFN0YXRlKEJsb2NrbHkubmF2aWdhdGlvbi5TVEFURV9XUyl9O1xuQmxvY2tseS5HZXN0dXJlLnByb3RvdHlwZS5oYW5kbGVGbHlvdXRTdGFydD1mdW5jdGlvbihhLGIpe2lmKHRoaXMuaGFzU3RhcnRlZF8pdGhyb3cgRXJyb3IoXCJUcmllZCB0byBjYWxsIGdlc3R1cmUuaGFuZGxlRmx5b3V0U3RhcnQsIGJ1dCB0aGUgZ2VzdHVyZSBoYWQgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQuXCIpO3RoaXMuc2V0U3RhcnRGbHlvdXRfKGIpO3RoaXMuaGFuZGxlV3NTdGFydChhLGIuZ2V0V29ya3NwYWNlKCkpfTtCbG9ja2x5Lkdlc3R1cmUucHJvdG90eXBlLmhhbmRsZUJsb2NrU3RhcnQ9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmhhc1N0YXJ0ZWRfKXRocm93IEVycm9yKFwiVHJpZWQgdG8gY2FsbCBnZXN0dXJlLmhhbmRsZUJsb2NrU3RhcnQsIGJ1dCB0aGUgZ2VzdHVyZSBoYWQgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQuXCIpO3RoaXMuc2V0U3RhcnRCbG9jayhiKTt0aGlzLm1vc3RSZWNlbnRFdmVudF89YX07XG5CbG9ja2x5Lkdlc3R1cmUucHJvdG90eXBlLmhhbmRsZUJ1YmJsZVN0YXJ0PWZ1bmN0aW9uKGEsYil7aWYodGhpcy5oYXNTdGFydGVkXyl0aHJvdyBFcnJvcihcIlRyaWVkIHRvIGNhbGwgZ2VzdHVyZS5oYW5kbGVCdWJibGVTdGFydCwgYnV0IHRoZSBnZXN0dXJlIGhhZCBhbHJlYWR5IGJlZW4gc3RhcnRlZC5cIik7dGhpcy5zZXRTdGFydEJ1YmJsZShiKTt0aGlzLm1vc3RSZWNlbnRFdmVudF89YX07QmxvY2tseS5HZXN0dXJlLnByb3RvdHlwZS5kb0J1YmJsZUNsaWNrXz1mdW5jdGlvbigpe3RoaXMuc3RhcnRCdWJibGVfLnNldEZvY3VzJiZ0aGlzLnN0YXJ0QnViYmxlXy5zZXRGb2N1cygpO3RoaXMuc3RhcnRCdWJibGVfLnNlbGVjdCYmdGhpcy5zdGFydEJ1YmJsZV8uc2VsZWN0KCl9O0Jsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUuZG9GaWVsZENsaWNrXz1mdW5jdGlvbigpe3RoaXMuc3RhcnRGaWVsZF8uc2hvd0VkaXRvcih0aGlzLm1vc3RSZWNlbnRFdmVudF8pO3RoaXMuYnJpbmdCbG9ja1RvRnJvbnRfKCl9O1xuQmxvY2tseS5HZXN0dXJlLnByb3RvdHlwZS5kb0Jsb2NrQ2xpY2tfPWZ1bmN0aW9uKCl7dGhpcy5mbHlvdXRfJiZ0aGlzLmZseW91dF8uYXV0b0Nsb3NlP3RoaXMudGFyZ2V0QmxvY2tfLmlzRW5hYmxlZCgpJiYoQmxvY2tseS5FdmVudHMuZ2V0R3JvdXAoKXx8QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITApLHRoaXMuZmx5b3V0Xy5jcmVhdGVCbG9jayh0aGlzLnRhcmdldEJsb2NrXykuc2NoZWR1bGVTbmFwQW5kQnVtcCgpKTpCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5VaSh0aGlzLnN0YXJ0QmxvY2tfLFwiY2xpY2tcIix2b2lkIDAsdm9pZCAwKSk7dGhpcy5icmluZ0Jsb2NrVG9Gcm9udF8oKTtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSl9O1xuQmxvY2tseS5HZXN0dXJlLnByb3RvdHlwZS5kb1dvcmtzcGFjZUNsaWNrXz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0b3JXb3Jrc3BhY2VfO2Euc2hpZnRLZXkmJmIua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZT8oYT1uZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKGEuY2xpZW50WCxhLmNsaWVudFkpLGE9QmxvY2tseS51dGlscy5zY3JlZW5Ub1dzQ29vcmRpbmF0ZXMoYixhKSxhPUJsb2NrbHkuQVNUTm9kZS5jcmVhdGVXb3Jrc3BhY2VOb2RlKGIsYSksYi5nZXRDdXJzb3IoKS5zZXRDdXJOb2RlKGEpKTpCbG9ja2x5LnNlbGVjdGVkJiZCbG9ja2x5LnNlbGVjdGVkLnVuc2VsZWN0KCl9O0Jsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUuYnJpbmdCbG9ja1RvRnJvbnRfPWZ1bmN0aW9uKCl7dGhpcy50YXJnZXRCbG9ja18mJiF0aGlzLmZseW91dF8mJnRoaXMudGFyZ2V0QmxvY2tfLmJyaW5nVG9Gcm9udCgpfTtcbkJsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUuc2V0U3RhcnRGaWVsZD1mdW5jdGlvbihhKXtpZih0aGlzLmhhc1N0YXJ0ZWRfKXRocm93IEVycm9yKFwiVHJpZWQgdG8gY2FsbCBnZXN0dXJlLnNldFN0YXJ0RmllbGQsIGJ1dCB0aGUgZ2VzdHVyZSBoYWQgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQuXCIpO3RoaXMuc3RhcnRGaWVsZF98fCh0aGlzLnN0YXJ0RmllbGRfPWEpfTtCbG9ja2x5Lkdlc3R1cmUucHJvdG90eXBlLnNldFN0YXJ0QnViYmxlPWZ1bmN0aW9uKGEpe3RoaXMuc3RhcnRCdWJibGVffHwodGhpcy5zdGFydEJ1YmJsZV89YSl9O0Jsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUuc2V0U3RhcnRCbG9jaz1mdW5jdGlvbihhKXt0aGlzLnN0YXJ0QmxvY2tffHx0aGlzLnN0YXJ0QnViYmxlX3x8KHRoaXMuc3RhcnRCbG9ja189YSxhLmlzSW5GbHlvdXQmJmEhPWEuZ2V0Um9vdEJsb2NrKCk/dGhpcy5zZXRUYXJnZXRCbG9ja18oYS5nZXRSb290QmxvY2soKSk6dGhpcy5zZXRUYXJnZXRCbG9ja18oYSkpfTtcbkJsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUuc2V0VGFyZ2V0QmxvY2tfPWZ1bmN0aW9uKGEpe2EuaXNTaGFkb3coKT90aGlzLnNldFRhcmdldEJsb2NrXyhhLmdldFBhcmVudCgpKTp0aGlzLnRhcmdldEJsb2NrXz1hfTtCbG9ja2x5Lkdlc3R1cmUucHJvdG90eXBlLnNldFN0YXJ0V29ya3NwYWNlXz1mdW5jdGlvbihhKXt0aGlzLnN0YXJ0V29ya3NwYWNlX3x8KHRoaXMuc3RhcnRXb3Jrc3BhY2VfPWEpfTtCbG9ja2x5Lkdlc3R1cmUucHJvdG90eXBlLnNldFN0YXJ0Rmx5b3V0Xz1mdW5jdGlvbihhKXt0aGlzLmZseW91dF98fCh0aGlzLmZseW91dF89YSl9O0Jsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUuaXNCdWJibGVDbGlja189ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuc3RhcnRCdWJibGVfJiYhdGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXNffTtcbkJsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUuaXNCbG9ja0NsaWNrXz1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5zdGFydEJsb2NrXyYmIXRoaXMuaGFzRXhjZWVkZWREcmFnUmFkaXVzXyYmIXRoaXMuaXNGaWVsZENsaWNrXygpfTtCbG9ja2x5Lkdlc3R1cmUucHJvdG90eXBlLmlzRmllbGRDbGlja189ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5zdGFydEZpZWxkXz90aGlzLnN0YXJ0RmllbGRfLmlzQ2xpY2thYmxlKCk6ITEpJiYhdGhpcy5oYXNFeGNlZWRlZERyYWdSYWRpdXNfJiYoIXRoaXMuZmx5b3V0X3x8IXRoaXMuZmx5b3V0Xy5hdXRvQ2xvc2UpfTtCbG9ja2x5Lkdlc3R1cmUucHJvdG90eXBlLmlzV29ya3NwYWNlQ2xpY2tfPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuc3RhcnRCbG9ja18mJiF0aGlzLnN0YXJ0QnViYmxlXyYmIXRoaXMuc3RhcnRGaWVsZF8mJiF0aGlzLmhhc0V4Y2VlZGVkRHJhZ1JhZGl1c199O1xuQmxvY2tseS5HZXN0dXJlLnByb3RvdHlwZS5pc0RyYWdnaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNEcmFnZ2luZ1dvcmtzcGFjZV98fHRoaXMuaXNEcmFnZ2luZ0Jsb2NrX3x8dGhpcy5pc0RyYWdnaW5nQnViYmxlX307QmxvY2tseS5HZXN0dXJlLnByb3RvdHlwZS5oYXNTdGFydGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzU3RhcnRlZF99O0Jsb2NrbHkuR2VzdHVyZS5wcm90b3R5cGUuZ2V0SW5zZXJ0aW9uTWFya2Vycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrRHJhZ2dlcl8/dGhpcy5ibG9ja0RyYWdnZXJfLmdldEluc2VydGlvbk1hcmtlcnMoKTpbXX07QmxvY2tseS5HZXN0dXJlLmluUHJvZ3Jlc3M9ZnVuY3Rpb24oKXtmb3IodmFyIGE9QmxvY2tseS5Xb3Jrc3BhY2UuZ2V0QWxsKCksYj0wLGM7Yz1hW2JdO2IrKylpZihjLmN1cnJlbnRHZXN0dXJlXylyZXR1cm4hMDtyZXR1cm4hMX07QmxvY2tseS5GaWVsZD1mdW5jdGlvbihhLGIsYyl7dGhpcy50b29sdGlwXz10aGlzLnZhbGlkYXRvcl89dGhpcy52YWx1ZV89bnVsbDt0aGlzLnNpemVfPW5ldyBCbG9ja2x5LnV0aWxzLlNpemUoMCwwKTt0aGlzLmNvbnN0YW50c189dGhpcy5tb3VzZURvd25XcmFwcGVyXz10aGlzLnRleHRDb250ZW50Xz10aGlzLnRleHRFbGVtZW50Xz10aGlzLmJvcmRlclJlY3RfPXRoaXMuZmllbGRHcm91cF89dGhpcy5tYXJrZXJTdmdfPXRoaXMuY3Vyc29yU3ZnXz1udWxsO2MmJnRoaXMuY29uZmlndXJlXyhjKTt0aGlzLnNldFZhbHVlKGEpO2ImJnRoaXMuc2V0VmFsaWRhdG9yKGIpfTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5uYW1lPXZvaWQgMDtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5kaXNwb3NlZD0hMTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5tYXhEaXNwbGF5TGVuZ3RoPTUwO0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLnNvdXJjZUJsb2NrXz1udWxsO1xuQmxvY2tseS5GaWVsZC5wcm90b3R5cGUuaXNEaXJ0eV89ITA7QmxvY2tseS5GaWVsZC5wcm90b3R5cGUudmlzaWJsZV89ITA7QmxvY2tseS5GaWVsZC5wcm90b3R5cGUuY2xpY2tUYXJnZXRfPW51bGw7QmxvY2tseS5GaWVsZC5OQlNQPVwiXFx1MDBhMFwiO0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLkVESVRBQkxFPSEwO0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLlNFUklBTElaQUJMRT0hMTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5jb25maWd1cmVfPWZ1bmN0aW9uKGEpe3ZhciBiPWEudG9vbHRpcDtcInN0cmluZ1wiPT10eXBlb2YgYiYmKGI9QmxvY2tseS51dGlscy5yZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMoYS50b29sdGlwKSk7YiYmdGhpcy5zZXRUb29sdGlwKGIpfTtcbkJsb2NrbHkuRmllbGQucHJvdG90eXBlLnNldFNvdXJjZUJsb2NrPWZ1bmN0aW9uKGEpe2lmKHRoaXMuc291cmNlQmxvY2tfKXRocm93IEVycm9yKFwiRmllbGQgYWxyZWFkeSBib3VuZCB0byBhIGJsb2NrLlwiKTt0aGlzLnNvdXJjZUJsb2NrXz1hfTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5nZXRDb25zdGFudHM9ZnVuY3Rpb24oKXshdGhpcy5jb25zdGFudHNfJiZ0aGlzLnNvdXJjZUJsb2NrXyYmdGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlJiZ0aGlzLnNvdXJjZUJsb2NrXy53b3Jrc3BhY2UucmVuZGVyZWQmJih0aGlzLmNvbnN0YW50c189dGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCkpO3JldHVybiB0aGlzLmNvbnN0YW50c199O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLmdldFNvdXJjZUJsb2NrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc291cmNlQmxvY2tffTtcbkJsb2NrbHkuRmllbGQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLmZpZWxkR3JvdXBffHwodGhpcy5maWVsZEdyb3VwXz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiZ1wiLHt9LG51bGwpLHRoaXMuaXNWaXNpYmxlKCl8fCh0aGlzLmZpZWxkR3JvdXBfLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpLHRoaXMuc291cmNlQmxvY2tfLmdldFN2Z1Jvb3QoKS5hcHBlbmRDaGlsZCh0aGlzLmZpZWxkR3JvdXBfKSx0aGlzLmluaXRWaWV3KCksdGhpcy51cGRhdGVFZGl0YWJsZSgpLHRoaXMuc2V0VG9vbHRpcCh0aGlzLnRvb2x0aXBfKSx0aGlzLmJpbmRFdmVudHNfKCksdGhpcy5pbml0TW9kZWwoKSl9O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLmluaXRWaWV3PWZ1bmN0aW9uKCl7dGhpcy5jcmVhdGVCb3JkZXJSZWN0XygpO3RoaXMuY3JlYXRlVGV4dEVsZW1lbnRfKCl9O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLmluaXRNb2RlbD1mdW5jdGlvbigpe307XG5CbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5jcmVhdGVCb3JkZXJSZWN0Xz1mdW5jdGlvbigpe3RoaXMuYm9yZGVyUmVjdF89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInJlY3RcIix7cng6dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9SQURJVVMscnk6dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9SQURJVVMseDowLHk6MCxoZWlnaHQ6dGhpcy5zaXplXy5oZWlnaHQsd2lkdGg6dGhpcy5zaXplXy53aWR0aCxcImNsYXNzXCI6XCJibG9ja2x5RmllbGRSZWN0XCJ9LHRoaXMuZmllbGRHcm91cF8pfTtcbkJsb2NrbHkuRmllbGQucHJvdG90eXBlLmNyZWF0ZVRleHRFbGVtZW50Xz1mdW5jdGlvbigpe3RoaXMudGV4dEVsZW1lbnRfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJ0ZXh0XCIse1wiY2xhc3NcIjpcImJsb2NrbHlUZXh0XCJ9LHRoaXMuZmllbGRHcm91cF8pO3RoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfVEVYVF9CQVNFTElORV9DRU5URVImJnRoaXMudGV4dEVsZW1lbnRfLnNldEF0dHJpYnV0ZShcImRvbWluYW50LWJhc2VsaW5lXCIsXCJjZW50cmFsXCIpO3RoaXMudGV4dENvbnRlbnRfPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO3RoaXMudGV4dEVsZW1lbnRfLmFwcGVuZENoaWxkKHRoaXMudGV4dENvbnRlbnRfKX07XG5CbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5iaW5kRXZlbnRzXz1mdW5jdGlvbigpe0Jsb2NrbHkuVG9vbHRpcC5iaW5kTW91c2VFdmVudHModGhpcy5nZXRDbGlja1RhcmdldF8oKSk7dGhpcy5tb3VzZURvd25XcmFwcGVyXz1CbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKHRoaXMuZ2V0Q2xpY2tUYXJnZXRfKCksXCJtb3VzZWRvd25cIix0aGlzLHRoaXMub25Nb3VzZURvd25fKX07QmxvY2tseS5GaWVsZC5wcm90b3R5cGUuZnJvbVhtbD1mdW5jdGlvbihhKXt0aGlzLnNldFZhbHVlKGEudGV4dENvbnRlbnQpfTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS50b1htbD1mdW5jdGlvbihhKXthLnRleHRDb250ZW50PXRoaXMuZ2V0VmFsdWUoKTtyZXR1cm4gYX07XG5CbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7QmxvY2tseS5Ecm9wRG93bkRpdi5oaWRlSWZPd25lcih0aGlzKTtCbG9ja2x5LldpZGdldERpdi5oaWRlSWZPd25lcih0aGlzKTtCbG9ja2x5LlRvb2x0aXAudW5iaW5kTW91c2VFdmVudHModGhpcy5nZXRDbGlja1RhcmdldF8oKSk7dGhpcy5tb3VzZURvd25XcmFwcGVyXyYmQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5tb3VzZURvd25XcmFwcGVyXyk7QmxvY2tseS51dGlscy5kb20ucmVtb3ZlTm9kZSh0aGlzLmZpZWxkR3JvdXBfKTt0aGlzLmRpc3Bvc2VkPSEwfTtcbkJsb2NrbHkuRmllbGQucHJvdG90eXBlLnVwZGF0ZUVkaXRhYmxlPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5maWVsZEdyb3VwXzt0aGlzLkVESVRBQkxFJiZhJiYodGhpcy5zb3VyY2VCbG9ja18uaXNFZGl0YWJsZSgpPyhCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyhhLFwiYmxvY2tseUVkaXRhYmxlVGV4dFwiKSxCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyhhLFwiYmxvY2tseU5vbkVkaXRhYmxlVGV4dFwiKSxhLnN0eWxlLmN1cnNvcj10aGlzLkNVUlNPUik6KEJsb2NrbHkudXRpbHMuZG9tLmFkZENsYXNzKGEsXCJibG9ja2x5Tm9uRWRpdGFibGVUZXh0XCIpLEJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZUNsYXNzKGEsXCJibG9ja2x5RWRpdGFibGVUZXh0XCIpLGEuc3R5bGUuY3Vyc29yPVwiXCIpKX07XG5CbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5pc0NsaWNrYWJsZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5zb3VyY2VCbG9ja18mJnRoaXMuc291cmNlQmxvY2tfLmlzRWRpdGFibGUoKSYmISF0aGlzLnNob3dFZGl0b3JfJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgdGhpcy5zaG93RWRpdG9yX307QmxvY2tseS5GaWVsZC5wcm90b3R5cGUuaXNDdXJyZW50bHlFZGl0YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkVESVRBQkxFJiYhIXRoaXMuc291cmNlQmxvY2tfJiZ0aGlzLnNvdXJjZUJsb2NrXy5pc0VkaXRhYmxlKCl9O1xuQmxvY2tseS5GaWVsZC5wcm90b3R5cGUuaXNTZXJpYWxpemFibGU9ZnVuY3Rpb24oKXt2YXIgYT0hMTt0aGlzLm5hbWUmJih0aGlzLlNFUklBTElaQUJMRT9hPSEwOnRoaXMuRURJVEFCTEUmJihjb25zb2xlLndhcm4oXCJEZXRlY3RlZCBhbiBlZGl0YWJsZSBmaWVsZCB0aGF0IHdhcyBub3Qgc2VyaWFsaXphYmxlLiBQbGVhc2UgZGVmaW5lIFNFUklBTElaQUJMRSBwcm9wZXJ0eSBhcyB0cnVlIG9uIGFsbCBlZGl0YWJsZSBjdXN0b20gZmllbGRzLiBQcm9jZWVkaW5nIHdpdGggc2VyaWFsaXphdGlvbi5cIiksYT0hMCkpO3JldHVybiBhfTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52aXNpYmxlX307XG5CbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5zZXRWaXNpYmxlPWZ1bmN0aW9uKGEpe2lmKHRoaXMudmlzaWJsZV8hPWEpe3RoaXMudmlzaWJsZV89YTt2YXIgYj10aGlzLmdldFN2Z1Jvb3QoKTtiJiYoYi5zdHlsZS5kaXNwbGF5PWE/XCJibG9ja1wiOlwibm9uZVwiKX19O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLnNldFZhbGlkYXRvcj1mdW5jdGlvbihhKXt0aGlzLnZhbGlkYXRvcl89YX07QmxvY2tseS5GaWVsZC5wcm90b3R5cGUuZ2V0VmFsaWRhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsaWRhdG9yX307QmxvY2tseS5GaWVsZC5wcm90b3R5cGUuY2xhc3NWYWxpZGF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O1xuQmxvY2tseS5GaWVsZC5wcm90b3R5cGUuY2FsbFZhbGlkYXRvcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsYXNzVmFsaWRhdG9yKGEpO2lmKG51bGw9PT1iKXJldHVybiBudWxsO3ZvaWQgMCE9PWImJihhPWIpO2lmKGI9dGhpcy5nZXRWYWxpZGF0b3IoKSl7Yj1iLmNhbGwodGhpcyxhKTtpZihudWxsPT09YilyZXR1cm4gbnVsbDt2b2lkIDAhPT1iJiYoYT1iKX1yZXR1cm4gYX07QmxvY2tseS5GaWVsZC5wcm90b3R5cGUuZ2V0U3ZnUm9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZpZWxkR3JvdXBffTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5hcHBseUNvbG91cj1mdW5jdGlvbigpe307QmxvY2tseS5GaWVsZC5wcm90b3R5cGUucmVuZGVyXz1mdW5jdGlvbigpe3RoaXMudGV4dENvbnRlbnRfJiYodGhpcy50ZXh0Q29udGVudF8ubm9kZVZhbHVlPXRoaXMuZ2V0RGlzcGxheVRleHRfKCkpO3RoaXMudXBkYXRlU2l6ZV8oKX07XG5CbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5zaG93RWRpdG9yPWZ1bmN0aW9uKGEpe3RoaXMuaXNDbGlja2FibGUoKSYmdGhpcy5zaG93RWRpdG9yXyhhKX07QmxvY2tseS5GaWVsZC5wcm90b3R5cGUudXBkYXRlV2lkdGg9ZnVuY3Rpb24oKXtjb25zb2xlLndhcm4oXCJEZXByZWNhdGVkIGNhbGwgdG8gdXBkYXRlV2lkdGgsIGNhbGwgQmxvY2tseS5GaWVsZC51cGRhdGVTaXplXyB0byBmb3JjZSBhbiB1cGRhdGUgdG8gdGhlIHNpemUgb2YgdGhlIGZpZWxkLCBvciBCbG9ja2x5LnV0aWxzLmRvbS5nZXRUZXh0V2lkdGgoKSB0byBjaGVjayB0aGUgc2l6ZSBvZiB0aGUgZmllbGQuXCIpO3RoaXMudXBkYXRlU2l6ZV8oKX07XG5CbG9ja2x5LkZpZWxkLnByb3RvdHlwZS51cGRhdGVTaXplXz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldENvbnN0YW50cygpO2E9dm9pZCAwIT1hP2E6dGhpcy5ib3JkZXJSZWN0Xz90aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORzowO3ZhciBjPTIqYSxkPWIuRklFTERfVEVYVF9IRUlHSFQsZT0wO3RoaXMudGV4dEVsZW1lbnRfJiYoZT1CbG9ja2x5LnV0aWxzLmRvbS5nZXRGYXN0VGV4dFdpZHRoKHRoaXMudGV4dEVsZW1lbnRfLGIuRklFTERfVEVYVF9GT05UU0laRSxiLkZJRUxEX1RFWFRfRk9OVFdFSUdIVCxiLkZJRUxEX1RFWFRfRk9OVEZBTUlMWSksYys9ZSk7dGhpcy5ib3JkZXJSZWN0XyYmKGQ9TWF0aC5tYXgoZCxiLkZJRUxEX0JPUkRFUl9SRUNUX0hFSUdIVCkpO3RoaXMuc2l6ZV8uaGVpZ2h0PWQ7dGhpcy5zaXplXy53aWR0aD1jO3RoaXMucG9zaXRpb25UZXh0RWxlbWVudF8oYSxlKTt0aGlzLnBvc2l0aW9uQm9yZGVyUmVjdF8oKX07XG5CbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5wb3NpdGlvblRleHRFbGVtZW50Xz1mdW5jdGlvbihhLGIpe2lmKHRoaXMudGV4dEVsZW1lbnRfKXt2YXIgYz10aGlzLmdldENvbnN0YW50cygpLGQ9dGhpcy5zaXplXy5oZWlnaHQvMjt0aGlzLnRleHRFbGVtZW50Xy5zZXRBdHRyaWJ1dGUoXCJ4XCIsdGhpcy5zb3VyY2VCbG9ja18uUlRMP3RoaXMuc2l6ZV8ud2lkdGgtYi1hOmEpO3RoaXMudGV4dEVsZW1lbnRfLnNldEF0dHJpYnV0ZShcInlcIixjLkZJRUxEX1RFWFRfQkFTRUxJTkVfQ0VOVEVSP2Q6ZC1jLkZJRUxEX1RFWFRfSEVJR0hULzIrYy5GSUVMRF9URVhUX0JBU0VMSU5FKX19O1xuQmxvY2tseS5GaWVsZC5wcm90b3R5cGUucG9zaXRpb25Cb3JkZXJSZWN0Xz1mdW5jdGlvbigpe3RoaXMuYm9yZGVyUmVjdF8mJih0aGlzLmJvcmRlclJlY3RfLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdGhpcy5zaXplXy53aWR0aCksdGhpcy5ib3JkZXJSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIix0aGlzLnNpemVfLmhlaWdodCksdGhpcy5ib3JkZXJSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJyeFwiLHRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfQk9SREVSX1JFQ1RfUkFESVVTKSx0aGlzLmJvcmRlclJlY3RfLnNldEF0dHJpYnV0ZShcInJ5XCIsdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9SQURJVVMpKX07XG5CbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNWaXNpYmxlKCkpcmV0dXJuIG5ldyBCbG9ja2x5LnV0aWxzLlNpemUoMCwwKTt0aGlzLmlzRGlydHlfPyh0aGlzLnJlbmRlcl8oKSx0aGlzLmlzRGlydHlfPSExKTp0aGlzLnZpc2libGVfJiYwPT10aGlzLnNpemVfLndpZHRoJiYoY29uc29sZS53YXJuKFwiRGVwcmVjYXRlZCB1c2Ugb2Ygc2V0dGluZyBzaXplXy53aWR0aCB0byAwIHRvIHJlcmVuZGVyIGEgZmllbGQuIFNldCBmaWVsZC5pc0RpcnR5XyB0byB0cnVlIGluc3RlYWQuXCIpLHRoaXMucmVuZGVyXygpKTtyZXR1cm4gdGhpcy5zaXplX307XG5CbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5nZXRTY2FsZWRCQm94PWZ1bmN0aW9uKCl7aWYodGhpcy5ib3JkZXJSZWN0XylhPXRoaXMuYm9yZGVyUmVjdF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYz1CbG9ja2x5LnV0aWxzLnN0eWxlLmdldFBhZ2VPZmZzZXQodGhpcy5ib3JkZXJSZWN0XyksZD1hLndpZHRoLGE9YS5oZWlnaHQ7ZWxzZXt2YXIgYT10aGlzLnNvdXJjZUJsb2NrXy5nZXRIZWlnaHRXaWR0aCgpLGI9dGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLnNjYWxlLGM9dGhpcy5nZXRBYnNvbHV0ZVhZXygpLGQ9YS53aWR0aCpiO2E9YS5oZWlnaHQqYjtCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5HRUNLTz8oYy54Kz0xLjUqYixjLnkrPTEuNSpiKTpCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5FREdFfHxCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5JRXx8KGMueC09LjUqYixjLnktPS41KmIpO2QrPTEqYjthKz0xKmJ9cmV0dXJue3RvcDpjLnksYm90dG9tOmMueSthLGxlZnQ6Yy54LFxucmlnaHQ6Yy54K2R9fTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5nZXREaXNwbGF5VGV4dF89ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFRleHQoKTtpZighYSlyZXR1cm4gQmxvY2tseS5GaWVsZC5OQlNQO2EubGVuZ3RoPnRoaXMubWF4RGlzcGxheUxlbmd0aCYmKGE9YS5zdWJzdHJpbmcoMCx0aGlzLm1heERpc3BsYXlMZW5ndGgtMikrXCJcXHUyMDI2XCIpO2E9YS5yZXBsYWNlKC9cXHMvZyxCbG9ja2x5LkZpZWxkLk5CU1ApO3RoaXMuc291cmNlQmxvY2tfJiZ0aGlzLnNvdXJjZUJsb2NrXy5SVEwmJihhKz1cIlxcdTIwMGZcIik7cmV0dXJuIGF9O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oKXtpZih0aGlzLmdldFRleHRfKXt2YXIgYT10aGlzLmdldFRleHRfLmNhbGwodGhpcyk7aWYobnVsbCE9PWEpcmV0dXJuIFN0cmluZyhhKX1yZXR1cm4gU3RyaW5nKHRoaXMuZ2V0VmFsdWUoKSl9O1xuQmxvY2tseS5GaWVsZC5wcm90b3R5cGUuc2V0VGV4dD1mdW5jdGlvbihhKXt0aHJvdyBFcnJvcihcInNldFRleHQgbWV0aG9kIGlzIGRlcHJlY2F0ZWRcIik7fTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5tYXJrRGlydHk9ZnVuY3Rpb24oKXt0aGlzLmlzRGlydHlfPSEwO3RoaXMuY29uc3RhbnRzXz1udWxsfTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5mb3JjZVJlcmVuZGVyPWZ1bmN0aW9uKCl7dGhpcy5pc0RpcnR5Xz0hMDt0aGlzLnNvdXJjZUJsb2NrXyYmdGhpcy5zb3VyY2VCbG9ja18ucmVuZGVyZWQmJih0aGlzLnNvdXJjZUJsb2NrXy5yZW5kZXIoKSx0aGlzLnNvdXJjZUJsb2NrXy5idW1wTmVpZ2hib3VycygpLHRoaXMudXBkYXRlTWFya2Vyc18oKSl9O1xuQmxvY2tseS5GaWVsZC5wcm90b3R5cGUuc2V0VmFsdWU9ZnVuY3Rpb24oYSl7aWYobnVsbCE9PWEpe3ZhciBiPXRoaXMuZG9DbGFzc1ZhbGlkYXRpb25fKGEpO2E9dGhpcy5wcm9jZXNzVmFsaWRhdGlvbl8oYSxiKTtpZighKGEgaW5zdGFuY2VvZiBFcnJvcikpe2lmKGI9dGhpcy5nZXRWYWxpZGF0b3IoKSlpZihiPWIuY2FsbCh0aGlzLGEpLGE9dGhpcy5wcm9jZXNzVmFsaWRhdGlvbl8oYSxiKSxhIGluc3RhbmNlb2YgRXJyb3IpcmV0dXJuO2I9dGhpcy5nZXRWYWx1ZSgpO2IhPT1hJiYodGhpcy5zb3VyY2VCbG9ja18mJkJsb2NrbHkuRXZlbnRzLmlzRW5hYmxlZCgpJiZCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5CbG9ja0NoYW5nZSh0aGlzLnNvdXJjZUJsb2NrXyxcImZpZWxkXCIsdGhpcy5uYW1lfHxudWxsLGIsYSkpLHRoaXMuZG9WYWx1ZVVwZGF0ZV8oYSksdGhpcy5pc0RpcnR5XyYmdGhpcy5mb3JjZVJlcmVuZGVyKCkpfX19O1xuQmxvY2tseS5GaWVsZC5wcm90b3R5cGUucHJvY2Vzc1ZhbGlkYXRpb25fPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09PWIpcmV0dXJuIHRoaXMuZG9WYWx1ZUludmFsaWRfKGEpLHRoaXMuaXNEaXJ0eV8mJnRoaXMuZm9yY2VSZXJlbmRlcigpLEVycm9yKCk7dm9pZCAwIT09YiYmKGE9Yik7cmV0dXJuIGF9O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVffTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5kb0NsYXNzVmFsaWRhdGlvbl89ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGw9PT1hfHx2b2lkIDA9PT1hP251bGw6YT10aGlzLmNsYXNzVmFsaWRhdG9yKGEpfTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5kb1ZhbHVlVXBkYXRlXz1mdW5jdGlvbihhKXt0aGlzLnZhbHVlXz1hO3RoaXMuaXNEaXJ0eV89ITB9O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLmRvVmFsdWVJbnZhbGlkXz1mdW5jdGlvbihhKXt9O1xuQmxvY2tseS5GaWVsZC5wcm90b3R5cGUub25Nb3VzZURvd25fPWZ1bmN0aW9uKGEpe3RoaXMuc291cmNlQmxvY2tfJiZ0aGlzLnNvdXJjZUJsb2NrXy53b3Jrc3BhY2UmJihhPXRoaXMuc291cmNlQmxvY2tfLndvcmtzcGFjZS5nZXRHZXN0dXJlKGEpKSYmYS5zZXRTdGFydEZpZWxkKHRoaXMpfTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5zZXRUb29sdGlwPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0Q2xpY2tUYXJnZXRfKCk7Yj9iLnRvb2x0aXA9YXx8XCJcIj09PWE/YTp0aGlzLnNvdXJjZUJsb2NrXzp0aGlzLnRvb2x0aXBfPWF9O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLmdldENsaWNrVGFyZ2V0Xz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNsaWNrVGFyZ2V0X3x8dGhpcy5nZXRTdmdSb290KCl9O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLmdldEFic29sdXRlWFlfPWZ1bmN0aW9uKCl7cmV0dXJuIEJsb2NrbHkudXRpbHMuc3R5bGUuZ2V0UGFnZU9mZnNldCh0aGlzLmdldENsaWNrVGFyZ2V0XygpKX07XG5CbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5yZWZlcmVuY2VzVmFyaWFibGVzPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLmdldFBhcmVudElucHV0PWZ1bmN0aW9uKCl7Zm9yKHZhciBhPW51bGwsYj10aGlzLnNvdXJjZUJsb2NrXyxjPWIuaW5wdXRMaXN0LGQ9MDtkPGIuaW5wdXRMaXN0Lmxlbmd0aDtkKyspZm9yKHZhciBlPWNbZF0sZj1lLmZpZWxkUm93LGc9MDtnPGYubGVuZ3RoO2crKylpZihmW2ddPT09dGhpcyl7YT1lO2JyZWFrfXJldHVybiBhfTtCbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5nZXRGbGlwUnRsPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLmlzVGFiTmF2aWdhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLm9uQmxvY2tseUFjdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4hMX07XG5CbG9ja2x5LkZpZWxkLnByb3RvdHlwZS5zZXRDdXJzb3JTdmc9ZnVuY3Rpb24oYSl7YT8odGhpcy5maWVsZEdyb3VwXy5hcHBlbmRDaGlsZChhKSx0aGlzLmN1cnNvclN2Z189YSk6dGhpcy5jdXJzb3JTdmdfPW51bGx9O0Jsb2NrbHkuRmllbGQucHJvdG90eXBlLnNldE1hcmtlclN2Zz1mdW5jdGlvbihhKXthPyh0aGlzLmZpZWxkR3JvdXBfLmFwcGVuZENoaWxkKGEpLHRoaXMubWFya2VyU3ZnXz1hKTp0aGlzLm1hcmtlclN2Z189bnVsbH07QmxvY2tseS5GaWVsZC5wcm90b3R5cGUudXBkYXRlTWFya2Vyc189ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNvdXJjZUJsb2NrXy53b3Jrc3BhY2U7YS5rZXlib2FyZEFjY2Vzc2liaWxpdHlNb2RlJiZ0aGlzLmN1cnNvclN2Z18mJmEuZ2V0Q3Vyc29yKCkuZHJhdygpO2Eua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSYmdGhpcy5tYXJrZXJTdmdfJiZhLmdldE1hcmtlcihCbG9ja2x5Lm5hdmlnYXRpb24uTUFSS0VSX05BTUUpLmRyYXcoKX07QmxvY2tseS5GaWVsZExhYmVsPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmNsYXNzXz1udWxsO251bGw9PWEmJihhPVwiXCIpO0Jsb2NrbHkuRmllbGRMYWJlbC5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSxudWxsLGMpO2N8fCh0aGlzLmNsYXNzXz1ifHxudWxsKX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5GaWVsZExhYmVsLEJsb2NrbHkuRmllbGQpO0Jsb2NrbHkuRmllbGRMYWJlbC5mcm9tSnNvbj1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LnV0aWxzLnJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyhhLnRleHQpO3JldHVybiBuZXcgQmxvY2tseS5GaWVsZExhYmVsKGIsdm9pZCAwLGEpfTtCbG9ja2x5LkZpZWxkTGFiZWwucHJvdG90eXBlLkVESVRBQkxFPSExO1xuQmxvY2tseS5GaWVsZExhYmVsLnByb3RvdHlwZS5jb25maWd1cmVfPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuRmllbGRMYWJlbC5zdXBlckNsYXNzXy5jb25maWd1cmVfLmNhbGwodGhpcyxhKTt0aGlzLmNsYXNzXz1hW1wiY2xhc3NcIl19O0Jsb2NrbHkuRmllbGRMYWJlbC5wcm90b3R5cGUuaW5pdFZpZXc9ZnVuY3Rpb24oKXt0aGlzLmNyZWF0ZVRleHRFbGVtZW50XygpO3RoaXMuY2xhc3NfJiZCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyh0aGlzLnRleHRFbGVtZW50Xyx0aGlzLmNsYXNzXyl9O0Jsb2NrbHkuRmllbGRMYWJlbC5wcm90b3R5cGUuZG9DbGFzc1ZhbGlkYXRpb25fPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YXx8dm9pZCAwPT09YT9udWxsOlN0cmluZyhhKX07XG5CbG9ja2x5LkZpZWxkTGFiZWwucHJvdG90eXBlLnNldENsYXNzPWZ1bmN0aW9uKGEpe3RoaXMudGV4dEVsZW1lbnRfJiYodGhpcy5jbGFzc18mJkJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZUNsYXNzKHRoaXMudGV4dEVsZW1lbnRfLHRoaXMuY2xhc3NfKSxhJiZCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyh0aGlzLnRleHRFbGVtZW50XyxhKSk7dGhpcy5jbGFzc189YX07QmxvY2tseS5maWVsZFJlZ2lzdHJ5LnJlZ2lzdGVyKFwiZmllbGRfbGFiZWxcIixCbG9ja2x5LkZpZWxkTGFiZWwpO0Jsb2NrbHkuSW5wdXQ9ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSE9QmxvY2tseS5EVU1NWV9JTlBVVCYmIWIpdGhyb3cgRXJyb3IoXCJWYWx1ZSBpbnB1dHMgYW5kIHN0YXRlbWVudCBpbnB1dHMgbXVzdCBoYXZlIG5vbi1lbXB0eSBuYW1lLlwiKTt0aGlzLnR5cGU9YTt0aGlzLm5hbWU9Yjt0aGlzLnNvdXJjZUJsb2NrXz1jO3RoaXMuY29ubmVjdGlvbj1kO3RoaXMuZmllbGRSb3c9W119O0Jsb2NrbHkuSW5wdXQucHJvdG90eXBlLmFsaWduPUJsb2NrbHkuQUxJR05fTEVGVDtCbG9ja2x5LklucHV0LnByb3RvdHlwZS52aXNpYmxlXz0hMDtCbG9ja2x5LklucHV0LnByb3RvdHlwZS5nZXRTb3VyY2VCbG9jaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNvdXJjZUJsb2NrX307QmxvY2tseS5JbnB1dC5wcm90b3R5cGUuYXBwZW5kRmllbGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmluc2VydEZpZWxkQXQodGhpcy5maWVsZFJvdy5sZW5ndGgsYSxiKTtyZXR1cm4gdGhpc307XG5CbG9ja2x5LklucHV0LnByb3RvdHlwZS5pbnNlcnRGaWVsZEF0PWZ1bmN0aW9uKGEsYixjKXtpZigwPmF8fGE+dGhpcy5maWVsZFJvdy5sZW5ndGgpdGhyb3cgRXJyb3IoXCJpbmRleCBcIithK1wiIG91dCBvZiBib3VuZHMuXCIpO2lmKCEoYnx8XCJcIj09YiYmYykpcmV0dXJuIGE7XCJzdHJpbmdcIj09dHlwZW9mIGImJihiPW5ldyBCbG9ja2x5LkZpZWxkTGFiZWwoYikpO2Iuc2V0U291cmNlQmxvY2sodGhpcy5zb3VyY2VCbG9ja18pO3RoaXMuc291cmNlQmxvY2tfLnJlbmRlcmVkJiZiLmluaXQoKTtiLm5hbWU9YztiLnByZWZpeEZpZWxkJiYoYT10aGlzLmluc2VydEZpZWxkQXQoYSxiLnByZWZpeEZpZWxkKSk7dGhpcy5maWVsZFJvdy5zcGxpY2UoYSwwLGIpOysrYTtiLnN1ZmZpeEZpZWxkJiYoYT10aGlzLmluc2VydEZpZWxkQXQoYSxiLnN1ZmZpeEZpZWxkKSk7dGhpcy5zb3VyY2VCbG9ja18ucmVuZGVyZWQmJih0aGlzLnNvdXJjZUJsb2NrXy5yZW5kZXIoKSx0aGlzLnNvdXJjZUJsb2NrXy5idW1wTmVpZ2hib3VycygpKTtcbnJldHVybiBhfTtCbG9ja2x5LklucHV0LnByb3RvdHlwZS5yZW1vdmVGaWVsZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjO2M9dGhpcy5maWVsZFJvd1tiXTtiKyspaWYoYy5uYW1lPT09YSl7Yy5kaXNwb3NlKCk7dGhpcy5maWVsZFJvdy5zcGxpY2UoYiwxKTt0aGlzLnNvdXJjZUJsb2NrXy5yZW5kZXJlZCYmKHRoaXMuc291cmNlQmxvY2tfLnJlbmRlcigpLHRoaXMuc291cmNlQmxvY2tfLmJ1bXBOZWlnaGJvdXJzKCkpO3JldHVybn10aHJvdyBFcnJvcignRmllbGQgXCIlc1wiIG5vdCBmb3VuZC4nLGEpO307QmxvY2tseS5JbnB1dC5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmlzaWJsZV99O1xuQmxvY2tseS5JbnB1dC5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbihhKXt2YXIgYj1bXTtpZih0aGlzLnZpc2libGVfPT1hKXJldHVybiBiO2Zvcih2YXIgYz0odGhpcy52aXNpYmxlXz1hKT9cImJsb2NrXCI6XCJub25lXCIsZD0wLGU7ZT10aGlzLmZpZWxkUm93W2RdO2QrKyllLnNldFZpc2libGUoYSk7dGhpcy5jb25uZWN0aW9uJiYoYT9iPXRoaXMuY29ubmVjdGlvbi5zdGFydFRyYWNraW5nQWxsKCk6dGhpcy5jb25uZWN0aW9uLnN0b3BUcmFja2luZ0FsbCgpLGQ9dGhpcy5jb25uZWN0aW9uLnRhcmdldEJsb2NrKCkpJiYoZC5nZXRTdmdSb290KCkuc3R5bGUuZGlzcGxheT1jLGF8fChkLnJlbmRlcmVkPSExKSk7cmV0dXJuIGJ9O0Jsb2NrbHkuSW5wdXQucHJvdG90eXBlLm1hcmtEaXJ0eT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI7Yj10aGlzLmZpZWxkUm93W2FdO2ErKyliLm1hcmtEaXJ0eSgpfTtcbkJsb2NrbHkuSW5wdXQucHJvdG90eXBlLnNldENoZWNrPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmNvbm5lY3Rpb24pdGhyb3cgRXJyb3IoXCJUaGlzIGlucHV0IGRvZXMgbm90IGhhdmUgYSBjb25uZWN0aW9uLlwiKTt0aGlzLmNvbm5lY3Rpb24uc2V0Q2hlY2soYSk7cmV0dXJuIHRoaXN9O0Jsb2NrbHkuSW5wdXQucHJvdG90eXBlLnNldEFsaWduPWZ1bmN0aW9uKGEpe3RoaXMuYWxpZ249YTt0aGlzLnNvdXJjZUJsb2NrXy5yZW5kZXJlZCYmdGhpcy5zb3VyY2VCbG9ja18ucmVuZGVyKCk7cmV0dXJuIHRoaXN9O0Jsb2NrbHkuSW5wdXQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnNvdXJjZUJsb2NrXy53b3Jrc3BhY2UucmVuZGVyZWQpZm9yKHZhciBhPTA7YTx0aGlzLmZpZWxkUm93Lmxlbmd0aDthKyspdGhpcy5maWVsZFJvd1thXS5pbml0KCl9O1xuQmxvY2tseS5JbnB1dC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI7Yj10aGlzLmZpZWxkUm93W2FdO2ErKyliLmRpc3Bvc2UoKTt0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbi5kaXNwb3NlKCk7dGhpcy5zb3VyY2VCbG9ja189bnVsbH07QmxvY2tseS5CbG9jaz1mdW5jdGlvbihhLGIsYyl7aWYoQmxvY2tseS5HZW5lcmF0b3ImJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBCbG9ja2x5LkdlbmVyYXRvci5wcm90b3R5cGVbYl0pdGhyb3cgRXJyb3IoJ0Jsb2NrIHByb3RvdHlwZU5hbWUgXCInK2IrJ1wiIGNvbmZsaWN0cyB3aXRoIEJsb2NrbHkuR2VuZXJhdG9yIG1lbWJlcnMuJyk7dGhpcy5pZD1jJiYhYS5nZXRCbG9ja0J5SWQoYyk/YzpCbG9ja2x5LnV0aWxzLmdlblVpZCgpO2Euc2V0QmxvY2tCeUlkKHRoaXMuaWQsdGhpcyk7dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb249dGhpcy5uZXh0Q29ubmVjdGlvbj10aGlzLm91dHB1dENvbm5lY3Rpb249bnVsbDt0aGlzLmlucHV0TGlzdD1bXTt0aGlzLmlucHV0c0lubGluZT12b2lkIDA7dGhpcy5kaXNhYmxlZD0hMTt0aGlzLnRvb2x0aXA9XCJcIjt0aGlzLmNvbnRleHRNZW51PSEwO3RoaXMucGFyZW50QmxvY2tfPW51bGw7dGhpcy5jaGlsZEJsb2Nrc189W107dGhpcy5lZGl0YWJsZV89dGhpcy5tb3ZhYmxlXz1cbnRoaXMuZGVsZXRhYmxlXz0hMDt0aGlzLmNvbGxhcHNlZF89dGhpcy5pc1NoYWRvd189ITE7dGhpcy5jb21tZW50PXRoaXMub3V0cHV0U2hhcGVfPW51bGw7dGhpcy5jb21tZW50TW9kZWw9e3RleHQ6bnVsbCxwaW5uZWQ6ITEsc2l6ZTpuZXcgQmxvY2tseS51dGlscy5TaXplKDE2MCw4MCl9O3RoaXMueHlfPW5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoMCwwKTt0aGlzLndvcmtzcGFjZT1hO3RoaXMuaXNJbkZseW91dD1hLmlzRmx5b3V0O3RoaXMuaXNJbk11dGF0b3I9YS5pc011dGF0b3I7dGhpcy5SVEw9YS5SVEw7dGhpcy5pc0luc2VydGlvbk1hcmtlcl89ITE7dGhpcy5oYXQ9dm9pZCAwO3RoaXMuc3RhdGVtZW50SW5wdXRDb3VudD0wO2lmKGIpe3RoaXMudHlwZT1iO2M9QmxvY2tseS5CbG9ja3NbYl07aWYoIWN8fFwib2JqZWN0XCIhPXR5cGVvZiBjKXRocm93IFR5cGVFcnJvcihcIlVua25vd24gYmxvY2sgdHlwZTogXCIrYik7QmxvY2tseS51dGlscy5vYmplY3QubWl4aW4odGhpcyxcbmMpfWEuYWRkVG9wQmxvY2sodGhpcyk7YS5hZGRUeXBlZEJsb2NrKHRoaXMpO1wiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuaW5pdCYmdGhpcy5pbml0KCk7dGhpcy5pbnB1dHNJbmxpbmVEZWZhdWx0PXRoaXMuaW5wdXRzSW5saW5lO2lmKEJsb2NrbHkuRXZlbnRzLmlzRW5hYmxlZCgpKXsoYT1CbG9ja2x5LkV2ZW50cy5nZXRHcm91cCgpKXx8QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITApO3RyeXtCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5CbG9ja0NyZWF0ZSh0aGlzKSl9ZmluYWxseXthfHxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSl9fVwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25jaGFuZ2UmJnRoaXMuc2V0T25DaGFuZ2UodGhpcy5vbmNoYW5nZSl9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmRhdGE9bnVsbDtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5kaXNwb3NlZD0hMTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5odWVfPW51bGw7XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5jb2xvdXJfPVwiIzAwMDAwMFwiO0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLnN0eWxlTmFtZV89bnVsbDtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oYSl7aWYodGhpcy53b3Jrc3BhY2Upe3RoaXMub25jaGFuZ2VXcmFwcGVyXyYmdGhpcy53b3Jrc3BhY2UucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5vbmNoYW5nZVdyYXBwZXJfKTt0aGlzLnVucGx1ZyhhKTtCbG9ja2x5LkV2ZW50cy5pc0VuYWJsZWQoKSYmQmxvY2tseS5FdmVudHMuZmlyZShuZXcgQmxvY2tseS5FdmVudHMuQmxvY2tEZWxldGUodGhpcykpO0Jsb2NrbHkuRXZlbnRzLmRpc2FibGUoKTt0cnl7dGhpcy53b3Jrc3BhY2UmJih0aGlzLndvcmtzcGFjZS5yZW1vdmVUb3BCbG9jayh0aGlzKSx0aGlzLndvcmtzcGFjZS5yZW1vdmVUeXBlZEJsb2NrKHRoaXMpLHRoaXMud29ya3NwYWNlLnJlbW92ZUJsb2NrQnlJZCh0aGlzLmlkKSx0aGlzLndvcmtzcGFjZT1udWxsKTtCbG9ja2x5LnNlbGVjdGVkPT10aGlzJiYoQmxvY2tseS5zZWxlY3RlZD1udWxsKTtmb3IodmFyIGI9dGhpcy5jaGlsZEJsb2Nrc18ubGVuZ3RoLVxuMTswPD1iO2ItLSl0aGlzLmNoaWxkQmxvY2tzX1tiXS5kaXNwb3NlKCExKTtiPTA7Zm9yKHZhciBjO2M9dGhpcy5pbnB1dExpc3RbYl07YisrKWMuZGlzcG9zZSgpO3RoaXMuaW5wdXRMaXN0Lmxlbmd0aD0wO3ZhciBkPXRoaXMuZ2V0Q29ubmVjdGlvbnNfKCEwKTtiPTA7Zm9yKHZhciBlO2U9ZFtiXTtiKyspZS5kaXNwb3NlKCl9ZmluYWxseXtCbG9ja2x5LkV2ZW50cy5lbmFibGUoKSx0aGlzLmRpc3Bvc2VkPSEwfX19O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmluaXRNb2RlbD1mdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI7Yj10aGlzLmlucHV0TGlzdFthXTthKyspZm9yKHZhciBjPTAsZDtkPWIuZmllbGRSb3dbY107YysrKWQuaW5pdE1vZGVsJiZkLmluaXRNb2RlbCgpfTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS51bnBsdWc9ZnVuY3Rpb24oYSl7dGhpcy5vdXRwdXRDb25uZWN0aW9uP3RoaXMudW5wbHVnRnJvbVJvd18oYSk6dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24mJnRoaXMudW5wbHVnRnJvbVN0YWNrXyhhKX07XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS51bnBsdWdGcm9tUm93Xz1mdW5jdGlvbihhKXt2YXIgYj1udWxsO3RoaXMub3V0cHV0Q29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpJiYoYj10aGlzLm91dHB1dENvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbix0aGlzLm91dHB1dENvbm5lY3Rpb24uZGlzY29ubmVjdCgpKTtpZihiJiZhJiYoYT10aGlzLmdldE9ubHlWYWx1ZUNvbm5lY3Rpb25fKCkpJiZhLmlzQ29ubmVjdGVkKCkmJiFhLnRhcmdldEJsb2NrKCkuaXNTaGFkb3coKSlpZihhPWEudGFyZ2V0Q29ubmVjdGlvbixhLmRpc2Nvbm5lY3QoKSxhLmNoZWNrVHlwZShiKSliLmNvbm5lY3QoYSk7ZWxzZSBhLm9uRmFpbGVkQ29ubmVjdChiKX07XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5nZXRPbmx5VmFsdWVDb25uZWN0aW9uXz1mdW5jdGlvbigpe2Zvcih2YXIgYT1udWxsLGI9MDtiPHRoaXMuaW5wdXRMaXN0Lmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuaW5wdXRMaXN0W2JdLmNvbm5lY3Rpb247aWYoYyYmYy50eXBlPT1CbG9ja2x5LklOUFVUX1ZBTFVFJiZjLnRhcmdldENvbm5lY3Rpb24pe2lmKGEpcmV0dXJuIG51bGw7YT1jfX1yZXR1cm4gYX07XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS51bnBsdWdGcm9tU3RhY2tfPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24uaXNDb25uZWN0ZWQoKSYmKGI9dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbix0aGlzLnByZXZpb3VzQ29ubmVjdGlvbi5kaXNjb25uZWN0KCkpO3ZhciBjPXRoaXMuZ2V0TmV4dEJsb2NrKCk7YSYmYyYmIWMuaXNTaGFkb3coKSYmKGE9dGhpcy5uZXh0Q29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uLGEuZGlzY29ubmVjdCgpLGImJmIuY2hlY2tUeXBlKGEpJiZiLmNvbm5lY3QoYSkpfTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLmdldENvbm5lY3Rpb25zXz1mdW5jdGlvbihhKXthPVtdO3RoaXMub3V0cHV0Q29ubmVjdGlvbiYmYS5wdXNoKHRoaXMub3V0cHV0Q29ubmVjdGlvbik7dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24mJmEucHVzaCh0aGlzLnByZXZpb3VzQ29ubmVjdGlvbik7dGhpcy5uZXh0Q29ubmVjdGlvbiYmYS5wdXNoKHRoaXMubmV4dENvbm5lY3Rpb24pO2Zvcih2YXIgYj0wLGM7Yz10aGlzLmlucHV0TGlzdFtiXTtiKyspYy5jb25uZWN0aW9uJiZhLnB1c2goYy5jb25uZWN0aW9uKTtyZXR1cm4gYX07QmxvY2tseS5CbG9jay5wcm90b3R5cGUubGFzdENvbm5lY3Rpb25JblN0YWNrPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubmV4dENvbm5lY3Rpb247YTspe3ZhciBiPWEudGFyZ2V0QmxvY2soKTtpZighYilyZXR1cm4gYTthPWIubmV4dENvbm5lY3Rpb259cmV0dXJuIG51bGx9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmJ1bXBOZWlnaGJvdXJzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiTm90IGV4cGVjdGVkIHRvIHJlYWNoIEJsb2NrLmJ1bXBOZWlnaGJvdXJzIGZ1bmN0aW9uLiBCbG9ja1N2Zy5idW1wTmVpZ2hib3VycyB3YXMgZXhwZWN0ZWQgdG8gYmUgY2FsbGVkIGluc3RlYWQuXCIpfTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLmdldFBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudEJsb2NrX307QmxvY2tseS5CbG9jay5wcm90b3R5cGUuZ2V0SW5wdXRXaXRoQmxvY2s9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYztjPXRoaXMuaW5wdXRMaXN0W2JdO2IrKylpZihjLmNvbm5lY3Rpb24mJmMuY29ubmVjdGlvbi50YXJnZXRCbG9jaygpPT1hKXJldHVybiBjO3JldHVybiBudWxsfTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5nZXRTdXJyb3VuZFBhcmVudD1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ZG97dmFyIGI9YTthPWEuZ2V0UGFyZW50KCk7aWYoIWEpcmV0dXJuIG51bGx9d2hpbGUoYS5nZXROZXh0QmxvY2soKT09Yik7cmV0dXJuIGF9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmdldE5leHRCbG9jaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5leHRDb25uZWN0aW9uJiZ0aGlzLm5leHRDb25uZWN0aW9uLnRhcmdldEJsb2NrKCl9O1xuQmxvY2tseS5CbG9jay5wcm90b3R5cGUuZ2V0UHJldmlvdXNCbG9jaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZpb3VzQ29ubmVjdGlvbiYmdGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24udGFyZ2V0QmxvY2soKX07QmxvY2tseS5CbG9jay5wcm90b3R5cGUuZ2V0Rmlyc3RTdGF0ZW1lbnRDb25uZWN0aW9uPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYjtiPXRoaXMuaW5wdXRMaXN0W2FdO2ErKylpZihiLmNvbm5lY3Rpb24mJmIuY29ubmVjdGlvbi50eXBlPT1CbG9ja2x5Lk5FWFRfU1RBVEVNRU5UKXJldHVybiBiLmNvbm5lY3Rpb247cmV0dXJuIG51bGx9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmdldFJvb3RCbG9jaz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ZG97dmFyIGI9YTthPWIucGFyZW50QmxvY2tffXdoaWxlKGEpO3JldHVybiBifTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLmdldFRvcFN0YWNrQmxvY2s9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2RvIHZhciBiPWEuZ2V0UHJldmlvdXNCbG9jaygpO3doaWxlKGImJmIuZ2V0TmV4dEJsb2NrKCk9PWEmJihhPWIpKTtyZXR1cm4gYX07QmxvY2tseS5CbG9jay5wcm90b3R5cGUuZ2V0Q2hpbGRyZW49ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIHRoaXMuY2hpbGRCbG9ja3NfO2E9W107Zm9yKHZhciBiPTAsYztjPXRoaXMuaW5wdXRMaXN0W2JdO2IrKyljLmNvbm5lY3Rpb24mJihjPWMuY29ubmVjdGlvbi50YXJnZXRCbG9jaygpKSYmYS5wdXNoKGMpOyhiPXRoaXMuZ2V0TmV4dEJsb2NrKCkpJiZhLnB1c2goYik7cmV0dXJuIGF9O1xuQmxvY2tseS5CbG9jay5wcm90b3R5cGUuc2V0UGFyZW50PWZ1bmN0aW9uKGEpe2lmKGEhPXRoaXMucGFyZW50QmxvY2tfKXtpZih0aGlzLnBhcmVudEJsb2NrXyl7QmxvY2tseS51dGlscy5hcnJheVJlbW92ZSh0aGlzLnBhcmVudEJsb2NrXy5jaGlsZEJsb2Nrc18sdGhpcyk7aWYodGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24mJnRoaXMucHJldmlvdXNDb25uZWN0aW9uLmlzQ29ubmVjdGVkKCkpdGhyb3cgRXJyb3IoXCJTdGlsbCBjb25uZWN0ZWQgdG8gcHJldmlvdXMgYmxvY2suXCIpO2lmKHRoaXMub3V0cHV0Q29ubmVjdGlvbiYmdGhpcy5vdXRwdXRDb25uZWN0aW9uLmlzQ29ubmVjdGVkKCkpdGhyb3cgRXJyb3IoXCJTdGlsbCBjb25uZWN0ZWQgdG8gcGFyZW50IGJsb2NrLlwiKTt0aGlzLnBhcmVudEJsb2NrXz1udWxsfWVsc2UgdGhpcy53b3Jrc3BhY2UucmVtb3ZlVG9wQmxvY2sodGhpcyk7KHRoaXMucGFyZW50QmxvY2tfPWEpP2EuY2hpbGRCbG9ja3NfLnB1c2godGhpcyk6dGhpcy53b3Jrc3BhY2UuYWRkVG9wQmxvY2sodGhpcyl9fTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLmdldERlc2NlbmRhbnRzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bdGhpc10sYz10aGlzLmdldENoaWxkcmVuKGEpLGQsZT0wO2Q9Y1tlXTtlKyspYi5wdXNoLmFwcGx5KGIsZC5nZXREZXNjZW5kYW50cyhhKSk7cmV0dXJuIGJ9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmlzRGVsZXRhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsZXRhYmxlXyYmIXRoaXMuaXNTaGFkb3dfJiYhKHRoaXMud29ya3NwYWNlJiZ0aGlzLndvcmtzcGFjZS5vcHRpb25zLnJlYWRPbmx5KX07QmxvY2tseS5CbG9jay5wcm90b3R5cGUuc2V0RGVsZXRhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuZGVsZXRhYmxlXz1hfTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5pc01vdmFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb3ZhYmxlXyYmIXRoaXMuaXNTaGFkb3dfJiYhKHRoaXMud29ya3NwYWNlJiZ0aGlzLndvcmtzcGFjZS5vcHRpb25zLnJlYWRPbmx5KX07XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5zZXRNb3ZhYmxlPWZ1bmN0aW9uKGEpe3RoaXMubW92YWJsZV89YX07QmxvY2tseS5CbG9jay5wcm90b3R5cGUuaXNEdXBsaWNhdGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3Jrc3BhY2UuaGFzQmxvY2tMaW1pdHMoKT90aGlzLndvcmtzcGFjZS5pc0NhcGFjaXR5QXZhaWxhYmxlKEJsb2NrbHkudXRpbHMuZ2V0QmxvY2tUeXBlQ291bnRzKHRoaXMsITApKTohMH07QmxvY2tseS5CbG9jay5wcm90b3R5cGUuaXNTaGFkb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1NoYWRvd199O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldFNoYWRvdz1mdW5jdGlvbihhKXt0aGlzLmlzU2hhZG93Xz1hfTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5pc0luc2VydGlvbk1hcmtlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzSW5zZXJ0aW9uTWFya2VyX307XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5zZXRJbnNlcnRpb25NYXJrZXI9ZnVuY3Rpb24oYSl7dGhpcy5pc0luc2VydGlvbk1hcmtlcl89YX07QmxvY2tseS5CbG9jay5wcm90b3R5cGUuaXNFZGl0YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVkaXRhYmxlXyYmISh0aGlzLndvcmtzcGFjZSYmdGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5yZWFkT25seSl9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldEVkaXRhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuZWRpdGFibGVfPWE7YT0wO2Zvcih2YXIgYjtiPXRoaXMuaW5wdXRMaXN0W2FdO2ErKylmb3IodmFyIGM9MCxkO2Q9Yi5maWVsZFJvd1tjXTtjKyspZC51cGRhdGVFZGl0YWJsZSgpfTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcG9zZWR9O1xuQmxvY2tseS5CbG9jay5wcm90b3R5cGUuZ2V0TWF0Y2hpbmdDb25uZWN0aW9uPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDb25uZWN0aW9uc18oITApO2E9YS5nZXRDb25uZWN0aW9uc18oITApO2lmKGMubGVuZ3RoIT1hLmxlbmd0aCl0aHJvdyBFcnJvcihcIkNvbm5lY3Rpb24gbGlzdHMgZGlkIG5vdCBtYXRjaCBpbiBsZW5ndGguXCIpO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGFbZF09PWIpcmV0dXJuIGNbZF07cmV0dXJuIG51bGx9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldEhlbHBVcmw9ZnVuY3Rpb24oYSl7dGhpcy5oZWxwVXJsPWF9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldFRvb2x0aXA9ZnVuY3Rpb24oYSl7dGhpcy50b29sdGlwPWF9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmdldENvbG91cj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbG91cl99O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmdldFN0eWxlTmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlTmFtZV99O1xuQmxvY2tseS5CbG9jay5wcm90b3R5cGUuZ2V0SHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaHVlX307QmxvY2tseS5CbG9jay5wcm90b3R5cGUuc2V0Q29sb3VyPWZ1bmN0aW9uKGEpe2E9QmxvY2tseS51dGlscy5wYXJzZUJsb2NrQ29sb3VyKGEpO3RoaXMuaHVlXz1hLmh1ZTt0aGlzLmNvbG91cl89YS5oZXh9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldFN0eWxlPWZ1bmN0aW9uKGEpe3RoaXMuc3R5bGVOYW1lXz1hfTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5zZXRPbkNoYW5nZT1mdW5jdGlvbihhKXtpZihhJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBhKXRocm93IEVycm9yKFwib25jaGFuZ2UgbXVzdCBiZSBhIGZ1bmN0aW9uLlwiKTt0aGlzLm9uY2hhbmdlV3JhcHBlcl8mJnRoaXMud29ya3NwYWNlLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMub25jaGFuZ2VXcmFwcGVyXyk7aWYodGhpcy5vbmNoYW5nZT1hKXRoaXMub25jaGFuZ2VXcmFwcGVyXz1hLmJpbmQodGhpcyksdGhpcy53b3Jrc3BhY2UuYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5vbmNoYW5nZVdyYXBwZXJfKX07XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5nZXRGaWVsZD1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjO2M9dGhpcy5pbnB1dExpc3RbYl07YisrKWZvcih2YXIgZD0wLGU7ZT1jLmZpZWxkUm93W2RdO2QrKylpZihlLm5hbWU9PWEpcmV0dXJuIGU7cmV0dXJuIG51bGx9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmdldFZhcnM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj0wLGM7Yz10aGlzLmlucHV0TGlzdFtiXTtiKyspZm9yKHZhciBkPTAsZTtlPWMuZmllbGRSb3dbZF07ZCsrKWUucmVmZXJlbmNlc1ZhcmlhYmxlcygpJiZhLnB1c2goZS5nZXRWYWx1ZSgpKTtyZXR1cm4gYX07XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5nZXRWYXJNb2RlbHM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj0wLGM7Yz10aGlzLmlucHV0TGlzdFtiXTtiKyspZm9yKHZhciBkPTAsZTtlPWMuZmllbGRSb3dbZF07ZCsrKWUucmVmZXJlbmNlc1ZhcmlhYmxlcygpJiYoZT10aGlzLndvcmtzcGFjZS5nZXRWYXJpYWJsZUJ5SWQoZS5nZXRWYWx1ZSgpKSkmJmEucHVzaChlKTtyZXR1cm4gYX07QmxvY2tseS5CbG9jay5wcm90b3R5cGUudXBkYXRlVmFyTmFtZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjO2M9dGhpcy5pbnB1dExpc3RbYl07YisrKWZvcih2YXIgZD0wLGU7ZT1jLmZpZWxkUm93W2RdO2QrKyllLnJlZmVyZW5jZXNWYXJpYWJsZXMoKSYmYS5nZXRJZCgpPT1lLmdldFZhbHVlKCkmJmUucmVmcmVzaFZhcmlhYmxlTmFtZSgpfTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLnJlbmFtZVZhckJ5SWQ9ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkO2Q9dGhpcy5pbnB1dExpc3RbY107YysrKWZvcih2YXIgZT0wLGY7Zj1kLmZpZWxkUm93W2VdO2UrKylmLnJlZmVyZW5jZXNWYXJpYWJsZXMoKSYmYT09Zi5nZXRWYWx1ZSgpJiZmLnNldFZhbHVlKGIpfTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5nZXRGaWVsZFZhbHVlPWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuZ2V0RmllbGQoYSkpP2EuZ2V0VmFsdWUoKTpudWxsfTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5zZXRGaWVsZFZhbHVlPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRGaWVsZChiKTtpZighYyl0aHJvdyBFcnJvcignRmllbGQgXCInK2IrJ1wiIG5vdCBmb3VuZC4nKTtjLnNldFZhbHVlKGEpfTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldFByZXZpb3VzU3RhdGVtZW50PWZ1bmN0aW9uKGEsYil7aWYoYSl7dm9pZCAwPT09YiYmKGI9bnVsbCk7aWYoIXRoaXMucHJldmlvdXNDb25uZWN0aW9uKXtpZih0aGlzLm91dHB1dENvbm5lY3Rpb24pdGhyb3cgRXJyb3IoXCJSZW1vdmUgb3V0cHV0IGNvbm5lY3Rpb24gcHJpb3IgdG8gYWRkaW5nIHByZXZpb3VzIGNvbm5lY3Rpb24uXCIpO3RoaXMucHJldmlvdXNDb25uZWN0aW9uPXRoaXMubWFrZUNvbm5lY3Rpb25fKEJsb2NrbHkuUFJFVklPVVNfU1RBVEVNRU5UKX10aGlzLnByZXZpb3VzQ29ubmVjdGlvbi5zZXRDaGVjayhiKX1lbHNlIGlmKHRoaXMucHJldmlvdXNDb25uZWN0aW9uKXtpZih0aGlzLnByZXZpb3VzQ29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpKXRocm93IEVycm9yKFwiTXVzdCBkaXNjb25uZWN0IHByZXZpb3VzIHN0YXRlbWVudCBiZWZvcmUgcmVtb3ZpbmcgY29ubmVjdGlvbi5cIik7dGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24uZGlzcG9zZSgpO1xudGhpcy5wcmV2aW91c0Nvbm5lY3Rpb249bnVsbH19O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldE5leHRTdGF0ZW1lbnQ9ZnVuY3Rpb24oYSxiKXtpZihhKXZvaWQgMD09PWImJihiPW51bGwpLHRoaXMubmV4dENvbm5lY3Rpb258fCh0aGlzLm5leHRDb25uZWN0aW9uPXRoaXMubWFrZUNvbm5lY3Rpb25fKEJsb2NrbHkuTkVYVF9TVEFURU1FTlQpKSx0aGlzLm5leHRDb25uZWN0aW9uLnNldENoZWNrKGIpO2Vsc2UgaWYodGhpcy5uZXh0Q29ubmVjdGlvbil7aWYodGhpcy5uZXh0Q29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpKXRocm93IEVycm9yKFwiTXVzdCBkaXNjb25uZWN0IG5leHQgc3RhdGVtZW50IGJlZm9yZSByZW1vdmluZyBjb25uZWN0aW9uLlwiKTt0aGlzLm5leHRDb25uZWN0aW9uLmRpc3Bvc2UoKTt0aGlzLm5leHRDb25uZWN0aW9uPW51bGx9fTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldE91dHB1dD1mdW5jdGlvbihhLGIpe2lmKGEpe3ZvaWQgMD09PWImJihiPW51bGwpO2lmKCF0aGlzLm91dHB1dENvbm5lY3Rpb24pe2lmKHRoaXMucHJldmlvdXNDb25uZWN0aW9uKXRocm93IEVycm9yKFwiUmVtb3ZlIHByZXZpb3VzIGNvbm5lY3Rpb24gcHJpb3IgdG8gYWRkaW5nIG91dHB1dCBjb25uZWN0aW9uLlwiKTt0aGlzLm91dHB1dENvbm5lY3Rpb249dGhpcy5tYWtlQ29ubmVjdGlvbl8oQmxvY2tseS5PVVRQVVRfVkFMVUUpfXRoaXMub3V0cHV0Q29ubmVjdGlvbi5zZXRDaGVjayhiKX1lbHNlIGlmKHRoaXMub3V0cHV0Q29ubmVjdGlvbil7aWYodGhpcy5vdXRwdXRDb25uZWN0aW9uLmlzQ29ubmVjdGVkKCkpdGhyb3cgRXJyb3IoXCJNdXN0IGRpc2Nvbm5lY3Qgb3V0cHV0IHZhbHVlIGJlZm9yZSByZW1vdmluZyBjb25uZWN0aW9uLlwiKTt0aGlzLm91dHB1dENvbm5lY3Rpb24uZGlzcG9zZSgpO3RoaXMub3V0cHV0Q29ubmVjdGlvbj1cbm51bGx9fTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5zZXRJbnB1dHNJbmxpbmU9ZnVuY3Rpb24oYSl7dGhpcy5pbnB1dHNJbmxpbmUhPWEmJihCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5CbG9ja0NoYW5nZSh0aGlzLFwiaW5saW5lXCIsbnVsbCx0aGlzLmlucHV0c0lubGluZSxhKSksdGhpcy5pbnB1dHNJbmxpbmU9YSl9O1xuQmxvY2tseS5CbG9jay5wcm90b3R5cGUuZ2V0SW5wdXRzSW5saW5lPWZ1bmN0aW9uKCl7aWYodm9pZCAwIT10aGlzLmlucHV0c0lubGluZSlyZXR1cm4gdGhpcy5pbnB1dHNJbmxpbmU7Zm9yKHZhciBhPTE7YTx0aGlzLmlucHV0TGlzdC5sZW5ndGg7YSsrKWlmKHRoaXMuaW5wdXRMaXN0W2EtMV0udHlwZT09QmxvY2tseS5EVU1NWV9JTlBVVCYmdGhpcy5pbnB1dExpc3RbYV0udHlwZT09QmxvY2tseS5EVU1NWV9JTlBVVClyZXR1cm4hMTtmb3IoYT0xO2E8dGhpcy5pbnB1dExpc3QubGVuZ3RoO2ErKylpZih0aGlzLmlucHV0TGlzdFthLTFdLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUUmJnRoaXMuaW5wdXRMaXN0W2FdLnR5cGU9PUJsb2NrbHkuRFVNTVlfSU5QVVQpcmV0dXJuITA7cmV0dXJuITF9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldE91dHB1dFNoYXBlPWZ1bmN0aW9uKGEpe3RoaXMub3V0cHV0U2hhcGVfPWF9O1xuQmxvY2tseS5CbG9jay5wcm90b3R5cGUuZ2V0T3V0cHV0U2hhcGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vdXRwdXRTaGFwZV99O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldERpc2FibGVkPWZ1bmN0aW9uKGEpe2NvbnNvbGUud2FybihcIkRlcHJlY2F0ZWQgY2FsbCB0byBCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5zZXREaXNhYmxlZCwgdXNlIEJsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldEVuYWJsZWQgaW5zdGVhZC5cIik7dGhpcy5zZXRFbmFibGVkKCFhKX07QmxvY2tseS5CbG9jay5wcm90b3R5cGUuaXNFbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZGlzYWJsZWR9O1xuQmxvY2tseS5CbG9jay5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmlzRW5hYmxlZCgpIT1hJiYoQmxvY2tseS5FdmVudHMuZmlyZShuZXcgQmxvY2tseS5FdmVudHMuQmxvY2tDaGFuZ2UodGhpcyxcImRpc2FibGVkXCIsbnVsbCx0aGlzLmRpc2FibGVkLCFhKSksdGhpcy5kaXNhYmxlZD0hYSl9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmdldEluaGVyaXRlZERpc2FibGVkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZ2V0U3Vycm91bmRQYXJlbnQoKTthOyl7aWYoYS5kaXNhYmxlZClyZXR1cm4hMDthPWEuZ2V0U3Vycm91bmRQYXJlbnQoKX1yZXR1cm4hMX07QmxvY2tseS5CbG9jay5wcm90b3R5cGUuaXNDb2xsYXBzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb2xsYXBzZWRffTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldENvbGxhcHNlZD1mdW5jdGlvbihhKXt0aGlzLmNvbGxhcHNlZF8hPWEmJihCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5CbG9ja0NoYW5nZSh0aGlzLFwiY29sbGFwc2VkXCIsbnVsbCx0aGlzLmNvbGxhcHNlZF8sYSkpLHRoaXMuY29sbGFwc2VkXz1hKX07XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQ9Ynx8XCI/XCI7aWYodGhpcy5jb2xsYXBzZWRfKWMucHVzaCh0aGlzLmdldElucHV0KFwiX1RFTVBfQ09MTEFQU0VEX0lOUFVUXCIpLmZpZWxkUm93WzBdLmdldFRleHQoKSk7ZWxzZSBmb3IodmFyIGU9MCxmO2Y9dGhpcy5pbnB1dExpc3RbZV07ZSsrKXtmb3IodmFyIGc9MCxoO2g9Zi5maWVsZFJvd1tnXTtnKyspYy5wdXNoKGguZ2V0VGV4dCgpKTtmLmNvbm5lY3Rpb24mJigoZj1mLmNvbm5lY3Rpb24udGFyZ2V0QmxvY2soKSk/Yy5wdXNoKGYudG9TdHJpbmcodm9pZCAwLGIpKTpjLnB1c2goZCkpfWM9Yy5qb2luKFwiIFwiKS50cmltKCl8fFwiPz8/XCI7YSYmYy5sZW5ndGg+YSYmKGM9Yy5zdWJzdHJpbmcoMCxhLTMpK1wiLi4uXCIpO3JldHVybiBjfTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLmFwcGVuZFZhbHVlSW5wdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXBwZW5kSW5wdXRfKEJsb2NrbHkuSU5QVVRfVkFMVUUsYSl9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmFwcGVuZFN0YXRlbWVudElucHV0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFwcGVuZElucHV0XyhCbG9ja2x5Lk5FWFRfU1RBVEVNRU5ULGEpfTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5hcHBlbmREdW1teUlucHV0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFwcGVuZElucHV0XyhCbG9ja2x5LkRVTU1ZX0lOUFVULGF8fFwiXCIpfTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLmpzb25Jbml0PWZ1bmN0aW9uKGEpe3ZhciBiPWEudHlwZT8nQmxvY2sgXCInK2EudHlwZSsnXCI6ICc6XCJcIjtpZihhLm91dHB1dCYmYS5wcmV2aW91c1N0YXRlbWVudCl0aHJvdyBFcnJvcihiK1wiTXVzdCBub3QgaGF2ZSBib3RoIGFuIG91dHB1dCBhbmQgYSBwcmV2aW91c1N0YXRlbWVudC5cIik7YS5zdHlsZSYmYS5zdHlsZS5oYXQmJih0aGlzLmhhdD1hLnN0eWxlLmhhdCxhLnN0eWxlPW51bGwpO2lmKGEuc3R5bGUmJmEuY29sb3VyKXRocm93IEVycm9yKGIrXCJNdXN0IG5vdCBoYXZlIGJvdGggYSBjb2xvdXIgYW5kIGEgc3R5bGUuXCIpO2Euc3R5bGU/dGhpcy5qc29uSW5pdFN0eWxlXyhhLGIpOnRoaXMuanNvbkluaXRDb2xvdXJfKGEsYik7Zm9yKHZhciBjPTA7dm9pZCAwIT09YVtcIm1lc3NhZ2VcIitjXTspdGhpcy5pbnRlcnBvbGF0ZV8oYVtcIm1lc3NhZ2VcIitjXSxhW1wiYXJnc1wiK2NdfHxbXSxhW1wibGFzdER1bW15QWxpZ25cIitjXSxiKSxjKys7dm9pZCAwIT09XG5hLmlucHV0c0lubGluZSYmdGhpcy5zZXRJbnB1dHNJbmxpbmUoYS5pbnB1dHNJbmxpbmUpO3ZvaWQgMCE9PWEub3V0cHV0JiZ0aGlzLnNldE91dHB1dCghMCxhLm91dHB1dCk7dm9pZCAwIT09YS5vdXRwdXRTaGFwZSYmdGhpcy5zZXRPdXRwdXRTaGFwZShhLm91dHB1dFNoYXBlKTt2b2lkIDAhPT1hLnByZXZpb3VzU3RhdGVtZW50JiZ0aGlzLnNldFByZXZpb3VzU3RhdGVtZW50KCEwLGEucHJldmlvdXNTdGF0ZW1lbnQpO3ZvaWQgMCE9PWEubmV4dFN0YXRlbWVudCYmdGhpcy5zZXROZXh0U3RhdGVtZW50KCEwLGEubmV4dFN0YXRlbWVudCk7dm9pZCAwIT09YS50b29sdGlwJiYoYz1hLnRvb2x0aXAsYz1CbG9ja2x5LnV0aWxzLnJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyhjKSx0aGlzLnNldFRvb2x0aXAoYykpO3ZvaWQgMCE9PWEuZW5hYmxlQ29udGV4dE1lbnUmJihjPWEuZW5hYmxlQ29udGV4dE1lbnUsdGhpcy5jb250ZXh0TWVudT0hIWMpO3ZvaWQgMCE9PWEuaGVscFVybCYmKGM9XG5hLmhlbHBVcmwsYz1CbG9ja2x5LnV0aWxzLnJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyhjKSx0aGlzLnNldEhlbHBVcmwoYykpO1wic3RyaW5nXCI9PXR5cGVvZiBhLmV4dGVuc2lvbnMmJihjb25zb2xlLndhcm4oYitcIkpTT04gYXR0cmlidXRlICdleHRlbnNpb25zJyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4gRm91bmQgcmF3IHN0cmluZyBpbiBKU09OIGZvciAnXCIrYS50eXBlK1wiJyBibG9jay5cIiksYS5leHRlbnNpb25zPVthLmV4dGVuc2lvbnNdKTt2b2lkIDAhPT1hLm11dGF0b3ImJkJsb2NrbHkuRXh0ZW5zaW9ucy5hcHBseShhLm11dGF0b3IsdGhpcywhMCk7aWYoQXJyYXkuaXNBcnJheShhLmV4dGVuc2lvbnMpKWZvcihhPWEuZXh0ZW5zaW9ucyxiPTA7YjxhLmxlbmd0aDsrK2IpQmxvY2tseS5FeHRlbnNpb25zLmFwcGx5KGFbYl0sdGhpcywhMSl9O1xuQmxvY2tseS5CbG9jay5wcm90b3R5cGUuanNvbkluaXRDb2xvdXJfPWZ1bmN0aW9uKGEsYil7aWYoXCJjb2xvdXJcImluIGEpaWYodm9pZCAwPT09YS5jb2xvdXIpY29uc29sZS53YXJuKGIrXCJVbmRlZmluZWQgY29sb3VyIHZhbHVlLlwiKTtlbHNle2E9YS5jb2xvdXI7dHJ5e3RoaXMuc2V0Q29sb3VyKGEpfWNhdGNoKGMpe2NvbnNvbGUud2FybihiK1wiSWxsZWdhbCBjb2xvdXIgdmFsdWU6IFwiLGEpfX19O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmpzb25Jbml0U3R5bGVfPWZ1bmN0aW9uKGEsYil7YT1hLnN0eWxlO3RyeXt0aGlzLnNldFN0eWxlKGEpfWNhdGNoKGMpe2NvbnNvbGUud2FybihiK1wiU3R5bGUgZG9lcyBub3QgZXhpc3Q6IFwiLGEpfX07XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5taXhpbj1mdW5jdGlvbihhLGIpe2lmKHZvaWQgMCE9PWImJlwiYm9vbGVhblwiIT10eXBlb2YgYil0aHJvdyBFcnJvcihcIm9wdF9kaXNhYmxlQ2hlY2sgbXVzdCBiZSBhIGJvb2xlYW4gaWYgcHJvdmlkZWRcIik7aWYoIWIpe2I9W107Zm9yKHZhciBjIGluIGEpdm9pZCAwIT09dGhpc1tjXSYmYi5wdXNoKGMpO2lmKGIubGVuZ3RoKXRocm93IEVycm9yKFwiTWl4aW4gd2lsbCBvdmVyd3JpdGUgYmxvY2sgbWVtYmVyczogXCIrSlNPTi5zdHJpbmdpZnkoYikpO31CbG9ja2x5LnV0aWxzLm9iamVjdC5taXhpbih0aGlzLGEpfTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLmludGVycG9sYXRlXz1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1CbG9ja2x5LnV0aWxzLnRva2VuaXplSW50ZXJwb2xhdGlvbihhKSxmPVtdLGc9MDthPVtdO2Zvcih2YXIgaD0wO2g8ZS5sZW5ndGg7aCsrKXt2YXIgaz1lW2hdO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBrKXtpZigwPj1rfHxrPmIubGVuZ3RoKXRocm93IEVycm9yKCdCbG9jayBcIicrdGhpcy50eXBlKydcIjogTWVzc2FnZSBpbmRleCAlJytrK1wiIG91dCBvZiByYW5nZS5cIik7aWYoZltrXSl0aHJvdyBFcnJvcignQmxvY2sgXCInK3RoaXMudHlwZSsnXCI6IE1lc3NhZ2UgaW5kZXggJScraytcIiBkdXBsaWNhdGVkLlwiKTtmW2tdPSEwO2crKzthLnB1c2goYltrLTFdKX1lbHNlKGs9ay50cmltKCkpJiZhLnB1c2goayl9aWYoZyE9Yi5sZW5ndGgpdGhyb3cgRXJyb3IoJ0Jsb2NrIFwiJyt0aGlzLnR5cGUrJ1wiOiBNZXNzYWdlIGRvZXMgbm90IHJlZmVyZW5jZSBhbGwgJytiLmxlbmd0aCtcIiBhcmcocykuXCIpO1xuYS5sZW5ndGgmJihcInN0cmluZ1wiPT10eXBlb2YgYVthLmxlbmd0aC0xXXx8QmxvY2tseS51dGlscy5zdHJpbmcuc3RhcnRzV2l0aChhW2EubGVuZ3RoLTFdLnR5cGUsXCJmaWVsZF9cIikpJiYoaD17dHlwZTpcImlucHV0X2R1bW15XCJ9LGMmJihoLmFsaWduPWMpLGEucHVzaChoKSk7Yz17TEVGVDpCbG9ja2x5LkFMSUdOX0xFRlQsUklHSFQ6QmxvY2tseS5BTElHTl9SSUdIVCxDRU5UUkU6QmxvY2tseS5BTElHTl9DRU5UUkUsQ0VOVEVSOkJsb2NrbHkuQUxJR05fQ0VOVFJFfTtiPVtdO2ZvcihoPTA7aDxhLmxlbmd0aDtoKyspaWYoZj1hW2hdLFwic3RyaW5nXCI9PXR5cGVvZiBmKWIucHVzaChbZix2b2lkIDBdKTtlbHNle2U9Zz1udWxsO2RvIGlmKGs9ITEsXCJzdHJpbmdcIj09dHlwZW9mIGYpZz1uZXcgQmxvY2tseS5GaWVsZExhYmVsKGYpO2Vsc2Ugc3dpdGNoKGYudHlwZSl7Y2FzZSBcImlucHV0X3ZhbHVlXCI6ZT10aGlzLmFwcGVuZFZhbHVlSW5wdXQoZi5uYW1lKTticmVhaztjYXNlIFwiaW5wdXRfc3RhdGVtZW50XCI6ZT1cbnRoaXMuYXBwZW5kU3RhdGVtZW50SW5wdXQoZi5uYW1lKTticmVhaztjYXNlIFwiaW5wdXRfZHVtbXlcIjplPXRoaXMuYXBwZW5kRHVtbXlJbnB1dChmLm5hbWUpO2JyZWFrO2RlZmF1bHQ6Zz1CbG9ja2x5LmZpZWxkUmVnaXN0cnkuZnJvbUpzb24oZiksIWcmJmYuYWx0JiYoZj1mLmFsdCxrPSEwKX13aGlsZShrKTtpZihnKWIucHVzaChbZyxmLm5hbWVdKTtlbHNlIGlmKGUpe2YuY2hlY2smJmUuc2V0Q2hlY2soZi5jaGVjayk7Zi5hbGlnbiYmKGc9Y1tmLmFsaWduLnRvVXBwZXJDYXNlKCldLHZvaWQgMD09PWc/Y29uc29sZS53YXJuKGQrXCJJbGxlZ2FsIGFsaWduIHZhbHVlOiBcIixmLmFsaWduKTplLnNldEFsaWduKGcpKTtmb3IoZj0wO2Y8Yi5sZW5ndGg7ZisrKWUuYXBwZW5kRmllbGQoYltmXVswXSxiW2ZdWzFdKTtiLmxlbmd0aD0wfX19O1xuQmxvY2tseS5CbG9jay5wcm90b3R5cGUuYXBwZW5kSW5wdXRfPWZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtpZihhPT1CbG9ja2x5LklOUFVUX1ZBTFVFfHxhPT1CbG9ja2x5Lk5FWFRfU1RBVEVNRU5UKWM9dGhpcy5tYWtlQ29ubmVjdGlvbl8oYSk7YT09QmxvY2tseS5ORVhUX1NUQVRFTUVOVCYmdGhpcy5zdGF0ZW1lbnRJbnB1dENvdW50Kys7YT1uZXcgQmxvY2tseS5JbnB1dChhLGIsdGhpcyxjKTt0aGlzLmlucHV0TGlzdC5wdXNoKGEpO3JldHVybiBhfTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLm1vdmVJbnB1dEJlZm9yZT1mdW5jdGlvbihhLGIpe2lmKGEhPWIpe2Zvcih2YXIgYz0tMSxkPWI/LTE6dGhpcy5pbnB1dExpc3QubGVuZ3RoLGU9MCxmO2Y9dGhpcy5pbnB1dExpc3RbZV07ZSsrKWlmKGYubmFtZT09YSl7aWYoYz1lLC0xIT1kKWJyZWFrfWVsc2UgaWYoYiYmZi5uYW1lPT1iJiYoZD1lLC0xIT1jKSlicmVhaztpZigtMT09Yyl0aHJvdyBFcnJvcignTmFtZWQgaW5wdXQgXCInK2ErJ1wiIG5vdCBmb3VuZC4nKTtpZigtMT09ZCl0aHJvdyBFcnJvcignUmVmZXJlbmNlIGlucHV0IFwiJytiKydcIiBub3QgZm91bmQuJyk7dGhpcy5tb3ZlTnVtYmVyZWRJbnB1dEJlZm9yZShjLGQpfX07XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5tb3ZlTnVtYmVyZWRJbnB1dEJlZm9yZT1mdW5jdGlvbihhLGIpe2lmKGE9PWIpdGhyb3cgRXJyb3IoXCJDYW4ndCBtb3ZlIGlucHV0IHRvIGl0c2VsZi5cIik7aWYoYT49dGhpcy5pbnB1dExpc3QubGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJJbnB1dCBpbmRleCBcIithK1wiIG91dCBvZiBib3VuZHMuXCIpO2lmKGI+dGhpcy5pbnB1dExpc3QubGVuZ3RoKXRocm93IFJhbmdlRXJyb3IoXCJSZWZlcmVuY2UgaW5wdXQgXCIrYitcIiBvdXQgb2YgYm91bmRzLlwiKTt2YXIgYz10aGlzLmlucHV0TGlzdFthXTt0aGlzLmlucHV0TGlzdC5zcGxpY2UoYSwxKTthPGImJmItLTt0aGlzLmlucHV0TGlzdC5zcGxpY2UoYiwwLGMpfTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLnJlbW92ZUlucHV0PWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZDtkPXRoaXMuaW5wdXRMaXN0W2NdO2MrKylpZihkLm5hbWU9PWEpe2QudHlwZT09QmxvY2tseS5ORVhUX1NUQVRFTUVOVCYmdGhpcy5zdGF0ZW1lbnRJbnB1dENvdW50LS07ZC5kaXNwb3NlKCk7dGhpcy5pbnB1dExpc3Quc3BsaWNlKGMsMSk7cmV0dXJufWlmKCFiKXRocm93IEVycm9yKFwiSW5wdXQgbm90IGZvdW5kOiBcIithKTt9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLmdldElucHV0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM7Yz10aGlzLmlucHV0TGlzdFtiXTtiKyspaWYoYy5uYW1lPT1hKXJldHVybiBjO3JldHVybiBudWxsfTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5nZXRJbnB1dFRhcmdldEJsb2NrPWZ1bmN0aW9uKGEpe3JldHVybihhPXRoaXMuZ2V0SW5wdXQoYSkpJiZhLmNvbm5lY3Rpb24mJmEuY29ubmVjdGlvbi50YXJnZXRCbG9jaygpfTtcbkJsb2NrbHkuQmxvY2sucHJvdG90eXBlLmdldENvbW1lbnRUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tbWVudE1vZGVsLnRleHR9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldENvbW1lbnRUZXh0PWZ1bmN0aW9uKGEpe3RoaXMuY29tbWVudE1vZGVsLnRleHQhPWEmJihCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5CbG9ja0NoYW5nZSh0aGlzLFwiY29tbWVudFwiLG51bGwsdGhpcy5jb21tZW50TW9kZWwudGV4dCxhKSksdGhpcy5jb21tZW50PXRoaXMuY29tbWVudE1vZGVsLnRleHQ9YSl9O0Jsb2NrbHkuQmxvY2sucHJvdG90eXBlLnNldFdhcm5pbmdUZXh0PWZ1bmN0aW9uKGEsYil7fTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5zZXRNdXRhdG9yPWZ1bmN0aW9uKGEpe307QmxvY2tseS5CbG9jay5wcm90b3R5cGUuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnh5X307XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5tb3ZlQnk9ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnBhcmVudEJsb2NrXyl0aHJvdyBFcnJvcihcIkJsb2NrIGhhcyBwYXJlbnQuXCIpO3ZhciBjPW5ldyBCbG9ja2x5LkV2ZW50cy5CbG9ja01vdmUodGhpcyk7dGhpcy54eV8udHJhbnNsYXRlKGEsYik7Yy5yZWNvcmROZXcoKTtCbG9ja2x5LkV2ZW50cy5maXJlKGMpfTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5tYWtlQ29ubmVjdGlvbl89ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBCbG9ja2x5LkNvbm5lY3Rpb24odGhpcyxhKX07XG5CbG9ja2x5LkJsb2NrLnByb3RvdHlwZS5hbGxJbnB1dHNGaWxsZWQ9ZnVuY3Rpb24oYSl7dm9pZCAwPT09YSYmKGE9ITApO2lmKCFhJiZ0aGlzLmlzU2hhZG93KCkpcmV0dXJuITE7Zm9yKHZhciBiPTAsYztjPXRoaXMuaW5wdXRMaXN0W2JdO2IrKylpZihjLmNvbm5lY3Rpb24mJihjPWMuY29ubmVjdGlvbi50YXJnZXRCbG9jaygpLCFjfHwhYy5hbGxJbnB1dHNGaWxsZWQoYSkpKXJldHVybiExO3JldHVybihiPXRoaXMuZ2V0TmV4dEJsb2NrKCkpP2IuYWxsSW5wdXRzRmlsbGVkKGEpOiEwfTtCbG9ja2x5LkJsb2NrLnByb3RvdHlwZS50b0RldlN0cmluZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMudHlwZT8nXCInK3RoaXMudHlwZSsnXCIgYmxvY2snOlwiQmxvY2tcIjt0aGlzLmlkJiYoYSs9JyAoaWQ9XCInK3RoaXMuaWQrJ1wiKScpO3JldHVybiBhfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nPXt9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSVBhdGhPYmplY3Q9ZnVuY3Rpb24oYSxiKXt9O0Jsb2NrbHkudXRpbHMuYXJpYT17fTtCbG9ja2x5LnV0aWxzLmFyaWEuQVJJQV9QUkVGSVhfPVwiYXJpYS1cIjtCbG9ja2x5LnV0aWxzLmFyaWEuUk9MRV9BVFRSSUJVVEVfPVwicm9sZVwiO0Jsb2NrbHkudXRpbHMuYXJpYS5Sb2xlPXtHUklEOlwiZ3JpZFwiLEdSSURDRUxMOlwiZ3JpZGNlbGxcIixHUk9VUDpcImdyb3VwXCIsTElTVEJPWDpcImxpc3Rib3hcIixNRU5VOlwibWVudVwiLE1FTlVJVEVNOlwibWVudWl0ZW1cIixNRU5VSVRFTUNIRUNLQk9YOlwibWVudWl0ZW1jaGVja2JveFwiLE9QVElPTjpcIm9wdGlvblwiLFBSRVNFTlRBVElPTjpcInByZXNlbnRhdGlvblwiLFJPVzpcInJvd1wiLFRSRUU6XCJ0cmVlXCIsVFJFRUlURU06XCJ0cmVlaXRlbVwifTtcbkJsb2NrbHkudXRpbHMuYXJpYS5TdGF0ZT17QUNUSVZFREVTQ0VOREFOVDpcImFjdGl2ZWRlc2NlbmRhbnRcIixDT0xDT1VOVDpcImNvbGNvdW50XCIsRVhQQU5ERUQ6XCJleHBhbmRlZFwiLElOVkFMSUQ6XCJpbnZhbGlkXCIsTEFCRUw6XCJsYWJlbFwiLExBQkVMTEVEQlk6XCJsYWJlbGxlZGJ5XCIsTEVWRUw6XCJsZXZlbFwiLE9SSUVOVEFUSU9OOlwib3JpZW50YXRpb25cIixQT1NJTlNFVDpcInBvc2luc2V0XCIsUk9XQ09VTlQ6XCJyb3djb3VudFwiLFNFTEVDVEVEOlwic2VsZWN0ZWRcIixTRVRTSVpFOlwic2V0c2l6ZVwiLFZBTFVFTUFYOlwidmFsdWVtYXhcIixWQUxVRU1JTjpcInZhbHVlbWluXCJ9O0Jsb2NrbHkudXRpbHMuYXJpYS5zZXRSb2xlPWZ1bmN0aW9uKGEsYil7YS5zZXRBdHRyaWJ1dGUoQmxvY2tseS51dGlscy5hcmlhLlJPTEVfQVRUUklCVVRFXyxiKX07XG5CbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGU9ZnVuY3Rpb24oYSxiLGMpe0FycmF5LmlzQXJyYXkoYykmJihjPWMuam9pbihcIiBcIikpO2Euc2V0QXR0cmlidXRlKEJsb2NrbHkudXRpbHMuYXJpYS5BUklBX1BSRUZJWF8rYixjKX07QmxvY2tseS5NZW51PWZ1bmN0aW9uKCl7QmxvY2tseS5Db21wb25lbnQuY2FsbCh0aGlzKTt0aGlzLm9wZW5pbmdDb29yZHM9bnVsbDt0aGlzLmhpZ2hsaWdodGVkSW5kZXhfPS0xO3RoaXMub25LZXlEb3duV3JhcHBlcl89dGhpcy5tb3VzZUxlYXZlSGFuZGxlcl89dGhpcy5tb3VzZUVudGVySGFuZGxlcl89dGhpcy5jbGlja0hhbmRsZXJfPXRoaXMubW91c2VPdmVySGFuZGxlcl89bnVsbH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5NZW51LEJsb2NrbHkuQ29tcG9uZW50KTtcbkJsb2NrbHkuTWVudS5wcm90b3R5cGUuY3JlYXRlRG9tPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLmlkPXRoaXMuZ2V0SWQoKTt0aGlzLnNldEVsZW1lbnRJbnRlcm5hbChhKTthLmNsYXNzTmFtZT1cImdvb2ctbWVudSBnb29nLW1lbnUtdmVydGljYWwgYmxvY2tseU5vblNlbGVjdGFibGVcIjthLnRhYkluZGV4PTA7QmxvY2tseS51dGlscy5hcmlhLnNldFJvbGUoYSx0aGlzLnJvbGVOYW1lX3x8QmxvY2tseS51dGlscy5hcmlhLlJvbGUuTUVOVSl9O0Jsb2NrbHkuTWVudS5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTthJiYoYS5mb2N1cyh7cHJldmVudFNjcm9sbDohMH0pLEJsb2NrbHkudXRpbHMuZG9tLmFkZENsYXNzKGEsXCJmb2N1c2VkXCIpKX07XG5CbG9ja2x5Lk1lbnUucHJvdG90eXBlLmJsdXI9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTthJiYoYS5ibHVyKCksQmxvY2tseS51dGlscy5kb20ucmVtb3ZlQ2xhc3MoYSxcImZvY3VzZWRcIikpfTtCbG9ja2x5Lk1lbnUucHJvdG90eXBlLnNldFJvbGU9ZnVuY3Rpb24oYSl7dGhpcy5yb2xlTmFtZV89YX07QmxvY2tseS5NZW51LnByb3RvdHlwZS5lbnRlckRvY3VtZW50PWZ1bmN0aW9uKCl7QmxvY2tseS5NZW51LnN1cGVyQ2xhc3NfLmVudGVyRG9jdW1lbnQuY2FsbCh0aGlzKTt0aGlzLmZvckVhY2hDaGlsZChmdW5jdGlvbihhKXthLmlzSW5Eb2N1bWVudCgpJiZ0aGlzLnJlZ2lzdGVyQ2hpbGRJZF8oYSl9LHRoaXMpO3RoaXMuYXR0YWNoRXZlbnRzXygpfTtCbG9ja2x5Lk1lbnUucHJvdG90eXBlLmV4aXREb2N1bWVudD1mdW5jdGlvbigpe3RoaXMuc2V0SGlnaGxpZ2h0ZWRJbmRleCgtMSk7QmxvY2tseS5NZW51LnN1cGVyQ2xhc3NfLmV4aXREb2N1bWVudC5jYWxsKHRoaXMpfTtcbkJsb2NrbHkuTWVudS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsPWZ1bmN0aW9uKCl7QmxvY2tseS5NZW51LnN1cGVyQ2xhc3NfLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO3RoaXMuZGV0YWNoRXZlbnRzXygpfTtcbkJsb2NrbHkuTWVudS5wcm90b3R5cGUuYXR0YWNoRXZlbnRzXz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpO3RoaXMubW91c2VPdmVySGFuZGxlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhhLFwibW91c2VvdmVyXCIsdGhpcyx0aGlzLmhhbmRsZU1vdXNlT3Zlcl8sITApO3RoaXMuY2xpY2tIYW5kbGVyXz1CbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGEsXCJjbGlja1wiLHRoaXMsdGhpcy5oYW5kbGVDbGlja18sITApO3RoaXMubW91c2VFbnRlckhhbmRsZXJfPUJsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18oYSxcIm1vdXNlZW50ZXJcIix0aGlzLHRoaXMuaGFuZGxlTW91c2VFbnRlcl8sITApO3RoaXMubW91c2VMZWF2ZUhhbmRsZXJfPUJsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18oYSxcIm1vdXNlbGVhdmVcIix0aGlzLHRoaXMuaGFuZGxlTW91c2VMZWF2ZV8sITApO3RoaXMub25LZXlEb3duV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhhLFxuXCJrZXlkb3duXCIsdGhpcyx0aGlzLmhhbmRsZUtleUV2ZW50KX07XG5CbG9ja2x5Lk1lbnUucHJvdG90eXBlLmRldGFjaEV2ZW50c189ZnVuY3Rpb24oKXt0aGlzLm1vdXNlT3ZlckhhbmRsZXJfJiYoQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5tb3VzZU92ZXJIYW5kbGVyXyksdGhpcy5tb3VzZU92ZXJIYW5kbGVyXz1udWxsKTt0aGlzLmNsaWNrSGFuZGxlcl8mJihCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLmNsaWNrSGFuZGxlcl8pLHRoaXMuY2xpY2tIYW5kbGVyXz1udWxsKTt0aGlzLm1vdXNlRW50ZXJIYW5kbGVyXyYmKEJsb2NrbHkudW5iaW5kRXZlbnRfKHRoaXMubW91c2VFbnRlckhhbmRsZXJfKSx0aGlzLm1vdXNlRW50ZXJIYW5kbGVyXz1udWxsKTt0aGlzLm1vdXNlTGVhdmVIYW5kbGVyXyYmKEJsb2NrbHkudW5iaW5kRXZlbnRfKHRoaXMubW91c2VMZWF2ZUhhbmRsZXJfKSx0aGlzLm1vdXNlTGVhdmVIYW5kbGVyXz1udWxsKTt0aGlzLm9uS2V5RG93bldyYXBwZXJfJiYoQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5vbktleURvd25XcmFwcGVyXyksdGhpcy5vbktleURvd25XcmFwcGVyXz1cbm51bGwpfTtCbG9ja2x5Lk1lbnUucHJvdG90eXBlLmNoaWxkRWxlbWVudElkTWFwXz1udWxsO0Jsb2NrbHkuTWVudS5wcm90b3R5cGUucmVnaXN0ZXJDaGlsZElkXz1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEVsZW1lbnQoKTtiPWIuaWR8fChiLmlkPWEuZ2V0SWQoKSk7dGhpcy5jaGlsZEVsZW1lbnRJZE1hcF98fCh0aGlzLmNoaWxkRWxlbWVudElkTWFwXz17fSk7dGhpcy5jaGlsZEVsZW1lbnRJZE1hcF9bYl09YX07QmxvY2tseS5NZW51LnByb3RvdHlwZS5nZXRNZW51SXRlbT1mdW5jdGlvbihhKXtpZih0aGlzLmNoaWxkRWxlbWVudElkTWFwXylmb3IodmFyIGI9dGhpcy5nZXRFbGVtZW50KCk7YSYmYSE9PWI7KXt2YXIgYz1hLmlkO2lmKGMgaW4gdGhpcy5jaGlsZEVsZW1lbnRJZE1hcF8pcmV0dXJuIHRoaXMuY2hpbGRFbGVtZW50SWRNYXBfW2NdO2E9YS5wYXJlbnROb2RlfXJldHVybiBudWxsfTtcbkJsb2NrbHkuTWVudS5wcm90b3R5cGUudW5oaWdobGlnaHRDdXJyZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRIaWdobGlnaHRlZCgpO2EmJmEuc2V0SGlnaGxpZ2h0ZWQoITEpfTtCbG9ja2x5Lk1lbnUucHJvdG90eXBlLmNsZWFySGlnaGxpZ2h0ZWQ9ZnVuY3Rpb24oKXt0aGlzLnVuaGlnaGxpZ2h0Q3VycmVudCgpO3RoaXMuc2V0SGlnaGxpZ2h0ZWRJbmRleCgtMSl9O0Jsb2NrbHkuTWVudS5wcm90b3R5cGUuZ2V0SGlnaGxpZ2h0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDaGlsZEF0KHRoaXMuaGlnaGxpZ2h0ZWRJbmRleF8pfTtcbkJsb2NrbHkuTWVudS5wcm90b3R5cGUuc2V0SGlnaGxpZ2h0ZWRJbmRleD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldENoaWxkQXQoYSk7Yj8oYi5zZXRIaWdobGlnaHRlZCghMCksdGhpcy5oaWdobGlnaHRlZEluZGV4Xz1hKTotMTx0aGlzLmhpZ2hsaWdodGVkSW5kZXhfJiYodGhpcy5nZXRIaWdobGlnaHRlZCgpLnNldEhpZ2hsaWdodGVkKCExKSx0aGlzLmhpZ2hsaWdodGVkSW5kZXhfPS0xKTtiJiZCbG9ja2x5LnV0aWxzLnN0eWxlLnNjcm9sbEludG9Db250YWluZXJWaWV3KGIuZ2V0RWxlbWVudCgpLHRoaXMuZ2V0RWxlbWVudCgpKX07QmxvY2tseS5NZW51LnByb3RvdHlwZS5zZXRIaWdobGlnaHRlZD1mdW5jdGlvbihhKXt0aGlzLnNldEhpZ2hsaWdodGVkSW5kZXgodGhpcy5pbmRleE9mQ2hpbGQoYSkpfTtcbkJsb2NrbHkuTWVudS5wcm90b3R5cGUuaGlnaGxpZ2h0TmV4dD1mdW5jdGlvbigpe3RoaXMudW5oaWdobGlnaHRDdXJyZW50KCk7dGhpcy5oaWdobGlnaHRIZWxwZXIoZnVuY3Rpb24oYSxiKXtyZXR1cm4oYSsxKSVifSx0aGlzLmhpZ2hsaWdodGVkSW5kZXhfKX07QmxvY2tseS5NZW51LnByb3RvdHlwZS5oaWdobGlnaHRQcmV2aW91cz1mdW5jdGlvbigpe3RoaXMudW5oaWdobGlnaHRDdXJyZW50KCk7dGhpcy5oaWdobGlnaHRIZWxwZXIoZnVuY3Rpb24oYSxiKXthLS07cmV0dXJuIDA+YT9iLTE6YX0sdGhpcy5oaWdobGlnaHRlZEluZGV4Xyl9O1xuQmxvY2tseS5NZW51LnByb3RvdHlwZS5oaWdobGlnaHRIZWxwZXI9ZnVuY3Rpb24oYSxiKXtiPTA+Yj8tMTpiO3ZhciBjPXRoaXMuZ2V0Q2hpbGRDb3VudCgpO2I9YS5jYWxsKHRoaXMsYixjKTtmb3IodmFyIGQ9MDtkPD1jOyl7dmFyIGU9dGhpcy5nZXRDaGlsZEF0KGIpO2lmKGUmJnRoaXMuY2FuSGlnaGxpZ2h0SXRlbShlKSlyZXR1cm4gdGhpcy5zZXRIaWdobGlnaHRlZEluZGV4KGIpLCEwO2QrKztiPWEuY2FsbCh0aGlzLGIsYyl9cmV0dXJuITF9O0Jsb2NrbHkuTWVudS5wcm90b3R5cGUuY2FuSGlnaGxpZ2h0SXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gYS5pc0VuYWJsZWQoKX07XG5CbG9ja2x5Lk1lbnUucHJvdG90eXBlLmhhbmRsZU1vdXNlT3Zlcl89ZnVuY3Rpb24oYSl7aWYoYT10aGlzLmdldE1lbnVJdGVtKGEudGFyZ2V0KSlhLmlzRW5hYmxlZCgpP3RoaXMuZ2V0SGlnaGxpZ2h0ZWQoKSE9PWEmJih0aGlzLnVuaGlnaGxpZ2h0Q3VycmVudCgpLHRoaXMuc2V0SGlnaGxpZ2h0ZWQoYSkpOnRoaXMudW5oaWdobGlnaHRDdXJyZW50KCl9O0Jsb2NrbHkuTWVudS5wcm90b3R5cGUuaGFuZGxlQ2xpY2tfPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMub3BlbmluZ0Nvb3Jkczt0aGlzLm9wZW5pbmdDb29yZHM9bnVsbDtpZihiJiZcIm51bWJlclwiPT09dHlwZW9mIGEuY2xpZW50WCl7dmFyIGM9bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShhLmNsaWVudFgsYS5jbGllbnRZKTtpZigxPkJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZS5kaXN0YW5jZShiLGMpKXJldHVybn0oYj10aGlzLmdldE1lbnVJdGVtKGEudGFyZ2V0KSkmJmIuaGFuZGxlQ2xpY2soYSkmJmEucHJldmVudERlZmF1bHQoKX07XG5CbG9ja2x5Lk1lbnUucHJvdG90eXBlLmhhbmRsZU1vdXNlRW50ZXJfPWZ1bmN0aW9uKGEpe3RoaXMuZm9jdXMoKX07QmxvY2tseS5NZW51LnByb3RvdHlwZS5oYW5kbGVNb3VzZUxlYXZlXz1mdW5jdGlvbihhKXt0aGlzLmdldEVsZW1lbnQoKSYmKHRoaXMuYmx1cigpLHRoaXMuY2xlYXJIaWdobGlnaHRlZCgpKX07QmxvY2tseS5NZW51LnByb3RvdHlwZS5oYW5kbGVLZXlFdmVudD1mdW5jdGlvbihhKXtyZXR1cm4gMCE9dGhpcy5nZXRDaGlsZENvdW50KCkmJnRoaXMuaGFuZGxlS2V5RXZlbnRJbnRlcm5hbChhKT8oYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCksITApOiExfTtcbkJsb2NrbHkuTWVudS5wcm90b3R5cGUuaGFuZGxlS2V5RXZlbnRJbnRlcm5hbD1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEhpZ2hsaWdodGVkKCk7aWYoYiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYi5oYW5kbGVLZXlFdmVudCYmYi5oYW5kbGVLZXlFdmVudChhKSlyZXR1cm4hMDtpZihhLnNoaWZ0S2V5fHxhLmN0cmxLZXl8fGEubWV0YUtleXx8YS5hbHRLZXkpcmV0dXJuITE7c3dpdGNoKGEua2V5Q29kZSl7Y2FzZSBCbG9ja2x5LnV0aWxzLktleUNvZGVzLkVOVEVSOmImJmIucGVyZm9ybUFjdGlvbkludGVybmFsKGEpO2JyZWFrO2Nhc2UgQmxvY2tseS51dGlscy5LZXlDb2Rlcy5VUDp0aGlzLmhpZ2hsaWdodFByZXZpb3VzKCk7YnJlYWs7Y2FzZSBCbG9ja2x5LnV0aWxzLktleUNvZGVzLkRPV046dGhpcy5oaWdobGlnaHROZXh0KCk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX1yZXR1cm4hMH07QmxvY2tseS5NZW51SXRlbT1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuQ29tcG9uZW50LmNhbGwodGhpcyk7dGhpcy5zZXRDb250ZW50SW50ZXJuYWwoYSk7dGhpcy5zZXRWYWx1ZShiKTt0aGlzLmVuYWJsZWRfPSEwfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5Lk1lbnVJdGVtLEJsb2NrbHkuQ29tcG9uZW50KTtcbkJsb2NrbHkuTWVudUl0ZW0ucHJvdG90eXBlLmNyZWF0ZURvbT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5pZD10aGlzLmdldElkKCk7dGhpcy5zZXRFbGVtZW50SW50ZXJuYWwoYSk7YS5jbGFzc05hbWU9XCJnb29nLW1lbnVpdGVtIGdvb2ctb3B0aW9uIFwiKyh0aGlzLmVuYWJsZWRfP1wiXCI6XCJnb29nLW1lbnVpdGVtLWRpc2FibGVkIFwiKSsodGhpcy5jaGVja2VkXz9cImdvb2ctb3B0aW9uLXNlbGVjdGVkIFwiOlwiXCIpKyh0aGlzLnJpZ2h0VG9MZWZ0Xz9cImdvb2ctbWVudWl0ZW0tcnRsIFwiOlwiXCIpO3ZhciBiPXRoaXMuZ2V0Q29udGVudFdyYXBwZXJEb20oKTthLmFwcGVuZENoaWxkKGIpO3ZhciBjPXRoaXMuZ2V0Q2hlY2tib3hEb20oKTtjJiZiLmFwcGVuZENoaWxkKGMpO2IuYXBwZW5kQ2hpbGQodGhpcy5nZXRDb250ZW50RG9tKCkpO0Jsb2NrbHkudXRpbHMuYXJpYS5zZXRSb2xlKGEsdGhpcy5yb2xlTmFtZV98fCh0aGlzLmNoZWNrYWJsZV8/QmxvY2tseS51dGlscy5hcmlhLlJvbGUuTUVOVUlURU1DSEVDS0JPWDpcbkJsb2NrbHkudXRpbHMuYXJpYS5Sb2xlLk1FTlVJVEVNKSk7QmxvY2tseS51dGlscy5hcmlhLnNldFN0YXRlKGEsQmxvY2tseS51dGlscy5hcmlhLlN0YXRlLlNFTEVDVEVELHRoaXMuY2hlY2thYmxlXyYmdGhpcy5jaGVja2VkX3x8ITEpfTtCbG9ja2x5Lk1lbnVJdGVtLnByb3RvdHlwZS5nZXRDaGVja2JveERvbT1mdW5jdGlvbigpe2lmKCF0aGlzLmNoZWNrYWJsZV8pcmV0dXJuIG51bGw7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLmNsYXNzTmFtZT1cImdvb2ctbWVudWl0ZW0tY2hlY2tib3hcIjtyZXR1cm4gYX07QmxvY2tseS5NZW51SXRlbS5wcm90b3R5cGUuZ2V0Q29udGVudERvbT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY29udGVudF87XCJzdHJpbmdcIj09PXR5cGVvZiBhJiYoYT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhKSk7cmV0dXJuIGF9O1xuQmxvY2tseS5NZW51SXRlbS5wcm90b3R5cGUuZ2V0Q29udGVudFdyYXBwZXJEb209ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2EuY2xhc3NOYW1lPVwiZ29vZy1tZW51aXRlbS1jb250ZW50XCI7cmV0dXJuIGF9O0Jsb2NrbHkuTWVudUl0ZW0ucHJvdG90eXBlLnNldENvbnRlbnRJbnRlcm5hbD1mdW5jdGlvbihhKXt0aGlzLmNvbnRlbnRfPWF9O0Jsb2NrbHkuTWVudUl0ZW0ucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGEpe3RoaXMudmFsdWVfPWF9O0Jsb2NrbHkuTWVudUl0ZW0ucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVffTtCbG9ja2x5Lk1lbnVJdGVtLnByb3RvdHlwZS5zZXRSb2xlPWZ1bmN0aW9uKGEpe3RoaXMucm9sZU5hbWVfPWF9O0Jsb2NrbHkuTWVudUl0ZW0ucHJvdG90eXBlLnNldENoZWNrYWJsZT1mdW5jdGlvbihhKXt0aGlzLmNoZWNrYWJsZV89YX07XG5CbG9ja2x5Lk1lbnVJdGVtLnByb3RvdHlwZS5zZXRDaGVja2VkPWZ1bmN0aW9uKGEpe2lmKHRoaXMuY2hlY2thYmxlXyl7dGhpcy5jaGVja2VkXz1hO3ZhciBiPXRoaXMuZ2V0RWxlbWVudCgpO2ImJnRoaXMuaXNFbmFibGVkKCkmJihhPyhCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyhiLFwiZ29vZy1vcHRpb24tc2VsZWN0ZWRcIiksQmxvY2tseS51dGlscy5hcmlhLnNldFN0YXRlKGIsQmxvY2tseS51dGlscy5hcmlhLlN0YXRlLlNFTEVDVEVELCEwKSk6KEJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZUNsYXNzKGIsXCJnb29nLW9wdGlvbi1zZWxlY3RlZFwiKSxCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoYixCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuU0VMRUNURUQsITEpKSl9fTtcbkJsb2NrbHkuTWVudUl0ZW0ucHJvdG90eXBlLnNldEhpZ2hsaWdodGVkPWZ1bmN0aW9uKGEpe3RoaXMuaGlnaGxpZ2h0Xz1hO3ZhciBiPXRoaXMuZ2V0RWxlbWVudCgpO2ImJnRoaXMuaXNFbmFibGVkKCkmJihhP0Jsb2NrbHkudXRpbHMuZG9tLmFkZENsYXNzKGIsXCJnb29nLW1lbnVpdGVtLWhpZ2hsaWdodFwiKTpCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyhiLFwiZ29vZy1tZW51aXRlbS1oaWdobGlnaHRcIikpfTtCbG9ja2x5Lk1lbnVJdGVtLnByb3RvdHlwZS5pc0VuYWJsZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkX307QmxvY2tseS5NZW51SXRlbS5wcm90b3R5cGUuc2V0RW5hYmxlZD1mdW5jdGlvbihhKXt0aGlzLmVuYWJsZWRfPWE7KGE9dGhpcy5nZXRFbGVtZW50KCkpJiYodGhpcy5lbmFibGVkXz9CbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyhhLFwiZ29vZy1tZW51aXRlbS1kaXNhYmxlZFwiKTpCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyhhLFwiZ29vZy1tZW51aXRlbS1kaXNhYmxlZFwiKSl9O1xuQmxvY2tseS5NZW51SXRlbS5wcm90b3R5cGUuaGFuZGxlQ2xpY2s9ZnVuY3Rpb24oYSl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuc2V0SGlnaGxpZ2h0ZWQoITApLHRoaXMucGVyZm9ybUFjdGlvbkludGVybmFsKCkpfTtCbG9ja2x5Lk1lbnVJdGVtLnByb3RvdHlwZS5wZXJmb3JtQWN0aW9uSW50ZXJuYWw9ZnVuY3Rpb24oKXt0aGlzLmNoZWNrYWJsZV8mJnRoaXMuc2V0Q2hlY2tlZCghdGhpcy5jaGVja2VkXyk7dGhpcy5hY3Rpb25IYW5kbGVyXyYmdGhpcy5hY3Rpb25IYW5kbGVyXy5jYWxsKHRoaXMuYWN0aW9uSGFuZGxlck9ial8sdGhpcyl9O0Jsb2NrbHkuTWVudUl0ZW0ucHJvdG90eXBlLm9uQWN0aW9uPWZ1bmN0aW9uKGEsYil7dGhpcy5hY3Rpb25IYW5kbGVyXz1hO3RoaXMuYWN0aW9uSGFuZGxlck9ial89Yn07QmxvY2tseS51dGlscy51aU1lbnU9e307QmxvY2tseS51dGlscy51aU1lbnUuZ2V0U2l6ZT1mdW5jdGlvbihhKXthPWEuZ2V0RWxlbWVudCgpO3ZhciBiPUJsb2NrbHkudXRpbHMuc3R5bGUuZ2V0U2l6ZShhKTtiLmhlaWdodD1hLnNjcm9sbEhlaWdodDtyZXR1cm4gYn07QmxvY2tseS51dGlscy51aU1lbnUuYWRqdXN0QkJveGVzRm9yUlRMPWZ1bmN0aW9uKGEsYixjKXtiLmxlZnQrPWMud2lkdGg7Yi5yaWdodCs9Yy53aWR0aDthLmxlZnQrPWMud2lkdGg7YS5yaWdodCs9Yy53aWR0aH07QmxvY2tseS5Db250ZXh0TWVudT17fTtCbG9ja2x5LkNvbnRleHRNZW51LmN1cnJlbnRCbG9jaz1udWxsO0Jsb2NrbHkuQ29udGV4dE1lbnUuZXZlbnRXcmFwcGVyXz1udWxsO0Jsb2NrbHkuQ29udGV4dE1lbnUuc2hvdz1mdW5jdGlvbihhLGIsYyl7QmxvY2tseS5XaWRnZXREaXYuc2hvdyhCbG9ja2x5LkNvbnRleHRNZW51LGMsbnVsbCk7aWYoYi5sZW5ndGgpe3ZhciBkPUJsb2NrbHkuQ29udGV4dE1lbnUucG9wdWxhdGVfKGIsYyk7QmxvY2tseS5Db250ZXh0TWVudS5wb3NpdGlvbl8oZCxhLGMpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmdldEVsZW1lbnQoKS5mb2N1cygpfSwxKTtCbG9ja2x5LkNvbnRleHRNZW51LmN1cnJlbnRCbG9jaz1udWxsfWVsc2UgQmxvY2tseS5Db250ZXh0TWVudS5oaWRlKCl9O1xuQmxvY2tseS5Db250ZXh0TWVudS5wb3B1bGF0ZV89ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQmxvY2tseS5NZW51O2Muc2V0UmlnaHRUb0xlZnQoYik7Zm9yKHZhciBkPTAsZTtlPWFbZF07ZCsrKXt2YXIgZj1uZXcgQmxvY2tseS5NZW51SXRlbShlLnRleHQpO2Yuc2V0UmlnaHRUb0xlZnQoYik7Yy5hZGRDaGlsZChmLCEwKTtmLnNldEVuYWJsZWQoZS5lbmFibGVkKTtpZihlLmVuYWJsZWQpZi5vbkFjdGlvbihmdW5jdGlvbigpe0Jsb2NrbHkuQ29udGV4dE1lbnUuaGlkZSgpO3RoaXMuY2FsbGJhY2soKX0sZSl9cmV0dXJuIGN9O1xuQmxvY2tseS5Db250ZXh0TWVudS5wb3NpdGlvbl89ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUJsb2NrbHkudXRpbHMuZ2V0Vmlld3BvcnRCQm94KCk7Yj17dG9wOmIuY2xpZW50WStkLnRvcCxib3R0b206Yi5jbGllbnRZK2QudG9wLGxlZnQ6Yi5jbGllbnRYK2QubGVmdCxyaWdodDpiLmNsaWVudFgrZC5sZWZ0fTtCbG9ja2x5LkNvbnRleHRNZW51LmNyZWF0ZVdpZGdldF8oYSk7dmFyIGU9QmxvY2tseS51dGlscy51aU1lbnUuZ2V0U2l6ZShhKTtjJiZCbG9ja2x5LnV0aWxzLnVpTWVudS5hZGp1c3RCQm94ZXNGb3JSVEwoZCxiLGUpO0Jsb2NrbHkuV2lkZ2V0RGl2LnBvc2l0aW9uV2l0aEFuY2hvcihkLGIsZSxjKTthLmdldEVsZW1lbnQoKS5mb2N1cygpfTtcbkJsb2NrbHkuQ29udGV4dE1lbnUuY3JlYXRlV2lkZ2V0Xz1mdW5jdGlvbihhKXthLnJlbmRlcihCbG9ja2x5LldpZGdldERpdi5ESVYpO3ZhciBiPWEuZ2V0RWxlbWVudCgpO0Jsb2NrbHkudXRpbHMuZG9tLmFkZENsYXNzKGIsXCJibG9ja2x5Q29udGV4dE1lbnVcIik7QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhiLFwiY29udGV4dG1lbnVcIixudWxsLEJsb2NrbHkudXRpbHMubm9FdmVudCk7YS5mb2N1cygpfTtCbG9ja2x5LkNvbnRleHRNZW51LmhpZGU9ZnVuY3Rpb24oKXtCbG9ja2x5LldpZGdldERpdi5oaWRlSWZPd25lcihCbG9ja2x5LkNvbnRleHRNZW51KTtCbG9ja2x5LkNvbnRleHRNZW51LmN1cnJlbnRCbG9jaz1udWxsO0Jsb2NrbHkuQ29udGV4dE1lbnUuZXZlbnRXcmFwcGVyXyYmKEJsb2NrbHkudW5iaW5kRXZlbnRfKEJsb2NrbHkuQ29udGV4dE1lbnUuZXZlbnRXcmFwcGVyXyksQmxvY2tseS5Db250ZXh0TWVudS5ldmVudFdyYXBwZXJfPW51bGwpfTtcbkJsb2NrbHkuQ29udGV4dE1lbnUuY2FsbGJhY2tGYWN0b3J5PWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7QmxvY2tseS5FdmVudHMuZGlzYWJsZSgpO3RyeXt2YXIgYz1CbG9ja2x5LlhtbC5kb21Ub0Jsb2NrKGIsYS53b3Jrc3BhY2UpLGQ9YS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7ZC54PWEuUlRMP2QueC1CbG9ja2x5LlNOQVBfUkFESVVTOmQueCtCbG9ja2x5LlNOQVBfUkFESVVTO2QueSs9MipCbG9ja2x5LlNOQVBfUkFESVVTO2MubW92ZUJ5KGQueCxkLnkpfWZpbmFsbHl7QmxvY2tseS5FdmVudHMuZW5hYmxlKCl9QmxvY2tseS5FdmVudHMuaXNFbmFibGVkKCkmJiFjLmlzU2hhZG93KCkmJkJsb2NrbHkuRXZlbnRzLmZpcmUobmV3IEJsb2NrbHkuRXZlbnRzLkJsb2NrQ3JlYXRlKGMpKTtjLnNlbGVjdCgpfX07XG5CbG9ja2x5LkNvbnRleHRNZW51LmJsb2NrRGVsZXRlT3B0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0RGVzY2VuZGFudHMoITEpLmxlbmd0aCxjPWEuZ2V0TmV4dEJsb2NrKCk7YyYmKGItPWMuZ2V0RGVzY2VuZGFudHMoITEpLmxlbmd0aCk7cmV0dXJue3RleHQ6MT09Yj9CbG9ja2x5Lk1zZy5ERUxFVEVfQkxPQ0s6QmxvY2tseS5Nc2cuREVMRVRFX1hfQkxPQ0tTLnJlcGxhY2UoXCIlMVwiLFN0cmluZyhiKSksZW5hYmxlZDohMCxjYWxsYmFjazpmdW5jdGlvbigpe0Jsb2NrbHkuRXZlbnRzLnNldEdyb3VwKCEwKTthLmRpc3Bvc2UoITAsITApO0Jsb2NrbHkuRXZlbnRzLnNldEdyb3VwKCExKX19fTtCbG9ja2x5LkNvbnRleHRNZW51LmJsb2NrSGVscE9wdGlvbj1mdW5jdGlvbihhKXtyZXR1cm57ZW5hYmxlZDohKFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuaGVscFVybD8hYS5oZWxwVXJsKCk6IWEuaGVscFVybCksdGV4dDpCbG9ja2x5Lk1zZy5IRUxQLGNhbGxiYWNrOmZ1bmN0aW9uKCl7YS5zaG93SGVscCgpfX19O1xuQmxvY2tseS5Db250ZXh0TWVudS5ibG9ja0R1cGxpY2F0ZU9wdGlvbj1mdW5jdGlvbihhKXt2YXIgYj1hLmlzRHVwbGljYXRhYmxlKCk7cmV0dXJue3RleHQ6QmxvY2tseS5Nc2cuRFVQTElDQVRFX0JMT0NLLGVuYWJsZWQ6YixjYWxsYmFjazpmdW5jdGlvbigpe0Jsb2NrbHkuZHVwbGljYXRlKGEpfX19O0Jsb2NrbHkuQ29udGV4dE1lbnUuYmxvY2tDb21tZW50T3B0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPXtlbmFibGVkOiFCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5JRX07YS5nZXRDb21tZW50SWNvbigpPyhiLnRleHQ9QmxvY2tseS5Nc2cuUkVNT1ZFX0NPTU1FTlQsYi5jYWxsYmFjaz1mdW5jdGlvbigpe2Euc2V0Q29tbWVudFRleHQobnVsbCl9KTooYi50ZXh0PUJsb2NrbHkuTXNnLkFERF9DT01NRU5ULGIuY2FsbGJhY2s9ZnVuY3Rpb24oKXthLnNldENvbW1lbnRUZXh0KFwiXCIpfSk7cmV0dXJuIGJ9O1xuQmxvY2tseS5Db250ZXh0TWVudS5jb21tZW50RGVsZXRlT3B0aW9uPWZ1bmN0aW9uKGEpe3JldHVybnt0ZXh0OkJsb2NrbHkuTXNnLlJFTU9WRV9DT01NRU5ULGVuYWJsZWQ6ITAsY2FsbGJhY2s6ZnVuY3Rpb24oKXtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMCk7YS5kaXNwb3NlKCEwLCEwKTtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSl9fX07QmxvY2tseS5Db250ZXh0TWVudS5jb21tZW50RHVwbGljYXRlT3B0aW9uPWZ1bmN0aW9uKGEpe3JldHVybnt0ZXh0OkJsb2NrbHkuTXNnLkRVUExJQ0FURV9DT01NRU5ULGVuYWJsZWQ6ITAsY2FsbGJhY2s6ZnVuY3Rpb24oKXtCbG9ja2x5LmR1cGxpY2F0ZShhKX19fTtcbkJsb2NrbHkuQ29udGV4dE1lbnUud29ya3NwYWNlQ29tbWVudE9wdGlvbj1mdW5jdGlvbihhLGIpe2lmKCFCbG9ja2x5LldvcmtzcGFjZUNvbW1lbnRTdmcpdGhyb3cgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmUgZm9yIEJsb2NrbHkuV29ya3NwYWNlQ29tbWVudFN2Z1wiKTt2YXIgYz17ZW5hYmxlZDohQmxvY2tseS51dGlscy51c2VyQWdlbnQuSUV9O2MudGV4dD1CbG9ja2x5Lk1zZy5BRERfQ09NTUVOVDtjLmNhbGxiYWNrPWZ1bmN0aW9uKCl7dmFyIGM9bmV3IEJsb2NrbHkuV29ya3NwYWNlQ29tbWVudFN2ZyhhLEJsb2NrbHkuTXNnLldPUktTUEFDRV9DT01NRU5UX0RFRkFVTFRfVEVYVCxCbG9ja2x5LldvcmtzcGFjZUNvbW1lbnRTdmcuREVGQVVMVF9TSVpFLEJsb2NrbHkuV29ya3NwYWNlQ29tbWVudFN2Zy5ERUZBVUxUX1NJWkUpLGU9YS5nZXRJbmplY3Rpb25EaXYoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlPW5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoYi5jbGllbnRYLVxuZS5sZWZ0LGIuY2xpZW50WS1lLnRvcCk7dmFyIGY9YS5nZXRPcmlnaW5PZmZzZXRJblBpeGVscygpO2U9QmxvY2tseS51dGlscy5Db29yZGluYXRlLmRpZmZlcmVuY2UoZSxmKTtlLnNjYWxlKDEvYS5zY2FsZSk7Yy5tb3ZlQnkoZS54LGUueSk7YS5yZW5kZXJlZCYmKGMuaW5pdFN2ZygpLGMucmVuZGVyKCksYy5zZWxlY3QoKSl9O3JldHVybiBjfTtCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbj1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIpO3RoaXMuZGJfPWEud29ya3NwYWNlLmNvbm5lY3Rpb25EQkxpc3RbYl07dGhpcy5kYk9wcG9zaXRlXz1hLndvcmtzcGFjZS5jb25uZWN0aW9uREJMaXN0W0Jsb2NrbHkuT1BQT1NJVEVfVFlQRVtiXV07dGhpcy5vZmZzZXRJbkJsb2NrXz1uZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKDAsMCk7dGhpcy50cmFja2VkU3RhdGVfPUJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLlRyYWNrZWRTdGF0ZS5XSUxMX1RSQUNLfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbixCbG9ja2x5LkNvbm5lY3Rpb24pO0Jsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLlRyYWNrZWRTdGF0ZT17V0lMTF9UUkFDSzotMSxVTlRSQUNLRUQ6MCxUUkFDS0VEOjF9O1xuQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5zdXBlckNsYXNzXy5kaXNwb3NlLmNhbGwodGhpcyk7dGhpcy50cmFja2VkU3RhdGVfPT1CbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5UcmFja2VkU3RhdGUuVFJBQ0tFRCYmdGhpcy5kYl8ucmVtb3ZlQ29ubmVjdGlvbih0aGlzLHRoaXMueSl9O0Jsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTb3VyY2VCbG9jaz1mdW5jdGlvbigpe3JldHVybiBCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5zdXBlckNsYXNzXy5nZXRTb3VyY2VCbG9jay5jYWxsKHRoaXMpfTtCbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5wcm90b3R5cGUudGFyZ2V0QmxvY2s9ZnVuY3Rpb24oKXtyZXR1cm4gQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24uc3VwZXJDbGFzc18udGFyZ2V0QmxvY2suY2FsbCh0aGlzKX07XG5CbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5wcm90b3R5cGUuZGlzdGFuY2VGcm9tPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMueC1hLng7YT10aGlzLnktYS55O3JldHVybiBNYXRoLnNxcnQoYipiK2EqYSl9O1xuQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24ucHJvdG90eXBlLmJ1bXBBd2F5RnJvbT1mdW5jdGlvbihhKXtpZighdGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLmlzRHJhZ2dpbmcoKSl7dmFyIGI9dGhpcy5zb3VyY2VCbG9ja18uZ2V0Um9vdEJsb2NrKCk7aWYoIWIuaXNJbkZseW91dCl7dmFyIGM9ITE7aWYoIWIuaXNNb3ZhYmxlKCkpe2I9YS5nZXRTb3VyY2VCbG9jaygpLmdldFJvb3RCbG9jaygpO2lmKCFiLmlzTW92YWJsZSgpKXJldHVybjthPXRoaXM7Yz0hMH12YXIgZD1CbG9ja2x5LnNlbGVjdGVkPT1iO2R8fGIuYWRkU2VsZWN0KCk7dmFyIGU9YS54K0Jsb2NrbHkuU05BUF9SQURJVVMrTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKkJsb2NrbHkuQlVNUF9SQU5ET01ORVNTKS10aGlzLngsZj1hLnkrQmxvY2tseS5TTkFQX1JBRElVUytNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqQmxvY2tseS5CVU1QX1JBTkRPTU5FU1MpLXRoaXMueTtjJiYoZj0tZik7Yi5SVEwmJihlPWEueC1cbkJsb2NrbHkuU05BUF9SQURJVVMtTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKkJsb2NrbHkuQlVNUF9SQU5ET01ORVNTKS10aGlzLngpO2IubW92ZUJ5KGUsZik7ZHx8Yi5yZW1vdmVTZWxlY3QoKX19fTtcbkJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLnByb3RvdHlwZS5tb3ZlVG89ZnVuY3Rpb24oYSxiKXt0aGlzLnRyYWNrZWRTdGF0ZV89PUJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLlRyYWNrZWRTdGF0ZS5XSUxMX1RSQUNLPyh0aGlzLmRiXy5hZGRDb25uZWN0aW9uKHRoaXMsYiksdGhpcy50cmFja2VkU3RhdGVfPUJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLlRyYWNrZWRTdGF0ZS5UUkFDS0VEKTp0aGlzLnRyYWNrZWRTdGF0ZV89PUJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLlRyYWNrZWRTdGF0ZS5UUkFDS0VEJiYodGhpcy5kYl8ucmVtb3ZlQ29ubmVjdGlvbih0aGlzLHRoaXMueSksdGhpcy5kYl8uYWRkQ29ubmVjdGlvbih0aGlzLGIpKTt0aGlzLng9YTt0aGlzLnk9Yn07QmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24ucHJvdG90eXBlLm1vdmVCeT1mdW5jdGlvbihhLGIpe3RoaXMubW92ZVRvKHRoaXMueCthLHRoaXMueStiKX07XG5CbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5wcm90b3R5cGUubW92ZVRvT2Zmc2V0PWZ1bmN0aW9uKGEpe3RoaXMubW92ZVRvKGEueCt0aGlzLm9mZnNldEluQmxvY2tfLngsYS55K3RoaXMub2Zmc2V0SW5CbG9ja18ueSl9O0Jsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRPZmZzZXRJbkJsb2NrPWZ1bmN0aW9uKGEsYil7dGhpcy5vZmZzZXRJbkJsb2NrXy54PWE7dGhpcy5vZmZzZXRJbkJsb2NrXy55PWJ9O0Jsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRPZmZzZXRJbkJsb2NrPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub2Zmc2V0SW5CbG9ja199O1xuQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24ucHJvdG90eXBlLnRpZ2h0ZW49ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRhcmdldENvbm5lY3Rpb24ueC10aGlzLngsYj10aGlzLnRhcmdldENvbm5lY3Rpb24ueS10aGlzLnk7aWYoMCE9YXx8MCE9Yil7dmFyIGM9dGhpcy50YXJnZXRCbG9jaygpLGQ9Yy5nZXRTdmdSb290KCk7aWYoIWQpdGhyb3cgRXJyb3IoXCJibG9jayBpcyBub3QgcmVuZGVyZWQuXCIpO2Q9QmxvY2tseS51dGlscy5nZXRSZWxhdGl2ZVhZKGQpO2MuZ2V0U3ZnUm9vdCgpLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiKyhkLngtYSkrXCIsXCIrKGQueS1iKStcIilcIik7Yy5tb3ZlQ29ubmVjdGlvbnMoLWEsLWIpfX07QmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24ucHJvdG90eXBlLmNsb3Nlc3Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5kYk9wcG9zaXRlXy5zZWFyY2hGb3JDbG9zZXN0KHRoaXMsYSxiKX07XG5CbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5wcm90b3R5cGUuaGlnaGxpZ2h0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCk7dmFyIGI9YS5zaGFwZUZvcih0aGlzKTt0aGlzLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUV8fHRoaXMudHlwZT09QmxvY2tseS5PVVRQVVRfVkFMVUU/KGE9YS5UQUJfT0ZGU0VUX0ZST01fVE9QLGI9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlQnkoMCwtYSkrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwidlwiLGEpK2IucGF0aERvd24rQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwidlwiLGEpKTooYT1hLk5PVENIX09GRlNFVF9MRUZULWEuQ09STkVSX1JBRElVUyxiPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZUJ5KC1hLDApK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcImhcIixhKStiLnBhdGhMZWZ0K0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcImhcIixcbmEpKTthPXRoaXMuc291cmNlQmxvY2tfLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtCbG9ja2x5LkNvbm5lY3Rpb24uaGlnaGxpZ2h0ZWRQYXRoXz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicGF0aFwiLHtcImNsYXNzXCI6XCJibG9ja2x5SGlnaGxpZ2h0ZWRDb25uZWN0aW9uUGF0aFwiLGQ6Yix0cmFuc2Zvcm06XCJ0cmFuc2xhdGUoXCIrKHRoaXMueC1hLngpK1wiLFwiKyh0aGlzLnktYS55KStcIilcIisodGhpcy5zb3VyY2VCbG9ja18uUlRMP1wiIHNjYWxlKC0xIDEpXCI6XCJcIil9LHRoaXMuc291cmNlQmxvY2tfLmdldFN2Z1Jvb3QoKSl9O0Jsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLnByb3RvdHlwZS51bmhpZ2hsaWdodD1mdW5jdGlvbigpe0Jsb2NrbHkudXRpbHMuZG9tLnJlbW92ZU5vZGUoQmxvY2tseS5Db25uZWN0aW9uLmhpZ2hsaWdodGVkUGF0aF8pO2RlbGV0ZSBCbG9ja2x5LkNvbm5lY3Rpb24uaGlnaGxpZ2h0ZWRQYXRoX307XG5CbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0VHJhY2tpbmc9ZnVuY3Rpb24oYSl7YSYmdGhpcy50cmFja2VkU3RhdGVfPT1CbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5UcmFja2VkU3RhdGUuVFJBQ0tFRHx8IWEmJnRoaXMudHJhY2tlZFN0YXRlXz09QmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24uVHJhY2tlZFN0YXRlLlVOVFJBQ0tFRHx8dGhpcy5zb3VyY2VCbG9ja18uaXNJbkZseW91dHx8KGE/KHRoaXMuZGJfLmFkZENvbm5lY3Rpb24odGhpcyx0aGlzLnkpLHRoaXMudHJhY2tlZFN0YXRlXz1CbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5UcmFja2VkU3RhdGUuVFJBQ0tFRCk6KHRoaXMudHJhY2tlZFN0YXRlXz09QmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24uVHJhY2tlZFN0YXRlLlRSQUNLRUQmJnRoaXMuZGJfLnJlbW92ZUNvbm5lY3Rpb24odGhpcyx0aGlzLnkpLHRoaXMudHJhY2tlZFN0YXRlXz1CbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5UcmFja2VkU3RhdGUuVU5UUkFDS0VEKSl9O1xuQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24ucHJvdG90eXBlLnN0b3BUcmFja2luZ0FsbD1mdW5jdGlvbigpe3RoaXMuc2V0VHJhY2tpbmcoITEpO2lmKHRoaXMudGFyZ2V0Q29ubmVjdGlvbilmb3IodmFyIGE9dGhpcy50YXJnZXRCbG9jaygpLmdldERlc2NlbmRhbnRzKCExKSxiPTA7YjxhLmxlbmd0aDtiKyspe2Zvcih2YXIgYz1hW2JdLGQ9Yy5nZXRDb25uZWN0aW9uc18oITApLGU9MDtlPGQubGVuZ3RoO2UrKylkW2VdLnNldFRyYWNraW5nKCExKTtjPWMuZ2V0SWNvbnMoKTtmb3IoZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV0uc2V0VmlzaWJsZSghMSl9fTtcbkJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLnByb3RvdHlwZS5zdGFydFRyYWNraW5nQWxsPWZ1bmN0aW9uKCl7dGhpcy5zZXRUcmFja2luZyghMCk7dmFyIGE9W107aWYodGhpcy50eXBlIT1CbG9ja2x5LklOUFVUX1ZBTFVFJiZ0aGlzLnR5cGUhPUJsb2NrbHkuTkVYVF9TVEFURU1FTlQpcmV0dXJuIGE7dmFyIGI9dGhpcy50YXJnZXRCbG9jaygpO2lmKGIpe2lmKGIuaXNDb2xsYXBzZWQoKSl7dmFyIGM9W107Yi5vdXRwdXRDb25uZWN0aW9uJiZjLnB1c2goYi5vdXRwdXRDb25uZWN0aW9uKTtiLm5leHRDb25uZWN0aW9uJiZjLnB1c2goYi5uZXh0Q29ubmVjdGlvbik7Yi5wcmV2aW91c0Nvbm5lY3Rpb24mJmMucHVzaChiLnByZXZpb3VzQ29ubmVjdGlvbil9ZWxzZSBjPWIuZ2V0Q29ubmVjdGlvbnNfKCEwKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKylhLnB1c2guYXBwbHkoYSxjW2RdLnN0YXJ0VHJhY2tpbmdBbGwoKSk7YS5sZW5ndGh8fChhWzBdPWIpfXJldHVybiBhfTtcbkJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLnByb3RvdHlwZS5pc0Nvbm5lY3Rpb25BbGxvd2VkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZGlzdGFuY2VGcm9tKGEpPmI/ITE6QmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24uc3VwZXJDbGFzc18uaXNDb25uZWN0aW9uQWxsb3dlZC5jYWxsKHRoaXMsYSl9O0Jsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLnByb3RvdHlwZS5vbkZhaWxlZENvbm5lY3Q9ZnVuY3Rpb24oYSl7dGhpcy5idW1wQXdheUZyb20oYSl9O0Jsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLnByb3RvdHlwZS5kaXNjb25uZWN0SW50ZXJuYWxfPWZ1bmN0aW9uKGEsYil7QmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24uc3VwZXJDbGFzc18uZGlzY29ubmVjdEludGVybmFsXy5jYWxsKHRoaXMsYSxiKTthLnJlbmRlcmVkJiZhLnJlbmRlcigpO2IucmVuZGVyZWQmJihiLnVwZGF0ZURpc2FibGVkKCksYi5yZW5kZXIoKSl9O1xuQmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24ucHJvdG90eXBlLnJlc3Bhd25TaGFkb3dfPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTb3VyY2VCbG9jaygpLGI9dGhpcy5nZXRTaGFkb3dEb20oKTtpZihhLndvcmtzcGFjZSYmYiYmQmxvY2tseS5FdmVudHMucmVjb3JkVW5kbyl7QmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24uc3VwZXJDbGFzc18ucmVzcGF3blNoYWRvd18uY2FsbCh0aGlzKTtiPXRoaXMudGFyZ2V0QmxvY2soKTtpZighYil0aHJvdyBFcnJvcihcIkNvdWxkbid0IHJlc3Bhd24gdGhlIHNoYWRvdyBibG9jayB0aGF0IHNob3VsZCBleGlzdCBoZXJlLlwiKTtiLmluaXRTdmcoKTtiLnJlbmRlcighMSk7YS5yZW5kZXJlZCYmYS5yZW5kZXIoKX19O0Jsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uLnByb3RvdHlwZS5uZWlnaGJvdXJzPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRiT3Bwb3NpdGVfLmdldE5laWdoYm91cnModGhpcyxhKX07XG5CbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5wcm90b3R5cGUuY29ubmVjdF89ZnVuY3Rpb24oYSl7QmxvY2tseS5SZW5kZXJlZENvbm5lY3Rpb24uc3VwZXJDbGFzc18uY29ubmVjdF8uY2FsbCh0aGlzLGEpO3ZhciBiPXRoaXMuZ2V0U291cmNlQmxvY2soKTthPWEuZ2V0U291cmNlQmxvY2soKTtiLnJlbmRlcmVkJiZiLnVwZGF0ZURpc2FibGVkKCk7YS5yZW5kZXJlZCYmYS51cGRhdGVEaXNhYmxlZCgpO2IucmVuZGVyZWQmJmEucmVuZGVyZWQmJih0aGlzLnR5cGU9PUJsb2NrbHkuTkVYVF9TVEFURU1FTlR8fHRoaXMudHlwZT09QmxvY2tseS5QUkVWSU9VU19TVEFURU1FTlQ/YS5yZW5kZXIoKTpiLnJlbmRlcigpKX07XG5CbG9ja2x5LlJlbmRlcmVkQ29ubmVjdGlvbi5wcm90b3R5cGUub25DaGVja0NoYW5nZWRfPWZ1bmN0aW9uKCl7IXRoaXMuaXNDb25uZWN0ZWQoKXx8dGhpcy50YXJnZXRDb25uZWN0aW9uJiZ0aGlzLmNoZWNrVHlwZSh0aGlzLnRhcmdldENvbm5lY3Rpb24pfHwoKHRoaXMuaXNTdXBlcmlvcigpP3RoaXMudGFyZ2V0QmxvY2soKTp0aGlzLnNvdXJjZUJsb2NrXykudW5wbHVnKCksdGhpcy5zb3VyY2VCbG9ja18uYnVtcE5laWdoYm91cnMoKSl9O0Jsb2NrbHkuTWFya2VyPWZ1bmN0aW9uKCl7dGhpcy5kcmF3ZXJfPXRoaXMuY3VyTm9kZV89dGhpcy5jb2xvdXI9bnVsbDt0aGlzLnR5cGU9XCJtYXJrZXJcIn07QmxvY2tseS5NYXJrZXIucHJvdG90eXBlLnNldERyYXdlcj1mdW5jdGlvbihhKXt0aGlzLmRyYXdlcl89YX07QmxvY2tseS5NYXJrZXIucHJvdG90eXBlLmdldERyYXdlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRyYXdlcl99O0Jsb2NrbHkuTWFya2VyLnByb3RvdHlwZS5nZXRDdXJOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3VyTm9kZV99O0Jsb2NrbHkuTWFya2VyLnByb3RvdHlwZS5zZXRDdXJOb2RlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3VyTm9kZV87dGhpcy5jdXJOb2RlXz1hO3RoaXMuZHJhd2VyXyYmdGhpcy5kcmF3ZXJfLmRyYXcoYix0aGlzLmN1ck5vZGVfKX07XG5CbG9ja2x5Lk1hcmtlci5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbigpe3RoaXMuZHJhd2VyXyYmdGhpcy5kcmF3ZXJfLmRyYXcodGhpcy5jdXJOb2RlXyx0aGlzLmN1ck5vZGVfKX07QmxvY2tseS5NYXJrZXIucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmRyYXdlcl8mJnRoaXMuZHJhd2VyXy5oaWRlKCl9O0Jsb2NrbHkuTWFya2VyLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5nZXREcmF3ZXIoKSYmdGhpcy5nZXREcmF3ZXIoKS5kaXNwb3NlKCl9O0Jsb2NrbHkuQ3Vyc29yPWZ1bmN0aW9uKCl7QmxvY2tseS5DdXJzb3Iuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLnR5cGU9XCJjdXJzb3JcIn07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5DdXJzb3IsQmxvY2tseS5NYXJrZXIpO0Jsb2NrbHkuQ3Vyc29yLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJOb2RlKCk7aWYoIWEpcmV0dXJuIG51bGw7Zm9yKGE9YS5uZXh0KCk7YSYmYS5uZXh0KCkmJihhLmdldFR5cGUoKT09QmxvY2tseS5BU1ROb2RlLnR5cGVzLk5FWFR8fGEuZ2V0VHlwZSgpPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuQkxPQ0spOylhPWEubmV4dCgpO2EmJnRoaXMuc2V0Q3VyTm9kZShhKTtyZXR1cm4gYX07XG5CbG9ja2x5LkN1cnNvci5wcm90b3R5cGUuaW49ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1ck5vZGUoKTtpZighYSlyZXR1cm4gbnVsbDtpZihhLmdldFR5cGUoKT09QmxvY2tseS5BU1ROb2RlLnR5cGVzLlBSRVZJT1VTfHxhLmdldFR5cGUoKT09QmxvY2tseS5BU1ROb2RlLnR5cGVzLk9VVFBVVClhPWEubmV4dCgpOyhhPWEuaW4oKSkmJnRoaXMuc2V0Q3VyTm9kZShhKTtyZXR1cm4gYX07QmxvY2tseS5DdXJzb3IucHJvdG90eXBlLnByZXY9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1ck5vZGUoKTtpZighYSlyZXR1cm4gbnVsbDtmb3IoYT1hLnByZXYoKTthJiZhLnByZXYoKSYmKGEuZ2V0VHlwZSgpPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuTkVYVHx8YS5nZXRUeXBlKCk9PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5CTE9DSyk7KWE9YS5wcmV2KCk7YSYmdGhpcy5zZXRDdXJOb2RlKGEpO3JldHVybiBhfTtcbkJsb2NrbHkuQ3Vyc29yLnByb3RvdHlwZS5vdXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1ck5vZGUoKTtpZighYSlyZXR1cm4gbnVsbDsoYT1hLm91dCgpKSYmYS5nZXRUeXBlKCk9PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5CTE9DSyYmKGE9YS5wcmV2KCl8fGEpO2EmJnRoaXMuc2V0Q3VyTm9kZShhKTtyZXR1cm4gYX07XG5CbG9ja2x5LkN1cnNvci5wcm90b3R5cGUub25CbG9ja2x5QWN0aW9uPWZ1bmN0aW9uKGEpe2lmKHRoaXMuZ2V0Q3VyTm9kZSgpJiZ0aGlzLmdldEN1ck5vZGUoKS5nZXRUeXBlKCk9PT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuRklFTEQmJnRoaXMuZ2V0Q3VyTm9kZSgpLmdldExvY2F0aW9uKCkub25CbG9ja2x5QWN0aW9uKGEpKXJldHVybiEwO3N3aXRjaChhLm5hbWUpe2Nhc2UgQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLlBSRVZJT1VTOnJldHVybiB0aGlzLnByZXYoKSwhMDtjYXNlIEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5PVVQ6cmV0dXJuIHRoaXMub3V0KCksITA7Y2FzZSBCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuTkVYVDpyZXR1cm4gdGhpcy5uZXh0KCksITA7Y2FzZSBCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuSU46cmV0dXJuIHRoaXMuaW4oKSwhMDtkZWZhdWx0OnJldHVybiExfX07QmxvY2tseS5CYXNpY0N1cnNvcj1mdW5jdGlvbigpe0Jsb2NrbHkuQmFzaWNDdXJzb3Iuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzKX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5CYXNpY0N1cnNvcixCbG9ja2x5LkN1cnNvcik7QmxvY2tseS5CYXNpY0N1cnNvci5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VyTm9kZSgpO2lmKCFhKXJldHVybiBudWxsOyhhPXRoaXMuZ2V0TmV4dE5vZGVfKGEsdGhpcy52YWxpZE5vZGVfKSkmJnRoaXMuc2V0Q3VyTm9kZShhKTtyZXR1cm4gYX07QmxvY2tseS5CYXNpY0N1cnNvci5wcm90b3R5cGUuaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXh0KCl9O1xuQmxvY2tseS5CYXNpY0N1cnNvci5wcm90b3R5cGUucHJldj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VyTm9kZSgpO2lmKCFhKXJldHVybiBudWxsOyhhPXRoaXMuZ2V0UHJldmlvdXNOb2RlXyhhLHRoaXMudmFsaWROb2RlXykpJiZ0aGlzLnNldEN1ck5vZGUoYSk7cmV0dXJuIGF9O0Jsb2NrbHkuQmFzaWNDdXJzb3IucHJvdG90eXBlLm91dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXYoKX07QmxvY2tseS5CYXNpY0N1cnNvci5wcm90b3R5cGUuZ2V0TmV4dE5vZGVfPWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuIG51bGw7dmFyIGM9YS5pbigpfHxhLm5leHQoKTtpZihiKGMpKXJldHVybiBjO2lmKGMpcmV0dXJuIHRoaXMuZ2V0TmV4dE5vZGVfKGMsYik7YT10aGlzLmZpbmRTaWJsaW5nT3JQYXJlbnRfKGEub3V0KCkpO3JldHVybiBiKGEpP2E6YT90aGlzLmdldE5leHROb2RlXyhhLGIpOm51bGx9O1xuQmxvY2tseS5CYXNpY0N1cnNvci5wcm90b3R5cGUuZ2V0UHJldmlvdXNOb2RlXz1mdW5jdGlvbihhLGIpe2lmKCFhKXJldHVybiBudWxsO3ZhciBjPWEucHJldigpO2M9Yz90aGlzLmdldFJpZ2h0TW9zdENoaWxkXyhjKTphLm91dCgpO3JldHVybiBiKGMpP2M6Yz90aGlzLmdldFByZXZpb3VzTm9kZV8oYyxiKTpudWxsfTtCbG9ja2x5LkJhc2ljQ3Vyc29yLnByb3RvdHlwZS52YWxpZE5vZGVfPWZ1bmN0aW9uKGEpe3ZhciBiPSExO2E9YSYmYS5nZXRUeXBlKCk7aWYoYT09QmxvY2tseS5BU1ROb2RlLnR5cGVzLk9VVFBVVHx8YT09QmxvY2tseS5BU1ROb2RlLnR5cGVzLklOUFVUfHxhPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuRklFTER8fGE9PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5ORVhUfHxhPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuUFJFVklPVVN8fGE9PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5XT1JLU1BBQ0UpYj0hMDtyZXR1cm4gYn07XG5CbG9ja2x5LkJhc2ljQ3Vyc29yLnByb3RvdHlwZS5maW5kU2libGluZ09yUGFyZW50Xz1mdW5jdGlvbihhKXtpZighYSlyZXR1cm4gbnVsbDt2YXIgYj1hLm5leHQoKTtyZXR1cm4gYj9iOnRoaXMuZmluZFNpYmxpbmdPclBhcmVudF8oYS5vdXQoKSl9O0Jsb2NrbHkuQmFzaWNDdXJzb3IucHJvdG90eXBlLmdldFJpZ2h0TW9zdENoaWxkXz1mdW5jdGlvbihhKXtpZighYS5pbigpKXJldHVybiBhO2ZvcihhPWEuaW4oKTthLm5leHQoKTspYT1hLm5leHQoKTtyZXR1cm4gdGhpcy5nZXRSaWdodE1vc3RDaGlsZF8oYSl9O0Jsb2NrbHkuVGFiTmF2aWdhdGVDdXJzb3I9ZnVuY3Rpb24oKXtCbG9ja2x5LlRhYk5hdmlnYXRlQ3Vyc29yLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyl9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuVGFiTmF2aWdhdGVDdXJzb3IsQmxvY2tseS5CYXNpY0N1cnNvcik7QmxvY2tseS5UYWJOYXZpZ2F0ZUN1cnNvci5wcm90b3R5cGUudmFsaWROb2RlXz1mdW5jdGlvbihhKXt2YXIgYj0hMSxjPWEmJmEuZ2V0VHlwZSgpO2EmJihhPWEuZ2V0TG9jYXRpb24oKSxjPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuRklFTEQmJmEmJmEuaXNUYWJOYXZpZ2FibGUoKSYmYS5pc0NsaWNrYWJsZSgpJiYoYj0hMCkpO3JldHVybiBifTtCbG9ja2x5LnV0aWxzLlJlY3Q9ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy50b3A9YTt0aGlzLmJvdHRvbT1iO3RoaXMubGVmdD1jO3RoaXMucmlnaHQ9ZH07QmxvY2tseS51dGlscy5SZWN0LnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybiBhPj10aGlzLmxlZnQmJmE8PXRoaXMucmlnaHQmJmI+PXRoaXMudG9wJiZiPD10aGlzLmJvdHRvbX07QmxvY2tseS5CbG9ja1N2Zz1mdW5jdGlvbihhLGIsYyl7dGhpcy5zdmdHcm91cF89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImdcIix7fSxudWxsKTt0aGlzLnN2Z0dyb3VwXy50cmFuc2xhdGVfPVwiXCI7dGhpcy5zdHlsZT1hLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCkuZ2V0QmxvY2tTdHlsZShudWxsKTt0aGlzLnBhdGhPYmplY3Q9YS5nZXRSZW5kZXJlcigpLm1ha2VQYXRoT2JqZWN0KHRoaXMuc3ZnR3JvdXBfLHRoaXMuc3R5bGUpO3RoaXMucmVuZGVyZWQ9ITE7dGhpcy53b3Jrc3BhY2U9YTt0aGlzLnByZXZpb3VzQ29ubmVjdGlvbj10aGlzLm5leHRDb25uZWN0aW9uPXRoaXMub3V0cHV0Q29ubmVjdGlvbj1udWxsO3RoaXMudXNlRHJhZ1N1cmZhY2VfPUJsb2NrbHkudXRpbHMuaXMzZFN1cHBvcnRlZCgpJiYhIWEuZ2V0QmxvY2tEcmFnU3VyZmFjZSgpO3ZhciBkPXRoaXMucGF0aE9iamVjdC5zdmdQYXRoO2QudG9vbHRpcD10aGlzO0Jsb2NrbHkuVG9vbHRpcC5iaW5kTW91c2VFdmVudHMoZCk7XG5CbG9ja2x5LkJsb2NrU3ZnLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIsYyk7dGhpcy5zdmdHcm91cF8uZGF0YXNldCYmKHRoaXMuc3ZnR3JvdXBfLmRhdGFzZXQuaWQ9dGhpcy5pZCl9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuQmxvY2tTdmcsQmxvY2tseS5CbG9jayk7QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuaGVpZ2h0PTA7QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUud2lkdGg9MDtCbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5kcmFnU3RhcnRYWV89bnVsbDtCbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS53YXJuaW5nVGV4dERiXz1udWxsO0Jsb2NrbHkuQmxvY2tTdmcuSU5MSU5FPS0xO0Jsb2NrbHkuQmxvY2tTdmcuQ09MTEFQU0VEX1dBUk5JTkdfSUQ9XCJURU1QX0NPTExBUFNFRF9XQVJOSU5HX1wiO1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuaW5pdFN2Zz1mdW5jdGlvbigpe2lmKCF0aGlzLndvcmtzcGFjZS5yZW5kZXJlZCl0aHJvdyBUeXBlRXJyb3IoXCJXb3Jrc3BhY2UgaXMgaGVhZGxlc3MuXCIpO2Zvcih2YXIgYT0wLGI7Yj10aGlzLmlucHV0TGlzdFthXTthKyspYi5pbml0KCk7Yj10aGlzLmdldEljb25zKCk7Zm9yKGE9MDthPGIubGVuZ3RoO2ErKyliW2FdLmNyZWF0ZUljb24oKTt0aGlzLmFwcGx5Q29sb3VyKCk7dGhpcy5wYXRoT2JqZWN0LnVwZGF0ZU1vdmFibGUodGhpcy5pc01vdmFibGUoKSk7YT10aGlzLmdldFN2Z1Jvb3QoKTt0aGlzLndvcmtzcGFjZS5vcHRpb25zLnJlYWRPbmx5fHx0aGlzLmV2ZW50c0luaXRffHwhYXx8QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhhLFwibW91c2Vkb3duXCIsdGhpcyx0aGlzLm9uTW91c2VEb3duXyk7dGhpcy5ldmVudHNJbml0Xz0hMDthLnBhcmVudE5vZGV8fHRoaXMud29ya3NwYWNlLmdldENhbnZhcygpLmFwcGVuZENoaWxkKGEpfTtcbkJsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLmdldENvbG91clNlY29uZGFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0eWxlLmNvbG91clNlY29uZGFyeX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuZ2V0Q29sb3VyVGVydGlhcnk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHlsZS5jb2xvdXJUZXJ0aWFyeX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuZ2V0Q29sb3VyU2hhZG93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q29sb3VyU2Vjb25kYXJ5KCl9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLmdldENvbG91ckJvcmRlcj1mdW5jdGlvbigpe3JldHVybntjb2xvdXJCb3JkZXI6dGhpcy5nZXRDb2xvdXJUZXJ0aWFyeSgpLGNvbG91ckxpZ2h0Om51bGwsY29sb3VyRGFyazpudWxsfX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oKXtpZih0aGlzLmlzU2hhZG93KCkmJnRoaXMuZ2V0UGFyZW50KCkpdGhpcy5nZXRQYXJlbnQoKS5zZWxlY3QoKTtlbHNlIGlmKEJsb2NrbHkuc2VsZWN0ZWQhPXRoaXMpe3ZhciBhPW51bGw7aWYoQmxvY2tseS5zZWxlY3RlZCl7YT1CbG9ja2x5LnNlbGVjdGVkLmlkO0Jsb2NrbHkuRXZlbnRzLmRpc2FibGUoKTt0cnl7QmxvY2tseS5zZWxlY3RlZC51bnNlbGVjdCgpfWZpbmFsbHl7QmxvY2tseS5FdmVudHMuZW5hYmxlKCl9fWE9bmV3IEJsb2NrbHkuRXZlbnRzLlVpKG51bGwsXCJzZWxlY3RlZFwiLGEsdGhpcy5pZCk7YS53b3Jrc3BhY2VJZD10aGlzLndvcmtzcGFjZS5pZDtCbG9ja2x5LkV2ZW50cy5maXJlKGEpO0Jsb2NrbHkuc2VsZWN0ZWQ9dGhpczt0aGlzLmFkZFNlbGVjdCgpfX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS51bnNlbGVjdD1mdW5jdGlvbigpe2lmKEJsb2NrbHkuc2VsZWN0ZWQ9PXRoaXMpe3ZhciBhPW5ldyBCbG9ja2x5LkV2ZW50cy5VaShudWxsLFwic2VsZWN0ZWRcIix0aGlzLmlkLG51bGwpO2Eud29ya3NwYWNlSWQ9dGhpcy53b3Jrc3BhY2UuaWQ7QmxvY2tseS5FdmVudHMuZmlyZShhKTtCbG9ja2x5LnNlbGVjdGVkPW51bGw7dGhpcy5yZW1vdmVTZWxlY3QoKX19O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLm11dGF0b3I9bnVsbDtCbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5jb21tZW50PW51bGw7QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuY29tbWVudEljb25fPW51bGw7QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUud2FybmluZz1udWxsO1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuZ2V0SWNvbnM9ZnVuY3Rpb24oKXt2YXIgYT1bXTt0aGlzLm11dGF0b3ImJmEucHVzaCh0aGlzLm11dGF0b3IpO3RoaXMuY29tbWVudEljb25fJiZhLnB1c2godGhpcy5jb21tZW50SWNvbl8pO3RoaXMud2FybmluZyYmYS5wdXNoKHRoaXMud2FybmluZyk7cmV0dXJuIGF9O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuc2V0UGFyZW50PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucGFyZW50QmxvY2tfO2lmKGEhPWIpe0Jsb2NrbHkudXRpbHMuZG9tLnN0YXJ0VGV4dFdpZHRoQ2FjaGUoKTtCbG9ja2x5LkJsb2NrU3ZnLnN1cGVyQ2xhc3NfLnNldFBhcmVudC5jYWxsKHRoaXMsYSk7QmxvY2tseS51dGlscy5kb20uc3RvcFRleHRXaWR0aENhY2hlKCk7dmFyIGM9dGhpcy5nZXRTdmdSb290KCk7aWYoIXRoaXMud29ya3NwYWNlLmlzQ2xlYXJpbmcmJmMpe3ZhciBkPXRoaXMuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2E/KGEuZ2V0U3ZnUm9vdCgpLmFwcGVuZENoaWxkKGMpLGE9dGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCksdGhpcy5tb3ZlQ29ubmVjdGlvbnMoYS54LWQueCxhLnktZC55KSk6YiYmKHRoaXMud29ya3NwYWNlLmdldENhbnZhcygpLmFwcGVuZENoaWxkKGMpLHRoaXMudHJhbnNsYXRlKGQueCxkLnkpKTt0aGlzLmFwcGx5Q29sb3VyKCl9fX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZPWZ1bmN0aW9uKCl7dmFyIGE9MCxiPTAsYz10aGlzLnVzZURyYWdTdXJmYWNlXz90aGlzLndvcmtzcGFjZS5nZXRCbG9ja0RyYWdTdXJmYWNlKCkuZ2V0R3JvdXAoKTpudWxsLGQ9dGhpcy5nZXRTdmdSb290KCk7aWYoZCl7ZG97dmFyIGU9QmxvY2tseS51dGlscy5nZXRSZWxhdGl2ZVhZKGQpO2ErPWUueDtiKz1lLnk7dGhpcy51c2VEcmFnU3VyZmFjZV8mJnRoaXMud29ya3NwYWNlLmdldEJsb2NrRHJhZ1N1cmZhY2UoKS5nZXRDdXJyZW50QmxvY2soKT09ZCYmKGU9dGhpcy53b3Jrc3BhY2UuZ2V0QmxvY2tEcmFnU3VyZmFjZSgpLmdldFN1cmZhY2VUcmFuc2xhdGlvbigpLGErPWUueCxiKz1lLnkpO2Q9ZC5wYXJlbnROb2RlfXdoaWxlKGQmJmQhPXRoaXMud29ya3NwYWNlLmdldENhbnZhcygpJiZkIT1jKX1yZXR1cm4gbmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShhLGIpfTtcbkJsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLm1vdmVCeT1mdW5jdGlvbihhLGIpe2lmKHRoaXMucGFyZW50QmxvY2tfKXRocm93IEVycm9yKFwiQmxvY2sgaGFzIHBhcmVudC5cIik7dmFyIGM9QmxvY2tseS5FdmVudHMuaXNFbmFibGVkKCk7aWYoYyl2YXIgZD1uZXcgQmxvY2tseS5FdmVudHMuQmxvY2tNb3ZlKHRoaXMpO3ZhciBlPXRoaXMuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO3RoaXMudHJhbnNsYXRlKGUueCthLGUueStiKTt0aGlzLm1vdmVDb25uZWN0aW9ucyhhLGIpO2MmJihkLnJlY29yZE5ldygpLEJsb2NrbHkuRXZlbnRzLmZpcmUoZCkpO3RoaXMud29ya3NwYWNlLnJlc2l6ZUNvbnRlbnRzKCl9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe3RoaXMuZ2V0U3ZnUm9vdCgpLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiK2ErXCIsXCIrYitcIilcIil9O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUubW92ZVRvRHJhZ1N1cmZhY2U9ZnVuY3Rpb24oKXtpZih0aGlzLnVzZURyYWdTdXJmYWNlXyl7dmFyIGE9dGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7dGhpcy5jbGVhclRyYW5zZm9ybUF0dHJpYnV0ZXNfKCk7dGhpcy53b3Jrc3BhY2UuZ2V0QmxvY2tEcmFnU3VyZmFjZSgpLnRyYW5zbGF0ZVN1cmZhY2UoYS54LGEueSk7KGE9dGhpcy5nZXRTdmdSb290KCkpJiZ0aGlzLndvcmtzcGFjZS5nZXRCbG9ja0RyYWdTdXJmYWNlKCkuc2V0QmxvY2tzQW5kU2hvdyhhKX19O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLm1vdmVUbz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTt0aGlzLm1vdmVCeShhLngtYi54LGEueS1iLnkpfTtcbkJsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLm1vdmVPZmZEcmFnU3VyZmFjZT1mdW5jdGlvbihhKXt0aGlzLnVzZURyYWdTdXJmYWNlXyYmKHRoaXMudHJhbnNsYXRlKGEueCxhLnkpLHRoaXMud29ya3NwYWNlLmdldEJsb2NrRHJhZ1N1cmZhY2UoKS5jbGVhckFuZEhpZGUodGhpcy53b3Jrc3BhY2UuZ2V0Q2FudmFzKCkpKX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUubW92ZUR1cmluZ0RyYWc9ZnVuY3Rpb24oYSl7dGhpcy51c2VEcmFnU3VyZmFjZV8/dGhpcy53b3Jrc3BhY2UuZ2V0QmxvY2tEcmFnU3VyZmFjZSgpLnRyYW5zbGF0ZVN1cmZhY2UoYS54LGEueSk6KHRoaXMuc3ZnR3JvdXBfLnRyYW5zbGF0ZV89XCJ0cmFuc2xhdGUoXCIrYS54K1wiLFwiK2EueStcIilcIix0aGlzLnN2Z0dyb3VwXy5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIix0aGlzLnN2Z0dyb3VwXy50cmFuc2xhdGVfK3RoaXMuc3ZnR3JvdXBfLnNrZXdfKSl9O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuY2xlYXJUcmFuc2Zvcm1BdHRyaWJ1dGVzXz1mdW5jdGlvbigpe3RoaXMuZ2V0U3ZnUm9vdCgpLnJlbW92ZUF0dHJpYnV0ZShcInRyYW5zZm9ybVwiKX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuc25hcFRvR3JpZD1mdW5jdGlvbigpe2lmKHRoaXMud29ya3NwYWNlJiYhdGhpcy53b3Jrc3BhY2UuaXNEcmFnZ2luZygpJiYhdGhpcy5nZXRQYXJlbnQoKSYmIXRoaXMuaXNJbkZseW91dCl7dmFyIGE9dGhpcy53b3Jrc3BhY2UuZ2V0R3JpZCgpO2lmKGEmJmEuc2hvdWxkU25hcCgpKXt2YXIgYj1hLmdldFNwYWNpbmcoKSxjPWIvMixkPXRoaXMuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2E9TWF0aC5yb3VuZCgoZC54LWMpL2IpKmIrYy1kLng7Yj1NYXRoLnJvdW5kKChkLnktYykvYikqYitjLWQueTthPU1hdGgucm91bmQoYSk7Yj1NYXRoLnJvdW5kKGIpOzA9PWEmJjA9PWJ8fHRoaXMubW92ZUJ5KGEsYil9fX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5nZXRCb3VuZGluZ1JlY3RhbmdsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpLGI9dGhpcy5nZXRIZWlnaHRXaWR0aCgpO2lmKHRoaXMuUlRMKXt2YXIgYz1hLngtYi53aWR0aDt2YXIgZD1hLnh9ZWxzZSBjPWEueCxkPWEueCtiLndpZHRoO3JldHVybiBuZXcgQmxvY2tseS51dGlscy5SZWN0KGEueSxhLnkrYi5oZWlnaHQsYyxkKX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUubWFya0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5wYXRoT2JqZWN0LmNvbnN0YW50cz10aGlzLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpLmdldENvbnN0YW50cygpO2Zvcih2YXIgYT0wLGI7Yj10aGlzLmlucHV0TGlzdFthXTthKyspYi5tYXJrRGlydHkoKX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zZXRDb2xsYXBzZWQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5jb2xsYXBzZWRfIT1hKXtmb3IodmFyIGI9W10sYz0wLGQ7ZD10aGlzLmlucHV0TGlzdFtjXTtjKyspYi5wdXNoLmFwcGx5KGIsZC5zZXRWaXNpYmxlKCFhKSk7aWYoYSl7ZD10aGlzLmdldEljb25zKCk7Zm9yKGM9MDtjPGQubGVuZ3RoO2MrKylkW2NdLnNldFZpc2libGUoITEpO2M9dGhpcy50b1N0cmluZyhCbG9ja2x5LkNPTExBUFNFX0NIQVJTKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJfVEVNUF9DT0xMQVBTRURfSU5QVVRcIikuYXBwZW5kRmllbGQoYykuaW5pdCgpO2Q9dGhpcy5nZXREZXNjZW5kYW50cyghMCk7aWYoYz10aGlzLmdldE5leHRCbG9jaygpKWM9ZC5pbmRleE9mKGMpLGQuc3BsaWNlKGMsZC5sZW5ndGgtYyk7Yz0xO2Zvcih2YXIgZTtlPWRbY107YysrKWlmKGUud2FybmluZyl7dGhpcy5zZXRXYXJuaW5nVGV4dChCbG9ja2x5Lk1zZy5DT0xMQVBTRURfV0FSTklOR1NfV0FSTklORyxcbkJsb2NrbHkuQmxvY2tTdmcuQ09MTEFQU0VEX1dBUk5JTkdfSUQpO2JyZWFrfX1lbHNlIHRoaXMucmVtb3ZlSW5wdXQoXCJfVEVNUF9DT0xMQVBTRURfSU5QVVRcIiksdGhpcy53YXJuaW5nJiYodGhpcy53YXJuaW5nLnNldFRleHQoXCJcIixCbG9ja2x5LkJsb2NrU3ZnLkNPTExBUFNFRF9XQVJOSU5HX0lEKSxPYmplY3Qua2V5cyh0aGlzLndhcm5pbmcudGV4dF8pLmxlbmd0aHx8dGhpcy5zZXRXYXJuaW5nVGV4dChudWxsKSk7QmxvY2tseS5CbG9ja1N2Zy5zdXBlckNsYXNzXy5zZXRDb2xsYXBzZWQuY2FsbCh0aGlzLGEpO2IubGVuZ3RofHwoYlswXT10aGlzKTtpZih0aGlzLnJlbmRlcmVkKWZvcihjPTA7ZT1iW2NdO2MrKyllLnJlbmRlcigpfX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS50YWI9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQmxvY2tseS5UYWJOYXZpZ2F0ZUN1cnNvcjtjLnNldEN1ck5vZGUoQmxvY2tseS5BU1ROb2RlLmNyZWF0ZUZpZWxkTm9kZShhKSk7YT1jLmdldEN1ck5vZGUoKTtjLm9uQmxvY2tseUFjdGlvbihiP0Jsb2NrbHkubmF2aWdhdGlvbi5BQ1RJT05fTkVYVDpCbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX1BSRVZJT1VTKTsoYj1jLmdldEN1ck5vZGUoKSkmJmIhPT1hJiYoYi5nZXRMb2NhdGlvbigpLnNob3dFZGl0b3IoKSx0aGlzLndvcmtzcGFjZS5rZXlib2FyZEFjY2Vzc2liaWxpdHlNb2RlJiZ0aGlzLndvcmtzcGFjZS5nZXRDdXJzb3IoKS5zZXRDdXJOb2RlKGIpKX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5vbk1vdXNlRG93bl89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy53b3Jrc3BhY2UmJnRoaXMud29ya3NwYWNlLmdldEdlc3R1cmUoYSk7YiYmYi5oYW5kbGVCbG9ja1N0YXJ0KGEsdGhpcyl9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLnNob3dIZWxwPWZ1bmN0aW9uKCl7dmFyIGE9XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5oZWxwVXJsP3RoaXMuaGVscFVybCgpOnRoaXMuaGVscFVybDthJiZ3aW5kb3cub3BlbihhKX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5nZW5lcmF0ZUNvbnRleHRNZW51PWZ1bmN0aW9uKCl7aWYodGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5yZWFkT25seXx8IXRoaXMuY29udGV4dE1lbnUpcmV0dXJuIG51bGw7dmFyIGE9dGhpcyxiPVtdO2lmKCF0aGlzLmlzSW5GbHlvdXQpe3RoaXMuaXNEZWxldGFibGUoKSYmdGhpcy5pc01vdmFibGUoKSYmYi5wdXNoKEJsb2NrbHkuQ29udGV4dE1lbnUuYmxvY2tEdXBsaWNhdGVPcHRpb24oYSkpO3RoaXMud29ya3NwYWNlLm9wdGlvbnMuY29tbWVudHMmJiF0aGlzLmNvbGxhcHNlZF8mJnRoaXMuaXNFZGl0YWJsZSgpJiZiLnB1c2goQmxvY2tseS5Db250ZXh0TWVudS5ibG9ja0NvbW1lbnRPcHRpb24oYSkpO2lmKHRoaXMuaXNNb3ZhYmxlKCkpaWYodGhpcy5jb2xsYXBzZWRfKXRoaXMud29ya3NwYWNlLm9wdGlvbnMuY29sbGFwc2UmJihjPXtlbmFibGVkOiEwfSxjLnRleHQ9QmxvY2tseS5Nc2cuRVhQQU5EX0JMT0NLLGMuY2FsbGJhY2s9XG5mdW5jdGlvbigpe2Euc2V0Q29sbGFwc2VkKCExKX0sYi5wdXNoKGMpKTtlbHNle2Zvcih2YXIgYz0xO2M8dGhpcy5pbnB1dExpc3QubGVuZ3RoO2MrKylpZih0aGlzLmlucHV0TGlzdFtjLTFdLnR5cGUhPUJsb2NrbHkuTkVYVF9TVEFURU1FTlQmJnRoaXMuaW5wdXRMaXN0W2NdLnR5cGUhPUJsb2NrbHkuTkVYVF9TVEFURU1FTlQpe2M9e2VuYWJsZWQ6ITB9O3ZhciBkPXRoaXMuZ2V0SW5wdXRzSW5saW5lKCk7Yy50ZXh0PWQ/QmxvY2tseS5Nc2cuRVhURVJOQUxfSU5QVVRTOkJsb2NrbHkuTXNnLklOTElORV9JTlBVVFM7Yy5jYWxsYmFjaz1mdW5jdGlvbigpe2Euc2V0SW5wdXRzSW5saW5lKCFkKX07Yi5wdXNoKGMpO2JyZWFrfXRoaXMud29ya3NwYWNlLm9wdGlvbnMuY29sbGFwc2UmJihjPXtlbmFibGVkOiEwfSxjLnRleHQ9QmxvY2tseS5Nc2cuQ09MTEFQU0VfQkxPQ0ssYy5jYWxsYmFjaz1mdW5jdGlvbigpe2Euc2V0Q29sbGFwc2VkKCEwKX0sYi5wdXNoKGMpKX10aGlzLndvcmtzcGFjZS5vcHRpb25zLmRpc2FibGUmJlxudGhpcy5pc0VkaXRhYmxlKCkmJihjPXt0ZXh0OnRoaXMuaXNFbmFibGVkKCk/QmxvY2tseS5Nc2cuRElTQUJMRV9CTE9DSzpCbG9ja2x5Lk1zZy5FTkFCTEVfQkxPQ0ssZW5hYmxlZDohdGhpcy5nZXRJbmhlcml0ZWREaXNhYmxlZCgpLGNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGI9QmxvY2tseS5FdmVudHMuZ2V0R3JvdXAoKTtifHxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMCk7YS5zZXRFbmFibGVkKCFhLmlzRW5hYmxlZCgpKTtifHxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSl9fSxiLnB1c2goYykpO3RoaXMuaXNEZWxldGFibGUoKSYmYi5wdXNoKEJsb2NrbHkuQ29udGV4dE1lbnUuYmxvY2tEZWxldGVPcHRpb24oYSkpfWIucHVzaChCbG9ja2x5LkNvbnRleHRNZW51LmJsb2NrSGVscE9wdGlvbihhKSk7dGhpcy5jdXN0b21Db250ZXh0TWVudSYmdGhpcy5jdXN0b21Db250ZXh0TWVudShiKTtyZXR1cm4gYn07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zaG93Q29udGV4dE1lbnU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZW5lcmF0ZUNvbnRleHRNZW51KCk7YiYmYi5sZW5ndGgmJihCbG9ja2x5LkNvbnRleHRNZW51LnNob3coYSxiLHRoaXMuUlRMKSxCbG9ja2x5LkNvbnRleHRNZW51LmN1cnJlbnRCbG9jaz10aGlzKX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUubW92ZUNvbm5lY3Rpb25zPWZ1bmN0aW9uKGEsYil7aWYodGhpcy5yZW5kZXJlZCl7Zm9yKHZhciBjPXRoaXMuZ2V0Q29ubmVjdGlvbnNfKCExKSxkPTA7ZDxjLmxlbmd0aDtkKyspY1tkXS5tb3ZlQnkoYSxiKTtjPXRoaXMuZ2V0SWNvbnMoKTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKWNbZF0uY29tcHV0ZUljb25Mb2NhdGlvbigpO2ZvcihkPTA7ZDx0aGlzLmNoaWxkQmxvY2tzXy5sZW5ndGg7ZCsrKXRoaXMuY2hpbGRCbG9ja3NfW2RdLm1vdmVDb25uZWN0aW9ucyhhLGIpfX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zZXREcmFnZ2luZz1mdW5jdGlvbihhKXtpZihhKXt2YXIgYj10aGlzLmdldFN2Z1Jvb3QoKTtiLnRyYW5zbGF0ZV89XCJcIjtiLnNrZXdfPVwiXCI7QmxvY2tseS5kcmFnZ2luZ0Nvbm5lY3Rpb25zPUJsb2NrbHkuZHJhZ2dpbmdDb25uZWN0aW9ucy5jb25jYXQodGhpcy5nZXRDb25uZWN0aW9uc18oITApKTtCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyh0aGlzLnN2Z0dyb3VwXyxcImJsb2NrbHlEcmFnZ2luZ1wiKX1lbHNlIEJsb2NrbHkuZHJhZ2dpbmdDb25uZWN0aW9ucz1bXSxCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyh0aGlzLnN2Z0dyb3VwXyxcImJsb2NrbHlEcmFnZ2luZ1wiKTtmb3IoYj0wO2I8dGhpcy5jaGlsZEJsb2Nrc18ubGVuZ3RoO2IrKyl0aGlzLmNoaWxkQmxvY2tzX1tiXS5zZXREcmFnZ2luZyhhKX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zZXRNb3ZhYmxlPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuQmxvY2tTdmcuc3VwZXJDbGFzc18uc2V0TW92YWJsZS5jYWxsKHRoaXMsYSk7dGhpcy5wYXRoT2JqZWN0LnVwZGF0ZU1vdmFibGUoYSl9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLnNldEVkaXRhYmxlPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuQmxvY2tTdmcuc3VwZXJDbGFzc18uc2V0RWRpdGFibGUuY2FsbCh0aGlzLGEpO2E9dGhpcy5nZXRJY29ucygpO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0udXBkYXRlRWRpdGFibGUoKX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuc2V0U2hhZG93PWZ1bmN0aW9uKGEpe0Jsb2NrbHkuQmxvY2tTdmcuc3VwZXJDbGFzc18uc2V0U2hhZG93LmNhbGwodGhpcyxhKTt0aGlzLmFwcGx5Q29sb3VyKCl9O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuc2V0SW5zZXJ0aW9uTWFya2VyPWZ1bmN0aW9uKGEpe3RoaXMuaXNJbnNlcnRpb25NYXJrZXJfIT1hJiYodGhpcy5pc0luc2VydGlvbk1hcmtlcl89YSkmJih0aGlzLnNldENvbG91cih0aGlzLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpLmdldENvbnN0YW50cygpLklOU0VSVElPTl9NQVJLRVJfQ09MT1VSKSx0aGlzLnBhdGhPYmplY3QudXBkYXRlSW5zZXJ0aW9uTWFya2VyKCEwKSl9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLmdldFN2Z1Jvb3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdmdHcm91cF99O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbihhLGIpe2lmKHRoaXMud29ya3NwYWNlKXtCbG9ja2x5LlRvb2x0aXAuZGlzcG9zZSgpO0Jsb2NrbHkuVG9vbHRpcC51bmJpbmRNb3VzZUV2ZW50cyh0aGlzLnBhdGhPYmplY3Quc3ZnUGF0aCk7QmxvY2tseS51dGlscy5kb20uc3RhcnRUZXh0V2lkdGhDYWNoZSgpO3ZhciBjPXRoaXMud29ya3NwYWNlO0Jsb2NrbHkuc2VsZWN0ZWQ9PXRoaXMmJih0aGlzLnVuc2VsZWN0KCksdGhpcy53b3Jrc3BhY2UuY2FuY2VsQ3VycmVudEdlc3R1cmUoKSk7QmxvY2tseS5Db250ZXh0TWVudS5jdXJyZW50QmxvY2s9PXRoaXMmJkJsb2NrbHkuQ29udGV4dE1lbnUuaGlkZSgpO3RoaXMud29ya3NwYWNlLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGUmJkJsb2NrbHkubmF2aWdhdGlvbi5tb3ZlQ3Vyc29yT25CbG9ja0RlbGV0ZSh0aGlzKTtiJiZ0aGlzLnJlbmRlcmVkJiYodGhpcy51bnBsdWcoYSksQmxvY2tseS5ibG9ja0FuaW1hdGlvbnMuZGlzcG9zZVVpRWZmZWN0KHRoaXMpKTtcbnRoaXMucmVuZGVyZWQ9ITE7aWYodGhpcy53YXJuaW5nVGV4dERiXyl7Zm9yKHZhciBkIGluIHRoaXMud2FybmluZ1RleHREYl8pY2xlYXJUaW1lb3V0KHRoaXMud2FybmluZ1RleHREYl9bZF0pO3RoaXMud2FybmluZ1RleHREYl89bnVsbH1iPXRoaXMuZ2V0SWNvbnMoKTtmb3IoZD0wO2Q8Yi5sZW5ndGg7ZCsrKWJbZF0uZGlzcG9zZSgpO0Jsb2NrbHkuQmxvY2tTdmcuc3VwZXJDbGFzc18uZGlzcG9zZS5jYWxsKHRoaXMsISFhKTtCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVOb2RlKHRoaXMuc3ZnR3JvdXBfKTtjLnJlc2l6ZUNvbnRlbnRzKCk7dGhpcy5zdmdHcm91cF89bnVsbDtCbG9ja2x5LnV0aWxzLmRvbS5zdG9wVGV4dFdpZHRoQ2FjaGUoKX19O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuYXBwbHlDb2xvdXI9ZnVuY3Rpb24oKXt0aGlzLnBhdGhPYmplY3QuYXBwbHlDb2xvdXIodGhpcyk7Zm9yKHZhciBhPXRoaXMuZ2V0SWNvbnMoKSxiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5hcHBseUNvbG91cigpO2ZvcihhPTA7Yj10aGlzLmlucHV0TGlzdFthXTthKyspZm9yKHZhciBjPTAsZDtkPWIuZmllbGRSb3dbY107YysrKWQuYXBwbHlDb2xvdXIoKX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUudXBkYXRlRGlzYWJsZWQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldENoaWxkcmVuKCExKTt0aGlzLmFwcGx5Q29sb3VyKCk7Zm9yKHZhciBiPTAsYztjPWFbYl07YisrKWMudXBkYXRlRGlzYWJsZWQoKX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuZ2V0Q29tbWVudEljb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21tZW50SWNvbl99O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuc2V0Q29tbWVudFRleHQ9ZnVuY3Rpb24oYSl7aWYoIUJsb2NrbHkuQ29tbWVudCl0aHJvdyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZSBmb3IgQmxvY2tseS5Db21tZW50XCIpO3RoaXMuY29tbWVudE1vZGVsLnRleHQhPWEmJihCbG9ja2x5LkJsb2NrU3ZnLnN1cGVyQ2xhc3NfLnNldENvbW1lbnRUZXh0LmNhbGwodGhpcyxhKSxhPW51bGwhPWEsISF0aGlzLmNvbW1lbnRJY29uXz09YT90aGlzLmNvbW1lbnRJY29uXy51cGRhdGVUZXh0KCk6KGE/dGhpcy5jb21tZW50PXRoaXMuY29tbWVudEljb25fPW5ldyBCbG9ja2x5LkNvbW1lbnQodGhpcyk6KHRoaXMuY29tbWVudEljb25fLmRpc3Bvc2UoKSx0aGlzLmNvbW1lbnQ9dGhpcy5jb21tZW50SWNvbl89bnVsbCksdGhpcy5yZW5kZXJlZCYmKHRoaXMucmVuZGVyKCksdGhpcy5idW1wTmVpZ2hib3VycygpKSkpfTtcbkJsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLnNldFdhcm5pbmdUZXh0PWZ1bmN0aW9uKGEsYil7aWYoIUJsb2NrbHkuV2FybmluZyl0aHJvdyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZSBmb3IgQmxvY2tseS5XYXJuaW5nXCIpO3RoaXMud2FybmluZ1RleHREYl98fCh0aGlzLndhcm5pbmdUZXh0RGJfPU9iamVjdC5jcmVhdGUobnVsbCkpO3ZhciBjPWJ8fFwiXCI7aWYoYyl0aGlzLndhcm5pbmdUZXh0RGJfW2NdJiYoY2xlYXJUaW1lb3V0KHRoaXMud2FybmluZ1RleHREYl9bY10pLGRlbGV0ZSB0aGlzLndhcm5pbmdUZXh0RGJfW2NdKTtlbHNlIGZvcih2YXIgZCBpbiB0aGlzLndhcm5pbmdUZXh0RGJfKWNsZWFyVGltZW91dCh0aGlzLndhcm5pbmdUZXh0RGJfW2RdKSxkZWxldGUgdGhpcy53YXJuaW5nVGV4dERiX1tkXTtpZih0aGlzLndvcmtzcGFjZS5pc0RyYWdnaW5nKCkpe3ZhciBlPXRoaXM7dGhpcy53YXJuaW5nVGV4dERiX1tjXT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS53b3Jrc3BhY2UmJlxuKGRlbGV0ZSBlLndhcm5pbmdUZXh0RGJfW2NdLGUuc2V0V2FybmluZ1RleHQoYSxjKSl9LDEwMCl9ZWxzZXt0aGlzLmlzSW5GbHlvdXQmJihhPW51bGwpO2I9dGhpcy5nZXRTdXJyb3VuZFBhcmVudCgpO2ZvcihkPW51bGw7YjspYi5pc0NvbGxhcHNlZCgpJiYoZD1iKSxiPWIuZ2V0U3Vycm91bmRQYXJlbnQoKTtkJiZkLnNldFdhcm5pbmdUZXh0KEJsb2NrbHkuTXNnLkNPTExBUFNFRF9XQVJOSU5HU19XQVJOSU5HLEJsb2NrbHkuQmxvY2tTdmcuQ09MTEFQU0VEX1dBUk5JTkdfSUQpO2I9ITE7XCJzdHJpbmdcIj09dHlwZW9mIGE/KHRoaXMud2FybmluZ3x8KHRoaXMud2FybmluZz1uZXcgQmxvY2tseS5XYXJuaW5nKHRoaXMpLGI9ITApLHRoaXMud2FybmluZy5zZXRUZXh0KGEsYykpOnRoaXMud2FybmluZyYmIWM/KHRoaXMud2FybmluZy5kaXNwb3NlKCksYj0hMCk6dGhpcy53YXJuaW5nJiYoYj10aGlzLndhcm5pbmcuZ2V0VGV4dCgpLHRoaXMud2FybmluZy5zZXRUZXh0KFwiXCIsYyksKGQ9XG50aGlzLndhcm5pbmcuZ2V0VGV4dCgpKXx8dGhpcy53YXJuaW5nLmRpc3Bvc2UoKSxiPWIhPWQpO2ImJnRoaXMucmVuZGVyZWQmJih0aGlzLnJlbmRlcigpLHRoaXMuYnVtcE5laWdoYm91cnMoKSl9fTtCbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zZXRNdXRhdG9yPWZ1bmN0aW9uKGEpe3RoaXMubXV0YXRvciYmdGhpcy5tdXRhdG9yIT09YSYmdGhpcy5tdXRhdG9yLmRpc3Bvc2UoKTthJiYoYS5zZXRCbG9jayh0aGlzKSx0aGlzLm11dGF0b3I9YSxhLmNyZWF0ZUljb24oKSk7dGhpcy5yZW5kZXJlZCYmKHRoaXMucmVuZGVyKCksdGhpcy5idW1wTmVpZ2hib3VycygpKX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zZXREaXNhYmxlZD1mdW5jdGlvbihhKXtjb25zb2xlLndhcm4oXCJEZXByZWNhdGVkIGNhbGwgdG8gQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuc2V0RGlzYWJsZWQsIHVzZSBCbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zZXRFbmFibGVkIGluc3RlYWQuXCIpO3RoaXMuc2V0RW5hYmxlZCghYSl9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oYSl7dGhpcy5pc0VuYWJsZWQoKSE9YSYmKEJsb2NrbHkuQmxvY2tTdmcuc3VwZXJDbGFzc18uc2V0RW5hYmxlZC5jYWxsKHRoaXMsYSksdGhpcy5yZW5kZXJlZCYmIXRoaXMuZ2V0SW5oZXJpdGVkRGlzYWJsZWQoKSYmdGhpcy51cGRhdGVEaXNhYmxlZCgpKX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuc2V0SGlnaGxpZ2h0ZWQ9ZnVuY3Rpb24oYSl7dGhpcy5yZW5kZXJlZCYmdGhpcy5wYXRoT2JqZWN0LnVwZGF0ZUhpZ2hsaWdodGVkKGEpfTtcbkJsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLmFkZFNlbGVjdD1mdW5jdGlvbigpe3RoaXMucGF0aE9iamVjdC51cGRhdGVTZWxlY3RlZCghMCl9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLnJlbW92ZVNlbGVjdD1mdW5jdGlvbigpe3RoaXMucGF0aE9iamVjdC51cGRhdGVTZWxlY3RlZCghMSl9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLnNldERlbGV0ZVN0eWxlPWZ1bmN0aW9uKGEpe3RoaXMucGF0aE9iamVjdC51cGRhdGVEcmFnZ2luZ0RlbGV0ZShhKX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuZ2V0Q29sb3VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3R5bGUuY29sb3VyUHJpbWFyeX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zZXRDb2xvdXI9ZnVuY3Rpb24oYSl7QmxvY2tseS5CbG9ja1N2Zy5zdXBlckNsYXNzXy5zZXRDb2xvdXIuY2FsbCh0aGlzLGEpO2E9dGhpcy53b3Jrc3BhY2UuZ2V0UmVuZGVyZXIoKS5nZXRDb25zdGFudHMoKS5nZXRCbG9ja1N0eWxlRm9yQ29sb3VyKHRoaXMuY29sb3VyXyk7dGhpcy5wYXRoT2JqZWN0LnNldFN0eWxlKGEuc3R5bGUpO3RoaXMuc3R5bGU9YS5zdHlsZTt0aGlzLnN0eWxlTmFtZV89YS5uYW1lO3RoaXMuYXBwbHlDb2xvdXIoKX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpLmdldENvbnN0YW50cygpLmdldEJsb2NrU3R5bGUoYSk7dGhpcy5zdHlsZU5hbWVfPWE7aWYoYil0aGlzLmhhdD1iLmhhdCx0aGlzLnBhdGhPYmplY3Quc2V0U3R5bGUoYiksdGhpcy5jb2xvdXJfPWIuY29sb3VyUHJpbWFyeSx0aGlzLnN0eWxlPWIsdGhpcy5hcHBseUNvbG91cigpO2Vsc2UgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHN0eWxlIG5hbWU6IFwiK2EpO307QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuYnJpbmdUb0Zyb250PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkb3t2YXIgYj1hLmdldFN2Z1Jvb3QoKSxjPWIucGFyZW50Tm9kZSxkPWMuY2hpbGROb2RlcztkW2QubGVuZ3RoLTFdIT09YiYmYy5hcHBlbmRDaGlsZChiKTthPWEuZ2V0UGFyZW50KCl9d2hpbGUoYSl9O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuc2V0UHJldmlvdXNTdGF0ZW1lbnQ9ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LkJsb2NrU3ZnLnN1cGVyQ2xhc3NfLnNldFByZXZpb3VzU3RhdGVtZW50LmNhbGwodGhpcyxhLGIpO3RoaXMucmVuZGVyZWQmJih0aGlzLnJlbmRlcigpLHRoaXMuYnVtcE5laWdoYm91cnMoKSl9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLnNldE5leHRTdGF0ZW1lbnQ9ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LkJsb2NrU3ZnLnN1cGVyQ2xhc3NfLnNldE5leHRTdGF0ZW1lbnQuY2FsbCh0aGlzLGEsYik7dGhpcy5yZW5kZXJlZCYmKHRoaXMucmVuZGVyKCksdGhpcy5idW1wTmVpZ2hib3VycygpKX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuc2V0T3V0cHV0PWZ1bmN0aW9uKGEsYil7QmxvY2tseS5CbG9ja1N2Zy5zdXBlckNsYXNzXy5zZXRPdXRwdXQuY2FsbCh0aGlzLGEsYik7dGhpcy5yZW5kZXJlZCYmKHRoaXMucmVuZGVyKCksdGhpcy5idW1wTmVpZ2hib3VycygpKX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zZXRJbnB1dHNJbmxpbmU9ZnVuY3Rpb24oYSl7QmxvY2tseS5CbG9ja1N2Zy5zdXBlckNsYXNzXy5zZXRJbnB1dHNJbmxpbmUuY2FsbCh0aGlzLGEpO3RoaXMucmVuZGVyZWQmJih0aGlzLnJlbmRlcigpLHRoaXMuYnVtcE5laWdoYm91cnMoKSl9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLnJlbW92ZUlucHV0PWZ1bmN0aW9uKGEsYil7QmxvY2tseS5CbG9ja1N2Zy5zdXBlckNsYXNzXy5yZW1vdmVJbnB1dC5jYWxsKHRoaXMsYSxiKTt0aGlzLnJlbmRlcmVkJiYodGhpcy5yZW5kZXIoKSx0aGlzLmJ1bXBOZWlnaGJvdXJzKCkpfTtCbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5tb3ZlTnVtYmVyZWRJbnB1dEJlZm9yZT1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuQmxvY2tTdmcuc3VwZXJDbGFzc18ubW92ZU51bWJlcmVkSW5wdXRCZWZvcmUuY2FsbCh0aGlzLGEsYik7dGhpcy5yZW5kZXJlZCYmKHRoaXMucmVuZGVyKCksdGhpcy5idW1wTmVpZ2hib3VycygpKX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5hcHBlbmRJbnB1dF89ZnVuY3Rpb24oYSxiKXthPUJsb2NrbHkuQmxvY2tTdmcuc3VwZXJDbGFzc18uYXBwZW5kSW5wdXRfLmNhbGwodGhpcyxhLGIpO3RoaXMucmVuZGVyZWQmJih0aGlzLnJlbmRlcigpLHRoaXMuYnVtcE5laWdoYm91cnMoKSk7cmV0dXJuIGF9O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuc2V0Q29ubmVjdGlvblRyYWNraW5nPWZ1bmN0aW9uKGEpe3RoaXMucHJldmlvdXNDb25uZWN0aW9uJiZ0aGlzLnByZXZpb3VzQ29ubmVjdGlvbi5zZXRUcmFja2luZyhhKTt0aGlzLm91dHB1dENvbm5lY3Rpb24mJnRoaXMub3V0cHV0Q29ubmVjdGlvbi5zZXRUcmFja2luZyhhKTtpZih0aGlzLm5leHRDb25uZWN0aW9uKXt0aGlzLm5leHRDb25uZWN0aW9uLnNldFRyYWNraW5nKGEpO3ZhciBiPXRoaXMubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKTtiJiZiLnNldENvbm5lY3Rpb25UcmFja2luZyhhKX1pZighdGhpcy5jb2xsYXBzZWRfKWZvcihiPTA7Yjx0aGlzLmlucHV0TGlzdC5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmlucHV0TGlzdFtiXS5jb25uZWN0aW9uO2MmJihjLnNldFRyYWNraW5nKGEpLChjPWMudGFyZ2V0QmxvY2soKSkmJmMuc2V0Q29ubmVjdGlvblRyYWNraW5nKGEpKX19O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvbnNfPWZ1bmN0aW9uKGEpe3ZhciBiPVtdO2lmKGF8fHRoaXMucmVuZGVyZWQpaWYodGhpcy5vdXRwdXRDb25uZWN0aW9uJiZiLnB1c2godGhpcy5vdXRwdXRDb25uZWN0aW9uKSx0aGlzLnByZXZpb3VzQ29ubmVjdGlvbiYmYi5wdXNoKHRoaXMucHJldmlvdXNDb25uZWN0aW9uKSx0aGlzLm5leHRDb25uZWN0aW9uJiZiLnB1c2godGhpcy5uZXh0Q29ubmVjdGlvbiksYXx8IXRoaXMuY29sbGFwc2VkXyl7YT0wO2Zvcih2YXIgYztjPXRoaXMuaW5wdXRMaXN0W2FdO2ErKyljLmNvbm5lY3Rpb24mJmIucHVzaChjLmNvbm5lY3Rpb24pfXJldHVybiBifTtCbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5sYXN0Q29ubmVjdGlvbkluU3RhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gQmxvY2tseS5CbG9ja1N2Zy5zdXBlckNsYXNzXy5sYXN0Q29ubmVjdGlvbkluU3RhY2suY2FsbCh0aGlzKX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5nZXRNYXRjaGluZ0Nvbm5lY3Rpb249ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQmxvY2tseS5CbG9ja1N2Zy5zdXBlckNsYXNzXy5nZXRNYXRjaGluZ0Nvbm5lY3Rpb24uY2FsbCh0aGlzLGEsYil9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLm1ha2VDb25uZWN0aW9uXz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEJsb2NrbHkuUmVuZGVyZWRDb25uZWN0aW9uKHRoaXMsYSl9O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuYnVtcE5laWdoYm91cnM9ZnVuY3Rpb24oKXtpZih0aGlzLndvcmtzcGFjZSYmIXRoaXMud29ya3NwYWNlLmlzRHJhZ2dpbmcoKSl7dmFyIGE9dGhpcy5nZXRSb290QmxvY2soKTtpZighYS5pc0luRmx5b3V0KWZvcih2YXIgYj10aGlzLmdldENvbm5lY3Rpb25zXyghMSksYz0wLGQ7ZD1iW2NdO2MrKyl7ZC5pc0Nvbm5lY3RlZCgpJiZkLmlzU3VwZXJpb3IoKSYmZC50YXJnZXRCbG9jaygpLmJ1bXBOZWlnaGJvdXJzKCk7Zm9yKHZhciBlPWQubmVpZ2hib3VycyhCbG9ja2x5LlNOQVBfUkFESVVTKSxmPTAsZztnPWVbZl07ZisrKWQuaXNDb25uZWN0ZWQoKSYmZy5pc0Nvbm5lY3RlZCgpfHxnLmdldFNvdXJjZUJsb2NrKCkuZ2V0Um9vdEJsb2NrKCkhPWEmJihkLmlzU3VwZXJpb3IoKT9nLmJ1bXBBd2F5RnJvbShkKTpkLmJ1bXBBd2F5RnJvbShnKSl9fX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zY2hlZHVsZVNuYXBBbmRCdW1wPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPUJsb2NrbHkuRXZlbnRzLmdldEdyb3VwKCk7c2V0VGltZW91dChmdW5jdGlvbigpe0Jsb2NrbHkuRXZlbnRzLnNldEdyb3VwKGIpO2Euc25hcFRvR3JpZCgpO0Jsb2NrbHkuRXZlbnRzLnNldEdyb3VwKCExKX0sQmxvY2tseS5CVU1QX0RFTEFZLzIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cChiKTthLmJ1bXBOZWlnaGJvdXJzKCk7QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITEpfSxCbG9ja2x5LkJVTVBfREVMQVkpfTtCbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5wb3NpdGlvbk5lYXJDb25uZWN0aW9uPWZ1bmN0aW9uKGEsYil7YS50eXBlIT1CbG9ja2x5Lk5FWFRfU1RBVEVNRU5UJiZhLnR5cGUhPUJsb2NrbHkuSU5QVVRfVkFMVUV8fHRoaXMubW92ZUJ5KGIueC1hLngsYi55LWEueSl9O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuZ2V0UGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIEJsb2NrbHkuQmxvY2tTdmcuc3VwZXJDbGFzc18uZ2V0UGFyZW50LmNhbGwodGhpcyl9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLmdldFJvb3RCbG9jaz1mdW5jdGlvbigpe3JldHVybiBCbG9ja2x5LkJsb2NrU3ZnLnN1cGVyQ2xhc3NfLmdldFJvb3RCbG9jay5jYWxsKHRoaXMpfTtcbkJsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihhKXtCbG9ja2x5LnV0aWxzLmRvbS5zdGFydFRleHRXaWR0aENhY2hlKCk7dGhpcy5yZW5kZXJlZD0hMDt0aGlzLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpLnJlbmRlcih0aGlzKTt0aGlzLnVwZGF0ZUNvbm5lY3Rpb25Mb2NhdGlvbnNfKCk7ITEhPT1hJiYoKGE9dGhpcy5nZXRQYXJlbnQoKSk/YS5yZW5kZXIoITApOnRoaXMud29ya3NwYWNlLnJlc2l6ZUNvbnRlbnRzKCkpO0Jsb2NrbHkudXRpbHMuZG9tLnN0b3BUZXh0V2lkdGhDYWNoZSgpO3RoaXMudXBkYXRlTWFya2Vyc18oKX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS51cGRhdGVNYXJrZXJzXz1mdW5jdGlvbigpe3RoaXMud29ya3NwYWNlLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGUmJnRoaXMucGF0aE9iamVjdC5jdXJzb3JTdmcmJnRoaXMud29ya3NwYWNlLmdldEN1cnNvcigpLmRyYXcoKTt0aGlzLndvcmtzcGFjZS5rZXlib2FyZEFjY2Vzc2liaWxpdHlNb2RlJiZ0aGlzLnBhdGhPYmplY3QubWFya2VyU3ZnJiZ0aGlzLndvcmtzcGFjZS5nZXRNYXJrZXIoQmxvY2tseS5uYXZpZ2F0aW9uLk1BUktFUl9OQU1FKS5kcmF3KCl9O1xuQmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUudXBkYXRlQ29ubmVjdGlvbkxvY2F0aW9uc189ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTt0aGlzLnByZXZpb3VzQ29ubmVjdGlvbiYmdGhpcy5wcmV2aW91c0Nvbm5lY3Rpb24ubW92ZVRvT2Zmc2V0KGEpO3RoaXMub3V0cHV0Q29ubmVjdGlvbiYmdGhpcy5vdXRwdXRDb25uZWN0aW9uLm1vdmVUb09mZnNldChhKTtmb3IodmFyIGI9MDtiPHRoaXMuaW5wdXRMaXN0Lmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuaW5wdXRMaXN0W2JdLmNvbm5lY3Rpb247YyYmKGMubW92ZVRvT2Zmc2V0KGEpLGMuaXNDb25uZWN0ZWQoKSYmYy50aWdodGVuKCkpfXRoaXMubmV4dENvbm5lY3Rpb24mJih0aGlzLm5leHRDb25uZWN0aW9uLm1vdmVUb09mZnNldChhKSx0aGlzLm5leHRDb25uZWN0aW9uLmlzQ29ubmVjdGVkKCkmJnRoaXMubmV4dENvbm5lY3Rpb24udGlnaHRlbigpKX07XG5CbG9ja2x5LkJsb2NrU3ZnLnByb3RvdHlwZS5zZXRDdXJzb3JTdmc9ZnVuY3Rpb24oYSl7dGhpcy5wYXRoT2JqZWN0LnNldEN1cnNvclN2ZyhhKX07QmxvY2tseS5CbG9ja1N2Zy5wcm90b3R5cGUuc2V0TWFya2VyU3ZnPWZ1bmN0aW9uKGEpe3RoaXMucGF0aE9iamVjdC5zZXRNYXJrZXJTdmcoYSl9O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLmdldEhlaWdodFdpZHRoPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5oZWlnaHQsYj10aGlzLndpZHRoLGM9dGhpcy5nZXROZXh0QmxvY2soKTtpZihjKXtjPWMuZ2V0SGVpZ2h0V2lkdGgoKTt2YXIgZD10aGlzLndvcmtzcGFjZS5nZXRSZW5kZXJlcigpLmdldENvbnN0YW50cygpLk5PVENIX0hFSUdIVDthKz1jLmhlaWdodC1kO2I9TWF0aC5tYXgoYixjLndpZHRoKX1yZXR1cm57aGVpZ2h0OmEsd2lkdGg6Yn19O0Jsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLmZhZGVGb3JSZXBsYWNlbWVudD1mdW5jdGlvbihhKXt0aGlzLnBhdGhPYmplY3QudXBkYXRlUmVwbGFjZW1lbnRGYWRlKGEpfTtcbkJsb2NrbHkuQmxvY2tTdmcucHJvdG90eXBlLmhpZ2hsaWdodFNoYXBlRm9ySW5wdXQ9ZnVuY3Rpb24oYSxiKXt0aGlzLnBhdGhPYmplY3QudXBkYXRlU2hhcGVGb3JJbnB1dEhpZ2hsaWdodChhLGIpfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLnJlbmRlcmVyTWFwXz17fTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLnVzZURlYnVnZ2VyPSExO0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcucmVnaXN0ZXI9ZnVuY3Rpb24oYSxiKXtpZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLnJlbmRlcmVyTWFwX1thXSl0aHJvdyBFcnJvcihcIlJlbmRlcmVyIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZC5cIik7QmxvY2tseS5ibG9ja1JlbmRlcmluZy5yZW5kZXJlck1hcF9bYV09Yn07QmxvY2tseS5ibG9ja1JlbmRlcmluZy51bnJlZ2lzdGVyPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcucmVuZGVyZXJNYXBfW2FdP2RlbGV0ZSBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLnJlbmRlcmVyTWFwX1thXTpjb25zb2xlLndhcm4oJ05vIHJlbmRlcmVyIG1hcHBpbmcgZm9yIG5hbWUgXCInK2ErJ1wiIGZvdW5kIHRvIHVucmVnaXN0ZXInKX07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLnN0YXJ0RGVidWdnZXI9ZnVuY3Rpb24oKXtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLnVzZURlYnVnZ2VyPSEwfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLnN0b3BEZWJ1Z2dlcj1mdW5jdGlvbigpe0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcudXNlRGVidWdnZXI9ITF9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuaW5pdD1mdW5jdGlvbihhLGIsYyl7aWYoIUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcucmVuZGVyZXJNYXBfW2FdKXRocm93IEVycm9yKFwiUmVuZGVyZXIgbm90IHJlZ2lzdGVyZWQ6IFwiLGEpO2E9bmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcucmVuZGVyZXJNYXBfW2FdKGEpO2EuaW5pdChiLGMpO3JldHVybiBhfTtCbG9ja2x5LkNvbm5lY3Rpb25EQj1mdW5jdGlvbigpe3RoaXMuY29ubmVjdGlvbnNfPVtdfTtCbG9ja2x5LkNvbm5lY3Rpb25EQi5wcm90b3R5cGUuYWRkQ29ubmVjdGlvbj1mdW5jdGlvbihhLGIpe2I9dGhpcy5jYWxjdWxhdGVJbmRleEZvcllQb3NfKGIpO3RoaXMuY29ubmVjdGlvbnNfLnNwbGljZShiLDAsYSl9O1xuQmxvY2tseS5Db25uZWN0aW9uREIucHJvdG90eXBlLmZpbmRJbmRleE9mQ29ubmVjdGlvbl89ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5jb25uZWN0aW9uc18ubGVuZ3RoKXJldHVybi0xO3ZhciBjPXRoaXMuY2FsY3VsYXRlSW5kZXhGb3JZUG9zXyhiKTtpZihjPj10aGlzLmNvbm5lY3Rpb25zXy5sZW5ndGgpcmV0dXJuLTE7Yj1hLnk7Zm9yKHZhciBkPWM7MDw9ZCYmdGhpcy5jb25uZWN0aW9uc19bZF0ueT09Yjspe2lmKHRoaXMuY29ubmVjdGlvbnNfW2RdPT1hKXJldHVybiBkO2QtLX1mb3IoO2M8dGhpcy5jb25uZWN0aW9uc18ubGVuZ3RoJiZ0aGlzLmNvbm5lY3Rpb25zX1tjXS55PT1iOyl7aWYodGhpcy5jb25uZWN0aW9uc19bY109PWEpcmV0dXJuIGM7YysrfXJldHVybi0xfTtcbkJsb2NrbHkuQ29ubmVjdGlvbkRCLnByb3RvdHlwZS5jYWxjdWxhdGVJbmRleEZvcllQb3NfPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmNvbm5lY3Rpb25zXy5sZW5ndGgpcmV0dXJuIDA7Zm9yKHZhciBiPTAsYz10aGlzLmNvbm5lY3Rpb25zXy5sZW5ndGg7YjxjOyl7dmFyIGQ9TWF0aC5mbG9vcigoYitjKS8yKTtpZih0aGlzLmNvbm5lY3Rpb25zX1tkXS55PGEpYj1kKzE7ZWxzZSBpZih0aGlzLmNvbm5lY3Rpb25zX1tkXS55PmEpYz1kO2Vsc2V7Yj1kO2JyZWFrfX1yZXR1cm4gYn07QmxvY2tseS5Db25uZWN0aW9uREIucHJvdG90eXBlLnJlbW92ZUNvbm5lY3Rpb249ZnVuY3Rpb24oYSxiKXthPXRoaXMuZmluZEluZGV4T2ZDb25uZWN0aW9uXyhhLGIpO2lmKC0xPT1hKXRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgY29ubmVjdGlvbiBpbiBjb25uZWN0aW9uREIuXCIpO3RoaXMuY29ubmVjdGlvbnNfLnNwbGljZShhLDEpfTtcbkJsb2NrbHkuQ29ubmVjdGlvbkRCLnByb3RvdHlwZS5nZXROZWlnaGJvdXJzPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXt2YXIgYz1lLWRbYV0ueCxnPWYtZFthXS55O01hdGguc3FydChjKmMrZypnKTw9YiYmay5wdXNoKGRbYV0pO3JldHVybiBnPGJ9dmFyIGQ9dGhpcy5jb25uZWN0aW9uc18sZT1hLngsZj1hLnk7YT0wO2Zvcih2YXIgZz1kLmxlbmd0aC0yLGg9ZzthPGg7KWRbaF0ueTxmP2E9aDpnPWgsaD1NYXRoLmZsb29yKChhK2cpLzIpO3ZhciBrPVtdO2c9YT1oO2lmKGQubGVuZ3RoKXtmb3IoOzA8PWEmJmMoYSk7KWEtLTtkbyBnKys7d2hpbGUoZzxkLmxlbmd0aCYmYyhnKSl9cmV0dXJuIGt9O0Jsb2NrbHkuQ29ubmVjdGlvbkRCLnByb3RvdHlwZS5pc0luWVJhbmdlXz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIE1hdGguYWJzKHRoaXMuY29ubmVjdGlvbnNfW2FdLnktYik8PWN9O1xuQmxvY2tseS5Db25uZWN0aW9uREIucHJvdG90eXBlLnNlYXJjaEZvckNsb3Nlc3Q9ZnVuY3Rpb24oYSxiLGMpe2lmKCF0aGlzLmNvbm5lY3Rpb25zXy5sZW5ndGgpcmV0dXJue2Nvbm5lY3Rpb246bnVsbCxyYWRpdXM6Yn07dmFyIGQ9YS55LGU9YS54O2EueD1lK2MueDthLnk9ZCtjLnk7dmFyIGY9dGhpcy5jYWxjdWxhdGVJbmRleEZvcllQb3NfKGEueSk7Yz1udWxsO2Zvcih2YXIgZz1iLGgsaz1mLTE7MDw9ayYmdGhpcy5pc0luWVJhbmdlXyhrLGEueSxiKTspaD10aGlzLmNvbm5lY3Rpb25zX1trXSxhLmlzQ29ubmVjdGlvbkFsbG93ZWQoaCxnKSYmKGM9aCxnPWguZGlzdGFuY2VGcm9tKGEpKSxrLS07Zm9yKDtmPHRoaXMuY29ubmVjdGlvbnNfLmxlbmd0aCYmdGhpcy5pc0luWVJhbmdlXyhmLGEueSxiKTspaD10aGlzLmNvbm5lY3Rpb25zX1tmXSxhLmlzQ29ubmVjdGlvbkFsbG93ZWQoaCxnKSYmKGM9aCxnPWguZGlzdGFuY2VGcm9tKGEpKSxmKys7YS54PWU7YS55PWQ7cmV0dXJue2Nvbm5lY3Rpb246YyxcbnJhZGl1czpnfX07QmxvY2tseS5Db25uZWN0aW9uREIuaW5pdD1mdW5jdGlvbigpe3ZhciBhPVtdO2FbQmxvY2tseS5JTlBVVF9WQUxVRV09bmV3IEJsb2NrbHkuQ29ubmVjdGlvbkRCO2FbQmxvY2tseS5PVVRQVVRfVkFMVUVdPW5ldyBCbG9ja2x5LkNvbm5lY3Rpb25EQjthW0Jsb2NrbHkuTkVYVF9TVEFURU1FTlRdPW5ldyBCbG9ja2x5LkNvbm5lY3Rpb25EQjthW0Jsb2NrbHkuUFJFVklPVVNfU1RBVEVNRU5UXT1uZXcgQmxvY2tseS5Db25uZWN0aW9uREI7cmV0dXJuIGF9O0Jsb2NrbHkuTWFya2VyTWFuYWdlcj1mdW5jdGlvbihhKXt0aGlzLmN1cnNvclN2Z189dGhpcy5jdXJzb3JfPW51bGw7dGhpcy5tYXJrZXJzXz17fTt0aGlzLndvcmtzcGFjZV89YX07QmxvY2tseS5NYXJrZXJNYW5hZ2VyLnByb3RvdHlwZS5yZWdpc3Rlck1hcmtlcj1mdW5jdGlvbihhLGIpe3RoaXMubWFya2Vyc19bYV0mJnRoaXMudW5yZWdpc3Rlck1hcmtlcihhKTtiLnNldERyYXdlcih0aGlzLndvcmtzcGFjZV8uZ2V0UmVuZGVyZXIoKS5tYWtlTWFya2VyRHJhd2VyKHRoaXMud29ya3NwYWNlXyxiKSk7dGhpcy5zZXRNYXJrZXJTdmcoYi5nZXREcmF3ZXIoKS5jcmVhdGVEb20oKSk7dGhpcy5tYXJrZXJzX1thXT1ifTtcbkJsb2NrbHkuTWFya2VyTWFuYWdlci5wcm90b3R5cGUudW5yZWdpc3Rlck1hcmtlcj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLm1hcmtlcnNfW2FdO2lmKGIpYi5kaXNwb3NlKCksZGVsZXRlIHRoaXMubWFya2Vyc19bYV07ZWxzZSB0aHJvdyBFcnJvcihcIk1hcmtlciB3aXRoIGlkIFwiK2ErXCIgZG9lcyBub3QgZXhpc3QuIENhbiBvbmx5IHVucmVnaXN0ZXJtYXJrZXJzIHRoYXQgZXhpc3QuXCIpO307QmxvY2tseS5NYXJrZXJNYW5hZ2VyLnByb3RvdHlwZS5nZXRDdXJzb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jdXJzb3JffTtCbG9ja2x5Lk1hcmtlck1hbmFnZXIucHJvdG90eXBlLmdldE1hcmtlcj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXJrZXJzX1thXX07XG5CbG9ja2x5Lk1hcmtlck1hbmFnZXIucHJvdG90eXBlLnNldEN1cnNvcj1mdW5jdGlvbihhKXt0aGlzLmN1cnNvcl8mJnRoaXMuY3Vyc29yXy5nZXREcmF3ZXIoKSYmdGhpcy5jdXJzb3JfLmdldERyYXdlcigpLmRpc3Bvc2UoKTtpZih0aGlzLmN1cnNvcl89YSlhPXRoaXMud29ya3NwYWNlXy5nZXRSZW5kZXJlcigpLm1ha2VNYXJrZXJEcmF3ZXIodGhpcy53b3Jrc3BhY2VfLHRoaXMuY3Vyc29yXyksdGhpcy5jdXJzb3JfLnNldERyYXdlcihhKSx0aGlzLnNldEN1cnNvclN2Zyh0aGlzLmN1cnNvcl8uZ2V0RHJhd2VyKCkuY3JlYXRlRG9tKCkpfTtCbG9ja2x5Lk1hcmtlck1hbmFnZXIucHJvdG90eXBlLnNldEN1cnNvclN2Zz1mdW5jdGlvbihhKXthPyh0aGlzLndvcmtzcGFjZV8uZ2V0QmxvY2tDYW52YXMoKS5hcHBlbmRDaGlsZChhKSx0aGlzLmN1cnNvclN2Z189YSk6dGhpcy5jdXJzb3JTdmdfPW51bGx9O1xuQmxvY2tseS5NYXJrZXJNYW5hZ2VyLnByb3RvdHlwZS5zZXRNYXJrZXJTdmc9ZnVuY3Rpb24oYSl7YT90aGlzLndvcmtzcGFjZV8uZ2V0QmxvY2tDYW52YXMoKSYmKHRoaXMuY3Vyc29yU3ZnXz90aGlzLndvcmtzcGFjZV8uZ2V0QmxvY2tDYW52YXMoKS5pbnNlcnRCZWZvcmUoYSx0aGlzLmN1cnNvclN2Z18pOnRoaXMud29ya3NwYWNlXy5nZXRCbG9ja0NhbnZhcygpLmFwcGVuZENoaWxkKGEpKTp0aGlzLm1hcmtlclN2Z189bnVsbH07QmxvY2tseS5NYXJrZXJNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVNYXJrZXJzPWZ1bmN0aW9uKCl7dGhpcy53b3Jrc3BhY2VfLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGUmJnRoaXMuY3Vyc29yU3ZnXyYmdGhpcy53b3Jrc3BhY2VfLmdldEN1cnNvcigpLmRyYXcoKX07XG5CbG9ja2x5Lk1hcmtlck1hbmFnZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXtmb3IodmFyIGE9T2JqZWN0LmtleXModGhpcy5tYXJrZXJzXyksYj0wLGM7Yz1hW2JdO2IrKyl0aGlzLnVucmVnaXN0ZXJNYXJrZXIoYyk7dGhpcy5tYXJrZXJzXz1udWxsO3RoaXMuY3Vyc29yXy5kaXNwb3NlKCk7dGhpcy5jdXJzb3JfPW51bGx9O0Jsb2NrbHkuVGhlbWVNYW5hZ2VyPWZ1bmN0aW9uKGEsYil7dGhpcy53b3Jrc3BhY2VfPWE7dGhpcy50aGVtZV89Yjt0aGlzLnN1YnNjcmliZWRXb3Jrc3BhY2VzXz1bXTt0aGlzLmNvbXBvbmVudERCXz1PYmplY3QuY3JlYXRlKG51bGwpfTtCbG9ja2x5LlRoZW1lTWFuYWdlci5wcm90b3R5cGUuZ2V0VGhlbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aGVtZV99O1xuQmxvY2tseS5UaGVtZU1hbmFnZXIucHJvdG90eXBlLnNldFRoZW1lPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudGhlbWVfO3RoaXMudGhlbWVfPWE7aWYoYT10aGlzLndvcmtzcGFjZV8uZ2V0SW5qZWN0aW9uRGl2KCkpYiYmQmxvY2tseS51dGlscy5kb20ucmVtb3ZlQ2xhc3MoYSxiLmdldENsYXNzTmFtZSgpKSxCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyhhLHRoaXMudGhlbWVfLmdldENsYXNzTmFtZSgpKTtmb3IoYj0wO2E9dGhpcy5zdWJzY3JpYmVkV29ya3NwYWNlc19bYl07YisrKWEucmVmcmVzaFRoZW1lKCk7Yj0wO2E9T2JqZWN0LmtleXModGhpcy5jb21wb25lbnREQl8pO2Zvcih2YXIgYztjPWFbYl07YisrKWZvcih2YXIgZD0wLGU7ZT10aGlzLmNvbXBvbmVudERCX1tjXVtkXTtkKyspe3ZhciBmPWUuZWxlbWVudDtlPWUucHJvcGVydHlOYW1lO3ZhciBnPXRoaXMudGhlbWVfJiZ0aGlzLnRoZW1lXy5nZXRDb21wb25lbnRTdHlsZShjKTtmLnN0eWxlW2VdPWd8fFwiXCJ9QmxvY2tseS5oaWRlQ2hhZmYoKX07XG5CbG9ja2x5LlRoZW1lTWFuYWdlci5wcm90b3R5cGUuc3Vic2NyaWJlV29ya3NwYWNlPWZ1bmN0aW9uKGEpe3RoaXMuc3Vic2NyaWJlZFdvcmtzcGFjZXNfLnB1c2goYSl9O0Jsb2NrbHkuVGhlbWVNYW5hZ2VyLnByb3RvdHlwZS51bnN1YnNjcmliZVdvcmtzcGFjZT1mdW5jdGlvbihhKXthPXRoaXMuc3Vic2NyaWJlZFdvcmtzcGFjZXNfLmluZGV4T2YoYSk7aWYoMD5hKXRocm93IEVycm9yKFwiQ2Fubm90IHVuc3Vic2NyaWJlIGEgd29ya3NwYWNlIHRoYXQgaGFzbid0IGJlZW4gc3Vic2NyaWJlZC5cIik7dGhpcy5zdWJzY3JpYmVkV29ya3NwYWNlc18uc3BsaWNlKGEsMSl9O1xuQmxvY2tseS5UaGVtZU1hbmFnZXIucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5jb21wb25lbnREQl9bYl18fCh0aGlzLmNvbXBvbmVudERCX1tiXT1bXSk7dGhpcy5jb21wb25lbnREQl9bYl0ucHVzaCh7ZWxlbWVudDphLHByb3BlcnR5TmFtZTpjfSk7Yj10aGlzLnRoZW1lXyYmdGhpcy50aGVtZV8uZ2V0Q29tcG9uZW50U3R5bGUoYik7YS5zdHlsZVtjXT1ifHxcIlwifTtCbG9ja2x5LlRoZW1lTWFuYWdlci5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oYSl7aWYoYSlmb3IodmFyIGI9T2JqZWN0LmtleXModGhpcy5jb21wb25lbnREQl8pLGM9MCxkO2Q9YltjXTtjKyspe2Zvcih2YXIgZT10aGlzLmNvbXBvbmVudERCX1tkXSxmPWUubGVuZ3RoLTE7MDw9ZjtmLS0pZVtmXS5lbGVtZW50PT09YSYmZS5zcGxpY2UoZiwxKTt0aGlzLmNvbXBvbmVudERCX1tkXS5sZW5ndGh8fGRlbGV0ZSB0aGlzLmNvbXBvbmVudERCX1tkXX19O1xuQmxvY2tseS5UaGVtZU1hbmFnZXIucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmNvbXBvbmVudERCXz10aGlzLnN1YnNjcmliZWRXb3Jrc3BhY2VzXz10aGlzLnRoZW1lXz10aGlzLm93bmVyXz1udWxsfTtCbG9ja2x5LlRvdWNoR2VzdHVyZT1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuVG91Y2hHZXN0dXJlLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIpO3RoaXMuaXNNdWx0aVRvdWNoXz0hMTt0aGlzLmNhY2hlZFBvaW50c189T2JqZWN0LmNyZWF0ZShudWxsKTt0aGlzLnN0YXJ0RGlzdGFuY2VfPXRoaXMucHJldmlvdXNTY2FsZV89MDt0aGlzLmlzUGluY2hab29tRW5hYmxlZF89dGhpcy5vblN0YXJ0V3JhcHBlcl89bnVsbH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5Ub3VjaEdlc3R1cmUsQmxvY2tseS5HZXN0dXJlKTtCbG9ja2x5LlRvdWNoR2VzdHVyZS5aT09NX0lOX01VTFRJUExJRVI9NTtCbG9ja2x5LlRvdWNoR2VzdHVyZS5aT09NX09VVF9NVUxUSVBMSUVSPTY7XG5CbG9ja2x5LlRvdWNoR2VzdHVyZS5wcm90b3R5cGUuZG9TdGFydD1mdW5jdGlvbihhKXt0aGlzLmlzUGluY2hab29tRW5hYmxlZF89dGhpcy5zdGFydFdvcmtzcGFjZV8ub3B0aW9ucy56b29tT3B0aW9ucyYmdGhpcy5zdGFydFdvcmtzcGFjZV8ub3B0aW9ucy56b29tT3B0aW9ucy5waW5jaDtCbG9ja2x5LlRvdWNoR2VzdHVyZS5zdXBlckNsYXNzXy5kb1N0YXJ0LmNhbGwodGhpcyxhKTshdGhpcy5pc0VuZGluZ18mJkJsb2NrbHkuVG91Y2guaXNUb3VjaEV2ZW50KGEpJiZ0aGlzLmhhbmRsZVRvdWNoU3RhcnQoYSl9O1xuQmxvY2tseS5Ub3VjaEdlc3R1cmUucHJvdG90eXBlLmJpbmRNb3VzZUV2ZW50cz1mdW5jdGlvbihhKXt0aGlzLm9uU3RhcnRXcmFwcGVyXz1CbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGRvY3VtZW50LFwibW91c2Vkb3duXCIsbnVsbCx0aGlzLmhhbmRsZVN0YXJ0LmJpbmQodGhpcyksITApO3RoaXMub25Nb3ZlV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhkb2N1bWVudCxcIm1vdXNlbW92ZVwiLG51bGwsdGhpcy5oYW5kbGVNb3ZlLmJpbmQodGhpcyksITApO3RoaXMub25VcFdyYXBwZXJfPUJsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18oZG9jdW1lbnQsXCJtb3VzZXVwXCIsbnVsbCx0aGlzLmhhbmRsZVVwLmJpbmQodGhpcyksITApO2EucHJldmVudERlZmF1bHQoKTthLnN0b3BQcm9wYWdhdGlvbigpfTtcbkJsb2NrbHkuVG91Y2hHZXN0dXJlLnByb3RvdHlwZS5oYW5kbGVTdGFydD1mdW5jdGlvbihhKXshdGhpcy5pc0RyYWdnaW5nKCkmJkJsb2NrbHkuVG91Y2guaXNUb3VjaEV2ZW50KGEpJiYodGhpcy5oYW5kbGVUb3VjaFN0YXJ0KGEpLHRoaXMuaXNNdWx0aVRvdWNoKCkmJkJsb2NrbHkubG9uZ1N0b3BfKCkpfTtCbG9ja2x5LlRvdWNoR2VzdHVyZS5wcm90b3R5cGUuaGFuZGxlTW92ZT1mdW5jdGlvbihhKXt0aGlzLmlzRHJhZ2dpbmcoKT9CbG9ja2x5LlRvdWNoLnNob3VsZEhhbmRsZUV2ZW50KGEpJiZCbG9ja2x5LlRvdWNoR2VzdHVyZS5zdXBlckNsYXNzXy5oYW5kbGVNb3ZlLmNhbGwodGhpcyxhKTp0aGlzLmlzTXVsdGlUb3VjaCgpPyhCbG9ja2x5LlRvdWNoLmlzVG91Y2hFdmVudChhKSYmdGhpcy5oYW5kbGVUb3VjaE1vdmUoYSksQmxvY2tseS5sb25nU3RvcF8oKSk6QmxvY2tseS5Ub3VjaEdlc3R1cmUuc3VwZXJDbGFzc18uaGFuZGxlTW92ZS5jYWxsKHRoaXMsYSl9O1xuQmxvY2tseS5Ub3VjaEdlc3R1cmUucHJvdG90eXBlLmhhbmRsZVVwPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuVG91Y2guaXNUb3VjaEV2ZW50KGEpJiYhdGhpcy5pc0RyYWdnaW5nKCkmJnRoaXMuaGFuZGxlVG91Y2hFbmQoYSk7IXRoaXMuaXNNdWx0aVRvdWNoKCl8fHRoaXMuaXNEcmFnZ2luZygpP0Jsb2NrbHkuVG91Y2guc2hvdWxkSGFuZGxlRXZlbnQoYSkmJkJsb2NrbHkuVG91Y2hHZXN0dXJlLnN1cGVyQ2xhc3NfLmhhbmRsZVVwLmNhbGwodGhpcyxhKTooYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCksdGhpcy5kaXNwb3NlKCkpfTtCbG9ja2x5LlRvdWNoR2VzdHVyZS5wcm90b3R5cGUuaXNNdWx0aVRvdWNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNNdWx0aVRvdWNoX307XG5CbG9ja2x5LlRvdWNoR2VzdHVyZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe0Jsb2NrbHkuVG91Y2hHZXN0dXJlLnN1cGVyQ2xhc3NfLmRpc3Bvc2UuY2FsbCh0aGlzKTt0aGlzLm9uU3RhcnRXcmFwcGVyXyYmQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5vblN0YXJ0V3JhcHBlcl8pfTtCbG9ja2x5LlRvdWNoR2VzdHVyZS5wcm90b3R5cGUuaGFuZGxlVG91Y2hTdGFydD1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LlRvdWNoLmdldFRvdWNoSWRlbnRpZmllckZyb21FdmVudChhKTt0aGlzLmNhY2hlZFBvaW50c19bYl09dGhpcy5nZXRUb3VjaFBvaW50KGEpO2I9T2JqZWN0LmtleXModGhpcy5jYWNoZWRQb2ludHNfKTsyPT1iLmxlbmd0aCYmKHRoaXMuc3RhcnREaXN0YW5jZV89QmxvY2tseS51dGlscy5Db29yZGluYXRlLmRpc3RhbmNlKHRoaXMuY2FjaGVkUG9pbnRzX1tiWzBdXSx0aGlzLmNhY2hlZFBvaW50c19bYlsxXV0pLHRoaXMuaXNNdWx0aVRvdWNoXz0hMCxhLnByZXZlbnREZWZhdWx0KCkpfTtcbkJsb2NrbHkuVG91Y2hHZXN0dXJlLnByb3RvdHlwZS5oYW5kbGVUb3VjaE1vdmU9ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5Ub3VjaC5nZXRUb3VjaElkZW50aWZpZXJGcm9tRXZlbnQoYSk7dGhpcy5jYWNoZWRQb2ludHNfW2JdPXRoaXMuZ2V0VG91Y2hQb2ludChhKTtiPU9iamVjdC5rZXlzKHRoaXMuY2FjaGVkUG9pbnRzXyk7dGhpcy5pc1BpbmNoWm9vbUVuYWJsZWRfJiYyPT09Yi5sZW5ndGg/dGhpcy5oYW5kbGVQaW5jaF8oYSk6QmxvY2tseS5Ub3VjaEdlc3R1cmUuc3VwZXJDbGFzc18uaGFuZGxlTW92ZS5jYWxsKHRoaXMsYSl9O1xuQmxvY2tseS5Ub3VjaEdlc3R1cmUucHJvdG90eXBlLmhhbmRsZVBpbmNoXz1mdW5jdGlvbihhKXt2YXIgYj1PYmplY3Qua2V5cyh0aGlzLmNhY2hlZFBvaW50c18pO2I9QmxvY2tseS51dGlscy5Db29yZGluYXRlLmRpc3RhbmNlKHRoaXMuY2FjaGVkUG9pbnRzX1tiWzBdXSx0aGlzLmNhY2hlZFBvaW50c19bYlsxXV0pL3RoaXMuc3RhcnREaXN0YW5jZV87aWYoMDx0aGlzLnByZXZpb3VzU2NhbGVfJiZJbmZpbml0eT50aGlzLnByZXZpb3VzU2NhbGVfKXt2YXIgYz1iLXRoaXMucHJldmlvdXNTY2FsZV87Yz0wPGM/YypCbG9ja2x5LlRvdWNoR2VzdHVyZS5aT09NX0lOX01VTFRJUExJRVI6YypCbG9ja2x5LlRvdWNoR2VzdHVyZS5aT09NX09VVF9NVUxUSVBMSUVSO3ZhciBkPXRoaXMuc3RhcnRXb3Jrc3BhY2VfLGU9QmxvY2tseS51dGlscy5tb3VzZVRvU3ZnKGEsZC5nZXRQYXJlbnRTdmcoKSxkLmdldEludmVyc2VTY3JlZW5DVE0oKSk7ZC56b29tKGUueCxlLnksYyl9dGhpcy5wcmV2aW91c1NjYWxlXz1cbmI7YS5wcmV2ZW50RGVmYXVsdCgpfTtCbG9ja2x5LlRvdWNoR2VzdHVyZS5wcm90b3R5cGUuaGFuZGxlVG91Y2hFbmQ9ZnVuY3Rpb24oYSl7YT1CbG9ja2x5LlRvdWNoLmdldFRvdWNoSWRlbnRpZmllckZyb21FdmVudChhKTt0aGlzLmNhY2hlZFBvaW50c19bYV0mJmRlbGV0ZSB0aGlzLmNhY2hlZFBvaW50c19bYV07Mj5PYmplY3Qua2V5cyh0aGlzLmNhY2hlZFBvaW50c18pLmxlbmd0aCYmKHRoaXMuY2FjaGVkUG9pbnRzXz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMucHJldmlvdXNTY2FsZV89MCl9O0Jsb2NrbHkuVG91Y2hHZXN0dXJlLnByb3RvdHlwZS5nZXRUb3VjaFBvaW50PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnN0YXJ0V29ya3NwYWNlXz9uZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKGEucGFnZVg/YS5wYWdlWDphLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYLGEucGFnZVk/YS5wYWdlWTphLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZKTpudWxsfTtCbG9ja2x5LldvcmtzcGFjZUF1ZGlvPWZ1bmN0aW9uKGEpe3RoaXMucGFyZW50V29ya3NwYWNlXz1hO3RoaXMuU09VTkRTXz1PYmplY3QuY3JlYXRlKG51bGwpfTtCbG9ja2x5LldvcmtzcGFjZUF1ZGlvLnByb3RvdHlwZS5sYXN0U291bmRfPW51bGw7QmxvY2tseS5Xb3Jrc3BhY2VBdWRpby5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuU09VTkRTXz10aGlzLnBhcmVudFdvcmtzcGFjZV89bnVsbH07XG5CbG9ja2x5LldvcmtzcGFjZUF1ZGlvLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGgpe3RyeXt2YXIgYz1uZXcgQmxvY2tseS51dGlscy5nbG9iYWwuQXVkaW99Y2F0Y2goaCl7cmV0dXJufWZvcih2YXIgZCxlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBmPWFbZV0sZz1mLm1hdGNoKC9cXC4oXFx3KykkLyk7aWYoZyYmYy5jYW5QbGF5VHlwZShcImF1ZGlvL1wiK2dbMV0pKXtkPW5ldyBCbG9ja2x5LnV0aWxzLmdsb2JhbC5BdWRpbyhmKTticmVha319ZCYmZC5wbGF5JiYodGhpcy5TT1VORFNfW2JdPWQpfX07XG5CbG9ja2x5LldvcmtzcGFjZUF1ZGlvLnByb3RvdHlwZS5wcmVsb2FkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuU09VTkRTXyl7dmFyIGI9dGhpcy5TT1VORFNfW2FdO2Iudm9sdW1lPS4wMTt2YXIgYz1iLnBsYXkoKTt2b2lkIDAhPT1jP2MudGhlbihiLnBhdXNlKS5jYXRjaChmdW5jdGlvbigpe30pOmIucGF1c2UoKTtpZihCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5JUEFEfHxCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5JUEhPTkUpYnJlYWt9fTtcbkJsb2NrbHkuV29ya3NwYWNlQXVkaW8ucHJvdG90eXBlLnBsYXk9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLlNPVU5EU19bYV07Yz8oYT1uZXcgRGF0ZSxudWxsIT10aGlzLmxhc3RTb3VuZF8mJmEtdGhpcy5sYXN0U291bmRfPEJsb2NrbHkuU09VTkRfTElNSVR8fCh0aGlzLmxhc3RTb3VuZF89YSxjPUJsb2NrbHkudXRpbHMudXNlckFnZW50LklQQUR8fEJsb2NrbHkudXRpbHMudXNlckFnZW50LkFORFJPSUQ/YzpjLmNsb25lTm9kZSgpLGMudm9sdW1lPXZvaWQgMD09PWI/MTpiLGMucGxheSgpKSk6dGhpcy5wYXJlbnRXb3Jrc3BhY2VfJiZ0aGlzLnBhcmVudFdvcmtzcGFjZV8uZ2V0QXVkaW9NYW5hZ2VyKCkucGxheShhLGIpfTtCbG9ja2x5LldvcmtzcGFjZVN2Zz1mdW5jdGlvbihhLGIsYyl7QmxvY2tseS5Xb3Jrc3BhY2VTdmcuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpO3RoaXMuZ2V0TWV0cmljcz1hLmdldE1ldHJpY3N8fEJsb2NrbHkuV29ya3NwYWNlU3ZnLmdldFRvcExldmVsV29ya3NwYWNlTWV0cmljc187dGhpcy5zZXRNZXRyaWNzPWEuc2V0TWV0cmljc3x8QmxvY2tseS5Xb3Jrc3BhY2VTdmcuc2V0VG9wTGV2ZWxXb3Jrc3BhY2VNZXRyaWNzXzt0aGlzLmNvbm5lY3Rpb25EQkxpc3Q9QmxvY2tseS5Db25uZWN0aW9uREIuaW5pdCgpO2ImJih0aGlzLmJsb2NrRHJhZ1N1cmZhY2VfPWIpO2MmJih0aGlzLndvcmtzcGFjZURyYWdTdXJmYWNlXz1jKTt0aGlzLnVzZVdvcmtzcGFjZURyYWdTdXJmYWNlXz0hIXRoaXMud29ya3NwYWNlRHJhZ1N1cmZhY2VfJiZCbG9ja2x5LnV0aWxzLmlzM2RTdXBwb3J0ZWQoKTt0aGlzLmhpZ2hsaWdodGVkQmxvY2tzXz1bXTt0aGlzLmF1ZGlvTWFuYWdlcl89XG5uZXcgQmxvY2tseS5Xb3Jrc3BhY2VBdWRpbyhhLnBhcmVudFdvcmtzcGFjZSk7dGhpcy5ncmlkXz10aGlzLm9wdGlvbnMuZ3JpZFBhdHRlcm4/bmV3IEJsb2NrbHkuR3JpZChhLmdyaWRQYXR0ZXJuLGEuZ3JpZE9wdGlvbnMpOm51bGw7dGhpcy5tYXJrZXJNYW5hZ2VyXz1uZXcgQmxvY2tseS5NYXJrZXJNYW5hZ2VyKHRoaXMpO3RoaXMudG9vbGJveENhdGVnb3J5Q2FsbGJhY2tzXz17fTt0aGlzLmZseW91dEJ1dHRvbkNhbGxiYWNrc189e307QmxvY2tseS5WYXJpYWJsZXMmJkJsb2NrbHkuVmFyaWFibGVzLmZseW91dENhdGVnb3J5JiZ0aGlzLnJlZ2lzdGVyVG9vbGJveENhdGVnb3J5Q2FsbGJhY2soQmxvY2tseS5WQVJJQUJMRV9DQVRFR09SWV9OQU1FLEJsb2NrbHkuVmFyaWFibGVzLmZseW91dENhdGVnb3J5KTtCbG9ja2x5LlZhcmlhYmxlc0R5bmFtaWMmJkJsb2NrbHkuVmFyaWFibGVzRHluYW1pYy5mbHlvdXRDYXRlZ29yeSYmdGhpcy5yZWdpc3RlclRvb2xib3hDYXRlZ29yeUNhbGxiYWNrKEJsb2NrbHkuVkFSSUFCTEVfRFlOQU1JQ19DQVRFR09SWV9OQU1FLFxuQmxvY2tseS5WYXJpYWJsZXNEeW5hbWljLmZseW91dENhdGVnb3J5KTtCbG9ja2x5LlByb2NlZHVyZXMmJkJsb2NrbHkuUHJvY2VkdXJlcy5mbHlvdXRDYXRlZ29yeSYmKHRoaXMucmVnaXN0ZXJUb29sYm94Q2F0ZWdvcnlDYWxsYmFjayhCbG9ja2x5LlBST0NFRFVSRV9DQVRFR09SWV9OQU1FLEJsb2NrbHkuUHJvY2VkdXJlcy5mbHlvdXRDYXRlZ29yeSksdGhpcy5hZGRDaGFuZ2VMaXN0ZW5lcihCbG9ja2x5LlByb2NlZHVyZXMubXV0YXRvck9wZW5MaXN0ZW5lcikpO3RoaXMudGhlbWVNYW5hZ2VyXz10aGlzLm9wdGlvbnMucGFyZW50V29ya3NwYWNlP3RoaXMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2UuZ2V0VGhlbWVNYW5hZ2VyKCk6bmV3IEJsb2NrbHkuVGhlbWVNYW5hZ2VyKHRoaXMsdGhpcy5vcHRpb25zLnRoZW1lfHxCbG9ja2x5LlRoZW1lcy5DbGFzc2ljKTt0aGlzLnRoZW1lTWFuYWdlcl8uc3Vic2NyaWJlV29ya3NwYWNlKHRoaXMpO3RoaXMucmVuZGVyZXJfPUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuaW5pdCh0aGlzLm9wdGlvbnMucmVuZGVyZXJ8fFxuXCJnZXJhc1wiLHRoaXMuZ2V0VGhlbWUoKSx0aGlzLm9wdGlvbnMucmVuZGVyZXJPdmVycmlkZXMpO3RoaXMuY2FjaGVkUGFyZW50U3ZnXz1udWxsO3RoaXMua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZT0hMX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5Xb3Jrc3BhY2VTdmcsQmxvY2tseS5Xb3Jrc3BhY2UpO0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5yZXNpemVIYW5kbGVyV3JhcHBlcl89bnVsbDtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUucmVuZGVyZWQ9ITA7QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmlzVmlzaWJsZV89ITA7QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmlzRmx5b3V0PSExO0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5pc011dGF0b3I9ITE7QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnJlc2l6ZXNFbmFibGVkXz0hMDtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5zY3JvbGxYPTA7QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnNjcm9sbFk9MDtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuc3RhcnRTY3JvbGxYPTA7QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnN0YXJ0U2Nyb2xsWT0wO0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5kcmFnRGVsdGFYWV89bnVsbDtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuc2NhbGU9MTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUudHJhc2hjYW49bnVsbDtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuc2Nyb2xsYmFyPW51bGw7QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmZseW91dF89bnVsbDtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUudG9vbGJveF89bnVsbDtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuY3VycmVudEdlc3R1cmVfPW51bGw7XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuYmxvY2tEcmFnU3VyZmFjZV89bnVsbDtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUud29ya3NwYWNlRHJhZ1N1cmZhY2VfPW51bGw7QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnVzZVdvcmtzcGFjZURyYWdTdXJmYWNlXz0hMTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuaXNEcmFnU3VyZmFjZUFjdGl2ZV89ITE7QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmluamVjdGlvbkRpdl89bnVsbDtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUubGFzdFJlY29yZGVkUGFnZVNjcm9sbF89bnVsbDtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUudGFyZ2V0V29ya3NwYWNlPW51bGw7QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmludmVyc2VTY3JlZW5DVE1fPW51bGw7QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmludmVyc2VTY3JlZW5DVE1EaXJ0eV89ITA7XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuZ2V0TWFya2VyTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcmtlck1hbmFnZXJffTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuc2V0Q3Vyc29yU3ZnPWZ1bmN0aW9uKGEpe3RoaXMubWFya2VyTWFuYWdlcl8uc2V0Q3Vyc29yU3ZnKGEpfTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuc2V0TWFya2VyU3ZnPWZ1bmN0aW9uKGEpe3RoaXMubWFya2VyTWFuYWdlcl8uc2V0TWFya2VyU3ZnKGEpfTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuZ2V0TWFya2VyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcmtlck1hbmFnZXJfP3RoaXMubWFya2VyTWFuYWdlcl8uZ2V0TWFya2VyKGEpOm51bGx9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmdldEN1cnNvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcmtlck1hbmFnZXJfP3RoaXMubWFya2VyTWFuYWdlcl8uZ2V0Q3Vyc29yKCk6bnVsbH07QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmdldFJlbmRlcmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXJffTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuZ2V0VGhlbWVNYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhlbWVNYW5hZ2VyX307QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmdldFRoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGhlbWVNYW5hZ2VyXy5nZXRUaGVtZSgpfTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuc2V0VGhlbWU9ZnVuY3Rpb24oYSl7YXx8KGE9QmxvY2tseS5UaGVtZXMuQ2xhc3NpYyk7dGhpcy50aGVtZU1hbmFnZXJfLnNldFRoZW1lKGEpfTtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5yZWZyZXNoVGhlbWU9ZnVuY3Rpb24oKXt0aGlzLnN2Z0dyb3VwXyYmdGhpcy5yZW5kZXJlcl8ucmVmcmVzaERvbSh0aGlzLnN2Z0dyb3VwXyx0aGlzLmdldFRoZW1lKCkpO3RoaXMudXBkYXRlQmxvY2tTdHlsZXNfKHRoaXMuZ2V0QWxsQmxvY2tzKCExKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMCE9PWEuZ2V0U3R5bGVOYW1lKCl9KSk7dGhpcy5yZWZyZXNoVG9vbGJveFNlbGVjdGlvbigpO3RoaXMudG9vbGJveF8mJnRoaXMudG9vbGJveF8udXBkYXRlQ29sb3VyRnJvbVRoZW1lKCk7dGhpcy5pc1Zpc2libGUoKSYmdGhpcy5zZXRWaXNpYmxlKCEwKTt2YXIgYT1uZXcgQmxvY2tseS5FdmVudHMuVWkobnVsbCxcInRoZW1lXCIsbnVsbCxudWxsKTthLndvcmtzcGFjZUlkPXRoaXMuaWQ7QmxvY2tseS5FdmVudHMuZmlyZShhKX07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUudXBkYXRlQmxvY2tTdHlsZXNfPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM7Yz1hW2JdO2IrKyl7dmFyIGQ9Yy5nZXRTdHlsZU5hbWUoKTtkJiYoYy5zZXRTdHlsZShkKSxjLm11dGF0b3ImJmMubXV0YXRvci51cGRhdGVCbG9ja1N0eWxlKCkpfX07QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmdldEludmVyc2VTY3JlZW5DVE09ZnVuY3Rpb24oKXtpZih0aGlzLmludmVyc2VTY3JlZW5DVE1EaXJ0eV8pe3ZhciBhPXRoaXMuZ2V0UGFyZW50U3ZnKCkuZ2V0U2NyZWVuQ1RNKCk7YSYmKHRoaXMuaW52ZXJzZVNjcmVlbkNUTV89YS5pbnZlcnNlKCksdGhpcy5pbnZlcnNlU2NyZWVuQ1RNRGlydHlfPSExKX1yZXR1cm4gdGhpcy5pbnZlcnNlU2NyZWVuQ1RNX307XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUudXBkYXRlSW52ZXJzZVNjcmVlbkNUTT1mdW5jdGlvbigpe3RoaXMuaW52ZXJzZVNjcmVlbkNUTURpcnR5Xz0hMH07QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzVmlzaWJsZV99O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmdldFN2Z1hZPWZ1bmN0aW9uKGEpe3ZhciBiPTAsYz0wLGQ9MTtpZihCbG9ja2x5LnV0aWxzLmRvbS5jb250YWluc05vZGUodGhpcy5nZXRDYW52YXMoKSxhKXx8QmxvY2tseS51dGlscy5kb20uY29udGFpbnNOb2RlKHRoaXMuZ2V0QnViYmxlQ2FudmFzKCksYSkpZD10aGlzLnNjYWxlO2Rve3ZhciBlPUJsb2NrbHkudXRpbHMuZ2V0UmVsYXRpdmVYWShhKTtpZihhPT10aGlzLmdldENhbnZhcygpfHxhPT10aGlzLmdldEJ1YmJsZUNhbnZhcygpKWQ9MTtiKz1lLngqZDtjKz1lLnkqZDthPWEucGFyZW50Tm9kZX13aGlsZShhJiZhIT10aGlzLmdldFBhcmVudFN2ZygpKTtyZXR1cm4gbmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShiLGMpfTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuZ2V0T3JpZ2luT2Zmc2V0SW5QaXhlbHM9ZnVuY3Rpb24oKXtyZXR1cm4gQmxvY2tseS51dGlscy5nZXRJbmplY3Rpb25EaXZYWV8odGhpcy5nZXRDYW52YXMoKSl9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmdldEluamVjdGlvbkRpdj1mdW5jdGlvbigpe2lmKCF0aGlzLmluamVjdGlvbkRpdl8pZm9yKHZhciBhPXRoaXMuc3ZnR3JvdXBfO2E7KXtpZigtMSE9KFwiIFwiKyhhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikuaW5kZXhPZihcIiBpbmplY3Rpb25EaXYgXCIpKXt0aGlzLmluamVjdGlvbkRpdl89YTticmVha31hPWEucGFyZW50Tm9kZX1yZXR1cm4gdGhpcy5pbmplY3Rpb25EaXZffTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuZ2V0QmxvY2tDYW52YXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdmdCbG9ja0NhbnZhc199O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5zZXRSZXNpemVIYW5kbGVyV3JhcHBlcj1mdW5jdGlvbihhKXt0aGlzLnJlc2l6ZUhhbmRsZXJXcmFwcGVyXz1hfTtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5jcmVhdGVEb209ZnVuY3Rpb24oYSl7dGhpcy5zdmdHcm91cF89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImdcIix7XCJjbGFzc1wiOlwiYmxvY2tseVdvcmtzcGFjZVwifSxudWxsKTthJiYodGhpcy5zdmdCYWNrZ3JvdW5kXz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicmVjdFwiLHtoZWlnaHQ6XCIxMDAlXCIsd2lkdGg6XCIxMDAlXCIsXCJjbGFzc1wiOmF9LHRoaXMuc3ZnR3JvdXBfKSxcImJsb2NrbHlNYWluQmFja2dyb3VuZFwiPT1hJiZ0aGlzLmdyaWRfP3RoaXMuc3ZnQmFja2dyb3VuZF8uc3R5bGUuZmlsbD1cInVybCgjXCIrdGhpcy5ncmlkXy5nZXRQYXR0ZXJuSWQoKStcIilcIjp0aGlzLnRoZW1lTWFuYWdlcl8uc3Vic2NyaWJlKHRoaXMuc3ZnQmFja2dyb3VuZF8sXCJ3b3Jrc3BhY2VCYWNrZ3JvdW5kQ29sb3VyXCIsXCJmaWxsXCIpKTt0aGlzLnN2Z0Jsb2NrQ2FudmFzXz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiZ1wiLFxue1wiY2xhc3NcIjpcImJsb2NrbHlCbG9ja0NhbnZhc1wifSx0aGlzLnN2Z0dyb3VwXyk7dGhpcy5zdmdCdWJibGVDYW52YXNfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJnXCIse1wiY2xhc3NcIjpcImJsb2NrbHlCdWJibGVDYW52YXNcIn0sdGhpcy5zdmdHcm91cF8pO3RoaXMuaXNGbHlvdXR8fChCbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKHRoaXMuc3ZnR3JvdXBfLFwibW91c2Vkb3duXCIsdGhpcyx0aGlzLm9uTW91c2VEb3duXywhMSwhMCksQmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyh0aGlzLnN2Z0dyb3VwXyxcIndoZWVsXCIsdGhpcyx0aGlzLm9uTW91c2VXaGVlbF8pKTtpZih0aGlzLm9wdGlvbnMuaGFzQ2F0ZWdvcmllcyl7aWYoIUJsb2NrbHkuVG9vbGJveCl0aHJvdyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZSBmb3IgQmxvY2tseS5Ub29sYm94XCIpO3RoaXMudG9vbGJveF89bmV3IEJsb2NrbHkuVG9vbGJveCh0aGlzKX10aGlzLmdyaWRfJiZ0aGlzLmdyaWRfLnVwZGF0ZSh0aGlzLnNjYWxlKTtcbnRoaXMucmVjb3JkRGVsZXRlQXJlYXMoKTt0aGlzLm1hcmtlck1hbmFnZXJfLnNldEN1cnNvcihuZXcgQmxvY2tseS5DdXJzb3IpO3RoaXMubWFya2VyTWFuYWdlcl8ucmVnaXN0ZXJNYXJrZXIoQmxvY2tseS5uYXZpZ2F0aW9uLk1BUktFUl9OQU1FLG5ldyBCbG9ja2x5Lk1hcmtlcik7dGhpcy5yZW5kZXJlcl8uY3JlYXRlRG9tKHRoaXMuc3ZnR3JvdXBfLHRoaXMuZ2V0VGhlbWUoKSk7cmV0dXJuIHRoaXMuc3ZnR3JvdXBffTtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJlZD0hMTt0aGlzLmN1cnJlbnRHZXN0dXJlXyYmdGhpcy5jdXJyZW50R2VzdHVyZV8uY2FuY2VsKCk7dGhpcy5zdmdHcm91cF8mJihCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVOb2RlKHRoaXMuc3ZnR3JvdXBfKSx0aGlzLnN2Z0dyb3VwXz1udWxsKTt0aGlzLnN2Z0J1YmJsZUNhbnZhc189dGhpcy5zdmdCbG9ja0NhbnZhc189bnVsbDt0aGlzLnRvb2xib3hfJiYodGhpcy50b29sYm94Xy5kaXNwb3NlKCksdGhpcy50b29sYm94Xz1udWxsKTt0aGlzLmZseW91dF8mJih0aGlzLmZseW91dF8uZGlzcG9zZSgpLHRoaXMuZmx5b3V0Xz1udWxsKTt0aGlzLnRyYXNoY2FuJiYodGhpcy50cmFzaGNhbi5kaXNwb3NlKCksdGhpcy50cmFzaGNhbj1udWxsKTt0aGlzLnNjcm9sbGJhciYmKHRoaXMuc2Nyb2xsYmFyLmRpc3Bvc2UoKSx0aGlzLnNjcm9sbGJhcj1udWxsKTt0aGlzLnpvb21Db250cm9sc18mJlxuKHRoaXMuem9vbUNvbnRyb2xzXy5kaXNwb3NlKCksdGhpcy56b29tQ29udHJvbHNfPW51bGwpO3RoaXMuYXVkaW9NYW5hZ2VyXyYmKHRoaXMuYXVkaW9NYW5hZ2VyXy5kaXNwb3NlKCksdGhpcy5hdWRpb01hbmFnZXJfPW51bGwpO3RoaXMuZ3JpZF8mJih0aGlzLmdyaWRfLmRpc3Bvc2UoKSx0aGlzLmdyaWRfPW51bGwpO3RoaXMucmVuZGVyZXJfLmRpc3Bvc2UoKTt0aGlzLnRoZW1lTWFuYWdlcl8mJih0aGlzLnRoZW1lTWFuYWdlcl8udW5zdWJzY3JpYmVXb3Jrc3BhY2UodGhpcyksdGhpcy50aGVtZU1hbmFnZXJfLnVuc3Vic2NyaWJlKHRoaXMuc3ZnQmFja2dyb3VuZF8pLHRoaXMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2V8fCh0aGlzLnRoZW1lTWFuYWdlcl8uZGlzcG9zZSgpLHRoaXMudGhlbWVNYW5hZ2VyXz1udWxsKSk7dGhpcy5tYXJrZXJNYW5hZ2VyXyYmKHRoaXMubWFya2VyTWFuYWdlcl8uZGlzcG9zZSgpLHRoaXMubWFya2VyTWFuYWdlcl89bnVsbCk7QmxvY2tseS5Xb3Jrc3BhY2VTdmcuc3VwZXJDbGFzc18uZGlzcG9zZS5jYWxsKHRoaXMpO1xudGhpcy5mbHlvdXRCdXR0b25DYWxsYmFja3NfPXRoaXMudG9vbGJveENhdGVnb3J5Q2FsbGJhY2tzXz10aGlzLmNvbm5lY3Rpb25EQkxpc3Q9bnVsbDtpZighdGhpcy5vcHRpb25zLnBhcmVudFdvcmtzcGFjZSl7dmFyIGE9dGhpcy5nZXRQYXJlbnRTdmcoKS5wYXJlbnROb2RlO2EmJkJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZU5vZGUoYSl9dGhpcy5yZXNpemVIYW5kbGVyV3JhcHBlcl8mJihCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLnJlc2l6ZUhhbmRsZXJXcmFwcGVyXyksdGhpcy5yZXNpemVIYW5kbGVyV3JhcHBlcl89bnVsbCl9O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5uZXdCbG9jaz1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgQmxvY2tseS5CbG9ja1N2Zyh0aGlzLGEsYil9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmFkZFRyYXNoY2FuPWZ1bmN0aW9uKCl7aWYoIUJsb2NrbHkuVHJhc2hjYW4pdGhyb3cgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmUgZm9yIEJsb2NrbHkuVHJhc2hjYW5cIik7dGhpcy50cmFzaGNhbj1uZXcgQmxvY2tseS5UcmFzaGNhbih0aGlzKTt2YXIgYT10aGlzLnRyYXNoY2FuLmNyZWF0ZURvbSgpO3RoaXMuc3ZnR3JvdXBfLmluc2VydEJlZm9yZShhLHRoaXMuc3ZnQmxvY2tDYW52YXNfKX07QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmFkZFpvb21Db250cm9scz1mdW5jdGlvbigpe2lmKCFCbG9ja2x5Llpvb21Db250cm9scyl0aHJvdyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZSBmb3IgQmxvY2tseS5ab29tQ29udHJvbHNcIik7dGhpcy56b29tQ29udHJvbHNfPW5ldyBCbG9ja2x5Llpvb21Db250cm9scyh0aGlzKTt2YXIgYT10aGlzLnpvb21Db250cm9sc18uY3JlYXRlRG9tKCk7dGhpcy5zdmdHcm91cF8uYXBwZW5kQ2hpbGQoYSl9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmFkZEZseW91dD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgQmxvY2tseS5PcHRpb25zKHtwYXJlbnRXb3Jrc3BhY2U6dGhpcyxydGw6dGhpcy5SVEwsb25lQmFzZWRJbmRleDp0aGlzLm9wdGlvbnMub25lQmFzZWRJbmRleCxob3Jpem9udGFsTGF5b3V0OnRoaXMuaG9yaXpvbnRhbExheW91dCxyZW5kZXJlcjp0aGlzLm9wdGlvbnMucmVuZGVyZXIscmVuZGVyZXJPdmVycmlkZXM6dGhpcy5vcHRpb25zLnJlbmRlcmVyT3ZlcnJpZGVzfSk7Yi50b29sYm94UG9zaXRpb249dGhpcy5vcHRpb25zLnRvb2xib3hQb3NpdGlvbjtpZih0aGlzLmhvcml6b250YWxMYXlvdXQpe2lmKCFCbG9ja2x5Lkhvcml6b250YWxGbHlvdXQpdGhyb3cgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmUgZm9yIEJsb2NrbHkuSG9yaXpvbnRhbEZseW91dFwiKTt0aGlzLmZseW91dF89bmV3IEJsb2NrbHkuSG9yaXpvbnRhbEZseW91dChiKX1lbHNle2lmKCFCbG9ja2x5LlZlcnRpY2FsRmx5b3V0KXRocm93IEVycm9yKFwiTWlzc2luZyByZXF1aXJlIGZvciBCbG9ja2x5LlZlcnRpY2FsRmx5b3V0XCIpO1xudGhpcy5mbHlvdXRfPW5ldyBCbG9ja2x5LlZlcnRpY2FsRmx5b3V0KGIpfXRoaXMuZmx5b3V0Xy5hdXRvQ2xvc2U9ITE7dGhpcy5mbHlvdXRfLmdldFdvcmtzcGFjZSgpLnNldFZpc2libGUoITApO3JldHVybiB0aGlzLmZseW91dF8uY3JlYXRlRG9tKGEpfTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuZ2V0Rmx5b3V0PWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZseW91dF98fGE/dGhpcy5mbHlvdXRfOnRoaXMudG9vbGJveF8/dGhpcy50b29sYm94Xy5nZXRGbHlvdXQoKTpudWxsfTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuZ2V0VG9vbGJveD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRvb2xib3hffTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUudXBkYXRlU2NyZWVuQ2FsY3VsYXRpb25zXz1mdW5jdGlvbigpe3RoaXMudXBkYXRlSW52ZXJzZVNjcmVlbkNUTSgpO3RoaXMucmVjb3JkRGVsZXRlQXJlYXMoKX07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUucmVzaXplQ29udGVudHM9ZnVuY3Rpb24oKXt0aGlzLnJlc2l6ZXNFbmFibGVkXyYmdGhpcy5yZW5kZXJlZCYmKHRoaXMuc2Nyb2xsYmFyJiZ0aGlzLnNjcm9sbGJhci5yZXNpemUoKSx0aGlzLnVwZGF0ZUludmVyc2VTY3JlZW5DVE0oKSl9O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLnRvb2xib3hfJiZ0aGlzLnRvb2xib3hfLnBvc2l0aW9uKCk7dGhpcy5mbHlvdXRfJiZ0aGlzLmZseW91dF8ucG9zaXRpb24oKTt0aGlzLnRyYXNoY2FuJiZ0aGlzLnRyYXNoY2FuLnBvc2l0aW9uKCk7dGhpcy56b29tQ29udHJvbHNfJiZ0aGlzLnpvb21Db250cm9sc18ucG9zaXRpb24oKTt0aGlzLnNjcm9sbGJhciYmdGhpcy5zY3JvbGxiYXIucmVzaXplKCk7dGhpcy51cGRhdGVTY3JlZW5DYWxjdWxhdGlvbnNfKCl9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnVwZGF0ZVNjcmVlbkNhbGN1bGF0aW9uc0lmU2Nyb2xsZWQ9ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5LnV0aWxzLmdldERvY3VtZW50U2Nyb2xsKCk7QmxvY2tseS51dGlscy5Db29yZGluYXRlLmVxdWFscyh0aGlzLmxhc3RSZWNvcmRlZFBhZ2VTY3JvbGxfLGEpfHwodGhpcy5sYXN0UmVjb3JkZWRQYWdlU2Nyb2xsXz1hLHRoaXMudXBkYXRlU2NyZWVuQ2FsY3VsYXRpb25zXygpKX07QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmdldENhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN2Z0Jsb2NrQ2FudmFzX307QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmdldEJ1YmJsZUNhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN2Z0J1YmJsZUNhbnZhc199O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmdldFBhcmVudFN2Zz1mdW5jdGlvbigpe2lmKCF0aGlzLmNhY2hlZFBhcmVudFN2Z18pZm9yKHZhciBhPXRoaXMuc3ZnR3JvdXBfO2E7KXtpZihcInN2Z1wiPT1hLnRhZ05hbWUpe3RoaXMuY2FjaGVkUGFyZW50U3ZnXz1hO2JyZWFrfWE9YS5wYXJlbnROb2RlfXJldHVybiB0aGlzLmNhY2hlZFBhcmVudFN2Z199O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnRyYW5zbGF0ZT1mdW5jdGlvbihhLGIpe2lmKHRoaXMudXNlV29ya3NwYWNlRHJhZ1N1cmZhY2VfJiZ0aGlzLmlzRHJhZ1N1cmZhY2VBY3RpdmVfKXRoaXMud29ya3NwYWNlRHJhZ1N1cmZhY2VfLnRyYW5zbGF0ZVN1cmZhY2UoYSxiKTtlbHNle3ZhciBjPVwidHJhbnNsYXRlKFwiK2ErXCIsXCIrYitcIikgc2NhbGUoXCIrdGhpcy5zY2FsZStcIilcIjt0aGlzLnN2Z0Jsb2NrQ2FudmFzXy5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixjKTt0aGlzLnN2Z0J1YmJsZUNhbnZhc18uc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsYyl9dGhpcy5ibG9ja0RyYWdTdXJmYWNlXyYmdGhpcy5ibG9ja0RyYWdTdXJmYWNlXy50cmFuc2xhdGVBbmRTY2FsZUdyb3VwKGEsYix0aGlzLnNjYWxlKTt0aGlzLmdyaWRfJiZ0aGlzLmdyaWRfLm1vdmVUbyhhLGIpfTtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5yZXNldERyYWdTdXJmYWNlPWZ1bmN0aW9uKCl7aWYodGhpcy51c2VXb3Jrc3BhY2VEcmFnU3VyZmFjZV8pe3RoaXMuaXNEcmFnU3VyZmFjZUFjdGl2ZV89ITE7dmFyIGE9dGhpcy53b3Jrc3BhY2VEcmFnU3VyZmFjZV8uZ2V0U3VyZmFjZVRyYW5zbGF0aW9uKCk7dGhpcy53b3Jrc3BhY2VEcmFnU3VyZmFjZV8uY2xlYXJBbmRIaWRlKHRoaXMuc3ZnR3JvdXBfKTthPVwidHJhbnNsYXRlKFwiK2EueCtcIixcIithLnkrXCIpIHNjYWxlKFwiK3RoaXMuc2NhbGUrXCIpXCI7dGhpcy5zdmdCbG9ja0NhbnZhc18uc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsYSk7dGhpcy5zdmdCdWJibGVDYW52YXNfLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLGEpfX07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuc2V0dXBEcmFnU3VyZmFjZT1mdW5jdGlvbigpe2lmKHRoaXMudXNlV29ya3NwYWNlRHJhZ1N1cmZhY2VfJiYhdGhpcy5pc0RyYWdTdXJmYWNlQWN0aXZlXyl7dGhpcy5pc0RyYWdTdXJmYWNlQWN0aXZlXz0hMDt2YXIgYT10aGlzLnN2Z0Jsb2NrQ2FudmFzXy5wcmV2aW91c1NpYmxpbmcsYj1wYXJzZUludCh0aGlzLmdldFBhcmVudFN2ZygpLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLDEwKSxjPXBhcnNlSW50KHRoaXMuZ2V0UGFyZW50U3ZnKCkuZ2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIpLDEwKSxkPUJsb2NrbHkudXRpbHMuZ2V0UmVsYXRpdmVYWSh0aGlzLmdldENhbnZhcygpKTt0aGlzLndvcmtzcGFjZURyYWdTdXJmYWNlXy5zZXRDb250ZW50c0FuZFNob3codGhpcy5nZXRDYW52YXMoKSx0aGlzLmdldEJ1YmJsZUNhbnZhcygpLGEsYixjLHRoaXMuc2NhbGUpO3RoaXMud29ya3NwYWNlRHJhZ1N1cmZhY2VfLnRyYW5zbGF0ZVN1cmZhY2UoZC54LFxuZC55KX19O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5nZXRCbG9ja0RyYWdTdXJmYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tEcmFnU3VyZmFjZV99O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0TWV0cmljcygpO3JldHVybiBhP2Eudmlld1dpZHRoL3RoaXMuc2NhbGU6MH07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbihhKXt0aGlzLmlzVmlzaWJsZV89YTtpZih0aGlzLnN2Z0dyb3VwXylpZih0aGlzLnNjcm9sbGJhciYmdGhpcy5zY3JvbGxiYXIuc2V0Q29udGFpbmVyVmlzaWJsZShhKSx0aGlzLmdldEZseW91dCgpJiZ0aGlzLmdldEZseW91dCgpLnNldENvbnRhaW5lclZpc2libGUoYSksdGhpcy5nZXRQYXJlbnRTdmcoKS5zdHlsZS5kaXNwbGF5PWE/XCJibG9ja1wiOlwibm9uZVwiLHRoaXMudG9vbGJveF8mJih0aGlzLnRvb2xib3hfLkh0bWxEaXYuc3R5bGUuZGlzcGxheT1hP1wiYmxvY2tcIjpcIm5vbmVcIiksYSl7YT10aGlzLmdldEFsbEJsb2NrcyghMSk7Zm9yKHZhciBiPWEubGVuZ3RoLTE7MDw9YjtiLS0pYVtiXS5tYXJrRGlydHkoKTt0aGlzLnJlbmRlcigpO3RoaXMudG9vbGJveF8mJnRoaXMudG9vbGJveF8ucG9zaXRpb24oKX1lbHNlIEJsb2NrbHkuaGlkZUNoYWZmKCEwKX07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZ2V0QWxsQmxvY2tzKCExKSxiPWEubGVuZ3RoLTE7MDw9YjtiLS0pYVtiXS5yZW5kZXIoITEpO2lmKHRoaXMuY3VycmVudEdlc3R1cmVfKWZvcihhPXRoaXMuY3VycmVudEdlc3R1cmVfLmdldEluc2VydGlvbk1hcmtlcnMoKSxiPTA7YjxhLmxlbmd0aDtiKyspYVtiXS5yZW5kZXIoITEpO3RoaXMubWFya2VyTWFuYWdlcl8udXBkYXRlTWFya2VycygpfTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUudHJhY2VPbj1mdW5jdGlvbigpe2NvbnNvbGUud2FybihcIkRlcHJlY2F0ZWQgY2FsbCB0byB0cmFjZU9uLCBkZWxldGUgdGhpcy5cIil9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmhpZ2hsaWdodEJsb2NrPWZ1bmN0aW9uKGEsYil7aWYodm9pZCAwPT09Yil7Zm9yKHZhciBjPTAsZDtkPXRoaXMuaGlnaGxpZ2h0ZWRCbG9ja3NfW2NdO2MrKylkLnNldEhpZ2hsaWdodGVkKCExKTt0aGlzLmhpZ2hsaWdodGVkQmxvY2tzXy5sZW5ndGg9MH1pZihkPWE/dGhpcy5nZXRCbG9ja0J5SWQoYSk6bnVsbCkoYT12b2lkIDA9PT1ifHxiKT8tMT09dGhpcy5oaWdobGlnaHRlZEJsb2Nrc18uaW5kZXhPZihkKSYmdGhpcy5oaWdobGlnaHRlZEJsb2Nrc18ucHVzaChkKTpCbG9ja2x5LnV0aWxzLmFycmF5UmVtb3ZlKHRoaXMuaGlnaGxpZ2h0ZWRCbG9ja3NfLGQpLGQuc2V0SGlnaGxpZ2h0ZWQoYSl9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnBhc3RlPWZ1bmN0aW9uKGEpeyF0aGlzLnJlbmRlcmVkfHxhLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYmxvY2tcIikubGVuZ3RoPj10aGlzLnJlbWFpbmluZ0NhcGFjaXR5KCl8fCh0aGlzLmN1cnJlbnRHZXN0dXJlXyYmdGhpcy5jdXJyZW50R2VzdHVyZV8uY2FuY2VsKCksXCJjb21tZW50XCI9PWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpP3RoaXMucGFzdGVXb3Jrc3BhY2VDb21tZW50XyhhKTp0aGlzLnBhc3RlQmxvY2tfKGEpKX07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUucGFzdGVCbG9ja189ZnVuY3Rpb24oYSl7QmxvY2tseS5FdmVudHMuZGlzYWJsZSgpO3RyeXt2YXIgYj1CbG9ja2x5LlhtbC5kb21Ub0Jsb2NrKGEsdGhpcyksYz10aGlzLmdldE1hcmtlcihCbG9ja2x5Lm5hdmlnYXRpb24uTUFSS0VSX05BTUUpLmdldEN1ck5vZGUoKTtpZih0aGlzLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGUmJmMmJmMuaXNDb25uZWN0aW9uKCkpe3ZhciBkPWMuZ2V0TG9jYXRpb24oKTtCbG9ja2x5Lm5hdmlnYXRpb24uaW5zZXJ0QmxvY2soYixkKTtyZXR1cm59dmFyIGU9cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoXCJ4XCIpLDEwKSxmPXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKFwieVwiKSwxMCk7aWYoIWlzTmFOKGUpJiYhaXNOYU4oZikpe3RoaXMuUlRMJiYoZT0tZSk7ZG97YT0hMTt2YXIgZz10aGlzLmdldEFsbEJsb2NrcyghMSk7Yz0wO2Zvcih2YXIgaDtoPWdbY107YysrKXt2YXIgaz1oLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtcbmlmKDE+PU1hdGguYWJzKGUtay54KSYmMT49TWF0aC5hYnMoZi1rLnkpKXthPSEwO2JyZWFrfX1pZighYSl7dmFyIGw9Yi5nZXRDb25uZWN0aW9uc18oITEpO2M9MDtmb3IodmFyIG07bT1sW2NdO2MrKylpZihtLmNsb3Nlc3QoQmxvY2tseS5TTkFQX1JBRElVUyxuZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKGUsZikpLmNvbm5lY3Rpb24pe2E9ITA7YnJlYWt9fWEmJihlPXRoaXMuUlRMP2UtQmxvY2tseS5TTkFQX1JBRElVUzplK0Jsb2NrbHkuU05BUF9SQURJVVMsZis9MipCbG9ja2x5LlNOQVBfUkFESVVTKX13aGlsZShhKTtiLm1vdmVCeShlLGYpfX1maW5hbGx5e0Jsb2NrbHkuRXZlbnRzLmVuYWJsZSgpfUJsb2NrbHkuRXZlbnRzLmlzRW5hYmxlZCgpJiYhYi5pc1NoYWRvdygpJiZCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5CbG9ja0NyZWF0ZShiKSk7Yi5zZWxlY3QoKX07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUucGFzdGVXb3Jrc3BhY2VDb21tZW50Xz1mdW5jdGlvbihhKXtCbG9ja2x5LkV2ZW50cy5kaXNhYmxlKCk7dHJ5e3ZhciBiPUJsb2NrbHkuV29ya3NwYWNlQ29tbWVudFN2Zy5mcm9tWG1sKGEsdGhpcyksYz1wYXJzZUludChhLmdldEF0dHJpYnV0ZShcInhcIiksMTApLGQ9cGFyc2VJbnQoYS5nZXRBdHRyaWJ1dGUoXCJ5XCIpLDEwKTtpc05hTihjKXx8aXNOYU4oZCl8fCh0aGlzLlJUTCYmKGM9LWMpLGIubW92ZUJ5KGMrNTAsZCs1MCkpfWZpbmFsbHl7QmxvY2tseS5FdmVudHMuZW5hYmxlKCl9QmxvY2tseS5FdmVudHMuaXNFbmFibGVkKCk7Yi5zZWxlY3QoKX07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUucmVmcmVzaFRvb2xib3hTZWxlY3Rpb249ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmlzRmx5b3V0P3RoaXMudGFyZ2V0V29ya3NwYWNlOnRoaXM7YSYmIWEuY3VycmVudEdlc3R1cmVfJiZhLnRvb2xib3hfJiZhLnRvb2xib3hfLmdldEZseW91dCgpJiZhLnRvb2xib3hfLnJlZnJlc2hTZWxlY3Rpb24oKX07QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnJlbmFtZVZhcmlhYmxlQnlJZD1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnN1cGVyQ2xhc3NfLnJlbmFtZVZhcmlhYmxlQnlJZC5jYWxsKHRoaXMsYSxiKTt0aGlzLnJlZnJlc2hUb29sYm94U2VsZWN0aW9uKCl9O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5kZWxldGVWYXJpYWJsZUJ5SWQ9ZnVuY3Rpb24oYSl7QmxvY2tseS5Xb3Jrc3BhY2VTdmcuc3VwZXJDbGFzc18uZGVsZXRlVmFyaWFibGVCeUlkLmNhbGwodGhpcyxhKTt0aGlzLnJlZnJlc2hUb29sYm94U2VsZWN0aW9uKCl9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmNyZWF0ZVZhcmlhYmxlPWZ1bmN0aW9uKGEsYixjKXthPUJsb2NrbHkuV29ya3NwYWNlU3ZnLnN1cGVyQ2xhc3NfLmNyZWF0ZVZhcmlhYmxlLmNhbGwodGhpcyxhLGIsYyk7dGhpcy5yZWZyZXNoVG9vbGJveFNlbGVjdGlvbigpO3JldHVybiBhfTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUucmVjb3JkRGVsZXRlQXJlYXM9ZnVuY3Rpb24oKXt0aGlzLmRlbGV0ZUFyZWFUcmFzaF89dGhpcy50cmFzaGNhbiYmdGhpcy5zdmdHcm91cF8ucGFyZW50Tm9kZT90aGlzLnRyYXNoY2FuLmdldENsaWVudFJlY3QoKTpudWxsO3RoaXMuZGVsZXRlQXJlYVRvb2xib3hfPXRoaXMuZmx5b3V0Xz90aGlzLmZseW91dF8uZ2V0Q2xpZW50UmVjdCgpOnRoaXMudG9vbGJveF8/dGhpcy50b29sYm94Xy5nZXRDbGllbnRSZWN0KCk6bnVsbH07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuaXNEZWxldGVBcmVhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRlbGV0ZUFyZWFUcmFzaF8mJnRoaXMuZGVsZXRlQXJlYVRyYXNoXy5jb250YWlucyhhLmNsaWVudFgsYS5jbGllbnRZKT9CbG9ja2x5LkRFTEVURV9BUkVBX1RSQVNIOnRoaXMuZGVsZXRlQXJlYVRvb2xib3hfJiZ0aGlzLmRlbGV0ZUFyZWFUb29sYm94Xy5jb250YWlucyhhLmNsaWVudFgsYS5jbGllbnRZKT9CbG9ja2x5LkRFTEVURV9BUkVBX1RPT0xCT1g6QmxvY2tseS5ERUxFVEVfQVJFQV9OT05FfTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUub25Nb3VzZURvd25fPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0R2VzdHVyZShhKTtiJiZiLmhhbmRsZVdzU3RhcnQoYSx0aGlzKX07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuc3RhcnREcmFnPWZ1bmN0aW9uKGEsYil7YT1CbG9ja2x5LnV0aWxzLm1vdXNlVG9TdmcoYSx0aGlzLmdldFBhcmVudFN2ZygpLHRoaXMuZ2V0SW52ZXJzZVNjcmVlbkNUTSgpKTthLngvPXRoaXMuc2NhbGU7YS55Lz10aGlzLnNjYWxlO3RoaXMuZHJhZ0RlbHRhWFlfPUJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZS5kaWZmZXJlbmNlKGIsYSl9O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5tb3ZlRHJhZz1mdW5jdGlvbihhKXthPUJsb2NrbHkudXRpbHMubW91c2VUb1N2ZyhhLHRoaXMuZ2V0UGFyZW50U3ZnKCksdGhpcy5nZXRJbnZlcnNlU2NyZWVuQ1RNKCkpO2EueC89dGhpcy5zY2FsZTthLnkvPXRoaXMuc2NhbGU7cmV0dXJuIEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZS5zdW0odGhpcy5kcmFnRGVsdGFYWV8sYSl9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmlzRHJhZ2dpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9dGhpcy5jdXJyZW50R2VzdHVyZV8mJnRoaXMuY3VycmVudEdlc3R1cmVfLmlzRHJhZ2dpbmcoKX07QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmlzRHJhZ2dhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3B0aW9ucy5tb3ZlT3B0aW9ucyYmdGhpcy5vcHRpb25zLm1vdmVPcHRpb25zLmRyYWd9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmlzQ29udGVudEJvdW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLm1vdmVPcHRpb25zJiZ0aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMuc2Nyb2xsYmFyc3x8dGhpcy5vcHRpb25zLm1vdmVPcHRpb25zJiZ0aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMud2hlZWx8fHRoaXMub3B0aW9ucy5tb3ZlT3B0aW9ucyYmdGhpcy5vcHRpb25zLm1vdmVPcHRpb25zLmRyYWd8fHRoaXMub3B0aW9ucy56b29tT3B0aW9ucyYmdGhpcy5vcHRpb25zLnpvb21PcHRpb25zLmNvbnRyb2xzfHx0aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMmJnRoaXMub3B0aW9ucy56b29tT3B0aW9ucy53aGVlbHx8dGhpcy5vcHRpb25zLnpvb21PcHRpb25zJiZ0aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMucGluY2h9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmlzTW92YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMmJnRoaXMub3B0aW9ucy5tb3ZlT3B0aW9ucy5zY3JvbGxiYXJzfHx0aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMmJnRoaXMub3B0aW9ucy5tb3ZlT3B0aW9ucy53aGVlbHx8dGhpcy5vcHRpb25zLm1vdmVPcHRpb25zJiZ0aGlzLm9wdGlvbnMubW92ZU9wdGlvbnMuZHJhZ3x8dGhpcy5vcHRpb25zLnpvb21PcHRpb25zJiZ0aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMud2hlZWx8fHRoaXMub3B0aW9ucy56b29tT3B0aW9ucyYmdGhpcy5vcHRpb25zLnpvb21PcHRpb25zLnBpbmNofTtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5vbk1vdXNlV2hlZWxfPWZ1bmN0aW9uKGEpe2lmKEJsb2NrbHkuR2VzdHVyZS5pblByb2dyZXNzKCkpYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCk7ZWxzZXt2YXIgYj10aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMmJnRoaXMub3B0aW9ucy56b29tT3B0aW9ucy53aGVlbCxjPXRoaXMub3B0aW9ucy5tb3ZlT3B0aW9ucyYmdGhpcy5vcHRpb25zLm1vdmVPcHRpb25zLndoZWVsO2lmKGJ8fGMpe3ZhciBkPUJsb2NrbHkudXRpbHMuZ2V0U2Nyb2xsRGVsdGFQaXhlbHMoYSk7IWJ8fCFhLmN0cmxLZXkmJmM/KGI9dGhpcy5zY3JvbGxYLWQueCxjPXRoaXMuc2Nyb2xsWS1kLnksYS5zaGlmdEtleSYmIWQueCYmKGI9dGhpcy5zY3JvbGxYLWQueSxjPXRoaXMuc2Nyb2xsWSksdGhpcy5zY3JvbGwoYixjKSk6KGQ9LWQueS81MCxiPUJsb2NrbHkudXRpbHMubW91c2VUb1N2ZyhhLHRoaXMuZ2V0UGFyZW50U3ZnKCksdGhpcy5nZXRJbnZlcnNlU2NyZWVuQ1RNKCkpLFxudGhpcy56b29tKGIueCxiLnksZCkpO2EucHJldmVudERlZmF1bHQoKX19fTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuZ2V0QmxvY2tzQm91bmRpbmdCb3g9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFRvcEJsb2NrcyghMSksYj10aGlzLmdldFRvcENvbW1lbnRzKCExKTthPWEuY29uY2F0KGIpO2lmKCFhLmxlbmd0aClyZXR1cm4gbmV3IEJsb2NrbHkudXRpbHMuUmVjdCgwLDAsMCwwKTtiPWFbMF0uZ2V0Qm91bmRpbmdSZWN0YW5nbGUoKTtmb3IodmFyIGM9MTtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXS5nZXRCb3VuZGluZ1JlY3RhbmdsZSgpO2QudG9wPGIudG9wJiYoYi50b3A9ZC50b3ApO2QuYm90dG9tPmIuYm90dG9tJiYoYi5ib3R0b209ZC5ib3R0b20pO2QubGVmdDxiLmxlZnQmJihiLmxlZnQ9ZC5sZWZ0KTtkLnJpZ2h0PmIucmlnaHQmJihiLnJpZ2h0PWQucmlnaHQpfXJldHVybiBifTtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5jbGVhblVwPWZ1bmN0aW9uKCl7dGhpcy5zZXRSZXNpemVzRW5hYmxlZCghMSk7QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITApO2Zvcih2YXIgYT10aGlzLmdldFRvcEJsb2NrcyghMCksYj0wLGM9MCxkO2Q9YVtjXTtjKyspaWYoZC5pc01vdmFibGUoKSl7dmFyIGU9ZC5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7ZC5tb3ZlQnkoLWUueCxiLWUueSk7ZC5zbmFwVG9HcmlkKCk7Yj1kLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKS55K2QuZ2V0SGVpZ2h0V2lkdGgoKS5oZWlnaHQrdGhpcy5yZW5kZXJlcl8uZ2V0Q29uc3RhbnRzKCkuTUlOX0JMT0NLX0hFSUdIVH1CbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSk7dGhpcy5zZXRSZXNpemVzRW5hYmxlZCghMCl9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnNob3dDb250ZXh0TWVudT1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2lmKGEuaXNEZWxldGFibGUoKSlwPXAuY29uY2F0KGEuZ2V0RGVzY2VuZGFudHMoITEpKTtlbHNle2E9YS5nZXRDaGlsZHJlbighMSk7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYihhW2NdKX19ZnVuY3Rpb24gYygpe0Jsb2NrbHkuRXZlbnRzLnNldEdyb3VwKGYpO3ZhciBhPXAuc2hpZnQoKTthJiYoYS53b3Jrc3BhY2U/KGEuZGlzcG9zZSghMSwhMCksc2V0VGltZW91dChjLDEwKSk6YygpKTtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSl9aWYoIXRoaXMub3B0aW9ucy5yZWFkT25seSYmIXRoaXMuaXNGbHlvdXQpe3ZhciBkPVtdLGU9dGhpcy5nZXRUb3BCbG9ja3MoITApLGY9QmxvY2tseS51dGlscy5nZW5VaWQoKSxnPXRoaXMsaD17fTtoLnRleHQ9QmxvY2tseS5Nc2cuVU5ETztoLmVuYWJsZWQ9MDx0aGlzLnVuZG9TdGFja18ubGVuZ3RoO2guY2FsbGJhY2s9XG50aGlzLnVuZG8uYmluZCh0aGlzLCExKTtkLnB1c2goaCk7aD17fTtoLnRleHQ9QmxvY2tseS5Nc2cuUkVETztoLmVuYWJsZWQ9MDx0aGlzLnJlZG9TdGFja18ubGVuZ3RoO2guY2FsbGJhY2s9dGhpcy51bmRvLmJpbmQodGhpcywhMCk7ZC5wdXNoKGgpO3RoaXMuaXNNb3ZhYmxlKCkmJihoPXt9LGgudGV4dD1CbG9ja2x5Lk1zZy5DTEVBTl9VUCxoLmVuYWJsZWQ9MTxlLmxlbmd0aCxoLmNhbGxiYWNrPXRoaXMuY2xlYW5VcC5iaW5kKHRoaXMpLGQucHVzaChoKSk7aWYodGhpcy5vcHRpb25zLmNvbGxhcHNlKXtmb3IodmFyIGs9aD0hMSxsPTA7bDxlLmxlbmd0aDtsKyspZm9yKHZhciBtPWVbbF07bTspbS5pc0NvbGxhcHNlZCgpP2g9ITA6az0hMCxtPW0uZ2V0TmV4dEJsb2NrKCk7dmFyIG49ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsYz0wO2M8ZS5sZW5ndGg7YysrKWZvcih2YXIgZD1lW2NdO2Q7KXNldFRpbWVvdXQoZC5zZXRDb2xsYXBzZWQuYmluZChkLGEpLGIpLGQ9ZC5nZXROZXh0QmxvY2soKSxcbmIrPTEwfTtrPXtlbmFibGVkOmt9O2sudGV4dD1CbG9ja2x5Lk1zZy5DT0xMQVBTRV9BTEw7ay5jYWxsYmFjaz1mdW5jdGlvbigpe24oITApfTtkLnB1c2goayk7aD17ZW5hYmxlZDpofTtoLnRleHQ9QmxvY2tseS5Nc2cuRVhQQU5EX0FMTDtoLmNhbGxiYWNrPWZ1bmN0aW9uKCl7bighMSl9O2QucHVzaChoKX12YXIgcD1bXTtmb3IobD0wO2w8ZS5sZW5ndGg7bCsrKWIoZVtsXSk7aD17dGV4dDoxPT1wLmxlbmd0aD9CbG9ja2x5Lk1zZy5ERUxFVEVfQkxPQ0s6QmxvY2tseS5Nc2cuREVMRVRFX1hfQkxPQ0tTLnJlcGxhY2UoXCIlMVwiLFN0cmluZyhwLmxlbmd0aCkpLGVuYWJsZWQ6MDxwLmxlbmd0aCxjYWxsYmFjazpmdW5jdGlvbigpe2cuY3VycmVudEdlc3R1cmVfJiZnLmN1cnJlbnRHZXN0dXJlXy5jYW5jZWwoKTsyPnAubGVuZ3RoP2MoKTpCbG9ja2x5LmNvbmZpcm0oQmxvY2tseS5Nc2cuREVMRVRFX0FMTF9CTE9DS1MucmVwbGFjZShcIiUxXCIscC5sZW5ndGgpLGZ1bmN0aW9uKGEpe2EmJlxuYygpfSl9fTtkLnB1c2goaCk7dGhpcy5jb25maWd1cmVDb250ZXh0TWVudSYmdGhpcy5jb25maWd1cmVDb250ZXh0TWVudShkLGEpO0Jsb2NrbHkuQ29udGV4dE1lbnUuc2hvdyhhLGQsdGhpcy5SVEwpfX07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUudXBkYXRlVG9vbGJveD1mdW5jdGlvbihhKXtpZihhPUJsb2NrbHkuT3B0aW9ucy5wYXJzZVRvb2xib3hUcmVlKGEpKXtpZighdGhpcy5vcHRpb25zLmxhbmd1YWdlVHJlZSl0aHJvdyBFcnJvcihcIkV4aXN0aW5nIHRvb2xib3ggaXMgbnVsbC4gIENhbid0IGNyZWF0ZSBuZXcgdG9vbGJveC5cIik7aWYoYS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImNhdGVnb3J5XCIpLmxlbmd0aCl7aWYoIXRoaXMudG9vbGJveF8pdGhyb3cgRXJyb3IoXCJFeGlzdGluZyB0b29sYm94IGhhcyBubyBjYXRlZ29yaWVzLiAgQ2FuJ3QgY2hhbmdlIG1vZGUuXCIpO3RoaXMub3B0aW9ucy5sYW5ndWFnZVRyZWU9YTt0aGlzLnRvb2xib3hfLnJlbmRlclRyZWUoYSl9ZWxzZXtpZighdGhpcy5mbHlvdXRfKXRocm93IEVycm9yKFwiRXhpc3RpbmcgdG9vbGJveCBoYXMgY2F0ZWdvcmllcy4gIENhbid0IGNoYW5nZSBtb2RlLlwiKTt0aGlzLm9wdGlvbnMubGFuZ3VhZ2VUcmVlPVxuYTt0aGlzLmZseW91dF8uc2hvdyhhLmNoaWxkTm9kZXMpfX1lbHNlIGlmKHRoaXMub3B0aW9ucy5sYW5ndWFnZVRyZWUpdGhyb3cgRXJyb3IoXCJDYW4ndCBudWxsaWZ5IGFuIGV4aXN0aW5nIHRvb2xib3guXCIpO307QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLm1hcmtGb2N1c2VkPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnBhcmVudFdvcmtzcGFjZT90aGlzLm9wdGlvbnMucGFyZW50V29ya3NwYWNlLm1hcmtGb2N1c2VkKCk6KEJsb2NrbHkubWFpbldvcmtzcGFjZT10aGlzLHRoaXMuc2V0QnJvd3NlckZvY3VzKCkpfTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuc2V0QnJvd3NlckZvY3VzPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7dHJ5e3RoaXMuZ2V0UGFyZW50U3ZnKCkuZm9jdXMoe3ByZXZlbnRTY3JvbGw6ITB9KX1jYXRjaChhKXt0cnl7dGhpcy5nZXRQYXJlbnRTdmcoKS5wYXJlbnROb2RlLnNldEFjdGl2ZSgpfWNhdGNoKGIpe3RoaXMuZ2V0UGFyZW50U3ZnKCkucGFyZW50Tm9kZS5mb2N1cyh7cHJldmVudFNjcm9sbDohMH0pfX19O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnpvb209ZnVuY3Rpb24oYSxiLGMpe2M9TWF0aC5wb3codGhpcy5vcHRpb25zLnpvb21PcHRpb25zLnNjYWxlU3BlZWQsYyk7dmFyIGQ9dGhpcy5zY2FsZSpjO2lmKHRoaXMuc2NhbGUhPWQpe2Q+dGhpcy5vcHRpb25zLnpvb21PcHRpb25zLm1heFNjYWxlP2M9dGhpcy5vcHRpb25zLnpvb21PcHRpb25zLm1heFNjYWxlL3RoaXMuc2NhbGU6ZDx0aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMubWluU2NhbGUmJihjPXRoaXMub3B0aW9ucy56b29tT3B0aW9ucy5taW5TY2FsZS90aGlzLnNjYWxlKTt2YXIgZT10aGlzLmdldENhbnZhcygpLmdldENUTSgpLGY9dGhpcy5nZXRQYXJlbnRTdmcoKS5jcmVhdGVTVkdQb2ludCgpO2YueD1hO2YueT1iO2Y9Zi5tYXRyaXhUcmFuc2Zvcm0oZS5pbnZlcnNlKCkpO2E9Zi54O2I9Zi55O2U9ZS50cmFuc2xhdGUoYSooMS1jKSxiKigxLWMpKS5zY2FsZShjKTt0aGlzLnNjcm9sbFg9ZS5lO3RoaXMuc2Nyb2xsWT1cbmUuZjt0aGlzLnNldFNjYWxlKGQpfX07QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnpvb21DZW50ZXI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRNZXRyaWNzKCk7aWYodGhpcy5mbHlvdXRfKXt2YXIgYz1iLnN2Z1dpZHRoLzI7Yj1iLnN2Z0hlaWdodC8yfWVsc2UgYz1iLnZpZXdXaWR0aC8yK2IuYWJzb2x1dGVMZWZ0LGI9Yi52aWV3SGVpZ2h0LzIrYi5hYnNvbHV0ZVRvcDt0aGlzLnpvb20oYyxiLGEpfTtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS56b29tVG9GaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLmlzTW92YWJsZSgpKXt2YXIgYT10aGlzLmdldE1ldHJpY3MoKSxiPWEudmlld1dpZHRoO2E9YS52aWV3SGVpZ2h0O3ZhciBjPXRoaXMuZ2V0QmxvY2tzQm91bmRpbmdCb3goKSxkPWMucmlnaHQtYy5sZWZ0O2M9Yy5ib3R0b20tYy50b3A7ZCYmKHRoaXMuZmx5b3V0XyYmKHRoaXMuaG9yaXpvbnRhbExheW91dD8oYSs9dGhpcy5mbHlvdXRfLmdldEhlaWdodCgpLGMrPXRoaXMuZmx5b3V0Xy5nZXRIZWlnaHQoKS90aGlzLnNjYWxlKTooYis9dGhpcy5mbHlvdXRfLmdldFdpZHRoKCksZCs9dGhpcy5mbHlvdXRfLmdldFdpZHRoKCkvdGhpcy5zY2FsZSkpLHRoaXMuc2V0U2NhbGUoTWF0aC5taW4oYi9kLGEvYykpLHRoaXMuc2Nyb2xsQ2VudGVyKCkpfWVsc2UgY29uc29sZS53YXJuKFwiVHJpZWQgdG8gbW92ZSBhIG5vbi1tb3ZhYmxlIHdvcmtzcGFjZS4gVGhpcyBjb3VsZCByZXN1bHQgaW4gYmxvY2tzIGJlY29taW5nIGluYWNjZXNzaWJsZS5cIil9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmJlZ2luQ2FudmFzVHJhbnNpdGlvbj1mdW5jdGlvbigpe0Jsb2NrbHkudXRpbHMuZG9tLmFkZENsYXNzKHRoaXMuc3ZnQmxvY2tDYW52YXNfLFwiYmxvY2tseUNhbnZhc1RyYW5zaXRpb25pbmdcIik7QmxvY2tseS51dGlscy5kb20uYWRkQ2xhc3ModGhpcy5zdmdCdWJibGVDYW52YXNfLFwiYmxvY2tseUNhbnZhc1RyYW5zaXRpb25pbmdcIil9O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5lbmRDYW52YXNUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7QmxvY2tseS51dGlscy5kb20ucmVtb3ZlQ2xhc3ModGhpcy5zdmdCbG9ja0NhbnZhc18sXCJibG9ja2x5Q2FudmFzVHJhbnNpdGlvbmluZ1wiKTtCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyh0aGlzLnN2Z0J1YmJsZUNhbnZhc18sXCJibG9ja2x5Q2FudmFzVHJhbnNpdGlvbmluZ1wiKX07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuc2Nyb2xsQ2VudGVyPWZ1bmN0aW9uKCl7aWYodGhpcy5pc01vdmFibGUoKSl7dmFyIGE9dGhpcy5nZXRNZXRyaWNzKCksYj0oYS5jb250ZW50V2lkdGgtYS52aWV3V2lkdGgpLzIsYz0oYS5jb250ZW50SGVpZ2h0LWEudmlld0hlaWdodCkvMjtiPS1iLWEuY29udGVudExlZnQ7Yz0tYy1hLmNvbnRlbnRUb3A7dGhpcy5zY3JvbGwoYixjKX1lbHNlIGNvbnNvbGUud2FybihcIlRyaWVkIHRvIG1vdmUgYSBub24tbW92YWJsZSB3b3Jrc3BhY2UuIFRoaXMgY291bGQgcmVzdWx0IGluIGJsb2NrcyBiZWNvbWluZyBpbmFjY2Vzc2libGUuXCIpfTtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5jZW50ZXJPbkJsb2NrPWZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNNb3ZhYmxlKCkpe2lmKGE9YT90aGlzLmdldEJsb2NrQnlJZChhKTpudWxsKXt2YXIgYj1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSxjPWEuZ2V0SGVpZ2h0V2lkdGgoKSxkPXRoaXMuc2NhbGU7YT0oYi54Kyh0aGlzLlJUTD8tMToxKSpjLndpZHRoLzIpKmQ7Yj0oYi55K2MuaGVpZ2h0LzIpKmQ7Yz10aGlzLmdldE1ldHJpY3MoKTt0aGlzLnNjcm9sbCgtKGEtYy52aWV3V2lkdGgvMiksLShiLWMudmlld0hlaWdodC8yKSl9fWVsc2UgY29uc29sZS53YXJuKFwiVHJpZWQgdG8gbW92ZSBhIG5vbi1tb3ZhYmxlIHdvcmtzcGFjZS4gVGhpcyBjb3VsZCByZXN1bHQgaW4gYmxvY2tzIGJlY29taW5nIGluYWNjZXNzaWJsZS5cIil9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnNldFNjYWxlPWZ1bmN0aW9uKGEpe3RoaXMub3B0aW9ucy56b29tT3B0aW9ucy5tYXhTY2FsZSYmYT50aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMubWF4U2NhbGU/YT10aGlzLm9wdGlvbnMuem9vbU9wdGlvbnMubWF4U2NhbGU6dGhpcy5vcHRpb25zLnpvb21PcHRpb25zLm1pblNjYWxlJiZhPHRoaXMub3B0aW9ucy56b29tT3B0aW9ucy5taW5TY2FsZSYmKGE9dGhpcy5vcHRpb25zLnpvb21PcHRpb25zLm1pblNjYWxlKTt0aGlzLnNjYWxlPWE7QmxvY2tseS5oaWRlQ2hhZmYoITEpO3RoaXMuZmx5b3V0XyYmKHRoaXMuZmx5b3V0Xy5yZWZsb3coKSx0aGlzLnJlY29yZERlbGV0ZUFyZWFzKCkpO3RoaXMuZ3JpZF8mJnRoaXMuZ3JpZF8udXBkYXRlKHRoaXMuc2NhbGUpO2E9dGhpcy5nZXRNZXRyaWNzKCk7dGhpcy5zY3JvbGxYLT1hLmFic29sdXRlTGVmdDt0aGlzLnNjcm9sbFktPWEuYWJzb2x1dGVUb3A7YS52aWV3TGVmdCs9YS5hYnNvbHV0ZUxlZnQ7XG5hLnZpZXdUb3ArPWEuYWJzb2x1dGVUb3A7dGhpcy5zY3JvbGwodGhpcy5zY3JvbGxYLHRoaXMuc2Nyb2xsWSk7dGhpcy5zY3JvbGxiYXImJih0aGlzLmZseW91dF8/KHRoaXMuc2Nyb2xsYmFyLmhTY3JvbGwucmVzaXplVmlld0hvcml6b250YWwoYSksdGhpcy5zY3JvbGxiYXIudlNjcm9sbC5yZXNpemVWaWV3VmVydGljYWwoYSkpOih0aGlzLnNjcm9sbGJhci5oU2Nyb2xsLnJlc2l6ZUNvbnRlbnRIb3Jpem9udGFsKGEpLHRoaXMuc2Nyb2xsYmFyLnZTY3JvbGwucmVzaXplQ29udGVudFZlcnRpY2FsKGEpKSl9O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5nZXRTY2FsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9wdGlvbnMucGFyZW50V29ya3NwYWNlP3RoaXMub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2UuZ2V0U2NhbGUoKTp0aGlzLnNjYWxlfTtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5zY3JvbGw9ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LmhpZGVDaGFmZighMCk7dmFyIGM9dGhpcy5nZXRNZXRyaWNzKCksZD1jLmNvbnRlbnRXaWR0aCtjLmNvbnRlbnRMZWZ0LWMudmlld1dpZHRoLGU9Yy5jb250ZW50SGVpZ2h0K2MuY29udGVudFRvcC1jLnZpZXdIZWlnaHQ7YT1NYXRoLm1pbihhLC1jLmNvbnRlbnRMZWZ0KTtiPU1hdGgubWluKGIsLWMuY29udGVudFRvcCk7YT1NYXRoLm1heChhLC1kKTtiPU1hdGgubWF4KGIsLWUpO3RoaXMuc2Nyb2xsWD1hO3RoaXMuc2Nyb2xsWT1iO3RoaXMuc2Nyb2xsYmFyJiYodGhpcy5zY3JvbGxiYXIuaFNjcm9sbC5zZXRIYW5kbGVQb3NpdGlvbigtKGErYy5jb250ZW50TGVmdCkqdGhpcy5zY3JvbGxiYXIuaFNjcm9sbC5yYXRpb18pLHRoaXMuc2Nyb2xsYmFyLnZTY3JvbGwuc2V0SGFuZGxlUG9zaXRpb24oLShiK2MuY29udGVudFRvcCkqdGhpcy5zY3JvbGxiYXIudlNjcm9sbC5yYXRpb18pKTtcbmErPWMuYWJzb2x1dGVMZWZ0O2IrPWMuYWJzb2x1dGVUb3A7dGhpcy50cmFuc2xhdGUoYSxiKX07QmxvY2tseS5Xb3Jrc3BhY2VTdmcuZ2V0RGltZW5zaW9uc1B4Xz1mdW5jdGlvbihhKXt2YXIgYj0wLGM9MDthJiYoYj1hLmdldFdpZHRoKCksYz1hLmdldEhlaWdodCgpKTtyZXR1cm57d2lkdGg6YixoZWlnaHQ6Y319O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLmdldENvbnRlbnREaW1lbnNpb25zXz1mdW5jdGlvbihhLGIpe3JldHVybiBhLmlzQ29udGVudEJvdW5kZWQoKT9CbG9ja2x5LldvcmtzcGFjZVN2Zy5nZXRDb250ZW50RGltZW5zaW9uc0JvdW5kZWRfKGEsYik6QmxvY2tseS5Xb3Jrc3BhY2VTdmcuZ2V0Q29udGVudERpbWVuc2lvbnNFeGFjdF8oYSl9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcuZ2V0Q29udGVudERpbWVuc2lvbnNFeGFjdF89ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRCbG9ja3NCb3VuZGluZ0JveCgpLGM9YS5zY2FsZTthPWIudG9wKmM7dmFyIGQ9Yi5ib3R0b20qYyxlPWIubGVmdCpjO2I9Yi5yaWdodCpjO3JldHVybnt0b3A6YSxib3R0b206ZCxsZWZ0OmUscmlnaHQ6Yix3aWR0aDpiLWUsaGVpZ2h0OmQtYX19O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcuZ2V0Q29udGVudERpbWVuc2lvbnNCb3VuZGVkXz1mdW5jdGlvbihhLGIpe2E9QmxvY2tseS5Xb3Jrc3BhY2VTdmcuZ2V0Q29udGVudERpbWVuc2lvbnNFeGFjdF8oYSk7dmFyIGM9Yi53aWR0aDtiPWIuaGVpZ2h0O3ZhciBkPWMvMixlPWIvMixmPU1hdGgubWluKGEubGVmdC1kLGEucmlnaHQtYyksZz1NYXRoLm1pbihhLnRvcC1lLGEuYm90dG9tLWIpO3JldHVybntsZWZ0OmYsdG9wOmcsaGVpZ2h0Ok1hdGgubWF4KGEuYm90dG9tK2UsYS50b3ArYiktZyx3aWR0aDpNYXRoLm1heChhLnJpZ2h0K2QsYS5sZWZ0K2MpLWZ9fTtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLmdldFRvcExldmVsV29ya3NwYWNlTWV0cmljc189ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5LldvcmtzcGFjZVN2Zy5nZXREaW1lbnNpb25zUHhfKHRoaXMudG9vbGJveF8pLGI9QmxvY2tseS5Xb3Jrc3BhY2VTdmcuZ2V0RGltZW5zaW9uc1B4Xyh0aGlzLmZseW91dF8pLGM9QmxvY2tseS5zdmdTaXplKHRoaXMuZ2V0UGFyZW50U3ZnKCkpLGQ9e2hlaWdodDpjLmhlaWdodCx3aWR0aDpjLndpZHRofTtpZih0aGlzLnRvb2xib3hfKWlmKHRoaXMudG9vbGJveFBvc2l0aW9uPT1CbG9ja2x5LlRPT0xCT1hfQVRfVE9QfHx0aGlzLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX0JPVFRPTSlkLmhlaWdodC09YS5oZWlnaHQ7ZWxzZXtpZih0aGlzLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX0xFRlR8fHRoaXMudG9vbGJveFBvc2l0aW9uPT1CbG9ja2x5LlRPT0xCT1hfQVRfUklHSFQpZC53aWR0aC09YS53aWR0aH1lbHNlIGlmKHRoaXMuZmx5b3V0XylpZih0aGlzLnRvb2xib3hQb3NpdGlvbj09XG5CbG9ja2x5LlRPT0xCT1hfQVRfVE9QfHx0aGlzLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX0JPVFRPTSlkLmhlaWdodC09Yi5oZWlnaHQ7ZWxzZSBpZih0aGlzLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX0xFRlR8fHRoaXMudG9vbGJveFBvc2l0aW9uPT1CbG9ja2x5LlRPT0xCT1hfQVRfUklHSFQpZC53aWR0aC09Yi53aWR0aDt2YXIgZT1CbG9ja2x5LldvcmtzcGFjZVN2Zy5nZXRDb250ZW50RGltZW5zaW9uc18odGhpcyxkKSxmPTA7dGhpcy50b29sYm94XyYmdGhpcy50b29sYm94UG9zaXRpb249PUJsb2NrbHkuVE9PTEJPWF9BVF9MRUZUP2Y9YS53aWR0aDp0aGlzLmZseW91dF8mJnRoaXMudG9vbGJveFBvc2l0aW9uPT1CbG9ja2x5LlRPT0xCT1hfQVRfTEVGVCYmKGY9Yi53aWR0aCk7dmFyIGc9MDt0aGlzLnRvb2xib3hfJiZ0aGlzLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX1RPUD9nPWEuaGVpZ2h0OnRoaXMuZmx5b3V0XyYmXG50aGlzLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX1RPUCYmKGc9Yi5oZWlnaHQpO3JldHVybntjb250ZW50SGVpZ2h0OmUuaGVpZ2h0LGNvbnRlbnRXaWR0aDplLndpZHRoLGNvbnRlbnRUb3A6ZS50b3AsY29udGVudExlZnQ6ZS5sZWZ0LHZpZXdIZWlnaHQ6ZC5oZWlnaHQsdmlld1dpZHRoOmQud2lkdGgsdmlld1RvcDotdGhpcy5zY3JvbGxZLHZpZXdMZWZ0Oi10aGlzLnNjcm9sbFgsYWJzb2x1dGVUb3A6ZyxhYnNvbHV0ZUxlZnQ6ZixzdmdIZWlnaHQ6Yy5oZWlnaHQsc3ZnV2lkdGg6Yy53aWR0aCx0b29sYm94V2lkdGg6YS53aWR0aCx0b29sYm94SGVpZ2h0OmEuaGVpZ2h0LGZseW91dFdpZHRoOmIud2lkdGgsZmx5b3V0SGVpZ2h0OmIuaGVpZ2h0LHRvb2xib3hQb3NpdGlvbjp0aGlzLnRvb2xib3hQb3NpdGlvbn19O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcuc2V0VG9wTGV2ZWxXb3Jrc3BhY2VNZXRyaWNzXz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE1ldHJpY3MoKTtcIm51bWJlclwiPT10eXBlb2YgYS54JiYodGhpcy5zY3JvbGxYPS1iLmNvbnRlbnRXaWR0aCphLngtYi5jb250ZW50TGVmdCk7XCJudW1iZXJcIj09dHlwZW9mIGEueSYmKHRoaXMuc2Nyb2xsWT0tYi5jb250ZW50SGVpZ2h0KmEueS1iLmNvbnRlbnRUb3ApO3RoaXMudHJhbnNsYXRlKHRoaXMuc2Nyb2xsWCtiLmFic29sdXRlTGVmdCx0aGlzLnNjcm9sbFkrYi5hYnNvbHV0ZVRvcCl9O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5nZXRCbG9ja0J5SWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEJsb2NrbHkuV29ya3NwYWNlU3ZnLnN1cGVyQ2xhc3NfLmdldEJsb2NrQnlJZC5jYWxsKHRoaXMsYSl9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmdldFRvcEJsb2Nrcz1mdW5jdGlvbihhKXtyZXR1cm4gQmxvY2tseS5Xb3Jrc3BhY2VTdmcuc3VwZXJDbGFzc18uZ2V0VG9wQmxvY2tzLmNhbGwodGhpcyxhKX07QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnNldFJlc2l6ZXNFbmFibGVkPWZ1bmN0aW9uKGEpe3ZhciBiPSF0aGlzLnJlc2l6ZXNFbmFibGVkXyYmYTt0aGlzLnJlc2l6ZXNFbmFibGVkXz1hO2ImJnRoaXMucmVzaXplQ29udGVudHMoKX07QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5zZXRSZXNpemVzRW5hYmxlZCghMSk7QmxvY2tseS5Xb3Jrc3BhY2VTdmcuc3VwZXJDbGFzc18uY2xlYXIuY2FsbCh0aGlzKTt0aGlzLnNldFJlc2l6ZXNFbmFibGVkKCEwKX07XG5CbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUucmVnaXN0ZXJCdXR0b25DYWxsYmFjaz1mdW5jdGlvbihhLGIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGIpdGhyb3cgVHlwZUVycm9yKFwiQnV0dG9uIGNhbGxiYWNrcyBtdXN0IGJlIGZ1bmN0aW9ucy5cIik7dGhpcy5mbHlvdXRCdXR0b25DYWxsYmFja3NfW2FdPWJ9O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5nZXRCdXR0b25DYWxsYmFjaz1mdW5jdGlvbihhKXtyZXR1cm4oYT10aGlzLmZseW91dEJ1dHRvbkNhbGxiYWNrc19bYV0pP2E6bnVsbH07QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLnJlbW92ZUJ1dHRvbkNhbGxiYWNrPWZ1bmN0aW9uKGEpe3RoaXMuZmx5b3V0QnV0dG9uQ2FsbGJhY2tzX1thXT1udWxsfTtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5yZWdpc3RlclRvb2xib3hDYXRlZ29yeUNhbGxiYWNrPWZ1bmN0aW9uKGEsYil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYil0aHJvdyBUeXBlRXJyb3IoXCJUb29sYm94IGNhdGVnb3J5IGNhbGxiYWNrcyBtdXN0IGJlIGZ1bmN0aW9ucy5cIik7dGhpcy50b29sYm94Q2F0ZWdvcnlDYWxsYmFja3NfW2FdPWJ9O0Jsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5nZXRUb29sYm94Q2F0ZWdvcnlDYWxsYmFjaz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50b29sYm94Q2F0ZWdvcnlDYWxsYmFja3NfW2FdfHxudWxsfTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUucmVtb3ZlVG9vbGJveENhdGVnb3J5Q2FsbGJhY2s9ZnVuY3Rpb24oYSl7dGhpcy50b29sYm94Q2F0ZWdvcnlDYWxsYmFja3NfW2FdPW51bGx9O1xuQmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmdldEdlc3R1cmU9ZnVuY3Rpb24oYSl7dmFyIGI9XCJtb3VzZWRvd25cIj09YS50eXBlfHxcInRvdWNoc3RhcnRcIj09YS50eXBlfHxcInBvaW50ZXJkb3duXCI9PWEudHlwZSxjPXRoaXMuY3VycmVudEdlc3R1cmVfO3JldHVybiBjP2ImJmMuaGFzU3RhcnRlZCgpPyhjb25zb2xlLndhcm4oXCJUcmllZCB0byBzdGFydCB0aGUgc2FtZSBnZXN0dXJlIHR3aWNlLlwiKSxjLmNhbmNlbCgpLG51bGwpOmM6Yj90aGlzLmN1cnJlbnRHZXN0dXJlXz1uZXcgQmxvY2tseS5Ub3VjaEdlc3R1cmUoYSx0aGlzKTpudWxsfTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuY2xlYXJHZXN0dXJlPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50R2VzdHVyZV89bnVsbH07QmxvY2tseS5Xb3Jrc3BhY2VTdmcucHJvdG90eXBlLmNhbmNlbEN1cnJlbnRHZXN0dXJlPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50R2VzdHVyZV8mJnRoaXMuY3VycmVudEdlc3R1cmVfLmNhbmNlbCgpfTtcbkJsb2NrbHkuV29ya3NwYWNlU3ZnLnByb3RvdHlwZS5nZXRBdWRpb01hbmFnZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdWRpb01hbmFnZXJffTtCbG9ja2x5LldvcmtzcGFjZVN2Zy5wcm90b3R5cGUuZ2V0R3JpZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdyaWRffTtCbG9ja2x5LmluamVjdD1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuY2hlY2tCbG9ja0NvbG91ckNvbnN0YW50cygpO1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKXx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhKSk7aWYoIWF8fCFCbG9ja2x5LnV0aWxzLmRvbS5jb250YWluc05vZGUoZG9jdW1lbnQsYSkpdGhyb3cgRXJyb3IoXCJFcnJvcjogY29udGFpbmVyIGlzIG5vdCBpbiBjdXJyZW50IGRvY3VtZW50LlwiKTtiPW5ldyBCbG9ja2x5Lk9wdGlvbnMoYnx8e30pO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5jbGFzc05hbWU9XCJpbmplY3Rpb25EaXZcIjtjLnRhYkluZGV4PTA7QmxvY2tseS51dGlscy5hcmlhLnNldFN0YXRlKGMsQmxvY2tseS51dGlscy5hcmlhLlN0YXRlLkxBQkVMLEJsb2NrbHkuTXNnLldPUktTUEFDRV9BUklBX0xBQkVMKTthLmFwcGVuZENoaWxkKGMpO2E9QmxvY2tseS5jcmVhdGVEb21fKGMsYik7dmFyIGQ9XG5uZXcgQmxvY2tseS5CbG9ja0RyYWdTdXJmYWNlU3ZnKGMpLGU9bmV3IEJsb2NrbHkuV29ya3NwYWNlRHJhZ1N1cmZhY2VTdmcoYyksZj1CbG9ja2x5LmNyZWF0ZU1haW5Xb3Jrc3BhY2VfKGEsYixkLGUpO0Jsb2NrbHkudXNlci5rZXlNYXAuc2V0S2V5TWFwKGIua2V5TWFwKTtCbG9ja2x5LmluaXRfKGYpO0Jsb2NrbHkubWFpbldvcmtzcGFjZT1mO0Jsb2NrbHkuc3ZnUmVzaXplKGYpO2MuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIixmdW5jdGlvbigpe0Jsb2NrbHkubWFpbldvcmtzcGFjZT1mfSk7cmV0dXJuIGZ9O1xuQmxvY2tseS5jcmVhdGVEb21fPWZ1bmN0aW9uKGEsYil7YS5zZXRBdHRyaWJ1dGUoXCJkaXJcIixcIkxUUlwiKTtCbG9ja2x5LkNvbXBvbmVudC5kZWZhdWx0UmlnaHRUb0xlZnQ9Yi5SVEw7QmxvY2tseS5Dc3MuaW5qZWN0KGIuaGFzQ3NzLGIucGF0aFRvTWVkaWEpO2E9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInN2Z1wiLHt4bWxuczpCbG9ja2x5LnV0aWxzLmRvbS5TVkdfTlMsXCJ4bWxuczpodG1sXCI6QmxvY2tseS51dGlscy5kb20uSFRNTF9OUyxcInhtbG5zOnhsaW5rXCI6QmxvY2tseS51dGlscy5kb20uWExJTktfTlMsdmVyc2lvbjpcIjEuMVwiLFwiY2xhc3NcIjpcImJsb2NrbHlTdmdcIix0YWJpbmRleDpcIjBcIn0sYSk7dmFyIGM9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImRlZnNcIix7fSxhKSxkPVN0cmluZyhNYXRoLnJhbmRvbSgpKS5zdWJzdHJpbmcoMik7Yi5ncmlkUGF0dGVybj1CbG9ja2x5LkdyaWQuY3JlYXRlRG9tKGQsYi5ncmlkT3B0aW9ucyxjKTtcbnJldHVybiBhfTtcbkJsb2NrbHkuY3JlYXRlTWFpbldvcmtzcGFjZV89ZnVuY3Rpb24oYSxiLGMsZCl7Yi5wYXJlbnRXb3Jrc3BhY2U9bnVsbDt2YXIgZT1uZXcgQmxvY2tseS5Xb3Jrc3BhY2VTdmcoYixjLGQpO2I9ZS5vcHRpb25zO2Uuc2NhbGU9Yi56b29tT3B0aW9ucy5zdGFydFNjYWxlO2EuYXBwZW5kQ2hpbGQoZS5jcmVhdGVEb20oXCJibG9ja2x5TWFpbkJhY2tncm91bmRcIikpO0Jsb2NrbHkudXRpbHMuZG9tLmFkZENsYXNzKGUuZ2V0SW5qZWN0aW9uRGl2KCksZS5nZXRSZW5kZXJlcigpLmdldENsYXNzTmFtZSgpKTtCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyhlLmdldEluamVjdGlvbkRpdigpLGUuZ2V0VGhlbWUoKS5nZXRDbGFzc05hbWUoKSk7IWIuaGFzQ2F0ZWdvcmllcyYmYi5sYW5ndWFnZVRyZWUmJihjPWUuYWRkRmx5b3V0KFwic3ZnXCIpLEJsb2NrbHkudXRpbHMuZG9tLmluc2VydEFmdGVyKGMsYSkpO2IuaGFzVHJhc2hjYW4mJmUuYWRkVHJhc2hjYW4oKTtiLnpvb21PcHRpb25zJiZiLnpvb21PcHRpb25zLmNvbnRyb2xzJiZcbmUuYWRkWm9vbUNvbnRyb2xzKCk7ZS5nZXRUaGVtZU1hbmFnZXIoKS5zdWJzY3JpYmUoYSxcIndvcmtzcGFjZUJhY2tncm91bmRDb2xvdXJcIixcImJhY2tncm91bmQtY29sb3JcIik7ZS50cmFuc2xhdGUoMCwwKTtiLnJlYWRPbmx5fHxlLmlzTW92YWJsZSgpfHxlLmFkZENoYW5nZUxpc3RlbmVyKGZ1bmN0aW9uKGEpe2lmKCFlLmlzRHJhZ2dpbmcoKSYmIWUuaXNNb3ZhYmxlKCkmJi0xIT1CbG9ja2x5LkV2ZW50cy5CVU1QX0VWRU5UUy5pbmRleE9mKGEudHlwZSkpe3ZhciBiPU9iamVjdC5jcmVhdGUobnVsbCksYz1lLmdldE1ldHJpY3MoKSxkPWUuc2NhbGU7Yi5SVEw9ZS5SVEw7Yi52aWV3TGVmdD1jLnZpZXdMZWZ0L2Q7Yi52aWV3VG9wPWMudmlld1RvcC9kO2Iudmlld1JpZ2h0PShjLnZpZXdMZWZ0K2Mudmlld1dpZHRoKS9kO2Iudmlld0JvdHRvbT0oYy52aWV3VG9wK2Mudmlld0hlaWdodCkvZDtlLmlzQ29udGVudEJvdW5kZWQoKT8oYz1lLmdldEJsb2Nrc0JvdW5kaW5nQm94KCksYi5jb250ZW50TGVmdD1cbmMubGVmdCxiLmNvbnRlbnRUb3A9Yy50b3AsYi5jb250ZW50UmlnaHQ9Yy5yaWdodCxiLmNvbnRlbnRCb3R0b209Yy5ib3R0b20pOihiLmNvbnRlbnRMZWZ0PWMuY29udGVudExlZnQvZCxiLmNvbnRlbnRUb3A9Yy5jb250ZW50VG9wL2QsYi5jb250ZW50UmlnaHQ9KGMuY29udGVudExlZnQrYy5jb250ZW50V2lkdGgpL2QsYi5jb250ZW50Qm90dG9tPShjLmNvbnRlbnRUb3ArYy5jb250ZW50SGVpZ2h0KS9kKTtpZihiLmNvbnRlbnRUb3A8Yi52aWV3VG9wfHxiLmNvbnRlbnRCb3R0b20+Yi52aWV3Qm90dG9tfHxiLmNvbnRlbnRMZWZ0PGIudmlld0xlZnR8fGIuY29udGVudFJpZ2h0PmIudmlld1JpZ2h0KXtjPW51bGw7YSYmKGM9QmxvY2tseS5FdmVudHMuZ2V0R3JvdXAoKSxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cChhLmdyb3VwKSk7c3dpdGNoKGEudHlwZSl7Y2FzZSBCbG9ja2x5LkV2ZW50cy5CTE9DS19DUkVBVEU6Y2FzZSBCbG9ja2x5LkV2ZW50cy5CTE9DS19NT1ZFOnZhciBmPVxuZS5nZXRCbG9ja0J5SWQoYS5ibG9ja0lkKTtmJiYoZj1mLmdldFJvb3RCbG9jaygpKTticmVhaztjYXNlIEJsb2NrbHkuRXZlbnRzLkNPTU1FTlRfQ1JFQVRFOmNhc2UgQmxvY2tseS5FdmVudHMuQ09NTUVOVF9NT1ZFOmY9ZS5nZXRDb21tZW50QnlJZChhLmNvbW1lbnRJZCl9aWYoZil7ZD1mLmdldEJvdW5kaW5nUmVjdGFuZ2xlKCk7ZC5oZWlnaHQ9ZC5ib3R0b20tZC50b3A7ZC53aWR0aD1kLnJpZ2h0LWQubGVmdDt2YXIgbT1iLnZpZXdUb3Asbj1iLnZpZXdCb3R0b20tZC5oZWlnaHQ7bj1NYXRoLm1heChtLG4pO209QmxvY2tseS51dGlscy5tYXRoLmNsYW1wKG0sZC50b3AsbiktZC50b3A7bj1iLnZpZXdMZWZ0O3ZhciBwPWIudmlld1JpZ2h0LWQud2lkdGg7Yi5SVEw/bj1NYXRoLm1pbihwLG4pOnA9TWF0aC5tYXgobixwKTtiPUJsb2NrbHkudXRpbHMubWF0aC5jbGFtcChuLGQubGVmdCxwKS1kLmxlZnQ7Zi5tb3ZlQnkoYixtKX1hJiYoIWEuZ3JvdXAmJmYmJmNvbnNvbGUubG9nKFwiV0FSTklORzogTW92ZWQgb2JqZWN0IGluIGJvdW5kcyBidXQgdGhlcmUgd2FzIG5vIGV2ZW50IGdyb3VwLiBUaGlzIG1heSBicmVhayB1bmRvLlwiKSxcbm51bGwhPT1jJiZCbG9ja2x5LkV2ZW50cy5zZXRHcm91cChjKSl9fX0pO0Jsb2NrbHkuc3ZnUmVzaXplKGUpO0Jsb2NrbHkuV2lkZ2V0RGl2LmNyZWF0ZURvbSgpO0Jsb2NrbHkuRHJvcERvd25EaXYuY3JlYXRlRG9tKCk7QmxvY2tseS5Ub29sdGlwLmNyZWF0ZURvbSgpO3JldHVybiBlfTtcbkJsb2NrbHkuaW5pdF89ZnVuY3Rpb24oYSl7dmFyIGI9YS5vcHRpb25zLGM9YS5nZXRQYXJlbnRTdmcoKTtCbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGMucGFyZW50Tm9kZSxcImNvbnRleHRtZW51XCIsbnVsbCxmdW5jdGlvbihhKXtCbG9ja2x5LnV0aWxzLmlzVGFyZ2V0SW5wdXQoYSl8fGEucHJldmVudERlZmF1bHQoKX0pO2M9QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyh3aW5kb3csXCJyZXNpemVcIixudWxsLGZ1bmN0aW9uKCl7QmxvY2tseS5oaWRlQ2hhZmYoITApO0Jsb2NrbHkuc3ZnUmVzaXplKGEpfSk7YS5zZXRSZXNpemVIYW5kbGVyV3JhcHBlcihjKTtCbG9ja2x5LmluamVjdC5iaW5kRG9jdW1lbnRFdmVudHNfKCk7aWYoYi5sYW5ndWFnZVRyZWUpe2M9YS5nZXRUb29sYm94KCk7dmFyIGQ9YS5nZXRGbHlvdXQoITApO2M/Yy5pbml0KCk6ZCYmKGQuaW5pdChhKSxkLnNob3coYi5sYW5ndWFnZVRyZWUuY2hpbGROb2RlcyksZC5zY3JvbGxUb1N0YXJ0KCkpfWM9QmxvY2tseS5TY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzO1xuYi5oYXNUcmFzaGNhbiYmKGM9YS50cmFzaGNhbi5pbml0KGMpKTtiLnpvb21PcHRpb25zJiZiLnpvb21PcHRpb25zLmNvbnRyb2xzJiZhLnpvb21Db250cm9sc18uaW5pdChjKTtiLm1vdmVPcHRpb25zJiZiLm1vdmVPcHRpb25zLnNjcm9sbGJhcnM/KGEuc2Nyb2xsYmFyPW5ldyBCbG9ja2x5LlNjcm9sbGJhclBhaXIoYSksYS5zY3JvbGxiYXIucmVzaXplKCkpOmEuc2V0TWV0cmljcyh7eDouNSx5Oi41fSk7Yi5oYXNTb3VuZHMmJkJsb2NrbHkuaW5qZWN0LmxvYWRTb3VuZHNfKGIucGF0aFRvTWVkaWEsYSl9O1xuQmxvY2tseS5pbmplY3QuYmluZERvY3VtZW50RXZlbnRzXz1mdW5jdGlvbigpe0Jsb2NrbHkuZG9jdW1lbnRFdmVudHNCb3VuZF98fChCbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGRvY3VtZW50LFwic2Nyb2xsXCIsbnVsbCxmdW5jdGlvbigpe2Zvcih2YXIgYT1CbG9ja2x5LldvcmtzcGFjZS5nZXRBbGwoKSxiPTAsYztjPWFbYl07YisrKWMudXBkYXRlSW52ZXJzZVNjcmVlbkNUTSYmYy51cGRhdGVJbnZlcnNlU2NyZWVuQ1RNKCl9KSxCbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGRvY3VtZW50LFwia2V5ZG93blwiLG51bGwsQmxvY2tseS5vbktleURvd24pLEJsb2NrbHkuYmluZEV2ZW50Xyhkb2N1bWVudCxcInRvdWNoZW5kXCIsbnVsbCxCbG9ja2x5LmxvbmdTdG9wXyksQmxvY2tseS5iaW5kRXZlbnRfKGRvY3VtZW50LFwidG91Y2hjYW5jZWxcIixudWxsLEJsb2NrbHkubG9uZ1N0b3BfKSxCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5JUEFEJiZCbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKHdpbmRvdyxcblwib3JpZW50YXRpb25jaGFuZ2VcIixkb2N1bWVudCxmdW5jdGlvbigpe0Jsb2NrbHkuc3ZnUmVzaXplKEJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpKX0pKTtCbG9ja2x5LmRvY3VtZW50RXZlbnRzQm91bmRfPSEwfTtcbkJsb2NrbHkuaW5qZWN0LmxvYWRTb3VuZHNfPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXRBdWRpb01hbmFnZXIoKTtjLmxvYWQoW2ErXCJjbGljay5tcDNcIixhK1wiY2xpY2sud2F2XCIsYStcImNsaWNrLm9nZ1wiXSxcImNsaWNrXCIpO2MubG9hZChbYStcImRpc2Nvbm5lY3Qud2F2XCIsYStcImRpc2Nvbm5lY3QubXAzXCIsYStcImRpc2Nvbm5lY3Qub2dnXCJdLFwiZGlzY29ubmVjdFwiKTtjLmxvYWQoW2ErXCJkZWxldGUubXAzXCIsYStcImRlbGV0ZS5vZ2dcIixhK1wiZGVsZXRlLndhdlwiXSxcImRlbGV0ZVwiKTt2YXIgZD1bXTthPWZ1bmN0aW9uKCl7Zm9yKDtkLmxlbmd0aDspQmxvY2tseS51bmJpbmRFdmVudF8oZC5wb3AoKSk7Yy5wcmVsb2FkKCl9O2QucHVzaChCbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGRvY3VtZW50LFwibW91c2Vtb3ZlXCIsbnVsbCxhLCEwKSk7ZC5wdXNoKEJsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18oZG9jdW1lbnQsXCJ0b3VjaHN0YXJ0XCIsbnVsbCxhLCEwKSl9O0Jsb2NrbHkuTmFtZXM9ZnVuY3Rpb24oYSxiKXt0aGlzLnZhcmlhYmxlUHJlZml4Xz1ifHxcIlwiO3RoaXMucmVzZXJ2ZWREaWN0Xz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKGEpZm9yKGE9YS5zcGxpdChcIixcIiksYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMucmVzZXJ2ZWREaWN0X1thW2JdXT0hMDt0aGlzLnJlc2V0KCl9O0Jsb2NrbHkuTmFtZXMuREVWRUxPUEVSX1ZBUklBQkxFX1RZUEU9XCJERVZFTE9QRVJfVkFSSUFCTEVcIjtCbG9ja2x5Lk5hbWVzLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZGJfPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5kYlJldmVyc2VfPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy52YXJpYWJsZU1hcF89bnVsbH07QmxvY2tseS5OYW1lcy5wcm90b3R5cGUuc2V0VmFyaWFibGVNYXA9ZnVuY3Rpb24oYSl7dGhpcy52YXJpYWJsZU1hcF89YX07XG5CbG9ja2x5Lk5hbWVzLnByb3RvdHlwZS5nZXROYW1lRm9yVXNlclZhcmlhYmxlXz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52YXJpYWJsZU1hcF8/KGE9dGhpcy52YXJpYWJsZU1hcF8uZ2V0VmFyaWFibGVCeUlkKGEpKT9hLm5hbWU6bnVsbDooY29uc29sZS5sb2coXCJEZXByZWNhdGVkIGNhbGwgdG8gQmxvY2tseS5OYW1lcy5wcm90b3R5cGUuZ2V0TmFtZSB3aXRob3V0IGRlZmluaW5nIGEgdmFyaWFibGUgbWFwLiBUbyBmaXgsIGFkZCB0aGUgZm9sbG93aW5nIGNvZGUgaW4geW91ciBnZW5lcmF0b3IncyBpbml0KCkgZnVuY3Rpb246XFxuQmxvY2tseS5Zb3VyR2VuZXJhdG9yTmFtZS52YXJpYWJsZURCXy5zZXRWYXJpYWJsZU1hcCh3b3Jrc3BhY2UuZ2V0VmFyaWFibGVNYXAoKSk7XCIpLG51bGwpfTtcbkJsb2NrbHkuTmFtZXMucHJvdG90eXBlLmdldE5hbWU9ZnVuY3Rpb24oYSxiKXtpZihiPT1CbG9ja2x5LlZBUklBQkxFX0NBVEVHT1JZX05BTUUpe3ZhciBjPXRoaXMuZ2V0TmFtZUZvclVzZXJWYXJpYWJsZV8oYSk7YyYmKGE9Yyl9Yz1hLnRvTG93ZXJDYXNlKCkrXCJfXCIrYjt2YXIgZD1iPT1CbG9ja2x5LlZBUklBQkxFX0NBVEVHT1JZX05BTUV8fGI9PUJsb2NrbHkuTmFtZXMuREVWRUxPUEVSX1ZBUklBQkxFX1RZUEU/dGhpcy52YXJpYWJsZVByZWZpeF86XCJcIjtpZihjIGluIHRoaXMuZGJfKXJldHVybiBkK3RoaXMuZGJfW2NdO2E9dGhpcy5nZXREaXN0aW5jdE5hbWUoYSxiKTt0aGlzLmRiX1tjXT1hLnN1YnN0cihkLmxlbmd0aCk7cmV0dXJuIGF9O1xuQmxvY2tseS5OYW1lcy5wcm90b3R5cGUuZ2V0RGlzdGluY3ROYW1lPWZ1bmN0aW9uKGEsYil7YT10aGlzLnNhZmVOYW1lXyhhKTtmb3IodmFyIGM9XCJcIjt0aGlzLmRiUmV2ZXJzZV9bYStjXXx8YStjIGluIHRoaXMucmVzZXJ2ZWREaWN0XzspYz1jP2MrMToyO2ErPWM7dGhpcy5kYlJldmVyc2VfW2FdPSEwO3JldHVybihiPT1CbG9ja2x5LlZBUklBQkxFX0NBVEVHT1JZX05BTUV8fGI9PUJsb2NrbHkuTmFtZXMuREVWRUxPUEVSX1ZBUklBQkxFX1RZUEU/dGhpcy52YXJpYWJsZVByZWZpeF86XCJcIikrYX07QmxvY2tseS5OYW1lcy5wcm90b3R5cGUuc2FmZU5hbWVfPWZ1bmN0aW9uKGEpe2E/KGE9ZW5jb2RlVVJJKGEucmVwbGFjZSgvIC9nLFwiX1wiKSkucmVwbGFjZSgvW15cXHddL2csXCJfXCIpLC0xIT1cIjAxMjM0NTY3ODlcIi5pbmRleE9mKGFbMF0pJiYoYT1cIm15X1wiK2EpKTphPUJsb2NrbHkuTXNnLlVOTkFNRURfS0VZfHxcInVubmFtZWRcIjtyZXR1cm4gYX07XG5CbG9ja2x5Lk5hbWVzLmVxdWFscz1mdW5jdGlvbihhLGIpe3JldHVybiBhLnRvTG93ZXJDYXNlKCk9PWIudG9Mb3dlckNhc2UoKX07QmxvY2tseS5Qcm9jZWR1cmVzPXt9O0Jsb2NrbHkuUHJvY2VkdXJlcy5OQU1FX1RZUEU9QmxvY2tseS5QUk9DRURVUkVfQ0FURUdPUllfTkFNRTtCbG9ja2x5LlByb2NlZHVyZXMuREVGQVVMVF9BUkc9XCJ4XCI7QmxvY2tseS5Qcm9jZWR1cmVzLmFsbFByb2NlZHVyZXM9ZnVuY3Rpb24oYSl7YT1hLmdldEFsbEJsb2NrcyghMSk7Zm9yKHZhciBiPVtdLGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGFbZF0uZ2V0UHJvY2VkdXJlRGVmKXt2YXIgZT1hW2RdLmdldFByb2NlZHVyZURlZigpO2UmJihlWzJdP2IucHVzaChlKTpjLnB1c2goZSkpfWMuc29ydChCbG9ja2x5LlByb2NlZHVyZXMucHJvY1R1cGxlQ29tcGFyYXRvcl8pO2Iuc29ydChCbG9ja2x5LlByb2NlZHVyZXMucHJvY1R1cGxlQ29tcGFyYXRvcl8pO3JldHVybltjLGJdfTtCbG9ja2x5LlByb2NlZHVyZXMucHJvY1R1cGxlQ29tcGFyYXRvcl89ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYVswXS50b0xvd2VyQ2FzZSgpLmxvY2FsZUNvbXBhcmUoYlswXS50b0xvd2VyQ2FzZSgpKX07XG5CbG9ja2x5LlByb2NlZHVyZXMuZmluZExlZ2FsTmFtZT1mdW5jdGlvbihhLGIpe2lmKGIuaXNJbkZseW91dClyZXR1cm4gYTtmb3IoYT1hfHxCbG9ja2x5Lk1zZy5VTk5BTUVEX0tFWXx8XCJ1bm5hbWVkXCI7IUJsb2NrbHkuUHJvY2VkdXJlcy5pc0xlZ2FsTmFtZV8oYSxiLndvcmtzcGFjZSxiKTspe3ZhciBjPWEubWF0Y2goL14oLio/KShcXGQrKSQvKTthPWM/Y1sxXSsocGFyc2VJbnQoY1syXSwxMCkrMSk6YStcIjJcIn1yZXR1cm4gYX07QmxvY2tseS5Qcm9jZWR1cmVzLmlzTGVnYWxOYW1lXz1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIUJsb2NrbHkuUHJvY2VkdXJlcy5pc05hbWVVc2VkKGEsYixjKX07XG5CbG9ja2x5LlByb2NlZHVyZXMuaXNOYW1lVXNlZD1mdW5jdGlvbihhLGIsYyl7Yj1iLmdldEFsbEJsb2NrcyghMSk7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspaWYoYltkXSE9YyYmYltkXS5nZXRQcm9jZWR1cmVEZWYpe3ZhciBlPWJbZF0uZ2V0UHJvY2VkdXJlRGVmKCk7aWYoQmxvY2tseS5OYW1lcy5lcXVhbHMoZVswXSxhKSlyZXR1cm4hMH1yZXR1cm4hMX07QmxvY2tseS5Qcm9jZWR1cmVzLnJlbmFtZT1mdW5jdGlvbihhKXthPWEudHJpbSgpO3ZhciBiPUJsb2NrbHkuUHJvY2VkdXJlcy5maW5kTGVnYWxOYW1lKGEsdGhpcy5nZXRTb3VyY2VCbG9jaygpKSxjPXRoaXMuZ2V0VmFsdWUoKTtpZihjIT1hJiZjIT1iKXthPXRoaXMuZ2V0U291cmNlQmxvY2soKS53b3Jrc3BhY2UuZ2V0QWxsQmxvY2tzKCExKTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylhW2RdLnJlbmFtZVByb2NlZHVyZSYmYVtkXS5yZW5hbWVQcm9jZWR1cmUoYyxiKX1yZXR1cm4gYn07XG5CbG9ja2x5LlByb2NlZHVyZXMuZmx5b3V0Q2F0ZWdvcnk9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hW2RdWzBdLGY9YVtkXVsxXSxnPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJibG9ja1wiKTtnLnNldEF0dHJpYnV0ZShcInR5cGVcIixiKTtnLnNldEF0dHJpYnV0ZShcImdhcFwiLDE2KTt2YXIgbj1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwibXV0YXRpb25cIik7bi5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsZSk7Zy5hcHBlbmRDaGlsZChuKTtmb3IoZT0wO2U8Zi5sZW5ndGg7ZSsrKXt2YXIgcD1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiYXJnXCIpO3Auc2V0QXR0cmlidXRlKFwibmFtZVwiLGZbZV0pO24uYXBwZW5kQ2hpbGQocCl9Yy5wdXNoKGcpfX12YXIgYz1bXTtpZihCbG9ja2x5LkJsb2Nrcy5wcm9jZWR1cmVzX2RlZm5vcmV0dXJuKXt2YXIgZD1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiYmxvY2tcIik7XG5kLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInByb2NlZHVyZXNfZGVmbm9yZXR1cm5cIik7ZC5zZXRBdHRyaWJ1dGUoXCJnYXBcIiwxNik7dmFyIGU9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcImZpZWxkXCIpO2Uuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiTkFNRVwiKTtlLmFwcGVuZENoaWxkKEJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZVRleHROb2RlKEJsb2NrbHkuTXNnLlBST0NFRFVSRVNfREVGTk9SRVRVUk5fUFJPQ0VEVVJFKSk7ZC5hcHBlbmRDaGlsZChlKTtjLnB1c2goZCl9QmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19kZWZyZXR1cm4mJihkPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJibG9ja1wiKSxkLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInByb2NlZHVyZXNfZGVmcmV0dXJuXCIpLGQuc2V0QXR0cmlidXRlKFwiZ2FwXCIsMTYpLGU9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcImZpZWxkXCIpLGUuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiTkFNRVwiKSxlLmFwcGVuZENoaWxkKEJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZVRleHROb2RlKEJsb2NrbHkuTXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX1BST0NFRFVSRSkpLFxuZC5hcHBlbmRDaGlsZChlKSxjLnB1c2goZCkpO0Jsb2NrbHkuQmxvY2tzLnByb2NlZHVyZXNfaWZyZXR1cm4mJihkPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJibG9ja1wiKSxkLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInByb2NlZHVyZXNfaWZyZXR1cm5cIiksZC5zZXRBdHRyaWJ1dGUoXCJnYXBcIiwxNiksYy5wdXNoKGQpKTtjLmxlbmd0aCYmY1tjLmxlbmd0aC0xXS5zZXRBdHRyaWJ1dGUoXCJnYXBcIiwyNCk7YT1CbG9ja2x5LlByb2NlZHVyZXMuYWxsUHJvY2VkdXJlcyhhKTtiKGFbMF0sXCJwcm9jZWR1cmVzX2NhbGxub3JldHVyblwiKTtiKGFbMV0sXCJwcm9jZWR1cmVzX2NhbGxyZXR1cm5cIik7cmV0dXJuIGN9O1xuQmxvY2tseS5Qcm9jZWR1cmVzLnVwZGF0ZU11dGF0b3JGbHlvdXRfPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPWEuZ2V0QmxvY2tzQnlUeXBlKFwicHJvY2VkdXJlc19tdXRhdG9yYXJnXCIsITEpLGQ9MCxlO2U9Y1tkXTtkKyspYi5wdXNoKGUuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIikpO2M9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcInhtbFwiKTtkPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJibG9ja1wiKTtkLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInByb2NlZHVyZXNfbXV0YXRvcmFyZ1wiKTtlPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJmaWVsZFwiKTtlLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIk5BTUVcIik7Yj1CbG9ja2x5LlZhcmlhYmxlcy5nZW5lcmF0ZVVuaXF1ZU5hbWVGcm9tT3B0aW9ucyhCbG9ja2x5LlByb2NlZHVyZXMuREVGQVVMVF9BUkcsYik7Yj1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVUZXh0Tm9kZShiKTtlLmFwcGVuZENoaWxkKGIpO1xuZC5hcHBlbmRDaGlsZChlKTtjLmFwcGVuZENoaWxkKGQpO2EudXBkYXRlVG9vbGJveChjKX07QmxvY2tseS5Qcm9jZWR1cmVzLm11dGF0b3JPcGVuTGlzdGVuZXI9ZnVuY3Rpb24oYSl7aWYoYS50eXBlPT1CbG9ja2x5LkV2ZW50cy5VSSYmXCJtdXRhdG9yT3BlblwiPT1hLmVsZW1lbnQmJmEubmV3VmFsdWUpe2E9QmxvY2tseS5Xb3Jrc3BhY2UuZ2V0QnlJZChhLndvcmtzcGFjZUlkKS5nZXRCbG9ja0J5SWQoYS5ibG9ja0lkKTt2YXIgYj1hLnR5cGU7aWYoXCJwcm9jZWR1cmVzX2RlZm5vcmV0dXJuXCI9PWJ8fFwicHJvY2VkdXJlc19kZWZyZXR1cm5cIj09YilhPWEubXV0YXRvci5nZXRXb3Jrc3BhY2UoKSxCbG9ja2x5LlByb2NlZHVyZXMudXBkYXRlTXV0YXRvckZseW91dF8oYSksYS5hZGRDaGFuZ2VMaXN0ZW5lcihCbG9ja2x5LlByb2NlZHVyZXMubXV0YXRvckNoYW5nZUxpc3RlbmVyXyl9fTtcbkJsb2NrbHkuUHJvY2VkdXJlcy5tdXRhdG9yQ2hhbmdlTGlzdGVuZXJfPWZ1bmN0aW9uKGEpe2lmKGEudHlwZT09QmxvY2tseS5FdmVudHMuQkxPQ0tfQ1JFQVRFfHxhLnR5cGU9PUJsb2NrbHkuRXZlbnRzLkJMT0NLX0RFTEVURXx8YS50eXBlPT1CbG9ja2x5LkV2ZW50cy5CTE9DS19DSEFOR0UpYT1CbG9ja2x5LldvcmtzcGFjZS5nZXRCeUlkKGEud29ya3NwYWNlSWQpLEJsb2NrbHkuUHJvY2VkdXJlcy51cGRhdGVNdXRhdG9yRmx5b3V0XyhhKX07QmxvY2tseS5Qcm9jZWR1cmVzLmdldENhbGxlcnM9ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtiPWIuZ2V0QWxsQmxvY2tzKCExKTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKylpZihiW2RdLmdldFByb2NlZHVyZUNhbGwpe3ZhciBlPWJbZF0uZ2V0UHJvY2VkdXJlQ2FsbCgpO2UmJkJsb2NrbHkuTmFtZXMuZXF1YWxzKGUsYSkmJmMucHVzaChiW2RdKX1yZXR1cm4gY307XG5CbG9ja2x5LlByb2NlZHVyZXMubXV0YXRlQ2FsbGVycz1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LkV2ZW50cy5yZWNvcmRVbmRvLGM9YS5nZXRQcm9jZWR1cmVEZWYoKVswXSxkPWEubXV0YXRpb25Ub0RvbSghMCk7YT1CbG9ja2x5LlByb2NlZHVyZXMuZ2V0Q2FsbGVycyhjLGEud29ya3NwYWNlKTtjPTA7Zm9yKHZhciBlO2U9YVtjXTtjKyspe3ZhciBmPWUubXV0YXRpb25Ub0RvbSgpO2Y9ZiYmQmxvY2tseS5YbWwuZG9tVG9UZXh0KGYpO2UuZG9tVG9NdXRhdGlvbihkKTt2YXIgZz1lLm11dGF0aW9uVG9Eb20oKTtnPWcmJkJsb2NrbHkuWG1sLmRvbVRvVGV4dChnKTtmIT1nJiYoQmxvY2tseS5FdmVudHMucmVjb3JkVW5kbz0hMSxCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5CbG9ja0NoYW5nZShlLFwibXV0YXRpb25cIixudWxsLGYsZykpLEJsb2NrbHkuRXZlbnRzLnJlY29yZFVuZG89Yil9fTtcbkJsb2NrbHkuUHJvY2VkdXJlcy5nZXREZWZpbml0aW9uPWZ1bmN0aW9uKGEsYil7Yj1iLmdldFRvcEJsb2NrcyghMSk7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXS5nZXRQcm9jZWR1cmVEZWYpe3ZhciBkPWJbY10uZ2V0UHJvY2VkdXJlRGVmKCk7aWYoZCYmQmxvY2tseS5OYW1lcy5lcXVhbHMoZFswXSxhKSlyZXR1cm4gYltjXX1yZXR1cm4gbnVsbH07QmxvY2tseS5WYXJpYWJsZU1vZGVsPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMud29ya3NwYWNlPWE7dGhpcy5uYW1lPWI7dGhpcy50eXBlPWN8fFwiXCI7dGhpcy5pZF89ZHx8QmxvY2tseS51dGlscy5nZW5VaWQoKTtCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5WYXJDcmVhdGUodGhpcykpfTtCbG9ja2x5LlZhcmlhYmxlTW9kZWwucHJvdG90eXBlLmdldElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWRffTtCbG9ja2x5LlZhcmlhYmxlTW9kZWwuY29tcGFyZUJ5TmFtZT1mdW5jdGlvbihhLGIpe2E9YS5uYW1lLnRvTG93ZXJDYXNlKCk7Yj1iLm5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gYTxiPy0xOmE9PWI/MDoxfTtCbG9ja2x5LlZhcmlhYmxlcz17fTtCbG9ja2x5LlZhcmlhYmxlcy5OQU1FX1RZUEU9QmxvY2tseS5WQVJJQUJMRV9DQVRFR09SWV9OQU1FO0Jsb2NrbHkuVmFyaWFibGVzLmFsbFVzZWRWYXJNb2RlbHM9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBbGxCbG9ja3MoITEpO2E9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXS5nZXRWYXJNb2RlbHMoKTtpZihkKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdLGc9Zi5nZXRJZCgpO2cmJihhW2ddPWYpfX1iPVtdO2ZvcihnIGluIGEpYi5wdXNoKGFbZ10pO3JldHVybiBifTtCbG9ja2x5LlZhcmlhYmxlcy5hbGxVc2VkVmFyaWFibGVzPWZ1bmN0aW9uKCl7Y29uc29sZS53YXJuKFwiRGVwcmVjYXRlZCBjYWxsIHRvIEJsb2NrbHkuVmFyaWFibGVzLmFsbFVzZWRWYXJpYWJsZXMuIFVzZSBCbG9ja2x5LlZhcmlhYmxlcy5hbGxVc2VkVmFyTW9kZWxzIGluc3RlYWQuXFxuSWYgdGhpcyBpcyBhIG1ham9yIGlzc3VlIHBsZWFzZSBmaWxlIGEgYnVnIG9uIEdpdEh1Yi5cIil9O1xuQmxvY2tseS5WYXJpYWJsZXMuQUxMX0RFVkVMT1BFUl9WQVJTX1dBUk5JTkdTX0JZX0JMT0NLX1RZUEVfPXt9O1xuQmxvY2tseS5WYXJpYWJsZXMuYWxsRGV2ZWxvcGVyVmFyaWFibGVzPWZ1bmN0aW9uKGEpe2E9YS5nZXRBbGxCbG9ja3MoITEpO2Zvcih2YXIgYj1PYmplY3QuY3JlYXRlKG51bGwpLGM9MCxkO2Q9YVtjXTtjKyspe3ZhciBlPWQuZ2V0RGV2ZWxvcGVyVmFyaWFibGVzOyFlJiZkLmdldERldmVsb3BlclZhcnMmJihlPWQuZ2V0RGV2ZWxvcGVyVmFycyxCbG9ja2x5LlZhcmlhYmxlcy5BTExfREVWRUxPUEVSX1ZBUlNfV0FSTklOR1NfQllfQkxPQ0tfVFlQRV9bZC50eXBlXXx8KGNvbnNvbGUud2FybihcIkZ1bmN0aW9uIGdldERldmVsb3BlclZhcnMoKSBkZXByZWNhdGVkLiBVc2UgZ2V0RGV2ZWxvcGVyVmFyaWFibGVzKCkgKGJsb2NrIHR5cGUgJ1wiK2QudHlwZStcIicpXCIpLEJsb2NrbHkuVmFyaWFibGVzLkFMTF9ERVZFTE9QRVJfVkFSU19XQVJOSU5HU19CWV9CTE9DS19UWVBFX1tkLnR5cGVdPSEwKSk7aWYoZSlmb3IoZD1lKCksZT0wO2U8ZC5sZW5ndGg7ZSsrKWJbZFtlXV09ITB9cmV0dXJuIE9iamVjdC5rZXlzKGIpfTtcbkJsb2NrbHkuVmFyaWFibGVzLmZseW91dENhdGVnb3J5PWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtjLnNldEF0dHJpYnV0ZShcInRleHRcIixcIiV7QktZX05FV19WQVJJQUJMRX1cIik7Yy5zZXRBdHRyaWJ1dGUoXCJjYWxsYmFja0tleVwiLFwiQ1JFQVRFX1ZBUklBQkxFXCIpO2EucmVnaXN0ZXJCdXR0b25DYWxsYmFjayhcIkNSRUFURV9WQVJJQUJMRVwiLGZ1bmN0aW9uKGEpe0Jsb2NrbHkuVmFyaWFibGVzLmNyZWF0ZVZhcmlhYmxlQnV0dG9uSGFuZGxlcihhLmdldFRhcmdldFdvcmtzcGFjZSgpKX0pO2IucHVzaChjKTthPUJsb2NrbHkuVmFyaWFibGVzLmZseW91dENhdGVnb3J5QmxvY2tzKGEpO3JldHVybiBiPWIuY29uY2F0KGEpfTtcbkJsb2NrbHkuVmFyaWFibGVzLmZseW91dENhdGVnb3J5QmxvY2tzPWZ1bmN0aW9uKGEpe2E9YS5nZXRWYXJpYWJsZXNPZlR5cGUoXCJcIik7dmFyIGI9W107aWYoMDxhLmxlbmd0aCl7dmFyIGM9YVthLmxlbmd0aC0xXTtpZihCbG9ja2x5LkJsb2Nrcy52YXJpYWJsZXNfc2V0KXt2YXIgZD1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiYmxvY2tcIik7ZC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ2YXJpYWJsZXNfc2V0XCIpO2Quc2V0QXR0cmlidXRlKFwiZ2FwXCIsQmxvY2tseS5CbG9ja3MubWF0aF9jaGFuZ2U/ODoyNCk7ZC5hcHBlbmRDaGlsZChCbG9ja2x5LlZhcmlhYmxlcy5nZW5lcmF0ZVZhcmlhYmxlRmllbGREb20oYykpO2IucHVzaChkKX1CbG9ja2x5LkJsb2Nrcy5tYXRoX2NoYW5nZSYmKGQ9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcImJsb2NrXCIpLGQuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwibWF0aF9jaGFuZ2VcIiksZC5zZXRBdHRyaWJ1dGUoXCJnYXBcIixCbG9ja2x5LkJsb2Nrcy52YXJpYWJsZXNfZ2V0P1xuMjA6OCksZC5hcHBlbmRDaGlsZChCbG9ja2x5LlZhcmlhYmxlcy5nZW5lcmF0ZVZhcmlhYmxlRmllbGREb20oYykpLGM9QmxvY2tseS5YbWwudGV4dFRvRG9tKCc8dmFsdWUgbmFtZT1cIkRFTFRBXCI+PHNoYWRvdyB0eXBlPVwibWF0aF9udW1iZXJcIj48ZmllbGQgbmFtZT1cIk5VTVwiPjE8L2ZpZWxkPjwvc2hhZG93PjwvdmFsdWU+JyksZC5hcHBlbmRDaGlsZChjKSxiLnB1c2goZCkpO2lmKEJsb2NrbHkuQmxvY2tzLnZhcmlhYmxlc19nZXQpe2Euc29ydChCbG9ja2x5LlZhcmlhYmxlTW9kZWwuY29tcGFyZUJ5TmFtZSk7Yz0wO2Zvcih2YXIgZTtlPWFbY107YysrKWQ9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcImJsb2NrXCIpLGQuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidmFyaWFibGVzX2dldFwiKSxkLnNldEF0dHJpYnV0ZShcImdhcFwiLDgpLGQuYXBwZW5kQ2hpbGQoQmxvY2tseS5WYXJpYWJsZXMuZ2VuZXJhdGVWYXJpYWJsZUZpZWxkRG9tKGUpKSxiLnB1c2goZCl9fXJldHVybiBifTtcbkJsb2NrbHkuVmFyaWFibGVzLlZBUl9MRVRURVJfT1BUSU9OUz1cImlqa21ub3BxcnN0dXZ3eHl6YWJjZGVmZ2hcIjtCbG9ja2x5LlZhcmlhYmxlcy5nZW5lcmF0ZVVuaXF1ZU5hbWU9ZnVuY3Rpb24oYSl7cmV0dXJuIEJsb2NrbHkuVmFyaWFibGVzLmdlbmVyYXRlVW5pcXVlTmFtZUZyb21PcHRpb25zKEJsb2NrbHkuVmFyaWFibGVzLlZBUl9MRVRURVJfT1BUSU9OUy5jaGFyQXQoMCksYS5nZXRBbGxWYXJpYWJsZU5hbWVzKCkpfTtcbkJsb2NrbHkuVmFyaWFibGVzLmdlbmVyYXRlVW5pcXVlTmFtZUZyb21PcHRpb25zPWZ1bmN0aW9uKGEsYil7aWYoIWIubGVuZ3RoKXJldHVybiBhO2Zvcih2YXIgYz1CbG9ja2x5LlZhcmlhYmxlcy5WQVJfTEVUVEVSX09QVElPTlMsZD1cIlwiLGU9Yy5pbmRleE9mKGEpOzspe2Zvcih2YXIgZj0hMSxnPTA7ZzxiLmxlbmd0aDtnKyspaWYoYltnXS50b0xvd2VyQ2FzZSgpPT1hKXtmPSEwO2JyZWFrfWlmKCFmKXJldHVybiBhO2UrKztlPT1jLmxlbmd0aCYmKGU9MCxkPU51bWJlcihkKSsxKTthPWMuY2hhckF0KGUpK2R9fTtcbkJsb2NrbHkuVmFyaWFibGVzLmNyZWF0ZVZhcmlhYmxlQnV0dG9uSGFuZGxlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Y3x8XCJcIixlPWZ1bmN0aW9uKGMpe0Jsb2NrbHkuVmFyaWFibGVzLnByb21wdE5hbWUoQmxvY2tseS5Nc2cuTkVXX1ZBUklBQkxFX1RJVExFLGMsZnVuY3Rpb24oYyl7aWYoYyl7dmFyIGY9QmxvY2tseS5WYXJpYWJsZXMubmFtZVVzZWRXaXRoQW55VHlwZV8oYyxhKTtpZihmKXtpZihmLnR5cGU9PWQpdmFyIGc9QmxvY2tseS5Nc2cuVkFSSUFCTEVfQUxSRUFEWV9FWElTVFMucmVwbGFjZShcIiUxXCIsZi5uYW1lKTtlbHNlIGc9QmxvY2tseS5Nc2cuVkFSSUFCTEVfQUxSRUFEWV9FWElTVFNfRk9SX0FOT1RIRVJfVFlQRSxnPWcucmVwbGFjZShcIiUxXCIsZi5uYW1lKS5yZXBsYWNlKFwiJTJcIixmLnR5cGUpO0Jsb2NrbHkuYWxlcnQoZyxmdW5jdGlvbigpe2UoYyl9KX1lbHNlIGEuY3JlYXRlVmFyaWFibGUoYyxkKSxiJiZiKGMpfWVsc2UgYiYmYihudWxsKX0pfTtlKFwiXCIpfTtcbkJsb2NrbHkuVmFyaWFibGVzLmNyZWF0ZVZhcmlhYmxlPUJsb2NrbHkuVmFyaWFibGVzLmNyZWF0ZVZhcmlhYmxlQnV0dG9uSGFuZGxlcjtcbkJsb2NrbHkuVmFyaWFibGVzLnJlbmFtZVZhcmlhYmxlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihlKXt2YXIgZj1CbG9ja2x5Lk1zZy5SRU5BTUVfVkFSSUFCTEVfVElUTEUucmVwbGFjZShcIiUxXCIsYi5uYW1lKTtCbG9ja2x5LlZhcmlhYmxlcy5wcm9tcHROYW1lKGYsZSxmdW5jdGlvbihlKXtpZihlKXt2YXIgZj1CbG9ja2x5LlZhcmlhYmxlcy5uYW1lVXNlZFdpdGhPdGhlclR5cGVfKGUsYi50eXBlLGEpO2Y/KGY9QmxvY2tseS5Nc2cuVkFSSUFCTEVfQUxSRUFEWV9FWElTVFNfRk9SX0FOT1RIRVJfVFlQRS5yZXBsYWNlKFwiJTFcIixmLm5hbWUpLnJlcGxhY2UoXCIlMlwiLGYudHlwZSksQmxvY2tseS5hbGVydChmLGZ1bmN0aW9uKCl7ZChlKX0pKTooYS5yZW5hbWVWYXJpYWJsZUJ5SWQoYi5nZXRJZCgpLGUpLGMmJmMoZSkpfWVsc2UgYyYmYyhudWxsKX0pfTtkKFwiXCIpfTtcbkJsb2NrbHkuVmFyaWFibGVzLnByb21wdE5hbWU9ZnVuY3Rpb24oYSxiLGMpe0Jsb2NrbHkucHJvbXB0KGEsYixmdW5jdGlvbihhKXthJiYoYT1hLnJlcGxhY2UoL1tcXHNcXHhhMF0rL2csXCIgXCIpLnRyaW0oKSxhPT1CbG9ja2x5Lk1zZy5SRU5BTUVfVkFSSUFCTEV8fGE9PUJsb2NrbHkuTXNnLk5FV19WQVJJQUJMRSkmJihhPW51bGwpO2MoYSl9KX07QmxvY2tseS5WYXJpYWJsZXMubmFtZVVzZWRXaXRoT3RoZXJUeXBlXz1mdW5jdGlvbihhLGIsYyl7Yz1jLmdldFZhcmlhYmxlTWFwKCkuZ2V0QWxsVmFyaWFibGVzKCk7YT1hLnRvTG93ZXJDYXNlKCk7Zm9yKHZhciBkPTAsZTtlPWNbZF07ZCsrKWlmKGUubmFtZS50b0xvd2VyQ2FzZSgpPT1hJiZlLnR5cGUhPWIpcmV0dXJuIGU7cmV0dXJuIG51bGx9O1xuQmxvY2tseS5WYXJpYWJsZXMubmFtZVVzZWRXaXRoQW55VHlwZV89ZnVuY3Rpb24oYSxiKXtiPWIuZ2V0VmFyaWFibGVNYXAoKS5nZXRBbGxWYXJpYWJsZXMoKTthPWEudG9Mb3dlckNhc2UoKTtmb3IodmFyIGM9MCxkO2Q9YltjXTtjKyspaWYoZC5uYW1lLnRvTG93ZXJDYXNlKCk9PWEpcmV0dXJuIGQ7cmV0dXJuIG51bGx9O0Jsb2NrbHkuVmFyaWFibGVzLmdlbmVyYXRlVmFyaWFibGVGaWVsZERvbT1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiZmllbGRcIik7Yi5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJWQVJcIik7Yi5zZXRBdHRyaWJ1dGUoXCJpZFwiLGEuZ2V0SWQoKSk7Yi5zZXRBdHRyaWJ1dGUoXCJ2YXJpYWJsZXR5cGVcIixhLnR5cGUpO2E9QmxvY2tseS51dGlscy54bWwuY3JlYXRlVGV4dE5vZGUoYS5uYW1lKTtiLmFwcGVuZENoaWxkKGEpO3JldHVybiBifTtcbkJsb2NrbHkuVmFyaWFibGVzLmdldE9yQ3JlYXRlVmFyaWFibGVQYWNrYWdlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPUJsb2NrbHkuVmFyaWFibGVzLmdldFZhcmlhYmxlKGEsYixjLGQpO2V8fChlPUJsb2NrbHkuVmFyaWFibGVzLmNyZWF0ZVZhcmlhYmxlXyhhLGIsYyxkKSk7cmV0dXJuIGV9O0Jsb2NrbHkuVmFyaWFibGVzLmdldFZhcmlhYmxlPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEuZ2V0UG90ZW50aWFsVmFyaWFibGVNYXAoKSxmPW51bGw7aWYoYiYmKGY9YS5nZXRWYXJpYWJsZUJ5SWQoYiksIWYmJmUmJihmPWUuZ2V0VmFyaWFibGVCeUlkKGIpKSxmKSlyZXR1cm4gZjtpZihjKXtpZih2b2lkIDA9PWQpdGhyb3cgRXJyb3IoXCJUcmllZCB0byBsb29rIHVwIGEgdmFyaWFibGUgYnkgbmFtZSB3aXRob3V0IGEgdHlwZVwiKTtmPWEuZ2V0VmFyaWFibGUoYyxkKTshZiYmZSYmKGY9ZS5nZXRWYXJpYWJsZShjLGQpKX1yZXR1cm4gZn07XG5CbG9ja2x5LlZhcmlhYmxlcy5jcmVhdGVWYXJpYWJsZV89ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5nZXRQb3RlbnRpYWxWYXJpYWJsZU1hcCgpO2N8fChjPUJsb2NrbHkuVmFyaWFibGVzLmdlbmVyYXRlVW5pcXVlTmFtZShhLmlzRmx5b3V0P2EudGFyZ2V0V29ya3NwYWNlOmEpKTtyZXR1cm4gZT9lLmNyZWF0ZVZhcmlhYmxlKGMsZCxiKTphLmNyZWF0ZVZhcmlhYmxlKGMsZCxiKX07QmxvY2tseS5WYXJpYWJsZXMuZ2V0QWRkZWRWYXJpYWJsZXM9ZnVuY3Rpb24oYSxiKXthPWEuZ2V0QWxsVmFyaWFibGVzKCk7dmFyIGM9W107aWYoYi5sZW5ndGghPWEubGVuZ3RoKWZvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hW2RdOy0xPT1iLmluZGV4T2YoZSkmJmMucHVzaChlKX1yZXR1cm4gY307QmxvY2tseS5XaWRnZXREaXY9e307QmxvY2tseS5XaWRnZXREaXYub3duZXJfPW51bGw7QmxvY2tseS5XaWRnZXREaXYuZGlzcG9zZV89bnVsbDtCbG9ja2x5LldpZGdldERpdi5yZW5kZXJlckNsYXNzTmFtZV89XCJcIjtCbG9ja2x5LldpZGdldERpdi50aGVtZUNsYXNzTmFtZV89XCJcIjtCbG9ja2x5LldpZGdldERpdi5jcmVhdGVEb209ZnVuY3Rpb24oKXtCbG9ja2x5LldpZGdldERpdi5ESVZ8fChCbG9ja2x5LldpZGdldERpdi5ESVY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxCbG9ja2x5LldpZGdldERpdi5ESVYuY2xhc3NOYW1lPVwiYmxvY2tseVdpZGdldERpdlwiLChCbG9ja2x5LnBhcmVudENvbnRhaW5lcnx8ZG9jdW1lbnQuYm9keSkuYXBwZW5kQ2hpbGQoQmxvY2tseS5XaWRnZXREaXYuRElWKSl9O1xuQmxvY2tseS5XaWRnZXREaXYuc2hvdz1mdW5jdGlvbihhLGIsYyl7QmxvY2tseS5XaWRnZXREaXYuaGlkZSgpO0Jsb2NrbHkuV2lkZ2V0RGl2Lm93bmVyXz1hO0Jsb2NrbHkuV2lkZ2V0RGl2LmRpc3Bvc2VfPWM7YT1CbG9ja2x5LldpZGdldERpdi5ESVY7YS5zdHlsZS5kaXJlY3Rpb249Yj9cInJ0bFwiOlwibHRyXCI7YS5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIjtCbG9ja2x5LldpZGdldERpdi5yZW5kZXJlckNsYXNzTmFtZV89QmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCkuZ2V0UmVuZGVyZXIoKS5nZXRDbGFzc05hbWUoKTtCbG9ja2x5LldpZGdldERpdi50aGVtZUNsYXNzTmFtZV89QmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCkuZ2V0VGhlbWUoKS5nZXRDbGFzc05hbWUoKTtCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyhhLEJsb2NrbHkuV2lkZ2V0RGl2LnJlbmRlcmVyQ2xhc3NOYW1lXyk7QmxvY2tseS51dGlscy5kb20uYWRkQ2xhc3MoYSxCbG9ja2x5LldpZGdldERpdi50aGVtZUNsYXNzTmFtZV8pfTtcbkJsb2NrbHkuV2lkZ2V0RGl2LmhpZGU9ZnVuY3Rpb24oKXtpZihCbG9ja2x5LldpZGdldERpdi5pc1Zpc2libGUoKSl7QmxvY2tseS5XaWRnZXREaXYub3duZXJfPW51bGw7dmFyIGE9QmxvY2tseS5XaWRnZXREaXYuRElWO2Euc3R5bGUuZGlzcGxheT1cIm5vbmVcIjthLnN0eWxlLmxlZnQ9XCJcIjthLnN0eWxlLnRvcD1cIlwiO0Jsb2NrbHkuV2lkZ2V0RGl2LmRpc3Bvc2VfJiZCbG9ja2x5LldpZGdldERpdi5kaXNwb3NlXygpO0Jsb2NrbHkuV2lkZ2V0RGl2LmRpc3Bvc2VfPW51bGw7YS50ZXh0Q29udGVudD1cIlwiO0Jsb2NrbHkuV2lkZ2V0RGl2LnJlbmRlcmVyQ2xhc3NOYW1lXyYmKEJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZUNsYXNzKGEsQmxvY2tseS5XaWRnZXREaXYucmVuZGVyZXJDbGFzc05hbWVfKSxCbG9ja2x5LldpZGdldERpdi5yZW5kZXJlckNsYXNzTmFtZV89XCJcIik7QmxvY2tseS5XaWRnZXREaXYudGhlbWVDbGFzc05hbWVfJiYoQmxvY2tseS51dGlscy5kb20ucmVtb3ZlQ2xhc3MoYSxcbkJsb2NrbHkuV2lkZ2V0RGl2LnRoZW1lQ2xhc3NOYW1lXyksQmxvY2tseS5XaWRnZXREaXYudGhlbWVDbGFzc05hbWVfPVwiXCIpO0Jsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpLm1hcmtGb2N1c2VkKCl9fTtCbG9ja2x5LldpZGdldERpdi5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4hIUJsb2NrbHkuV2lkZ2V0RGl2Lm93bmVyX307QmxvY2tseS5XaWRnZXREaXYuaGlkZUlmT3duZXI9ZnVuY3Rpb24oYSl7QmxvY2tseS5XaWRnZXREaXYub3duZXJfPT1hJiZCbG9ja2x5LldpZGdldERpdi5oaWRlKCl9O0Jsb2NrbHkuV2lkZ2V0RGl2LnBvc2l0aW9uSW50ZXJuYWxfPWZ1bmN0aW9uKGEsYixjKXtCbG9ja2x5LldpZGdldERpdi5ESVYuc3R5bGUubGVmdD1hK1wicHhcIjtCbG9ja2x5LldpZGdldERpdi5ESVYuc3R5bGUudG9wPWIrXCJweFwiO0Jsb2NrbHkuV2lkZ2V0RGl2LkRJVi5zdHlsZS5oZWlnaHQ9YytcInB4XCJ9O1xuQmxvY2tseS5XaWRnZXREaXYucG9zaXRpb25XaXRoQW5jaG9yPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPUJsb2NrbHkuV2lkZ2V0RGl2LmNhbGN1bGF0ZVlfKGEsYixjKTthPUJsb2NrbHkuV2lkZ2V0RGl2LmNhbGN1bGF0ZVhfKGEsYixjLGQpOzA+ZT9CbG9ja2x5LldpZGdldERpdi5wb3NpdGlvbkludGVybmFsXyhhLDAsYy5oZWlnaHQrZSk6QmxvY2tseS5XaWRnZXREaXYucG9zaXRpb25JbnRlcm5hbF8oYSxlLGMuaGVpZ2h0KX07QmxvY2tseS5XaWRnZXREaXYuY2FsY3VsYXRlWF89ZnVuY3Rpb24oYSxiLGMsZCl7aWYoZClyZXR1cm4gYj1NYXRoLm1heChiLnJpZ2h0LWMud2lkdGgsYS5sZWZ0KSxNYXRoLm1pbihiLGEucmlnaHQtYy53aWR0aCk7Yj1NYXRoLm1pbihiLmxlZnQsYS5yaWdodC1jLndpZHRoKTtyZXR1cm4gTWF0aC5tYXgoYixhLmxlZnQpfTtcbkJsb2NrbHkuV2lkZ2V0RGl2LmNhbGN1bGF0ZVlfPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYi5ib3R0b20rYy5oZWlnaHQ+PWEuYm90dG9tP2IudG9wLWMuaGVpZ2h0OmIuYm90dG9tfTtCbG9ja2x5LlZFUlNJT049XCIzLjIwMjAwNDAyLjFcIjtCbG9ja2x5Lm1haW5Xb3Jrc3BhY2U9bnVsbDtCbG9ja2x5LnNlbGVjdGVkPW51bGw7QmxvY2tseS5kcmFnZ2luZ0Nvbm5lY3Rpb25zPVtdO0Jsb2NrbHkuY2xpcGJvYXJkWG1sXz1udWxsO0Jsb2NrbHkuY2xpcGJvYXJkU291cmNlXz1udWxsO0Jsb2NrbHkuY2xpcGJvYXJkVHlwZUNvdW50c189bnVsbDtCbG9ja2x5LmNhY2hlM2RTdXBwb3J0ZWRfPW51bGw7QmxvY2tseS5wYXJlbnRDb250YWluZXI9bnVsbDtCbG9ja2x5LnN2Z1NpemU9ZnVuY3Rpb24oYSl7cmV0dXJue3dpZHRoOmEuY2FjaGVkV2lkdGhfLGhlaWdodDphLmNhY2hlZEhlaWdodF99fTtCbG9ja2x5LnJlc2l6ZVN2Z0NvbnRlbnRzPWZ1bmN0aW9uKGEpe2EucmVzaXplQ29udGVudHMoKX07XG5CbG9ja2x5LnN2Z1Jlc2l6ZT1mdW5jdGlvbihhKXtmb3IoO2Eub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2U7KWE9YS5vcHRpb25zLnBhcmVudFdvcmtzcGFjZTt2YXIgYj1hLmdldFBhcmVudFN2ZygpLGM9Yi5wYXJlbnROb2RlO2lmKGMpe3ZhciBkPWMub2Zmc2V0V2lkdGg7Yz1jLm9mZnNldEhlaWdodDtiLmNhY2hlZFdpZHRoXyE9ZCYmKGIuc2V0QXR0cmlidXRlKFwid2lkdGhcIixkK1wicHhcIiksYi5jYWNoZWRXaWR0aF89ZCk7Yi5jYWNoZWRIZWlnaHRfIT1jJiYoYi5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixjK1wicHhcIiksYi5jYWNoZWRIZWlnaHRfPWMpO2EucmVzaXplKCl9fTtcbkJsb2NrbHkub25LZXlEb3duPWZ1bmN0aW9uKGEpe3ZhciBiPUJsb2NrbHkubWFpbldvcmtzcGFjZTtpZihiJiYhKEJsb2NrbHkudXRpbHMuaXNUYXJnZXRJbnB1dChhKXx8Yi5yZW5kZXJlZCYmIWIuaXNWaXNpYmxlKCkpKWlmKGIub3B0aW9ucy5yZWFkT25seSlCbG9ja2x5Lm5hdmlnYXRpb24ub25LZXlQcmVzcyhhKTtlbHNle3ZhciBjPSExO2lmKGEua2V5Q29kZT09QmxvY2tseS51dGlscy5LZXlDb2Rlcy5FU0MpQmxvY2tseS5oaWRlQ2hhZmYoKSxCbG9ja2x5Lm5hdmlnYXRpb24ub25CbG9ja2x5QWN0aW9uKEJsb2NrbHkubmF2aWdhdGlvbi5BQ1RJT05fRVhJVCk7ZWxzZXtpZihCbG9ja2x5Lm5hdmlnYXRpb24ub25LZXlQcmVzcyhhKSlyZXR1cm47aWYoYS5rZXlDb2RlPT1CbG9ja2x5LnV0aWxzLktleUNvZGVzLkJBQ0tTUEFDRXx8YS5rZXlDb2RlPT1CbG9ja2x5LnV0aWxzLktleUNvZGVzLkRFTEVURSl7YS5wcmV2ZW50RGVmYXVsdCgpO2lmKEJsb2NrbHkuR2VzdHVyZS5pblByb2dyZXNzKCkpcmV0dXJuO1xuQmxvY2tseS5zZWxlY3RlZCYmQmxvY2tseS5zZWxlY3RlZC5pc0RlbGV0YWJsZSgpJiYoYz0hMCl9ZWxzZSBpZihhLmFsdEtleXx8YS5jdHJsS2V5fHxhLm1ldGFLZXkpe2lmKEJsb2NrbHkuR2VzdHVyZS5pblByb2dyZXNzKCkpcmV0dXJuO0Jsb2NrbHkuc2VsZWN0ZWQmJkJsb2NrbHkuc2VsZWN0ZWQuaXNEZWxldGFibGUoKSYmQmxvY2tseS5zZWxlY3RlZC5pc01vdmFibGUoKSYmKGEua2V5Q29kZT09QmxvY2tseS51dGlscy5LZXlDb2Rlcy5DPyhCbG9ja2x5LmhpZGVDaGFmZigpLEJsb2NrbHkuY29weV8oQmxvY2tseS5zZWxlY3RlZCkpOmEua2V5Q29kZSE9QmxvY2tseS51dGlscy5LZXlDb2Rlcy5YfHxCbG9ja2x5LnNlbGVjdGVkLndvcmtzcGFjZS5pc0ZseW91dHx8KEJsb2NrbHkuY29weV8oQmxvY2tseS5zZWxlY3RlZCksYz0hMCkpO2Eua2V5Q29kZT09QmxvY2tseS51dGlscy5LZXlDb2Rlcy5WP0Jsb2NrbHkuY2xpcGJvYXJkWG1sXyYmKGE9QmxvY2tseS5jbGlwYm9hcmRTb3VyY2VfLFxuYS5pc0ZseW91dCYmKGE9YS50YXJnZXRXb3Jrc3BhY2UpLEJsb2NrbHkuY2xpcGJvYXJkVHlwZUNvdW50c18mJmEuaXNDYXBhY2l0eUF2YWlsYWJsZShCbG9ja2x5LmNsaXBib2FyZFR5cGVDb3VudHNfKSYmKEJsb2NrbHkuRXZlbnRzLnNldEdyb3VwKCEwKSxhLnBhc3RlKEJsb2NrbHkuY2xpcGJvYXJkWG1sXyksQmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITEpKSk6YS5rZXlDb2RlPT1CbG9ja2x5LnV0aWxzLktleUNvZGVzLlomJihCbG9ja2x5LmhpZGVDaGFmZigpLGIudW5kbyhhLnNoaWZ0S2V5KSl9fWMmJiFCbG9ja2x5LnNlbGVjdGVkLndvcmtzcGFjZS5pc0ZseW91dCYmKEJsb2NrbHkuRXZlbnRzLnNldEdyb3VwKCEwKSxCbG9ja2x5LmhpZGVDaGFmZigpLEJsb2NrbHkuc2VsZWN0ZWQuZGlzcG9zZSghMCwhMCksQmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITEpKX19O1xuQmxvY2tseS5jb3B5Xz1mdW5jdGlvbihhKXtpZihhLmlzQ29tbWVudCl2YXIgYj1hLnRvWG1sV2l0aFhZKCk7ZWxzZXtiPUJsb2NrbHkuWG1sLmJsb2NrVG9Eb20oYSwhMCk7QmxvY2tseS5YbWwuZGVsZXRlTmV4dChiKTt2YXIgYz1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTtiLnNldEF0dHJpYnV0ZShcInhcIixhLlJUTD8tYy54OmMueCk7Yi5zZXRBdHRyaWJ1dGUoXCJ5XCIsYy55KX1CbG9ja2x5LmNsaXBib2FyZFhtbF89YjtCbG9ja2x5LmNsaXBib2FyZFNvdXJjZV89YS53b3Jrc3BhY2U7QmxvY2tseS5jbGlwYm9hcmRUeXBlQ291bnRzXz1hLmlzQ29tbWVudD9udWxsOkJsb2NrbHkudXRpbHMuZ2V0QmxvY2tUeXBlQ291bnRzKGEsITApfTtcbkJsb2NrbHkuZHVwbGljYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPUJsb2NrbHkuY2xpcGJvYXJkWG1sXyxjPUJsb2NrbHkuY2xpcGJvYXJkU291cmNlXztCbG9ja2x5LmNvcHlfKGEpO2Eud29ya3NwYWNlLnBhc3RlKEJsb2NrbHkuY2xpcGJvYXJkWG1sXyk7QmxvY2tseS5jbGlwYm9hcmRYbWxfPWI7QmxvY2tseS5jbGlwYm9hcmRTb3VyY2VfPWN9O0Jsb2NrbHkub25Db250ZXh0TWVudV89ZnVuY3Rpb24oYSl7QmxvY2tseS51dGlscy5pc1RhcmdldElucHV0KGEpfHxhLnByZXZlbnREZWZhdWx0KCl9O1xuQmxvY2tseS5oaWRlQ2hhZmY9ZnVuY3Rpb24oYSl7QmxvY2tseS5Ub29sdGlwLmhpZGUoKTtCbG9ja2x5LldpZGdldERpdi5oaWRlKCk7QmxvY2tseS5Ecm9wRG93bkRpdi5oaWRlV2l0aG91dEFuaW1hdGlvbigpO2F8fChhPUJsb2NrbHkuZ2V0TWFpbldvcmtzcGFjZSgpLGEudHJhc2hjYW4mJmEudHJhc2hjYW4uZmx5b3V0JiZhLnRyYXNoY2FuLmZseW91dC5oaWRlKCksKGE9YS5nZXRUb29sYm94KCkpJiZhLmdldEZseW91dCgpJiZhLmdldEZseW91dCgpLmF1dG9DbG9zZSYmYS5jbGVhclNlbGVjdGlvbigpKX07QmxvY2tseS5nZXRNYWluV29ya3NwYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIEJsb2NrbHkubWFpbldvcmtzcGFjZX07QmxvY2tseS5hbGVydD1mdW5jdGlvbihhLGIpe2FsZXJ0KGEpO2ImJmIoKX07QmxvY2tseS5jb25maXJtPWZ1bmN0aW9uKGEsYil7Yihjb25maXJtKGEpKX07QmxvY2tseS5wcm9tcHQ9ZnVuY3Rpb24oYSxiLGMpe2MocHJvbXB0KGEsYikpfTtcbkJsb2NrbHkuanNvbkluaXRGYWN0b3J5Xz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLmpzb25Jbml0KGEpfX07XG5CbG9ja2x5LmRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXk9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07aWYoYyl7dmFyIGQ9Yy50eXBlO251bGw9PWR8fFwiXCI9PT1kP2NvbnNvbGUud2FybihcIkJsb2NrIGRlZmluaXRpb24gI1wiK2IrXCIgaW4gSlNPTiBhcnJheSBpcyBtaXNzaW5nIGEgdHlwZSBhdHRyaWJ1dGUuIFNraXBwaW5nLlwiKTooQmxvY2tseS5CbG9ja3NbZF0mJmNvbnNvbGUud2FybihcIkJsb2NrIGRlZmluaXRpb24gI1wiK2IrJyBpbiBKU09OIGFycmF5IG92ZXJ3cml0ZXMgcHJpb3IgZGVmaW5pdGlvbiBvZiBcIicrZCsnXCIuJyksQmxvY2tseS5CbG9ja3NbZF09e2luaXQ6QmxvY2tseS5qc29uSW5pdEZhY3RvcnlfKGMpfSl9ZWxzZSBjb25zb2xlLndhcm4oXCJCbG9jayBkZWZpbml0aW9uICNcIitiK1wiIGluIEpTT04gYXJyYXkgaXMgXCIrYytcIi4gU2tpcHBpbmcuXCIpfX07XG5CbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz0hMSxoPWZ1bmN0aW9uKGEpe3ZhciBiPSFlO2E9QmxvY2tseS5Ub3VjaC5zcGxpdEV2ZW50QnlUb3VjaGVzKGEpO2Zvcih2YXIgZj0wLGg7aD1hW2ZdO2YrKylpZighYnx8QmxvY2tseS5Ub3VjaC5zaG91bGRIYW5kbGVFdmVudChoKSlCbG9ja2x5LlRvdWNoLnNldENsaWVudEZyb21Ub3VjaChoKSxjP2QuY2FsbChjLGgpOmQoaCksZz0hMH0saz1bXTtpZihCbG9ja2x5LnV0aWxzLmdsb2JhbC5Qb2ludGVyRXZlbnQmJmIgaW4gQmxvY2tseS5Ub3VjaC5UT1VDSF9NQVApZm9yKHZhciBsPTAsbTttPUJsb2NrbHkuVG91Y2guVE9VQ0hfTUFQW2JdW2xdO2wrKylhLmFkZEV2ZW50TGlzdGVuZXIobSxoLCExKSxrLnB1c2goW2EsbSxoXSk7ZWxzZSBpZihhLmFkZEV2ZW50TGlzdGVuZXIoYixoLCExKSxrLnB1c2goW2EsYixoXSksYiBpbiBCbG9ja2x5LlRvdWNoLlRPVUNIX01BUCl7dmFyIG49XG5mdW5jdGlvbihhKXtoKGEpO3ZhciBiPSFmO2cmJmImJmEucHJldmVudERlZmF1bHQoKX07Zm9yKGw9MDttPUJsb2NrbHkuVG91Y2guVE9VQ0hfTUFQW2JdW2xdO2wrKylhLmFkZEV2ZW50TGlzdGVuZXIobSxuLCExKSxrLnB1c2goW2EsbSxuXSl9cmV0dXJuIGt9O1xuQmxvY2tseS5iaW5kRXZlbnRfPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWZ1bmN0aW9uKGEpe2M/ZC5jYWxsKGMsYSk6ZChhKX0sZj1bXTtpZihCbG9ja2x5LnV0aWxzLmdsb2JhbC5Qb2ludGVyRXZlbnQmJmIgaW4gQmxvY2tseS5Ub3VjaC5UT1VDSF9NQVApZm9yKHZhciBnPTAsaDtoPUJsb2NrbHkuVG91Y2guVE9VQ0hfTUFQW2JdW2ddO2crKylhLmFkZEV2ZW50TGlzdGVuZXIoaCxlLCExKSxmLnB1c2goW2EsaCxlXSk7ZWxzZSBpZihhLmFkZEV2ZW50TGlzdGVuZXIoYixlLCExKSxmLnB1c2goW2EsYixlXSksYiBpbiBCbG9ja2x5LlRvdWNoLlRPVUNIX01BUCl7dmFyIGs9ZnVuY3Rpb24oYSl7aWYoYS5jaGFuZ2VkVG91Y2hlcyYmMT09YS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGgpe3ZhciBiPWEuY2hhbmdlZFRvdWNoZXNbMF07YS5jbGllbnRYPWIuY2xpZW50WDthLmNsaWVudFk9Yi5jbGllbnRZfWUoYSk7YS5wcmV2ZW50RGVmYXVsdCgpfTtmb3IoZz0wO2g9QmxvY2tseS5Ub3VjaC5UT1VDSF9NQVBbYl1bZ107ZysrKWEuYWRkRXZlbnRMaXN0ZW5lcihoLFxuaywhMSksZi5wdXNoKFthLGgsa10pfXJldHVybiBmfTtCbG9ja2x5LnVuYmluZEV2ZW50Xz1mdW5jdGlvbihhKXtmb3IoO2EubGVuZ3RoOyl7dmFyIGI9YS5wb3AoKSxjPWJbMl07YlswXS5yZW1vdmVFdmVudExpc3RlbmVyKGJbMV0sYywhMSl9cmV0dXJuIGN9O0Jsb2NrbHkuaXNOdW1iZXI9ZnVuY3Rpb24oYSl7cmV0dXJuL15cXHMqLT9cXGQrKFxcLlxcZCspP1xccyokLy50ZXN0KGEpfTtCbG9ja2x5Lmh1ZVRvSGV4PWZ1bmN0aW9uKGEpe3JldHVybiBCbG9ja2x5LnV0aWxzLmNvbG91ci5oc3ZUb0hleChhLEJsb2NrbHkuSFNWX1NBVFVSQVRJT04sMjU1KkJsb2NrbHkuSFNWX1ZBTFVFKX07XG5CbG9ja2x5LmNoZWNrQmxvY2tDb2xvdXJDb25zdGFudHM9ZnVuY3Rpb24oKXtCbG9ja2x5LmNoZWNrQmxvY2tDb2xvdXJDb25zdGFudF8oXCJMT0dJQ19IVUVcIixbXCJCbG9ja3NcIixcImxvZ2ljXCIsXCJIVUVcIl0sdm9pZCAwKTtCbG9ja2x5LmNoZWNrQmxvY2tDb2xvdXJDb25zdGFudF8oXCJMT0dJQ19IVUVcIixbXCJDb25zdGFudHNcIixcIkxvZ2ljXCIsXCJIVUVcIl0sMjEwKTtCbG9ja2x5LmNoZWNrQmxvY2tDb2xvdXJDb25zdGFudF8oXCJMT09QU19IVUVcIixbXCJCbG9ja3NcIixcImxvb3BzXCIsXCJIVUVcIl0sdm9pZCAwKTtCbG9ja2x5LmNoZWNrQmxvY2tDb2xvdXJDb25zdGFudF8oXCJMT09QU19IVUVcIixbXCJDb25zdGFudHNcIixcIkxvb3BzXCIsXCJIVUVcIl0sMTIwKTtCbG9ja2x5LmNoZWNrQmxvY2tDb2xvdXJDb25zdGFudF8oXCJNQVRIX0hVRVwiLFtcIkJsb2Nrc1wiLFwibWF0aFwiLFwiSFVFXCJdLHZvaWQgMCk7QmxvY2tseS5jaGVja0Jsb2NrQ29sb3VyQ29uc3RhbnRfKFwiTUFUSF9IVUVcIixbXCJDb25zdGFudHNcIixcIk1hdGhcIixcblwiSFVFXCJdLDIzMCk7QmxvY2tseS5jaGVja0Jsb2NrQ29sb3VyQ29uc3RhbnRfKFwiVEVYVFNfSFVFXCIsW1wiQmxvY2tzXCIsXCJ0ZXh0c1wiLFwiSFVFXCJdLHZvaWQgMCk7QmxvY2tseS5jaGVja0Jsb2NrQ29sb3VyQ29uc3RhbnRfKFwiVEVYVFNfSFVFXCIsW1wiQ29uc3RhbnRzXCIsXCJUZXh0XCIsXCJIVUVcIl0sMTYwKTtCbG9ja2x5LmNoZWNrQmxvY2tDb2xvdXJDb25zdGFudF8oXCJMSVNUU19IVUVcIixbXCJCbG9ja3NcIixcImxpc3RzXCIsXCJIVUVcIl0sdm9pZCAwKTtCbG9ja2x5LmNoZWNrQmxvY2tDb2xvdXJDb25zdGFudF8oXCJMSVNUU19IVUVcIixbXCJDb25zdGFudHNcIixcIkxpc3RzXCIsXCJIVUVcIl0sMjYwKTtCbG9ja2x5LmNoZWNrQmxvY2tDb2xvdXJDb25zdGFudF8oXCJDT0xPVVJfSFVFXCIsW1wiQmxvY2tzXCIsXCJjb2xvdXJcIixcIkhVRVwiXSx2b2lkIDApO0Jsb2NrbHkuY2hlY2tCbG9ja0NvbG91ckNvbnN0YW50XyhcIkNPTE9VUl9IVUVcIixbXCJDb25zdGFudHNcIixcIkNvbG91clwiLFwiSFVFXCJdLDIwKTtCbG9ja2x5LmNoZWNrQmxvY2tDb2xvdXJDb25zdGFudF8oXCJWQVJJQUJMRVNfSFVFXCIsXG5bXCJCbG9ja3NcIixcInZhcmlhYmxlc1wiLFwiSFVFXCJdLHZvaWQgMCk7QmxvY2tseS5jaGVja0Jsb2NrQ29sb3VyQ29uc3RhbnRfKFwiVkFSSUFCTEVTX0hVRVwiLFtcIkNvbnN0YW50c1wiLFwiVmFyaWFibGVzXCIsXCJIVUVcIl0sMzMwKTtCbG9ja2x5LmNoZWNrQmxvY2tDb2xvdXJDb25zdGFudF8oXCJWQVJJQUJMRVNfRFlOQU1JQ19IVUVcIixbXCJDb25zdGFudHNcIixcIlZhcmlhYmxlc0R5bmFtaWNcIixcIkhVRVwiXSwzMTApO0Jsb2NrbHkuY2hlY2tCbG9ja0NvbG91ckNvbnN0YW50XyhcIlBST0NFRFVSRVNfSFVFXCIsW1wiQmxvY2tzXCIsXCJwcm9jZWR1cmVzXCIsXCJIVUVcIl0sdm9pZCAwKX07XG5CbG9ja2x5LmNoZWNrQmxvY2tDb2xvdXJDb25zdGFudF89ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1cIkJsb2NrbHlcIixlPUJsb2NrbHksZj0wO2Y8Yi5sZW5ndGg7KytmKWQrPVwiLlwiK2JbZl0sZSYmKGU9ZVtiW2ZdXSk7ZSYmZSE9PWMmJihhPSh2b2lkIDA9PT1jPyclMSBoYXMgYmVlbiByZW1vdmVkLiBVc2UgQmxvY2tseS5Nc2dbXCIlMlwiXS4nOiclMSBpcyBkZXByZWNhdGVkIGFuZCB1bnVzZWQuIE92ZXJyaWRlIEJsb2NrbHkuTXNnW1wiJTJcIl0uJykucmVwbGFjZShcIiUxXCIsZCkucmVwbGFjZShcIiUyXCIsYSksY29uc29sZS53YXJuKGEpKX07QmxvY2tseS5zZXRQYXJlbnRDb250YWluZXI9ZnVuY3Rpb24oYSl7QmxvY2tseS5wYXJlbnRDb250YWluZXI9YX07QmxvY2tseS5JY29uPWZ1bmN0aW9uKGEpe3RoaXMuYmxvY2tfPWF9O0Jsb2NrbHkuSWNvbi5wcm90b3R5cGUuY29sbGFwc2VIaWRkZW49ITA7QmxvY2tseS5JY29uLnByb3RvdHlwZS5TSVpFPTE3O0Jsb2NrbHkuSWNvbi5wcm90b3R5cGUuYnViYmxlXz1udWxsO0Jsb2NrbHkuSWNvbi5wcm90b3R5cGUuaWNvblhZXz1udWxsO1xuQmxvY2tseS5JY29uLnByb3RvdHlwZS5jcmVhdGVJY29uPWZ1bmN0aW9uKCl7dGhpcy5pY29uR3JvdXBffHwodGhpcy5pY29uR3JvdXBfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJnXCIse1wiY2xhc3NcIjpcImJsb2NrbHlJY29uR3JvdXBcIn0sbnVsbCksdGhpcy5ibG9ja18uaXNJbkZseW91dCYmQmxvY2tseS51dGlscy5kb20uYWRkQ2xhc3ModGhpcy5pY29uR3JvdXBfLFwiYmxvY2tseUljb25Hcm91cFJlYWRvbmx5XCIpLHRoaXMuZHJhd0ljb25fKHRoaXMuaWNvbkdyb3VwXyksdGhpcy5ibG9ja18uZ2V0U3ZnUm9vdCgpLmFwcGVuZENoaWxkKHRoaXMuaWNvbkdyb3VwXyksQmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyh0aGlzLmljb25Hcm91cF8sXCJtb3VzZXVwXCIsdGhpcyx0aGlzLmljb25DbGlja18pLHRoaXMudXBkYXRlRWRpdGFibGUoKSl9O1xuQmxvY2tseS5JY29uLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7QmxvY2tseS51dGlscy5kb20ucmVtb3ZlTm9kZSh0aGlzLmljb25Hcm91cF8pO3RoaXMuaWNvbkdyb3VwXz1udWxsO3RoaXMuc2V0VmlzaWJsZSghMSk7dGhpcy5ibG9ja189bnVsbH07QmxvY2tseS5JY29uLnByb3RvdHlwZS51cGRhdGVFZGl0YWJsZT1mdW5jdGlvbigpe307QmxvY2tseS5JY29uLnByb3RvdHlwZS5pc1Zpc2libGU9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuYnViYmxlX307QmxvY2tseS5JY29uLnByb3RvdHlwZS5pY29uQ2xpY2tfPWZ1bmN0aW9uKGEpe3RoaXMuYmxvY2tfLndvcmtzcGFjZS5pc0RyYWdnaW5nKCl8fHRoaXMuYmxvY2tfLmlzSW5GbHlvdXR8fEJsb2NrbHkudXRpbHMuaXNSaWdodEJ1dHRvbihhKXx8dGhpcy5zZXRWaXNpYmxlKCF0aGlzLmlzVmlzaWJsZSgpKX07XG5CbG9ja2x5Lkljb24ucHJvdG90eXBlLmFwcGx5Q29sb3VyPWZ1bmN0aW9uKCl7dGhpcy5pc1Zpc2libGUoKSYmdGhpcy5idWJibGVfLnNldENvbG91cih0aGlzLmJsb2NrXy5zdHlsZS5jb2xvdXJQcmltYXJ5KX07QmxvY2tseS5JY29uLnByb3RvdHlwZS5zZXRJY29uTG9jYXRpb249ZnVuY3Rpb24oYSl7dGhpcy5pY29uWFlfPWE7dGhpcy5pc1Zpc2libGUoKSYmdGhpcy5idWJibGVfLnNldEFuY2hvckxvY2F0aW9uKGEpfTtcbkJsb2NrbHkuSWNvbi5wcm90b3R5cGUuY29tcHV0ZUljb25Mb2NhdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYmxvY2tfLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKSxiPUJsb2NrbHkudXRpbHMuZ2V0UmVsYXRpdmVYWSh0aGlzLmljb25Hcm91cF8pO2E9bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZShhLngrYi54K3RoaXMuU0laRS8yLGEueStiLnkrdGhpcy5TSVpFLzIpO0Jsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZS5lcXVhbHModGhpcy5nZXRJY29uTG9jYXRpb24oKSxhKXx8dGhpcy5zZXRJY29uTG9jYXRpb24oYSl9O0Jsb2NrbHkuSWNvbi5wcm90b3R5cGUuZ2V0SWNvbkxvY2F0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWNvblhZX307XG5CbG9ja2x5Lkljb24ucHJvdG90eXBlLmdldENvcnJlY3RlZFNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEJsb2NrbHkudXRpbHMuU2l6ZShCbG9ja2x5Lkljb24ucHJvdG90eXBlLlNJWkUsQmxvY2tseS5JY29uLnByb3RvdHlwZS5TSVpFLTIpfTtCbG9ja2x5Lldhcm5pbmc9ZnVuY3Rpb24oYSl7QmxvY2tseS5XYXJuaW5nLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKTt0aGlzLmNyZWF0ZUljb24oKTt0aGlzLnRleHRfPXt9fTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5Lldhcm5pbmcsQmxvY2tseS5JY29uKTtCbG9ja2x5Lldhcm5pbmcucHJvdG90eXBlLmNvbGxhcHNlSGlkZGVuPSExO1xuQmxvY2tseS5XYXJuaW5nLnByb3RvdHlwZS5kcmF3SWNvbl89ZnVuY3Rpb24oYSl7QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInBhdGhcIix7XCJjbGFzc1wiOlwiYmxvY2tseUljb25TaGFwZVwiLGQ6XCJNMiwxNVEtMSwxNSAwLjUsMTJMNi41LDEuN1E4LC0xIDkuNSwxLjdMMTUuNSwxMlExNywxNSAxNCwxNXpcIn0sYSk7QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInBhdGhcIix7XCJjbGFzc1wiOlwiYmxvY2tseUljb25TeW1ib2xcIixkOlwibTcsNC44djMuMTZsMC4yNywyLjI3aDEuNDZsMC4yNywtMi4yN3YtMy4xNnpcIn0sYSk7QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInJlY3RcIix7XCJjbGFzc1wiOlwiYmxvY2tseUljb25TeW1ib2xcIix4OlwiN1wiLHk6XCIxMVwiLGhlaWdodDpcIjJcIix3aWR0aDpcIjJcIn0sYSl9O1xuQmxvY2tseS5XYXJuaW5nLnRleHRUb0RvbV89ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInRleHRcIix7XCJjbGFzc1wiOlwiYmxvY2tseVRleHQgYmxvY2tseUJ1YmJsZVRleHQgYmxvY2tseU5vUG9pbnRlckV2ZW50c1wiLHk6QmxvY2tseS5CdWJibGUuQk9SREVSX1dJRFRIfSxudWxsKTthPWEuc3BsaXQoXCJcXG5cIik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJ0c3BhblwiLHtkeTpcIjFlbVwiLHg6QmxvY2tseS5CdWJibGUuQk9SREVSX1dJRFRIfSxiKSxlPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGFbY10pO2QuYXBwZW5kQ2hpbGQoZSl9cmV0dXJuIGJ9O1xuQmxvY2tseS5XYXJuaW5nLnByb3RvdHlwZS5zZXRWaXNpYmxlPWZ1bmN0aW9uKGEpe2EhPXRoaXMuaXNWaXNpYmxlKCkmJihCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5VaSh0aGlzLmJsb2NrXyxcIndhcm5pbmdPcGVuXCIsIWEsYSkpLGE/dGhpcy5jcmVhdGVCdWJibGUoKTp0aGlzLmRpc3Bvc2VCdWJibGUoKSl9O1xuQmxvY2tseS5XYXJuaW5nLnByb3RvdHlwZS5jcmVhdGVCdWJibGU9ZnVuY3Rpb24oKXt0aGlzLnBhcmFncmFwaEVsZW1lbnRfPUJsb2NrbHkuV2FybmluZy50ZXh0VG9Eb21fKHRoaXMuZ2V0VGV4dCgpKTt0aGlzLmJ1YmJsZV89bmV3IEJsb2NrbHkuQnViYmxlKHRoaXMuYmxvY2tfLndvcmtzcGFjZSx0aGlzLnBhcmFncmFwaEVsZW1lbnRfLHRoaXMuYmxvY2tfLnBhdGhPYmplY3Quc3ZnUGF0aCx0aGlzLmljb25YWV8sbnVsbCxudWxsKTt0aGlzLmJ1YmJsZV8uc2V0U3ZnSWQodGhpcy5ibG9ja18uaWQpO2lmKHRoaXMuYmxvY2tfLlJUTClmb3IodmFyIGE9dGhpcy5wYXJhZ3JhcGhFbGVtZW50Xy5nZXRCQm94KCkud2lkdGgsYj0wLGM7Yz10aGlzLnBhcmFncmFwaEVsZW1lbnRfLmNoaWxkTm9kZXNbYl07YisrKWMuc2V0QXR0cmlidXRlKFwidGV4dC1hbmNob3JcIixcImVuZFwiKSxjLnNldEF0dHJpYnV0ZShcInhcIixhK0Jsb2NrbHkuQnViYmxlLkJPUkRFUl9XSURUSCk7dGhpcy5hcHBseUNvbG91cigpfTtcbkJsb2NrbHkuV2FybmluZy5wcm90b3R5cGUuZGlzcG9zZUJ1YmJsZT1mdW5jdGlvbigpe3RoaXMuYnViYmxlXy5kaXNwb3NlKCk7dGhpcy5wYXJhZ3JhcGhFbGVtZW50Xz10aGlzLmJvZHlfPXRoaXMuYnViYmxlXz1udWxsfTtCbG9ja2x5Lldhcm5pbmcucHJvdG90eXBlLmJvZHlGb2N1c189ZnVuY3Rpb24oYSl7dGhpcy5idWJibGVfLnByb21vdGUoKX07QmxvY2tseS5XYXJuaW5nLnByb3RvdHlwZS5zZXRUZXh0PWZ1bmN0aW9uKGEsYil7dGhpcy50ZXh0X1tiXSE9YSYmKGE/dGhpcy50ZXh0X1tiXT1hOmRlbGV0ZSB0aGlzLnRleHRfW2JdLHRoaXMuaXNWaXNpYmxlKCkmJih0aGlzLnNldFZpc2libGUoITEpLHRoaXMuc2V0VmlzaWJsZSghMCkpKX07QmxvY2tseS5XYXJuaW5nLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKCl7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLnRleHRfKWEucHVzaCh0aGlzLnRleHRfW2JdKTtyZXR1cm4gYS5qb2luKFwiXFxuXCIpfTtcbkJsb2NrbHkuV2FybmluZy5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuYmxvY2tfLndhcm5pbmc9bnVsbDtCbG9ja2x5Lkljb24ucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKX07QmxvY2tseS5Db21tZW50PWZ1bmN0aW9uKGEpe0Jsb2NrbHkuQ29tbWVudC5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy5tb2RlbF89YS5jb21tZW50TW9kZWw7dGhpcy5tb2RlbF8udGV4dD10aGlzLm1vZGVsXy50ZXh0fHxcIlwiO3RoaXMuY2FjaGVkVGV4dF89XCJcIjt0aGlzLm9uSW5wdXRXcmFwcGVyXz10aGlzLm9uQ2hhbmdlV3JhcHBlcl89dGhpcy5vbldoZWVsV3JhcHBlcl89dGhpcy5vbk1vdXNlVXBXcmFwcGVyXz1udWxsO3RoaXMuY3JlYXRlSWNvbigpfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LkNvbW1lbnQsQmxvY2tseS5JY29uKTtcbkJsb2NrbHkuQ29tbWVudC5wcm90b3R5cGUuZHJhd0ljb25fPWZ1bmN0aW9uKGEpe0Jsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJjaXJjbGVcIix7XCJjbGFzc1wiOlwiYmxvY2tseUljb25TaGFwZVwiLHI6XCI4XCIsY3g6XCI4XCIsY3k6XCI4XCJ9LGEpO0Jsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJwYXRoXCIse1wiY2xhc3NcIjpcImJsb2NrbHlJY29uU3ltYm9sXCIsZDpcIm02LjgsMTBoMmMwLjAwMywtMC42MTcgMC4yNzEsLTAuOTYyIDAuNjMzLC0xLjI2NiAyLjg3NSwtMi40MDUwLjYwNywtNS41MzQgLTMuNzY1LC0zLjg3NHYxLjdjMy4xMiwtMS42NTcgMy42OTgsMC4xMTggMi4zMzYsMS4yNS0xLjIwMSwwLjk5OCAtMS4yMDEsMS41MjggLTEuMjA0LDIuMTl6XCJ9LGEpO0Jsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJyZWN0XCIse1wiY2xhc3NcIjpcImJsb2NrbHlJY29uU3ltYm9sXCIseDpcIjYuOFwiLHk6XCIxMC43OFwiLGhlaWdodDpcIjJcIix3aWR0aDpcIjJcIn0sYSl9O1xuQmxvY2tseS5Db21tZW50LnByb3RvdHlwZS5jcmVhdGVFZGl0b3JfPWZ1bmN0aW9uKCl7dGhpcy5mb3JlaWduT2JqZWN0Xz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiZm9yZWlnbk9iamVjdFwiLHt4OkJsb2NrbHkuQnViYmxlLkJPUkRFUl9XSURUSCx5OkJsb2NrbHkuQnViYmxlLkJPUkRFUl9XSURUSH0sbnVsbCk7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKEJsb2NrbHkudXRpbHMuZG9tLkhUTUxfTlMsXCJib2R5XCIpO2Euc2V0QXR0cmlidXRlKFwieG1sbnNcIixCbG9ja2x5LnV0aWxzLmRvbS5IVE1MX05TKTthLmNsYXNzTmFtZT1cImJsb2NrbHlNaW5pbWFsQm9keVwiO3ZhciBiPXRoaXMudGV4dGFyZWFfPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhCbG9ja2x5LnV0aWxzLmRvbS5IVE1MX05TLFwidGV4dGFyZWFcIik7Yi5jbGFzc05hbWU9XCJibG9ja2x5Q29tbWVudFRleHRhcmVhXCI7Yi5zZXRBdHRyaWJ1dGUoXCJkaXJcIix0aGlzLmJsb2NrXy5SVEw/XCJSVExcIjpcblwiTFRSXCIpO2IudmFsdWU9dGhpcy5tb2RlbF8udGV4dDt0aGlzLnJlc2l6ZVRleHRhcmVhXygpO2EuYXBwZW5kQ2hpbGQoYik7dGhpcy5mb3JlaWduT2JqZWN0Xy5hcHBlbmRDaGlsZChhKTt0aGlzLm9uTW91c2VVcFdyYXBwZXJfPUJsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18oYixcIm1vdXNldXBcIix0aGlzLHRoaXMuc3RhcnRFZGl0XywhMCwhMCk7dGhpcy5vbldoZWVsV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhiLFwid2hlZWxcIix0aGlzLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uKCl9KTt0aGlzLm9uQ2hhbmdlV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhiLFwiY2hhbmdlXCIsdGhpcyxmdW5jdGlvbihhKXt0aGlzLmNhY2hlZFRleHRfIT10aGlzLm1vZGVsXy50ZXh0JiZCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5CbG9ja0NoYW5nZSh0aGlzLmJsb2NrXyxcImNvbW1lbnRcIixudWxsLHRoaXMuY2FjaGVkVGV4dF8sXG50aGlzLm1vZGVsXy50ZXh0KSl9KTt0aGlzLm9uSW5wdXRXcmFwcGVyXz1CbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGIsXCJpbnB1dFwiLHRoaXMsZnVuY3Rpb24oYSl7dGhpcy5tb2RlbF8udGV4dD1iLnZhbHVlfSk7c2V0VGltZW91dChiLmZvY3VzLmJpbmQoYiksMCk7cmV0dXJuIHRoaXMuZm9yZWlnbk9iamVjdF99O0Jsb2NrbHkuQ29tbWVudC5wcm90b3R5cGUudXBkYXRlRWRpdGFibGU9ZnVuY3Rpb24oKXtCbG9ja2x5LkNvbW1lbnQuc3VwZXJDbGFzc18udXBkYXRlRWRpdGFibGUuY2FsbCh0aGlzKTt0aGlzLmlzVmlzaWJsZSgpJiYodGhpcy5kaXNwb3NlQnViYmxlXygpLHRoaXMuY3JlYXRlQnViYmxlXygpKX07QmxvY2tseS5Db21tZW50LnByb3RvdHlwZS5vbkJ1YmJsZVJlc2l6ZV89ZnVuY3Rpb24oKXt0aGlzLmlzVmlzaWJsZSgpJiYodGhpcy5tb2RlbF8uc2l6ZT10aGlzLmJ1YmJsZV8uZ2V0QnViYmxlU2l6ZSgpLHRoaXMucmVzaXplVGV4dGFyZWFfKCkpfTtcbkJsb2NrbHkuQ29tbWVudC5wcm90b3R5cGUucmVzaXplVGV4dGFyZWFfPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tb2RlbF8uc2l6ZSxiPTIqQmxvY2tseS5CdWJibGUuQk9SREVSX1dJRFRILGM9YS53aWR0aC1iO2E9YS5oZWlnaHQtYjt0aGlzLmZvcmVpZ25PYmplY3RfLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYyk7dGhpcy5mb3JlaWduT2JqZWN0Xy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixhKTt0aGlzLnRleHRhcmVhXy5zdHlsZS53aWR0aD1jLTQrXCJweFwiO3RoaXMudGV4dGFyZWFfLnN0eWxlLmhlaWdodD1hLTQrXCJweFwifTtCbG9ja2x5LkNvbW1lbnQucHJvdG90eXBlLnNldFZpc2libGU9ZnVuY3Rpb24oYSl7YSE9dGhpcy5pc1Zpc2libGUoKSYmKEJsb2NrbHkuRXZlbnRzLmZpcmUobmV3IEJsb2NrbHkuRXZlbnRzLlVpKHRoaXMuYmxvY2tfLFwiY29tbWVudE9wZW5cIiwhYSxhKSksKHRoaXMubW9kZWxfLnBpbm5lZD1hKT90aGlzLmNyZWF0ZUJ1YmJsZV8oKTp0aGlzLmRpc3Bvc2VCdWJibGVfKCkpfTtcbkJsb2NrbHkuQ29tbWVudC5wcm90b3R5cGUuY3JlYXRlQnViYmxlXz1mdW5jdGlvbigpeyF0aGlzLmJsb2NrXy5pc0VkaXRhYmxlKCl8fEJsb2NrbHkudXRpbHMudXNlckFnZW50LklFP3RoaXMuY3JlYXRlTm9uRWRpdGFibGVCdWJibGVfKCk6dGhpcy5jcmVhdGVFZGl0YWJsZUJ1YmJsZV8oKX07QmxvY2tseS5Db21tZW50LnByb3RvdHlwZS5jcmVhdGVFZGl0YWJsZUJ1YmJsZV89ZnVuY3Rpb24oKXt0aGlzLmJ1YmJsZV89bmV3IEJsb2NrbHkuQnViYmxlKHRoaXMuYmxvY2tfLndvcmtzcGFjZSx0aGlzLmNyZWF0ZUVkaXRvcl8oKSx0aGlzLmJsb2NrXy5wYXRoT2JqZWN0LnN2Z1BhdGgsdGhpcy5pY29uWFlfLHRoaXMubW9kZWxfLnNpemUud2lkdGgsdGhpcy5tb2RlbF8uc2l6ZS5oZWlnaHQpO3RoaXMuYnViYmxlXy5zZXRTdmdJZCh0aGlzLmJsb2NrXy5pZCk7dGhpcy5idWJibGVfLnJlZ2lzdGVyUmVzaXplRXZlbnQodGhpcy5vbkJ1YmJsZVJlc2l6ZV8uYmluZCh0aGlzKSk7dGhpcy5hcHBseUNvbG91cigpfTtcbkJsb2NrbHkuQ29tbWVudC5wcm90b3R5cGUuY3JlYXRlTm9uRWRpdGFibGVCdWJibGVfPWZ1bmN0aW9uKCl7QmxvY2tseS5XYXJuaW5nLnByb3RvdHlwZS5jcmVhdGVCdWJibGUuY2FsbCh0aGlzKX07XG5CbG9ja2x5LkNvbW1lbnQucHJvdG90eXBlLmRpc3Bvc2VCdWJibGVfPWZ1bmN0aW9uKCl7dGhpcy5wYXJhZ3JhcGhFbGVtZW50Xz9CbG9ja2x5Lldhcm5pbmcucHJvdG90eXBlLmRpc3Bvc2VCdWJibGUuY2FsbCh0aGlzKToodGhpcy5vbk1vdXNlVXBXcmFwcGVyXyYmKEJsb2NrbHkudW5iaW5kRXZlbnRfKHRoaXMub25Nb3VzZVVwV3JhcHBlcl8pLHRoaXMub25Nb3VzZVVwV3JhcHBlcl89bnVsbCksdGhpcy5vbldoZWVsV3JhcHBlcl8mJihCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLm9uV2hlZWxXcmFwcGVyXyksdGhpcy5vbldoZWVsV3JhcHBlcl89bnVsbCksdGhpcy5vbkNoYW5nZVdyYXBwZXJfJiYoQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5vbkNoYW5nZVdyYXBwZXJfKSx0aGlzLm9uQ2hhbmdlV3JhcHBlcl89bnVsbCksdGhpcy5vbklucHV0V3JhcHBlcl8mJihCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLm9uSW5wdXRXcmFwcGVyXyksdGhpcy5vbklucHV0V3JhcHBlcl89XG5udWxsKSx0aGlzLmJ1YmJsZV8uZGlzcG9zZSgpLHRoaXMuZm9yZWlnbk9iamVjdF89dGhpcy50ZXh0YXJlYV89dGhpcy5idWJibGVfPW51bGwpfTtCbG9ja2x5LkNvbW1lbnQucHJvdG90eXBlLnN0YXJ0RWRpdF89ZnVuY3Rpb24oYSl7dGhpcy5idWJibGVfLnByb21vdGUoKSYmdGhpcy50ZXh0YXJlYV8uZm9jdXMoKTt0aGlzLmNhY2hlZFRleHRfPXRoaXMubW9kZWxfLnRleHR9O0Jsb2NrbHkuQ29tbWVudC5wcm90b3R5cGUuZ2V0QnViYmxlU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsXy5zaXplfTtCbG9ja2x5LkNvbW1lbnQucHJvdG90eXBlLnNldEJ1YmJsZVNpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ1YmJsZV8/dGhpcy5idWJibGVfLnNldEJ1YmJsZVNpemUoYSxiKToodGhpcy5tb2RlbF8uc2l6ZS53aWR0aD1hLHRoaXMubW9kZWxfLnNpemUuaGVpZ2h0PWIpfTtcbkJsb2NrbHkuQ29tbWVudC5wcm90b3R5cGUuZ2V0VGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsXy50ZXh0fHxcIlwifTtCbG9ja2x5LkNvbW1lbnQucHJvdG90eXBlLnNldFRleHQ9ZnVuY3Rpb24oYSl7dGhpcy5tb2RlbF8udGV4dCE9YSYmKHRoaXMubW9kZWxfLnRleHQ9YSx0aGlzLnVwZGF0ZVRleHQoKSl9O0Jsb2NrbHkuQ29tbWVudC5wcm90b3R5cGUudXBkYXRlVGV4dD1mdW5jdGlvbigpe3RoaXMudGV4dGFyZWFfP3RoaXMudGV4dGFyZWFfLnZhbHVlPXRoaXMubW9kZWxfLnRleHQ6dGhpcy5wYXJhZ3JhcGhFbGVtZW50XyYmKHRoaXMucGFyYWdyYXBoRWxlbWVudF8uZmlyc3RDaGlsZC50ZXh0Q29udGVudD10aGlzLm1vZGVsXy50ZXh0KX07QmxvY2tseS5Db21tZW50LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5ibG9ja18uY29tbWVudD1udWxsO0Jsb2NrbHkuSWNvbi5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfTtCbG9ja2x5LkNzcy5yZWdpc3RlcihcIi5ibG9ja2x5Q29tbWVudFRleHRhcmVhIHssYmFja2dyb3VuZC1jb2xvcjogI2ZlZjQ5YzssYm9yZGVyOiAwOyxvdXRsaW5lOiAwOyxtYXJnaW46IDA7LHBhZGRpbmc6IDNweDsscmVzaXplOiBub25lOyxkaXNwbGF5OiBibG9jazssb3ZlcmZsb3c6IGhpZGRlbjssfVwiLnNwbGl0KFwiLFwiKSk7QmxvY2tseS5GbHlvdXRDdXJzb3I9ZnVuY3Rpb24oKXtCbG9ja2x5LkZseW91dEN1cnNvci5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LkZseW91dEN1cnNvcixCbG9ja2x5LkN1cnNvcik7QmxvY2tseS5GbHlvdXRDdXJzb3IucHJvdG90eXBlLm9uQmxvY2tseUFjdGlvbj1mdW5jdGlvbihhKXtzd2l0Y2goYS5uYW1lKXtjYXNlIEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5QUkVWSU9VUzpyZXR1cm4gdGhpcy5wcmV2KCksITA7Y2FzZSBCbG9ja2x5Lm5hdmlnYXRpb24uYWN0aW9uTmFtZXMuTkVYVDpyZXR1cm4gdGhpcy5uZXh0KCksITA7ZGVmYXVsdDpyZXR1cm4hMX19O1xuQmxvY2tseS5GbHlvdXRDdXJzb3IucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEN1ck5vZGUoKTtpZighYSlyZXR1cm4gbnVsbDsoYT1hLm5leHQoKSkmJnRoaXMuc2V0Q3VyTm9kZShhKTtyZXR1cm4gYX07QmxvY2tseS5GbHlvdXRDdXJzb3IucHJvdG90eXBlLmluPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O0Jsb2NrbHkuRmx5b3V0Q3Vyc29yLnByb3RvdHlwZS5wcmV2PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXJOb2RlKCk7aWYoIWEpcmV0dXJuIG51bGw7KGE9YS5wcmV2KCkpJiZ0aGlzLnNldEN1ck5vZGUoYSk7cmV0dXJuIGF9O0Jsb2NrbHkuRmx5b3V0Q3Vyc29yLnByb3RvdHlwZS5vdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07QmxvY2tseS5GbHlvdXQ9ZnVuY3Rpb24oYSl7YS5nZXRNZXRyaWNzPXRoaXMuZ2V0TWV0cmljc18uYmluZCh0aGlzKTthLnNldE1ldHJpY3M9dGhpcy5zZXRNZXRyaWNzXy5iaW5kKHRoaXMpO3RoaXMud29ya3NwYWNlXz1uZXcgQmxvY2tseS5Xb3Jrc3BhY2VTdmcoYSk7dGhpcy53b3Jrc3BhY2VfLmlzRmx5b3V0PSEwO3RoaXMud29ya3NwYWNlXy5zZXRWaXNpYmxlKHRoaXMuaXNWaXNpYmxlXyk7dGhpcy5SVEw9ISFhLlJUTDt0aGlzLnRvb2xib3hQb3NpdGlvbl89YS50b29sYm94UG9zaXRpb247dGhpcy5ldmVudFdyYXBwZXJzXz1bXTt0aGlzLm1hdHNfPVtdO3RoaXMuYnV0dG9uc189W107dGhpcy5saXN0ZW5lcnNfPVtdO3RoaXMucGVybWFuZW50bHlEaXNhYmxlZF89W107dGhpcy50YWJXaWR0aF89dGhpcy53b3Jrc3BhY2VfLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCkuVEFCX1dJRFRIfTtCbG9ja2x5LkZseW91dC5wcm90b3R5cGUuYXV0b0Nsb3NlPSEwO1xuQmxvY2tseS5GbHlvdXQucHJvdG90eXBlLmlzVmlzaWJsZV89ITE7QmxvY2tseS5GbHlvdXQucHJvdG90eXBlLmNvbnRhaW5lclZpc2libGVfPSEwO0Jsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5DT1JORVJfUkFESVVTPTg7QmxvY2tseS5GbHlvdXQucHJvdG90eXBlLk1BUkdJTj1CbG9ja2x5LkZseW91dC5wcm90b3R5cGUuQ09STkVSX1JBRElVUztCbG9ja2x5LkZseW91dC5wcm90b3R5cGUuR0FQX1g9MypCbG9ja2x5LkZseW91dC5wcm90b3R5cGUuTUFSR0lOO0Jsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5HQVBfWT0zKkJsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5NQVJHSU47QmxvY2tseS5GbHlvdXQucHJvdG90eXBlLlNDUk9MTEJBUl9QQURESU5HPTI7QmxvY2tseS5GbHlvdXQucHJvdG90eXBlLndpZHRoXz0wO0Jsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5oZWlnaHRfPTA7QmxvY2tseS5GbHlvdXQucHJvdG90eXBlLmRyYWdBbmdsZVJhbmdlXz03MDtcbkJsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5jcmVhdGVEb209ZnVuY3Rpb24oYSl7dGhpcy5zdmdHcm91cF89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChhLHtcImNsYXNzXCI6XCJibG9ja2x5Rmx5b3V0XCIsc3R5bGU6XCJkaXNwbGF5OiBub25lXCJ9LG51bGwpO3RoaXMuc3ZnQmFja2dyb3VuZF89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInBhdGhcIix7XCJjbGFzc1wiOlwiYmxvY2tseUZseW91dEJhY2tncm91bmRcIn0sdGhpcy5zdmdHcm91cF8pO3RoaXMuc3ZnR3JvdXBfLmFwcGVuZENoaWxkKHRoaXMud29ya3NwYWNlXy5jcmVhdGVEb20oKSk7dGhpcy53b3Jrc3BhY2VfLmdldFRoZW1lTWFuYWdlcigpLnN1YnNjcmliZSh0aGlzLnN2Z0JhY2tncm91bmRfLFwiZmx5b3V0QmFja2dyb3VuZENvbG91clwiLFwiZmlsbFwiKTt0aGlzLndvcmtzcGFjZV8uZ2V0VGhlbWVNYW5hZ2VyKCkuc3Vic2NyaWJlKHRoaXMuc3ZnQmFja2dyb3VuZF8sXCJmbHlvdXRPcGFjaXR5XCIsXCJmaWxsLW9wYWNpdHlcIik7XG50aGlzLndvcmtzcGFjZV8uZ2V0TWFya2VyTWFuYWdlcigpLnNldEN1cnNvcihuZXcgQmxvY2tseS5GbHlvdXRDdXJzb3IpO3JldHVybiB0aGlzLnN2Z0dyb3VwX307XG5CbG9ja2x5LkZseW91dC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbihhKXt0aGlzLnRhcmdldFdvcmtzcGFjZV89YTt0aGlzLndvcmtzcGFjZV8udGFyZ2V0V29ya3NwYWNlPWE7dGhpcy5zY3JvbGxiYXJfPW5ldyBCbG9ja2x5LlNjcm9sbGJhcih0aGlzLndvcmtzcGFjZV8sdGhpcy5ob3Jpem9udGFsTGF5b3V0XywhMSxcImJsb2NrbHlGbHlvdXRTY3JvbGxiYXJcIik7dGhpcy5oaWRlKCk7QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodGhpcy5ldmVudFdyYXBwZXJzXyxCbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKHRoaXMuc3ZnR3JvdXBfLFwid2hlZWxcIix0aGlzLHRoaXMud2hlZWxfKSk7dGhpcy5hdXRvQ2xvc2V8fCh0aGlzLmZpbHRlcldyYXBwZXJfPXRoaXMuZmlsdGVyRm9yQ2FwYWNpdHlfLmJpbmQodGhpcyksdGhpcy50YXJnZXRXb3Jrc3BhY2VfLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuZmlsdGVyV3JhcHBlcl8pKTtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLmV2ZW50V3JhcHBlcnNfLFxuQmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyh0aGlzLnN2Z0JhY2tncm91bmRfLFwibW91c2Vkb3duXCIsdGhpcyx0aGlzLm9uTW91c2VEb3duXykpO3RoaXMud29ya3NwYWNlXy5nZXRHZXN0dXJlPXRoaXMudGFyZ2V0V29ya3NwYWNlXy5nZXRHZXN0dXJlLmJpbmQodGhpcy50YXJnZXRXb3Jrc3BhY2VfKTt0aGlzLndvcmtzcGFjZV8uc2V0VmFyaWFibGVNYXAodGhpcy50YXJnZXRXb3Jrc3BhY2VfLmdldFZhcmlhYmxlTWFwKCkpO3RoaXMud29ya3NwYWNlXy5jcmVhdGVQb3RlbnRpYWxWYXJpYWJsZU1hcCgpfTtcbkJsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5oaWRlKCk7QmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5ldmVudFdyYXBwZXJzXyk7dGhpcy5maWx0ZXJXcmFwcGVyXyYmKHRoaXMudGFyZ2V0V29ya3NwYWNlXy5yZW1vdmVDaGFuZ2VMaXN0ZW5lcih0aGlzLmZpbHRlcldyYXBwZXJfKSx0aGlzLmZpbHRlcldyYXBwZXJfPW51bGwpO3RoaXMuc2Nyb2xsYmFyXyYmKHRoaXMuc2Nyb2xsYmFyXy5kaXNwb3NlKCksdGhpcy5zY3JvbGxiYXJfPW51bGwpO3RoaXMud29ya3NwYWNlXyYmKHRoaXMud29ya3NwYWNlXy5nZXRUaGVtZU1hbmFnZXIoKS51bnN1YnNjcmliZSh0aGlzLnN2Z0JhY2tncm91bmRfKSx0aGlzLndvcmtzcGFjZV8udGFyZ2V0V29ya3NwYWNlPW51bGwsdGhpcy53b3Jrc3BhY2VfLmRpc3Bvc2UoKSx0aGlzLndvcmtzcGFjZV89bnVsbCk7dGhpcy5zdmdHcm91cF8mJihCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVOb2RlKHRoaXMuc3ZnR3JvdXBfKSxcbnRoaXMuc3ZnR3JvdXBfPW51bGwpO3RoaXMudGFyZ2V0V29ya3NwYWNlXz10aGlzLnN2Z0JhY2tncm91bmRfPW51bGx9O0Jsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5nZXRXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRoX307QmxvY2tseS5GbHlvdXQucHJvdG90eXBlLmdldEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhlaWdodF99O0Jsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5nZXRXb3Jrc3BhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53b3Jrc3BhY2VffTtCbG9ja2x5LkZseW91dC5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNWaXNpYmxlX307QmxvY2tseS5GbHlvdXQucHJvdG90eXBlLnNldFZpc2libGU9ZnVuY3Rpb24oYSl7dmFyIGI9YSE9dGhpcy5pc1Zpc2libGUoKTt0aGlzLmlzVmlzaWJsZV89YTtiJiZ0aGlzLnVwZGF0ZURpc3BsYXlfKCl9O1xuQmxvY2tseS5GbHlvdXQucHJvdG90eXBlLnNldENvbnRhaW5lclZpc2libGU9ZnVuY3Rpb24oYSl7dmFyIGI9YSE9dGhpcy5jb250YWluZXJWaXNpYmxlXzt0aGlzLmNvbnRhaW5lclZpc2libGVfPWE7YiYmdGhpcy51cGRhdGVEaXNwbGF5XygpfTtCbG9ja2x5LkZseW91dC5wcm90b3R5cGUudXBkYXRlRGlzcGxheV89ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnRhaW5lclZpc2libGVfP3RoaXMuaXNWaXNpYmxlKCk6ITE7dGhpcy5zdmdHcm91cF8uc3R5bGUuZGlzcGxheT1hP1wiYmxvY2tcIjpcIm5vbmVcIjt0aGlzLnNjcm9sbGJhcl8uc2V0Q29udGFpbmVyVmlzaWJsZShhKX07XG5CbG9ja2x5LkZseW91dC5wcm90b3R5cGUucG9zaXRpb25BdF89ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5zdmdHcm91cF8uc2V0QXR0cmlidXRlKFwid2lkdGhcIixhKTt0aGlzLnN2Z0dyb3VwXy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixiKTtcInN2Z1wiPT10aGlzLnN2Z0dyb3VwXy50YWdOYW1lP0Jsb2NrbHkudXRpbHMuZG9tLnNldENzc1RyYW5zZm9ybSh0aGlzLnN2Z0dyb3VwXyxcInRyYW5zbGF0ZShcIitjK1wicHgsXCIrZCtcInB4KVwiKTp0aGlzLnN2Z0dyb3VwXy5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZShcIitjK1wiLFwiK2QrXCIpXCIpO3RoaXMuc2Nyb2xsYmFyXyYmKHRoaXMuc2Nyb2xsYmFyXy5zZXRPcmlnaW4oYyxkKSx0aGlzLnNjcm9sbGJhcl8ucmVzaXplKCksdGhpcy5zY3JvbGxiYXJfLnNldFBvc2l0aW9uXyh0aGlzLnNjcm9sbGJhcl8ucG9zaXRpb25fLngsdGhpcy5zY3JvbGxiYXJfLnBvc2l0aW9uXy55KSl9O1xuQmxvY2tseS5GbHlvdXQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtpZih0aGlzLmlzVmlzaWJsZSgpKXt0aGlzLnNldFZpc2libGUoITEpO2Zvcih2YXIgYT0wLGI7Yj10aGlzLmxpc3RlbmVyc19bYV07YSsrKUJsb2NrbHkudW5iaW5kRXZlbnRfKGIpO3RoaXMubGlzdGVuZXJzXy5sZW5ndGg9MDt0aGlzLnJlZmxvd1dyYXBwZXJfJiYodGhpcy53b3Jrc3BhY2VfLnJlbW92ZUNoYW5nZUxpc3RlbmVyKHRoaXMucmVmbG93V3JhcHBlcl8pLHRoaXMucmVmbG93V3JhcHBlcl89bnVsbCl9fTtcbkJsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKGEpe3RoaXMud29ya3NwYWNlXy5zZXRSZXNpemVzRW5hYmxlZCghMSk7dGhpcy5oaWRlKCk7dGhpcy5jbGVhck9sZEJsb2Nrc18oKTtpZihcInN0cmluZ1wiPT10eXBlb2YgYSl7YT10aGlzLndvcmtzcGFjZV8udGFyZ2V0V29ya3NwYWNlLmdldFRvb2xib3hDYXRlZ29yeUNhbGxiYWNrKGEpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEpdGhyb3cgVHlwZUVycm9yKFwiQ291bGRuJ3QgZmluZCBhIGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gb3BlbmluZyBhIHRvb2xib3ggY2F0ZWdvcnkuXCIpO2E9YSh0aGlzLndvcmtzcGFjZV8udGFyZ2V0V29ya3NwYWNlKTtpZighQXJyYXkuaXNBcnJheShhKSl0aHJvdyBUeXBlRXJyb3IoXCJSZXN1bHQgb2YgdG9vbGJveCBjYXRlZ29yeSBjYWxsYmFjayBtdXN0IGJlIGFuIGFycmF5LlwiKTt9dGhpcy5zZXRWaXNpYmxlKCEwKTt2YXIgYj1bXSxjPVtdO3RoaXMucGVybWFuZW50bHlEaXNhYmxlZF8ubGVuZ3RoPVxuMDtmb3IodmFyIGQ9dGhpcy5ob3Jpem9udGFsTGF5b3V0Xz90aGlzLkdBUF9YOnRoaXMuR0FQX1ksZT0wLGY7Zj1hW2VdO2UrKylpZihmLnRhZ05hbWUpc3dpdGNoKGYudGFnTmFtZS50b1VwcGVyQ2FzZSgpKXtjYXNlIFwiQkxPQ0tcIjp2YXIgZz1CbG9ja2x5LlhtbC5kb21Ub0Jsb2NrKGYsdGhpcy53b3Jrc3BhY2VfKTtnLmlzRW5hYmxlZCgpfHx0aGlzLnBlcm1hbmVudGx5RGlzYWJsZWRfLnB1c2goZyk7Yi5wdXNoKHt0eXBlOlwiYmxvY2tcIixibG9jazpnfSk7Zj1wYXJzZUludChmLmdldEF0dHJpYnV0ZShcImdhcFwiKSwxMCk7Yy5wdXNoKGlzTmFOKGYpP2Q6Zik7YnJlYWs7Y2FzZSBcIlNFUFwiOmY9cGFyc2VJbnQoZi5nZXRBdHRyaWJ1dGUoXCJnYXBcIiksMTApOyFpc05hTihmKSYmMDxjLmxlbmd0aD9jW2MubGVuZ3RoLTFdPWY6Yy5wdXNoKGQpO2JyZWFrO2Nhc2UgXCJMQUJFTFwiOmNhc2UgXCJCVVRUT05cIjpnPVwiTEFCRUxcIj09Zi50YWdOYW1lLnRvVXBwZXJDYXNlKCk7aWYoIUJsb2NrbHkuRmx5b3V0QnV0dG9uKXRocm93IEVycm9yKFwiTWlzc2luZyByZXF1aXJlIGZvciBCbG9ja2x5LkZseW91dEJ1dHRvblwiKTtcbmY9bmV3IEJsb2NrbHkuRmx5b3V0QnV0dG9uKHRoaXMud29ya3NwYWNlXyx0aGlzLnRhcmdldFdvcmtzcGFjZV8sZixnKTtiLnB1c2goe3R5cGU6XCJidXR0b25cIixidXR0b246Zn0pO2MucHVzaChkKX10aGlzLmxheW91dF8oYixjKTt0aGlzLmxpc3RlbmVyc18ucHVzaChCbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKHRoaXMuc3ZnQmFja2dyb3VuZF8sXCJtb3VzZW92ZXJcIix0aGlzLGZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMud29ya3NwYWNlXy5nZXRUb3BCbG9ja3MoITEpLGI9MCxjO2M9YVtiXTtiKyspYy5yZW1vdmVTZWxlY3QoKX0pKTt0aGlzLmhvcml6b250YWxMYXlvdXRfP3RoaXMuaGVpZ2h0Xz0wOnRoaXMud2lkdGhfPTA7dGhpcy53b3Jrc3BhY2VfLnNldFJlc2l6ZXNFbmFibGVkKCEwKTt0aGlzLnJlZmxvdygpO3RoaXMuZmlsdGVyRm9yQ2FwYWNpdHlfKCk7dGhpcy5wb3NpdGlvbigpO3RoaXMucmVmbG93V3JhcHBlcl89dGhpcy5yZWZsb3cuYmluZCh0aGlzKTt0aGlzLndvcmtzcGFjZV8uYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5yZWZsb3dXcmFwcGVyXyl9O1xuQmxvY2tseS5GbHlvdXQucHJvdG90eXBlLmNsZWFyT2xkQmxvY2tzXz1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLndvcmtzcGFjZV8uZ2V0VG9wQmxvY2tzKCExKSxiPTAsYztjPWFbYl07YisrKWMud29ya3NwYWNlPT10aGlzLndvcmtzcGFjZV8mJmMuZGlzcG9zZSghMSwhMSk7Zm9yKGI9MDtiPHRoaXMubWF0c18ubGVuZ3RoO2IrKylpZihhPXRoaXMubWF0c19bYl0pQmxvY2tseS5Ub29sdGlwLnVuYmluZE1vdXNlRXZlbnRzKGEpLEJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZU5vZGUoYSk7Zm9yKGI9dGhpcy5tYXRzXy5sZW5ndGg9MDthPXRoaXMuYnV0dG9uc19bYl07YisrKWEuZGlzcG9zZSgpO3RoaXMuYnV0dG9uc18ubGVuZ3RoPTA7dGhpcy53b3Jrc3BhY2VfLmdldFBvdGVudGlhbFZhcmlhYmxlTWFwKCkuY2xlYXIoKX07XG5CbG9ja2x5LkZseW91dC5wcm90b3R5cGUuYWRkQmxvY2tMaXN0ZW5lcnNfPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmxpc3RlbmVyc18ucHVzaChCbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGEsXCJtb3VzZWRvd25cIixudWxsLHRoaXMuYmxvY2tNb3VzZURvd25fKGIpKSk7dGhpcy5saXN0ZW5lcnNfLnB1c2goQmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhjLFwibW91c2Vkb3duXCIsbnVsbCx0aGlzLmJsb2NrTW91c2VEb3duXyhiKSkpO3RoaXMubGlzdGVuZXJzXy5wdXNoKEJsb2NrbHkuYmluZEV2ZW50XyhhLFwibW91c2VlbnRlclwiLGIsYi5hZGRTZWxlY3QpKTt0aGlzLmxpc3RlbmVyc18ucHVzaChCbG9ja2x5LmJpbmRFdmVudF8oYSxcIm1vdXNlbGVhdmVcIixiLGIucmVtb3ZlU2VsZWN0KSk7dGhpcy5saXN0ZW5lcnNfLnB1c2goQmxvY2tseS5iaW5kRXZlbnRfKGMsXCJtb3VzZWVudGVyXCIsYixiLmFkZFNlbGVjdCkpO3RoaXMubGlzdGVuZXJzXy5wdXNoKEJsb2NrbHkuYmluZEV2ZW50XyhjLFxuXCJtb3VzZWxlYXZlXCIsYixiLnJlbW92ZVNlbGVjdCkpfTtCbG9ja2x5LkZseW91dC5wcm90b3R5cGUuYmxvY2tNb3VzZURvd25fPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWIudGFyZ2V0V29ya3NwYWNlXy5nZXRHZXN0dXJlKGMpO2QmJihkLnNldFN0YXJ0QmxvY2soYSksZC5oYW5kbGVGbHlvdXRTdGFydChjLGIpKX19O0Jsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5vbk1vdXNlRG93bl89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50YXJnZXRXb3Jrc3BhY2VfLmdldEdlc3R1cmUoYSk7YiYmYi5oYW5kbGVGbHlvdXRTdGFydChhLHRoaXMpfTtCbG9ja2x5LkZseW91dC5wcm90b3R5cGUuaXNCbG9ja0NyZWF0YWJsZV89ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaXNFbmFibGVkKCl9O1xuQmxvY2tseS5GbHlvdXQucHJvdG90eXBlLmNyZWF0ZUJsb2NrPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7QmxvY2tseS5FdmVudHMuZGlzYWJsZSgpO3ZhciBjPXRoaXMudGFyZ2V0V29ya3NwYWNlXy5nZXRBbGxWYXJpYWJsZXMoKTt0aGlzLnRhcmdldFdvcmtzcGFjZV8uc2V0UmVzaXplc0VuYWJsZWQoITEpO3RyeXtiPXRoaXMucGxhY2VOZXdCbG9ja18oYSksQmxvY2tseS5oaWRlQ2hhZmYoKX1maW5hbGx5e0Jsb2NrbHkuRXZlbnRzLmVuYWJsZSgpfWE9QmxvY2tseS5WYXJpYWJsZXMuZ2V0QWRkZWRWYXJpYWJsZXModGhpcy50YXJnZXRXb3Jrc3BhY2VfLGMpO2lmKEJsb2NrbHkuRXZlbnRzLmlzRW5hYmxlZCgpKWZvcihCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMCksQmxvY2tseS5FdmVudHMuZmlyZShuZXcgQmxvY2tseS5FdmVudHMuQ3JlYXRlKGIpKSxjPTA7YzxhLmxlbmd0aDtjKyspQmxvY2tseS5FdmVudHMuZmlyZShuZXcgQmxvY2tseS5FdmVudHMuVmFyQ3JlYXRlKGFbY10pKTtcbnRoaXMuYXV0b0Nsb3NlP3RoaXMuaGlkZSgpOnRoaXMuZmlsdGVyRm9yQ2FwYWNpdHlfKCk7cmV0dXJuIGJ9O0Jsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5pbml0Rmx5b3V0QnV0dG9uXz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5jcmVhdGVEb20oKTthLm1vdmVUbyhiLGMpO2Euc2hvdygpO3RoaXMubGlzdGVuZXJzXy5wdXNoKEJsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18oZCxcIm1vdXNlZG93blwiLHRoaXMsdGhpcy5vbk1vdXNlRG93bl8pKTt0aGlzLmJ1dHRvbnNfLnB1c2goYSl9O1xuQmxvY2tseS5GbHlvdXQucHJvdG90eXBlLmNyZWF0ZVJlY3RfPWZ1bmN0aW9uKGEsYixjLGQsZSl7Yj1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicmVjdFwiLHtcImZpbGwtb3BhY2l0eVwiOjAseDpiLHk6YyxoZWlnaHQ6ZC5oZWlnaHQsd2lkdGg6ZC53aWR0aH0sbnVsbCk7Yi50b29sdGlwPWE7QmxvY2tseS5Ub29sdGlwLmJpbmRNb3VzZUV2ZW50cyhiKTt0aGlzLndvcmtzcGFjZV8uZ2V0Q2FudmFzKCkuaW5zZXJ0QmVmb3JlKGIsYS5nZXRTdmdSb290KCkpO2EuZmx5b3V0UmVjdF89YjtyZXR1cm4gdGhpcy5tYXRzX1tlXT1ifTtcbkJsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5tb3ZlUmVjdFRvQmxvY2tfPWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXRIZWlnaHRXaWR0aCgpO2Euc2V0QXR0cmlidXRlKFwid2lkdGhcIixjLndpZHRoKTthLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGMuaGVpZ2h0KTtiPWIuZ2V0UmVsYXRpdmVUb1N1cmZhY2VYWSgpO2Euc2V0QXR0cmlidXRlKFwieVwiLGIueSk7YS5zZXRBdHRyaWJ1dGUoXCJ4XCIsdGhpcy5SVEw/Yi54LWMud2lkdGg6Yi54KX07XG5CbG9ja2x5LkZseW91dC5wcm90b3R5cGUuZmlsdGVyRm9yQ2FwYWNpdHlfPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMud29ya3NwYWNlXy5nZXRUb3BCbG9ja3MoITEpLGI9MCxjO2M9YVtiXTtiKyspaWYoLTE9PXRoaXMucGVybWFuZW50bHlEaXNhYmxlZF8uaW5kZXhPZihjKSlmb3IodmFyIGQ9dGhpcy50YXJnZXRXb3Jrc3BhY2VfLmlzQ2FwYWNpdHlBdmFpbGFibGUoQmxvY2tseS51dGlscy5nZXRCbG9ja1R5cGVDb3VudHMoYykpO2M7KWMuc2V0RW5hYmxlZChkKSxjPWMuZ2V0TmV4dEJsb2NrKCl9O0Jsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5yZWZsb3c9ZnVuY3Rpb24oKXt0aGlzLnJlZmxvd1dyYXBwZXJfJiZ0aGlzLndvcmtzcGFjZV8ucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5yZWZsb3dXcmFwcGVyXyk7dGhpcy5yZWZsb3dJbnRlcm5hbF8oKTt0aGlzLnJlZmxvd1dyYXBwZXJfJiZ0aGlzLndvcmtzcGFjZV8uYWRkQ2hhbmdlTGlzdGVuZXIodGhpcy5yZWZsb3dXcmFwcGVyXyl9O1xuQmxvY2tseS5GbHlvdXQucHJvdG90eXBlLmlzU2Nyb2xsYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjcm9sbGJhcl8/dGhpcy5zY3JvbGxiYXJfLmlzVmlzaWJsZSgpOiExfTtcbkJsb2NrbHkuRmx5b3V0LnByb3RvdHlwZS5wbGFjZU5ld0Jsb2NrXz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLnRhcmdldFdvcmtzcGFjZV87aWYoIWEuZ2V0U3ZnUm9vdCgpKXRocm93IEVycm9yKFwib2xkQmxvY2sgaXMgbm90IHJlbmRlcmVkLlwiKTt2YXIgYz1CbG9ja2x5LlhtbC5ibG9ja1RvRG9tKGEsITApO2Iuc2V0UmVzaXplc0VuYWJsZWQoITEpO2M9QmxvY2tseS5YbWwuZG9tVG9CbG9jayhjLGIpO2lmKCFjLmdldFN2Z1Jvb3QoKSl0aHJvdyBFcnJvcihcImJsb2NrIGlzIG5vdCByZW5kZXJlZC5cIik7dmFyIGQ9Yi5nZXRPcmlnaW5PZmZzZXRJblBpeGVscygpLGU9dGhpcy53b3Jrc3BhY2VfLmdldE9yaWdpbk9mZnNldEluUGl4ZWxzKCk7YT1hLmdldFJlbGF0aXZlVG9TdXJmYWNlWFkoKTthLnNjYWxlKHRoaXMud29ya3NwYWNlXy5zY2FsZSk7YT1CbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUuc3VtKGUsYSk7ZD1CbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUuZGlmZmVyZW5jZShhLGQpO1xuZC5zY2FsZSgxL2Iuc2NhbGUpO2MubW92ZUJ5KGQueCxkLnkpO3JldHVybiBjfTtCbG9ja2x5LkZseW91dC5wcm90b3R5cGUub25CbG9ja2x5QWN0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLndvcmtzcGFjZV8uZ2V0Q3Vyc29yKCkub25CbG9ja2x5QWN0aW9uKGEpfTtCbG9ja2x5Lkhvcml6b250YWxGbHlvdXQ9ZnVuY3Rpb24oYSl7YS5nZXRNZXRyaWNzPXRoaXMuZ2V0TWV0cmljc18uYmluZCh0aGlzKTthLnNldE1ldHJpY3M9dGhpcy5zZXRNZXRyaWNzXy5iaW5kKHRoaXMpO0Jsb2NrbHkuSG9yaXpvbnRhbEZseW91dC5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy5ob3Jpem9udGFsTGF5b3V0Xz0hMH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5Ib3Jpem9udGFsRmx5b3V0LEJsb2NrbHkuRmx5b3V0KTtcbkJsb2NrbHkuSG9yaXpvbnRhbEZseW91dC5wcm90b3R5cGUuZ2V0TWV0cmljc189ZnVuY3Rpb24oKXtpZighdGhpcy5pc1Zpc2libGUoKSlyZXR1cm4gbnVsbDt0cnl7dmFyIGE9dGhpcy53b3Jrc3BhY2VfLmdldENhbnZhcygpLmdldEJCb3goKX1jYXRjaChlKXthPXtoZWlnaHQ6MCx5OjAsd2lkdGg6MCx4OjB9fXZhciBiPXRoaXMuU0NST0xMQkFSX1BBRERJTkcsYz10aGlzLlNDUk9MTEJBUl9QQURESU5HO3RoaXMudG9vbGJveFBvc2l0aW9uXz09QmxvY2tseS5UT09MQk9YX0FUX0JPVFRPTSYmKGI9MCk7dmFyIGQ9dGhpcy5oZWlnaHRfO3RoaXMudG9vbGJveFBvc2l0aW9uXz09QmxvY2tseS5UT09MQk9YX0FUX1RPUCYmKGQtPXRoaXMuU0NST0xMQkFSX1BBRERJTkcpO3JldHVybnt2aWV3SGVpZ2h0OmQsdmlld1dpZHRoOnRoaXMud2lkdGhfLTIqdGhpcy5TQ1JPTExCQVJfUEFERElORyxjb250ZW50SGVpZ2h0OihhLmhlaWdodCsyKnRoaXMuTUFSR0lOKSp0aGlzLndvcmtzcGFjZV8uc2NhbGUsXG5jb250ZW50V2lkdGg6KGEud2lkdGgrMip0aGlzLk1BUkdJTikqdGhpcy53b3Jrc3BhY2VfLnNjYWxlLHZpZXdUb3A6LXRoaXMud29ya3NwYWNlXy5zY3JvbGxZLHZpZXdMZWZ0Oi10aGlzLndvcmtzcGFjZV8uc2Nyb2xsWCxjb250ZW50VG9wOjAsY29udGVudExlZnQ6MCxhYnNvbHV0ZVRvcDpiLGFic29sdXRlTGVmdDpjfX07QmxvY2tseS5Ib3Jpem9udGFsRmx5b3V0LnByb3RvdHlwZS5zZXRNZXRyaWNzXz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE1ldHJpY3NfKCk7YiYmKFwibnVtYmVyXCI9PXR5cGVvZiBhLngmJih0aGlzLndvcmtzcGFjZV8uc2Nyb2xsWD0tYi5jb250ZW50V2lkdGgqYS54KSx0aGlzLndvcmtzcGFjZV8udHJhbnNsYXRlKHRoaXMud29ya3NwYWNlXy5zY3JvbGxYK2IuYWJzb2x1dGVMZWZ0LHRoaXMud29ya3NwYWNlXy5zY3JvbGxZK2IuYWJzb2x1dGVUb3ApKX07XG5CbG9ja2x5Lkhvcml6b250YWxGbHlvdXQucHJvdG90eXBlLnBvc2l0aW9uPWZ1bmN0aW9uKCl7aWYodGhpcy5pc1Zpc2libGUoKSl7dmFyIGE9dGhpcy50YXJnZXRXb3Jrc3BhY2VfLmdldE1ldHJpY3MoKTthJiYodGhpcy53aWR0aF89YS52aWV3V2lkdGgsdGhpcy5zZXRCYWNrZ3JvdW5kUGF0aF8oYS52aWV3V2lkdGgtMip0aGlzLkNPUk5FUl9SQURJVVMsdGhpcy5oZWlnaHRfLXRoaXMuQ09STkVSX1JBRElVUyksdGhpcy5wb3NpdGlvbkF0Xyh0aGlzLndpZHRoXyx0aGlzLmhlaWdodF8sMCx0aGlzLnRhcmdldFdvcmtzcGFjZV8udG9vbGJveFBvc2l0aW9uPT10aGlzLnRvb2xib3hQb3NpdGlvbl8/YS50b29sYm94SGVpZ2h0P3RoaXMudG9vbGJveFBvc2l0aW9uXz09QmxvY2tseS5UT09MQk9YX0FUX1RPUD9hLnRvb2xib3hIZWlnaHQ6YS52aWV3SGVpZ2h0LXRoaXMuaGVpZ2h0Xzp0aGlzLnRvb2xib3hQb3NpdGlvbl89PUJsb2NrbHkuVE9PTEJPWF9BVF9UT1A/MDphLnZpZXdIZWlnaHQ6XG50aGlzLnRvb2xib3hQb3NpdGlvbl89PUJsb2NrbHkuVE9PTEJPWF9BVF9UT1A/MDphLnZpZXdIZWlnaHQrYS5hYnNvbHV0ZVRvcC10aGlzLmhlaWdodF8pKX19O1xuQmxvY2tseS5Ib3Jpem9udGFsRmx5b3V0LnByb3RvdHlwZS5zZXRCYWNrZ3JvdW5kUGF0aF89ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnRvb2xib3hQb3NpdGlvbl89PUJsb2NrbHkuVE9PTEJPWF9BVF9UT1AsZD1bXCJNIDAsXCIrKGM/MDp0aGlzLkNPUk5FUl9SQURJVVMpXTtjPyhkLnB1c2goXCJoXCIsYSsyKnRoaXMuQ09STkVSX1JBRElVUyksZC5wdXNoKFwidlwiLGIpLGQucHVzaChcImFcIix0aGlzLkNPUk5FUl9SQURJVVMsdGhpcy5DT1JORVJfUkFESVVTLDAsMCwxLC10aGlzLkNPUk5FUl9SQURJVVMsdGhpcy5DT1JORVJfUkFESVVTKSxkLnB1c2goXCJoXCIsLWEpLGQucHVzaChcImFcIix0aGlzLkNPUk5FUl9SQURJVVMsdGhpcy5DT1JORVJfUkFESVVTLDAsMCwxLC10aGlzLkNPUk5FUl9SQURJVVMsLXRoaXMuQ09STkVSX1JBRElVUykpOihkLnB1c2goXCJhXCIsdGhpcy5DT1JORVJfUkFESVVTLHRoaXMuQ09STkVSX1JBRElVUywwLDAsMSx0aGlzLkNPUk5FUl9SQURJVVMsLXRoaXMuQ09STkVSX1JBRElVUyksXG5kLnB1c2goXCJoXCIsYSksZC5wdXNoKFwiYVwiLHRoaXMuQ09STkVSX1JBRElVUyx0aGlzLkNPUk5FUl9SQURJVVMsMCwwLDEsdGhpcy5DT1JORVJfUkFESVVTLHRoaXMuQ09STkVSX1JBRElVUyksZC5wdXNoKFwidlwiLGIpLGQucHVzaChcImhcIiwtYS0yKnRoaXMuQ09STkVSX1JBRElVUykpO2QucHVzaChcInpcIik7dGhpcy5zdmdCYWNrZ3JvdW5kXy5zZXRBdHRyaWJ1dGUoXCJkXCIsZC5qb2luKFwiIFwiKSl9O0Jsb2NrbHkuSG9yaXpvbnRhbEZseW91dC5wcm90b3R5cGUuc2Nyb2xsVG9TdGFydD1mdW5jdGlvbigpe3RoaXMuc2Nyb2xsYmFyXy5zZXQodGhpcy5SVEw/SW5maW5pdHk6MCl9O1xuQmxvY2tseS5Ib3Jpem9udGFsRmx5b3V0LnByb3RvdHlwZS53aGVlbF89ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS51dGlscy5nZXRTY3JvbGxEZWx0YVBpeGVscyhhKSxjPWIueHx8Yi55O2MmJihiPXRoaXMuZ2V0TWV0cmljc18oKSxjPWIudmlld0xlZnQrYyxjPU1hdGgubWluKGMsYi5jb250ZW50V2lkdGgtYi52aWV3V2lkdGgpLGM9TWF0aC5tYXgoYywwKSx0aGlzLnNjcm9sbGJhcl8uc2V0KGMpLEJsb2NrbHkuV2lkZ2V0RGl2LmhpZGUoKSk7YS5wcmV2ZW50RGVmYXVsdCgpO2Euc3RvcFByb3BhZ2F0aW9uKCl9O1xuQmxvY2tseS5Ib3Jpem9udGFsRmx5b3V0LnByb3RvdHlwZS5sYXlvdXRfPWZ1bmN0aW9uKGEsYil7dGhpcy53b3Jrc3BhY2VfLnNjYWxlPXRoaXMudGFyZ2V0V29ya3NwYWNlXy5zY2FsZTt2YXIgYz10aGlzLk1BUkdJTixkPWMrdGhpcy50YWJXaWR0aF87dGhpcy5SVEwmJihhPWEucmV2ZXJzZSgpKTtmb3IodmFyIGU9MCxmO2Y9YVtlXTtlKyspaWYoXCJibG9ja1wiPT1mLnR5cGUpe2Y9Zi5ibG9jaztmb3IodmFyIGc9Zi5nZXREZXNjZW5kYW50cyghMSksaD0wLGs7az1nW2hdO2grKylrLmlzSW5GbHlvdXQ9ITA7Zi5yZW5kZXIoKTtnPWYuZ2V0U3ZnUm9vdCgpO2g9Zi5nZXRIZWlnaHRXaWR0aCgpO2s9Zi5vdXRwdXRDb25uZWN0aW9uP3RoaXMudGFiV2lkdGhfOjA7az10aGlzLlJUTD9kK2gud2lkdGg6ZC1rO2YubW92ZUJ5KGssYyk7az10aGlzLmNyZWF0ZVJlY3RfKGYsayxjLGgsZSk7ZCs9aC53aWR0aCtiW2VdO3RoaXMuYWRkQmxvY2tMaXN0ZW5lcnNfKGcsZixrKX1lbHNlXCJidXR0b25cIj09XG5mLnR5cGUmJih0aGlzLmluaXRGbHlvdXRCdXR0b25fKGYuYnV0dG9uLGQsYyksZCs9Zi5idXR0b24ud2lkdGgrYltlXSl9O0Jsb2NrbHkuSG9yaXpvbnRhbEZseW91dC5wcm90b3R5cGUuaXNEcmFnVG93YXJkV29ya3NwYWNlPWZ1bmN0aW9uKGEpe2E9TWF0aC5hdGFuMihhLnksYS54KS9NYXRoLlBJKjE4MDt2YXIgYj10aGlzLmRyYWdBbmdsZVJhbmdlXztyZXR1cm4gYTw5MCtiJiZhPjkwLWJ8fGE+LTkwLWImJmE8LTkwK2I/ITA6ITF9O1xuQmxvY2tseS5Ib3Jpem9udGFsRmx5b3V0LnByb3RvdHlwZS5nZXRDbGllbnRSZWN0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuc3ZnR3JvdXBfKXJldHVybiBudWxsO3ZhciBhPXRoaXMuc3ZnR3JvdXBfLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGI9YS50b3A7cmV0dXJuIHRoaXMudG9vbGJveFBvc2l0aW9uXz09QmxvY2tseS5UT09MQk9YX0FUX1RPUD9uZXcgQmxvY2tseS51dGlscy5SZWN0KC0xRTksYithLmhlaWdodCwtMUU5LDFFOSk6bmV3IEJsb2NrbHkudXRpbHMuUmVjdChiLDFFOSwtMUU5LDFFOSl9O1xuQmxvY2tseS5Ib3Jpem9udGFsRmx5b3V0LnByb3RvdHlwZS5yZWZsb3dJbnRlcm5hbF89ZnVuY3Rpb24oKXt0aGlzLndvcmtzcGFjZV8uc2NhbGU9dGhpcy50YXJnZXRXb3Jrc3BhY2VfLnNjYWxlO2Zvcih2YXIgYT0wLGI9dGhpcy53b3Jrc3BhY2VfLmdldFRvcEJsb2NrcyghMSksYz0wLGQ7ZD1iW2NdO2MrKylhPU1hdGgubWF4KGEsZC5nZXRIZWlnaHRXaWR0aCgpLmhlaWdodCk7YSs9MS41KnRoaXMuTUFSR0lOO2EqPXRoaXMud29ya3NwYWNlXy5zY2FsZTthKz1CbG9ja2x5LlNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3M7aWYodGhpcy5oZWlnaHRfIT1hKXtmb3IoYz0wO2Q9YltjXTtjKyspZC5mbHlvdXRSZWN0XyYmdGhpcy5tb3ZlUmVjdFRvQmxvY2tfKGQuZmx5b3V0UmVjdF8sZCk7dGhpcy5oZWlnaHRfPWE7dGhpcy5wb3NpdGlvbigpfX07QmxvY2tseS5WZXJ0aWNhbEZseW91dD1mdW5jdGlvbihhKXthLmdldE1ldHJpY3M9dGhpcy5nZXRNZXRyaWNzXy5iaW5kKHRoaXMpO2Euc2V0TWV0cmljcz10aGlzLnNldE1ldHJpY3NfLmJpbmQodGhpcyk7QmxvY2tseS5WZXJ0aWNhbEZseW91dC5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy5ob3Jpem9udGFsTGF5b3V0Xz0hMX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5WZXJ0aWNhbEZseW91dCxCbG9ja2x5LkZseW91dCk7XG5CbG9ja2x5LlZlcnRpY2FsRmx5b3V0LnByb3RvdHlwZS5nZXRNZXRyaWNzXz1mdW5jdGlvbigpe2lmKCF0aGlzLmlzVmlzaWJsZSgpKXJldHVybiBudWxsO3RyeXt2YXIgYT10aGlzLndvcmtzcGFjZV8uZ2V0Q2FudmFzKCkuZ2V0QkJveCgpfWNhdGNoKGUpe2E9e2hlaWdodDowLHk6MCx3aWR0aDowLHg6MH19dmFyIGI9dGhpcy5TQ1JPTExCQVJfUEFERElORyxjPXRoaXMuaGVpZ2h0Xy0yKnRoaXMuU0NST0xMQkFSX1BBRERJTkcsZD10aGlzLndpZHRoXzt0aGlzLlJUTHx8KGQtPXRoaXMuU0NST0xMQkFSX1BBRERJTkcpO3JldHVybnt2aWV3SGVpZ2h0OmMsdmlld1dpZHRoOmQsY29udGVudEhlaWdodDphLmhlaWdodCp0aGlzLndvcmtzcGFjZV8uc2NhbGUrMip0aGlzLk1BUkdJTixjb250ZW50V2lkdGg6YS53aWR0aCp0aGlzLndvcmtzcGFjZV8uc2NhbGUrMip0aGlzLk1BUkdJTix2aWV3VG9wOi10aGlzLndvcmtzcGFjZV8uc2Nyb2xsWSthLnksdmlld0xlZnQ6LXRoaXMud29ya3NwYWNlXy5zY3JvbGxYLFxuY29udGVudFRvcDphLnksY29udGVudExlZnQ6YS54LGFic29sdXRlVG9wOmIsYWJzb2x1dGVMZWZ0OjB9fTtCbG9ja2x5LlZlcnRpY2FsRmx5b3V0LnByb3RvdHlwZS5zZXRNZXRyaWNzXz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE1ldHJpY3NfKCk7YiYmKFwibnVtYmVyXCI9PXR5cGVvZiBhLnkmJih0aGlzLndvcmtzcGFjZV8uc2Nyb2xsWT0tYi5jb250ZW50SGVpZ2h0KmEueSksdGhpcy53b3Jrc3BhY2VfLnRyYW5zbGF0ZSh0aGlzLndvcmtzcGFjZV8uc2Nyb2xsWCtiLmFic29sdXRlTGVmdCx0aGlzLndvcmtzcGFjZV8uc2Nyb2xsWStiLmFic29sdXRlVG9wKSl9O1xuQmxvY2tseS5WZXJ0aWNhbEZseW91dC5wcm90b3R5cGUucG9zaXRpb249ZnVuY3Rpb24oKXtpZih0aGlzLmlzVmlzaWJsZSgpKXt2YXIgYT10aGlzLnRhcmdldFdvcmtzcGFjZV8uZ2V0TWV0cmljcygpO2EmJih0aGlzLmhlaWdodF89YS52aWV3SGVpZ2h0LHRoaXMuc2V0QmFja2dyb3VuZFBhdGhfKHRoaXMud2lkdGhfLXRoaXMuQ09STkVSX1JBRElVUyxhLnZpZXdIZWlnaHQtMip0aGlzLkNPUk5FUl9SQURJVVMpLHRoaXMucG9zaXRpb25BdF8odGhpcy53aWR0aF8sdGhpcy5oZWlnaHRfLHRoaXMudGFyZ2V0V29ya3NwYWNlXy50b29sYm94UG9zaXRpb249PXRoaXMudG9vbGJveFBvc2l0aW9uXz9hLnRvb2xib3hXaWR0aD90aGlzLnRvb2xib3hQb3NpdGlvbl89PUJsb2NrbHkuVE9PTEJPWF9BVF9MRUZUP2EudG9vbGJveFdpZHRoOmEudmlld1dpZHRoLXRoaXMud2lkdGhfOnRoaXMudG9vbGJveFBvc2l0aW9uXz09QmxvY2tseS5UT09MQk9YX0FUX0xFRlQ/MDphLnZpZXdXaWR0aDp0aGlzLnRvb2xib3hQb3NpdGlvbl89PVxuQmxvY2tseS5UT09MQk9YX0FUX0xFRlQ/MDphLnZpZXdXaWR0aCthLmFic29sdXRlTGVmdC10aGlzLndpZHRoXywwKSl9fTtcbkJsb2NrbHkuVmVydGljYWxGbHlvdXQucHJvdG90eXBlLnNldEJhY2tncm91bmRQYXRoXz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMudG9vbGJveFBvc2l0aW9uXz09QmxvY2tseS5UT09MQk9YX0FUX1JJR0hULGQ9YSt0aGlzLkNPUk5FUl9SQURJVVM7ZD1bXCJNIFwiKyhjP2Q6MCkrXCIsMFwiXTtkLnB1c2goXCJoXCIsYz8tYTphKTtkLnB1c2goXCJhXCIsdGhpcy5DT1JORVJfUkFESVVTLHRoaXMuQ09STkVSX1JBRElVUywwLDAsYz8wOjEsYz8tdGhpcy5DT1JORVJfUkFESVVTOnRoaXMuQ09STkVSX1JBRElVUyx0aGlzLkNPUk5FUl9SQURJVVMpO2QucHVzaChcInZcIixNYXRoLm1heCgwLGIpKTtkLnB1c2goXCJhXCIsdGhpcy5DT1JORVJfUkFESVVTLHRoaXMuQ09STkVSX1JBRElVUywwLDAsYz8wOjEsYz90aGlzLkNPUk5FUl9SQURJVVM6LXRoaXMuQ09STkVSX1JBRElVUyx0aGlzLkNPUk5FUl9SQURJVVMpO2QucHVzaChcImhcIixjP2E6LWEpO2QucHVzaChcInpcIik7dGhpcy5zdmdCYWNrZ3JvdW5kXy5zZXRBdHRyaWJ1dGUoXCJkXCIsXG5kLmpvaW4oXCIgXCIpKX07QmxvY2tseS5WZXJ0aWNhbEZseW91dC5wcm90b3R5cGUuc2Nyb2xsVG9TdGFydD1mdW5jdGlvbigpe3RoaXMuc2Nyb2xsYmFyXy5zZXQoMCl9O0Jsb2NrbHkuVmVydGljYWxGbHlvdXQucHJvdG90eXBlLndoZWVsXz1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LnV0aWxzLmdldFNjcm9sbERlbHRhUGl4ZWxzKGEpO2lmKGIueSl7dmFyIGM9dGhpcy5nZXRNZXRyaWNzXygpO2I9Yy52aWV3VG9wLWMuY29udGVudFRvcCtiLnk7Yj1NYXRoLm1pbihiLGMuY29udGVudEhlaWdodC1jLnZpZXdIZWlnaHQpO2I9TWF0aC5tYXgoYiwwKTt0aGlzLnNjcm9sbGJhcl8uc2V0KGIpO0Jsb2NrbHkuV2lkZ2V0RGl2LmhpZGUoKX1hLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKX07XG5CbG9ja2x5LlZlcnRpY2FsRmx5b3V0LnByb3RvdHlwZS5sYXlvdXRfPWZ1bmN0aW9uKGEsYil7dGhpcy53b3Jrc3BhY2VfLnNjYWxlPXRoaXMudGFyZ2V0V29ya3NwYWNlXy5zY2FsZTtmb3IodmFyIGM9dGhpcy5NQVJHSU4sZD10aGlzLlJUTD9jOmMrdGhpcy50YWJXaWR0aF8sZT0wLGY7Zj1hW2VdO2UrKylpZihcImJsb2NrXCI9PWYudHlwZSl7Zj1mLmJsb2NrO2Zvcih2YXIgZz1mLmdldERlc2NlbmRhbnRzKCExKSxoPTAsaztrPWdbaF07aCsrKWsuaXNJbkZseW91dD0hMDtmLnJlbmRlcigpO2c9Zi5nZXRTdmdSb290KCk7aD1mLmdldEhlaWdodFdpZHRoKCk7az1mLm91dHB1dENvbm5lY3Rpb24/ZC10aGlzLnRhYldpZHRoXzpkO2YubW92ZUJ5KGssYyk7az10aGlzLmNyZWF0ZVJlY3RfKGYsdGhpcy5SVEw/ay1oLndpZHRoOmssYyxoLGUpO3RoaXMuYWRkQmxvY2tMaXN0ZW5lcnNfKGcsZixrKTtjKz1oLmhlaWdodCtiW2VdfWVsc2VcImJ1dHRvblwiPT1mLnR5cGUmJih0aGlzLmluaXRGbHlvdXRCdXR0b25fKGYuYnV0dG9uLFxuZCxjKSxjKz1mLmJ1dHRvbi5oZWlnaHQrYltlXSl9O0Jsb2NrbHkuVmVydGljYWxGbHlvdXQucHJvdG90eXBlLmlzRHJhZ1Rvd2FyZFdvcmtzcGFjZT1mdW5jdGlvbihhKXthPU1hdGguYXRhbjIoYS55LGEueCkvTWF0aC5QSSoxODA7dmFyIGI9dGhpcy5kcmFnQW5nbGVSYW5nZV87cmV0dXJuIGE8YiYmYT4tYnx8YTwtMTgwK2J8fGE+MTgwLWI/ITA6ITF9O0Jsb2NrbHkuVmVydGljYWxGbHlvdXQucHJvdG90eXBlLmdldENsaWVudFJlY3Q9ZnVuY3Rpb24oKXtpZighdGhpcy5zdmdHcm91cF8pcmV0dXJuIG51bGw7dmFyIGE9dGhpcy5zdmdHcm91cF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYj1hLmxlZnQ7cmV0dXJuIHRoaXMudG9vbGJveFBvc2l0aW9uXz09QmxvY2tseS5UT09MQk9YX0FUX0xFRlQ/bmV3IEJsb2NrbHkudXRpbHMuUmVjdCgtMUU5LDFFOSwtMUU5LGIrYS53aWR0aCk6bmV3IEJsb2NrbHkudXRpbHMuUmVjdCgtMUU5LDFFOSxiLDFFOSl9O1xuQmxvY2tseS5WZXJ0aWNhbEZseW91dC5wcm90b3R5cGUucmVmbG93SW50ZXJuYWxfPWZ1bmN0aW9uKCl7dGhpcy53b3Jrc3BhY2VfLnNjYWxlPXRoaXMudGFyZ2V0V29ya3NwYWNlXy5zY2FsZTtmb3IodmFyIGE9MCxiPXRoaXMud29ya3NwYWNlXy5nZXRUb3BCbG9ja3MoITEpLGM9MCxkO2Q9YltjXTtjKyspe3ZhciBlPWQuZ2V0SGVpZ2h0V2lkdGgoKS53aWR0aDtkLm91dHB1dENvbm5lY3Rpb24mJihlLT10aGlzLnRhYldpZHRoXyk7YT1NYXRoLm1heChhLGUpfWZvcihjPTA7ZD10aGlzLmJ1dHRvbnNfW2NdO2MrKylhPU1hdGgubWF4KGEsZC53aWR0aCk7YSs9MS41KnRoaXMuTUFSR0lOK3RoaXMudGFiV2lkdGhfO2EqPXRoaXMud29ya3NwYWNlXy5zY2FsZTthKz1CbG9ja2x5LlNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3M7aWYodGhpcy53aWR0aF8hPWEpe2ZvcihjPTA7ZD1iW2NdO2MrKyl7aWYodGhpcy5SVEwpe2U9ZC5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCkueDt2YXIgZj1cbmEvdGhpcy53b3Jrc3BhY2VfLnNjYWxlLXRoaXMuTUFSR0lOO2Qub3V0cHV0Q29ubmVjdGlvbnx8KGYtPXRoaXMudGFiV2lkdGhfKTtkLm1vdmVCeShmLWUsMCl9ZC5mbHlvdXRSZWN0XyYmdGhpcy5tb3ZlUmVjdFRvQmxvY2tfKGQuZmx5b3V0UmVjdF8sZCl9aWYodGhpcy5SVEwpZm9yKGM9MDtkPXRoaXMuYnV0dG9uc19bY107YysrKWI9ZC5nZXRQb3NpdGlvbigpLnksZC5tb3ZlVG8oYS90aGlzLndvcmtzcGFjZV8uc2NhbGUtZC53aWR0aC10aGlzLk1BUkdJTi10aGlzLnRhYldpZHRoXyxiKTt0aGlzLndpZHRoXz1hO3RoaXMucG9zaXRpb24oKX19O0Jsb2NrbHkuRmx5b3V0QnV0dG9uPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMud29ya3NwYWNlXz1hO3RoaXMudGFyZ2V0V29ya3NwYWNlXz1iO3RoaXMudGV4dF89Yy5nZXRBdHRyaWJ1dGUoXCJ0ZXh0XCIpO3RoaXMucG9zaXRpb25fPW5ldyBCbG9ja2x5LnV0aWxzLkNvb3JkaW5hdGUoMCwwKTt0aGlzLmlzTGFiZWxfPWQ7dGhpcy5jYWxsYmFja0tleV89Yy5nZXRBdHRyaWJ1dGUoXCJjYWxsYmFja0tleVwiKXx8Yy5nZXRBdHRyaWJ1dGUoXCJjYWxsYmFja2tleVwiKTt0aGlzLmNzc0NsYXNzXz1jLmdldEF0dHJpYnV0ZShcIndlYi1jbGFzc1wiKXx8bnVsbDt0aGlzLm9uTW91c2VVcFdyYXBwZXJfPW51bGx9O0Jsb2NrbHkuRmx5b3V0QnV0dG9uLk1BUkdJTl9YPTU7QmxvY2tseS5GbHlvdXRCdXR0b24uTUFSR0lOX1k9MjtCbG9ja2x5LkZseW91dEJ1dHRvbi5wcm90b3R5cGUud2lkdGg9MDtCbG9ja2x5LkZseW91dEJ1dHRvbi5wcm90b3R5cGUuaGVpZ2h0PTA7XG5CbG9ja2x5LkZseW91dEJ1dHRvbi5wcm90b3R5cGUuY3JlYXRlRG9tPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pc0xhYmVsXz9cImJsb2NrbHlGbHlvdXRMYWJlbFwiOlwiYmxvY2tseUZseW91dEJ1dHRvblwiO3RoaXMuY3NzQ2xhc3NfJiYoYSs9XCIgXCIrdGhpcy5jc3NDbGFzc18pO3RoaXMuc3ZnR3JvdXBfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJnXCIse1wiY2xhc3NcIjphfSx0aGlzLndvcmtzcGFjZV8uZ2V0Q2FudmFzKCkpO2lmKCF0aGlzLmlzTGFiZWxfKXZhciBiPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJyZWN0XCIse1wiY2xhc3NcIjpcImJsb2NrbHlGbHlvdXRCdXR0b25TaGFkb3dcIixyeDo0LHJ5OjQseDoxLHk6MX0sdGhpcy5zdmdHcm91cF8pO2E9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInJlY3RcIix7XCJjbGFzc1wiOnRoaXMuaXNMYWJlbF8/XCJibG9ja2x5Rmx5b3V0TGFiZWxCYWNrZ3JvdW5kXCI6XCJibG9ja2x5Rmx5b3V0QnV0dG9uQmFja2dyb3VuZFwiLFxucng6NCxyeTo0fSx0aGlzLnN2Z0dyb3VwXyk7dmFyIGM9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInRleHRcIix7XCJjbGFzc1wiOnRoaXMuaXNMYWJlbF8/XCJibG9ja2x5Rmx5b3V0TGFiZWxUZXh0XCI6XCJibG9ja2x5VGV4dFwiLHg6MCx5OjAsXCJ0ZXh0LWFuY2hvclwiOlwibWlkZGxlXCJ9LHRoaXMuc3ZnR3JvdXBfKSxkPUJsb2NrbHkudXRpbHMucmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzKHRoaXMudGV4dF8pO3RoaXMud29ya3NwYWNlXy5SVEwmJihkKz1cIlxcdTIwMGZcIik7Yy50ZXh0Q29udGVudD1kO3RoaXMuaXNMYWJlbF8mJih0aGlzLnN2Z1RleHRfPWMsdGhpcy53b3Jrc3BhY2VfLmdldFRoZW1lTWFuYWdlcigpLnN1YnNjcmliZSh0aGlzLnN2Z1RleHRfLFwiZmx5b3V0Rm9yZWdyb3VuZENvbG91clwiLFwiZmlsbFwiKSk7dmFyIGU9QmxvY2tseS51dGlscy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlKGMsXCJmb250U2l6ZVwiKSxmPUJsb2NrbHkudXRpbHMuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZShjLFxuXCJmb250V2VpZ2h0XCIpLGc9QmxvY2tseS51dGlscy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlKGMsXCJmb250RmFtaWx5XCIpO3RoaXMud2lkdGg9QmxvY2tseS51dGlscy5kb20uZ2V0RmFzdFRleHRXaWR0aFdpdGhTaXplU3RyaW5nKGMsZSxmLGcpO2Q9QmxvY2tseS51dGlscy5kb20ubWVhc3VyZUZvbnRNZXRyaWNzKGQsZSxmLGcpO3RoaXMuaGVpZ2h0PWQuaGVpZ2h0O3RoaXMuaXNMYWJlbF98fCh0aGlzLndpZHRoKz0yKkJsb2NrbHkuRmx5b3V0QnV0dG9uLk1BUkdJTl9YLHRoaXMuaGVpZ2h0Kz0yKkJsb2NrbHkuRmx5b3V0QnV0dG9uLk1BUkdJTl9ZLGIuc2V0QXR0cmlidXRlKFwid2lkdGhcIix0aGlzLndpZHRoKSxiLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLHRoaXMuaGVpZ2h0KSk7YS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHRoaXMud2lkdGgpO2Euc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsdGhpcy5oZWlnaHQpO2Muc2V0QXR0cmlidXRlKFwieFwiLHRoaXMud2lkdGgvMik7Yy5zZXRBdHRyaWJ1dGUoXCJ5XCIsXG50aGlzLmhlaWdodC8yLWQuaGVpZ2h0LzIrZC5iYXNlbGluZSk7dGhpcy51cGRhdGVUcmFuc2Zvcm1fKCk7dGhpcy5vbk1vdXNlVXBXcmFwcGVyXz1CbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKHRoaXMuc3ZnR3JvdXBfLFwibW91c2V1cFwiLHRoaXMsdGhpcy5vbk1vdXNlVXBfKTtyZXR1cm4gdGhpcy5zdmdHcm91cF99O0Jsb2NrbHkuRmx5b3V0QnV0dG9uLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVUcmFuc2Zvcm1fKCk7dGhpcy5zdmdHcm91cF8uc2V0QXR0cmlidXRlKFwiZGlzcGxheVwiLFwiYmxvY2tcIil9O0Jsb2NrbHkuRmx5b3V0QnV0dG9uLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm1fPWZ1bmN0aW9uKCl7dGhpcy5zdmdHcm91cF8uc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoXCIrdGhpcy5wb3NpdGlvbl8ueCtcIixcIit0aGlzLnBvc2l0aW9uXy55K1wiKVwiKX07XG5CbG9ja2x5LkZseW91dEJ1dHRvbi5wcm90b3R5cGUubW92ZVRvPWZ1bmN0aW9uKGEsYil7dGhpcy5wb3NpdGlvbl8ueD1hO3RoaXMucG9zaXRpb25fLnk9Yjt0aGlzLnVwZGF0ZVRyYW5zZm9ybV8oKX07QmxvY2tseS5GbHlvdXRCdXR0b24ucHJvdG90eXBlLmdldFBvc2l0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucG9zaXRpb25ffTtCbG9ja2x5LkZseW91dEJ1dHRvbi5wcm90b3R5cGUuZ2V0VGFyZ2V0V29ya3NwYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0V29ya3NwYWNlX307QmxvY2tseS5GbHlvdXRCdXR0b24ucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLm9uTW91c2VVcFdyYXBwZXJfJiZCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLm9uTW91c2VVcFdyYXBwZXJfKTt0aGlzLnN2Z0dyb3VwXyYmQmxvY2tseS51dGlscy5kb20ucmVtb3ZlTm9kZSh0aGlzLnN2Z0dyb3VwXyk7dGhpcy5zdmdUZXh0XyYmdGhpcy53b3Jrc3BhY2VfLmdldFRoZW1lTWFuYWdlcigpLnVuc3Vic2NyaWJlKHRoaXMuc3ZnVGV4dF8pfTtcbkJsb2NrbHkuRmx5b3V0QnV0dG9uLnByb3RvdHlwZS5vbk1vdXNlVXBfPWZ1bmN0aW9uKGEpeyhhPXRoaXMudGFyZ2V0V29ya3NwYWNlXy5nZXRHZXN0dXJlKGEpKSYmYS5jYW5jZWwoKTt0aGlzLmlzTGFiZWxfJiZ0aGlzLmNhbGxiYWNrS2V5Xz9jb25zb2xlLndhcm4oXCJMYWJlbHMgc2hvdWxkIG5vdCBoYXZlIGNhbGxiYWNrcy4gTGFiZWwgdGV4dDogXCIrdGhpcy50ZXh0Xyk6dGhpcy5pc0xhYmVsX3x8dGhpcy5jYWxsYmFja0tleV8mJnRoaXMudGFyZ2V0V29ya3NwYWNlXy5nZXRCdXR0b25DYWxsYmFjayh0aGlzLmNhbGxiYWNrS2V5Xyk/dGhpcy5pc0xhYmVsX3x8dGhpcy50YXJnZXRXb3Jrc3BhY2VfLmdldEJ1dHRvbkNhbGxiYWNrKHRoaXMuY2FsbGJhY2tLZXlfKSh0aGlzKTpjb25zb2xlLndhcm4oXCJCdXR0b25zIHNob3VsZCBoYXZlIGNhbGxiYWNrcy4gQnV0dG9uIHRleHQ6IFwiK3RoaXMudGV4dF8pfTtCbG9ja2x5LkNzcy5yZWdpc3RlcihcIi5ibG9ja2x5Rmx5b3V0QnV0dG9uIHssZmlsbDogIzg4ODssY3Vyc29yOiBkZWZhdWx0Oyx9LC5ibG9ja2x5Rmx5b3V0QnV0dG9uU2hhZG93IHssZmlsbDogIzY2NjssfSwuYmxvY2tseUZseW91dEJ1dHRvbjpob3ZlciB7LGZpbGw6ICNhYWE7LH0sLmJsb2NrbHlGbHlvdXRMYWJlbCB7LGN1cnNvcjogZGVmYXVsdDssfSwuYmxvY2tseUZseW91dExhYmVsQmFja2dyb3VuZCB7LG9wYWNpdHk6IDA7LH1cIi5zcGxpdChcIixcIikpO0Jsb2NrbHkuR2VuZXJhdG9yPWZ1bmN0aW9uKGEpe3RoaXMubmFtZV89YTt0aGlzLkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfUkVHRVhQXz1uZXcgUmVnRXhwKHRoaXMuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl8sXCJnXCIpfTtCbG9ja2x5LkdlbmVyYXRvci5OQU1FX1RZUEU9XCJnZW5lcmF0ZWRfZnVuY3Rpb25cIjtCbG9ja2x5LkdlbmVyYXRvci5wcm90b3R5cGUuSU5GSU5JVEVfTE9PUF9UUkFQPW51bGw7QmxvY2tseS5HZW5lcmF0b3IucHJvdG90eXBlLlNUQVRFTUVOVF9QUkVGSVg9bnVsbDtCbG9ja2x5LkdlbmVyYXRvci5wcm90b3R5cGUuU1RBVEVNRU5UX1NVRkZJWD1udWxsO0Jsb2NrbHkuR2VuZXJhdG9yLnByb3RvdHlwZS5JTkRFTlQ9XCIgIFwiO0Jsb2NrbHkuR2VuZXJhdG9yLnByb3RvdHlwZS5DT01NRU5UX1dSQVA9NjA7QmxvY2tseS5HZW5lcmF0b3IucHJvdG90eXBlLk9SREVSX09WRVJSSURFUz1bXTtcbkJsb2NrbHkuR2VuZXJhdG9yLnByb3RvdHlwZS53b3Jrc3BhY2VUb0NvZGU9ZnVuY3Rpb24oYSl7YXx8KGNvbnNvbGUud2FybihcIk5vIHdvcmtzcGFjZSBzcGVjaWZpZWQgaW4gd29ya3NwYWNlVG9Db2RlIGNhbGwuICBHdWVzc2luZy5cIiksYT1CbG9ja2x5LmdldE1haW5Xb3Jrc3BhY2UoKSk7dmFyIGI9W107dGhpcy5pbml0KGEpO2E9YS5nZXRUb3BCbG9ja3MoITApO2Zvcih2YXIgYz0wLGQ7ZD1hW2NdO2MrKyl7dmFyIGU9dGhpcy5ibG9ja1RvQ29kZShkKTtBcnJheS5pc0FycmF5KGUpJiYoZT1lWzBdKTtlJiYoZC5vdXRwdXRDb25uZWN0aW9uJiYoZT10aGlzLnNjcnViTmFrZWRWYWx1ZShlKSx0aGlzLlNUQVRFTUVOVF9QUkVGSVgmJiFkLnN1cHByZXNzUHJlZml4U3VmZml4JiYoZT10aGlzLmluamVjdElkKHRoaXMuU1RBVEVNRU5UX1BSRUZJWCxkKStlKSx0aGlzLlNUQVRFTUVOVF9TVUZGSVgmJiFkLnN1cHByZXNzUHJlZml4U3VmZml4JiYoZSs9dGhpcy5pbmplY3RJZCh0aGlzLlNUQVRFTUVOVF9TVUZGSVgsXG5kKSkpLGIucHVzaChlKSl9Yj1iLmpvaW4oXCJcXG5cIik7Yj10aGlzLmZpbmlzaChiKTtiPWIucmVwbGFjZSgvXlxccytcXG4vLFwiXCIpO2I9Yi5yZXBsYWNlKC9cXG5cXHMrJC8sXCJcXG5cIik7cmV0dXJuIGI9Yi5yZXBsYWNlKC9bIFxcdF0rXFxuL2csXCJcXG5cIil9O0Jsb2NrbHkuR2VuZXJhdG9yLnByb3RvdHlwZS5wcmVmaXhMaW5lcz1mdW5jdGlvbihhLGIpe3JldHVybiBiK2EucmVwbGFjZSgvKD8hXFxuJClcXG4vZyxcIlxcblwiK2IpfTtCbG9ja2x5LkdlbmVyYXRvci5wcm90b3R5cGUuYWxsTmVzdGVkQ29tbWVudHM9ZnVuY3Rpb24oYSl7dmFyIGI9W107YT1hLmdldERlc2NlbmRhbnRzKCEwKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXS5nZXRDb21tZW50VGV4dCgpO2QmJmIucHVzaChkKX1iLmxlbmd0aCYmYi5wdXNoKFwiXCIpO3JldHVybiBiLmpvaW4oXCJcXG5cIil9O1xuQmxvY2tseS5HZW5lcmF0b3IucHJvdG90eXBlLmJsb2NrVG9Db2RlPWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuXCJcIjtpZighYS5pc0VuYWJsZWQoKSlyZXR1cm4gYj9cIlwiOnRoaXMuYmxvY2tUb0NvZGUoYS5nZXROZXh0QmxvY2soKSk7dmFyIGM9dGhpc1thLnR5cGVdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMpdGhyb3cgRXJyb3IoJ0xhbmd1YWdlIFwiJyt0aGlzLm5hbWVfKydcIiBkb2VzIG5vdCBrbm93IGhvdyB0byBnZW5lcmF0ZSAgY29kZSBmb3IgYmxvY2sgdHlwZSBcIicrYS50eXBlKydcIi4nKTtjPWMuY2FsbChhLGEpO2lmKEFycmF5LmlzQXJyYXkoYykpe2lmKCFhLm91dHB1dENvbm5lY3Rpb24pdGhyb3cgVHlwZUVycm9yKFwiRXhwZWN0aW5nIHN0cmluZyBmcm9tIHN0YXRlbWVudCBibG9jazogXCIrYS50eXBlKTtyZXR1cm5bdGhpcy5zY3J1Yl8oYSxjWzBdLGIpLGNbMV1dfWlmKFwic3RyaW5nXCI9PXR5cGVvZiBjKXJldHVybiB0aGlzLlNUQVRFTUVOVF9QUkVGSVgmJiFhLnN1cHByZXNzUHJlZml4U3VmZml4JiZcbihjPXRoaXMuaW5qZWN0SWQodGhpcy5TVEFURU1FTlRfUFJFRklYLGEpK2MpLHRoaXMuU1RBVEVNRU5UX1NVRkZJWCYmIWEuc3VwcHJlc3NQcmVmaXhTdWZmaXgmJihjKz10aGlzLmluamVjdElkKHRoaXMuU1RBVEVNRU5UX1NVRkZJWCxhKSksdGhpcy5zY3J1Yl8oYSxjLGIpO2lmKG51bGw9PT1jKXJldHVyblwiXCI7dGhyb3cgU3ludGF4RXJyb3IoXCJJbnZhbGlkIGNvZGUgZ2VuZXJhdGVkOiBcIitjKTt9O1xuQmxvY2tseS5HZW5lcmF0b3IucHJvdG90eXBlLnZhbHVlVG9Db2RlPWZ1bmN0aW9uKGEsYixjKXtpZihpc05hTihjKSl0aHJvdyBUeXBlRXJyb3IoXCJFeHBlY3RpbmcgdmFsaWQgb3JkZXIgZnJvbSBibG9jazogXCIrYS50eXBlKTt2YXIgZD1hLmdldElucHV0VGFyZ2V0QmxvY2soYik7aWYoIWQpcmV0dXJuXCJcIjtiPXRoaXMuYmxvY2tUb0NvZGUoZCk7aWYoXCJcIj09PWIpcmV0dXJuXCJcIjtpZighQXJyYXkuaXNBcnJheShiKSl0aHJvdyBUeXBlRXJyb3IoXCJFeHBlY3RpbmcgdHVwbGUgZnJvbSB2YWx1ZSBibG9jazogXCIrZC50eXBlKTthPWJbMF07Yj1iWzFdO2lmKGlzTmFOKGIpKXRocm93IFR5cGVFcnJvcihcIkV4cGVjdGluZyB2YWxpZCBvcmRlciBmcm9tIHZhbHVlIGJsb2NrOiBcIitkLnR5cGUpO2lmKCFhKXJldHVyblwiXCI7ZD0hMTt2YXIgZT1NYXRoLmZsb29yKGMpLGY9TWF0aC5mbG9vcihiKTtpZihlPD1mJiYoZSE9Znx8MCE9ZSYmOTkhPWUpKWZvcihkPSEwLGU9MDtlPHRoaXMuT1JERVJfT1ZFUlJJREVTLmxlbmd0aDtlKyspaWYodGhpcy5PUkRFUl9PVkVSUklERVNbZV1bMF09PVxuYyYmdGhpcy5PUkRFUl9PVkVSUklERVNbZV1bMV09PWIpe2Q9ITE7YnJlYWt9ZCYmKGE9XCIoXCIrYStcIilcIik7cmV0dXJuIGF9O0Jsb2NrbHkuR2VuZXJhdG9yLnByb3RvdHlwZS5zdGF0ZW1lbnRUb0NvZGU9ZnVuY3Rpb24oYSxiKXthPWEuZ2V0SW5wdXRUYXJnZXRCbG9jayhiKTtiPXRoaXMuYmxvY2tUb0NvZGUoYSk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGIpdGhyb3cgVHlwZUVycm9yKFwiRXhwZWN0aW5nIGNvZGUgZnJvbSBzdGF0ZW1lbnQgYmxvY2s6IFwiKyhhJiZhLnR5cGUpKTtiJiYoYj10aGlzLnByZWZpeExpbmVzKGIsdGhpcy5JTkRFTlQpKTtyZXR1cm4gYn07XG5CbG9ja2x5LkdlbmVyYXRvci5wcm90b3R5cGUuYWRkTG9vcFRyYXA9ZnVuY3Rpb24oYSxiKXt0aGlzLklORklOSVRFX0xPT1BfVFJBUCYmKGE9dGhpcy5wcmVmaXhMaW5lcyh0aGlzLmluamVjdElkKHRoaXMuSU5GSU5JVEVfTE9PUF9UUkFQLGIpLHRoaXMuSU5ERU5UKSthKTt0aGlzLlNUQVRFTUVOVF9TVUZGSVgmJiFiLnN1cHByZXNzUHJlZml4U3VmZml4JiYoYT10aGlzLnByZWZpeExpbmVzKHRoaXMuaW5qZWN0SWQodGhpcy5TVEFURU1FTlRfU1VGRklYLGIpLHRoaXMuSU5ERU5UKSthKTt0aGlzLlNUQVRFTUVOVF9QUkVGSVgmJiFiLnN1cHByZXNzUHJlZml4U3VmZml4JiYoYSs9dGhpcy5wcmVmaXhMaW5lcyh0aGlzLmluamVjdElkKHRoaXMuU1RBVEVNRU5UX1BSRUZJWCxiKSx0aGlzLklOREVOVCkpO3JldHVybiBhfTtcbkJsb2NrbHkuR2VuZXJhdG9yLnByb3RvdHlwZS5pbmplY3RJZD1mdW5jdGlvbihhLGIpe2I9Yi5pZC5yZXBsYWNlKC9cXCQvZyxcIiQkJCRcIik7cmV0dXJuIGEucmVwbGFjZSgvJTEvZyxcIidcIitiK1wiJ1wiKX07QmxvY2tseS5HZW5lcmF0b3IucHJvdG90eXBlLlJFU0VSVkVEX1dPUkRTXz1cIlwiO0Jsb2NrbHkuR2VuZXJhdG9yLnByb3RvdHlwZS5hZGRSZXNlcnZlZFdvcmRzPWZ1bmN0aW9uKGEpe3RoaXMuUkVTRVJWRURfV09SRFNfKz1hK1wiLFwifTtCbG9ja2x5LkdlbmVyYXRvci5wcm90b3R5cGUuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl89XCJ7bGVDVUk4aHV0SFpJNDQ4MERjfVwiO1xuQmxvY2tseS5HZW5lcmF0b3IucHJvdG90eXBlLnByb3ZpZGVGdW5jdGlvbl89ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5kZWZpbml0aW9uc19bYV0pe3ZhciBjPXRoaXMudmFyaWFibGVEQl8uZ2V0RGlzdGluY3ROYW1lKGEsQmxvY2tseS5QUk9DRURVUkVfQ0FURUdPUllfTkFNRSk7dGhpcy5mdW5jdGlvbk5hbWVzX1thXT1jO2I9Yi5qb2luKFwiXFxuXCIpLnJlcGxhY2UodGhpcy5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSX1JFR0VYUF8sYyk7Zm9yKHZhciBkO2QhPWI7KWQ9YixiPWIucmVwbGFjZSgvXigoIHsyfSkqKSB7Mn0vZ20sXCIkMVxceDAwXCIpO2I9Yi5yZXBsYWNlKC9cXDAvZyx0aGlzLklOREVOVCk7dGhpcy5kZWZpbml0aW9uc19bYV09Yn1yZXR1cm4gdGhpcy5mdW5jdGlvbk5hbWVzX1thXX07QmxvY2tseS5HZW5lcmF0b3IucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSl7fTtCbG9ja2x5LkdlbmVyYXRvci5wcm90b3R5cGUuc2NydWJfPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYn07XG5CbG9ja2x5LkdlbmVyYXRvci5wcm90b3R5cGUuZmluaXNoPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtCbG9ja2x5LkdlbmVyYXRvci5wcm90b3R5cGUuc2NydWJOYWtlZFZhbHVlPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtCbG9ja2x5LnRyZWU9e307QmxvY2tseS50cmVlLkJhc2VOb2RlPWZ1bmN0aW9uKGEsYil7QmxvY2tseS5Db21wb25lbnQuY2FsbCh0aGlzKTt0aGlzLmNvbnRlbnQ9YTt0aGlzLmNvbmZpZ189Yjt0aGlzLmV4cGFuZGVkXz10aGlzLnNlbGVjdGVkXz0hMTt0aGlzLmlzVXNlckNvbGxhcHNpYmxlXz0hMDt0aGlzLmRlcHRoXz0tMX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS50cmVlLkJhc2VOb2RlLEJsb2NrbHkuQ29tcG9uZW50KTtCbG9ja2x5LnRyZWUuQmFzZU5vZGUuYWxsTm9kZXM9e307QmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWw9ZnVuY3Rpb24oKXtCbG9ja2x5LnRyZWUuQmFzZU5vZGUuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7dGhpcy50cmVlJiYodGhpcy50cmVlPW51bGwpO3RoaXMuc2V0RWxlbWVudEludGVybmFsKG51bGwpfTtcbkJsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuaW5pdEFjY2Vzc2liaWxpdHk9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTtpZihhKXt2YXIgYj10aGlzLmdldExhYmVsRWxlbWVudCgpO2ImJiFiLmlkJiYoYi5pZD10aGlzLmdldElkKCkrXCIubGFiZWxcIik7QmxvY2tseS51dGlscy5hcmlhLnNldFJvbGUoYSxCbG9ja2x5LnV0aWxzLmFyaWEuUm9sZS5UUkVFSVRFTSk7QmxvY2tseS51dGlscy5hcmlhLnNldFN0YXRlKGEsQmxvY2tseS51dGlscy5hcmlhLlN0YXRlLlNFTEVDVEVELCExKTtCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoYSxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuTEVWRUwsdGhpcy5nZXREZXB0aCgpKTtiJiZCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoYSxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuTEFCRUxMRURCWSxiLmlkKTsoYj10aGlzLmdldEljb25FbGVtZW50KCkpJiZCbG9ja2x5LnV0aWxzLmFyaWEuc2V0Um9sZShiLEJsb2NrbHkudXRpbHMuYXJpYS5Sb2xlLlBSRVNFTlRBVElPTik7XG5pZihiPXRoaXMuZ2V0Q2hpbGRyZW5FbGVtZW50KCkpaWYoQmxvY2tseS51dGlscy5hcmlhLnNldFJvbGUoYixCbG9ja2x5LnV0aWxzLmFyaWEuUm9sZS5HUk9VUCksYi5oYXNDaGlsZE5vZGVzKCkpZm9yKEJsb2NrbHkudXRpbHMuYXJpYS5zZXRTdGF0ZShhLEJsb2NrbHkudXRpbHMuYXJpYS5TdGF0ZS5FWFBBTkRFRCwhMSksYT10aGlzLmdldENoaWxkQ291bnQoKSxiPTE7Yjw9YTtiKyspe3ZhciBjPXRoaXMuZ2V0Q2hpbGRBdChiLTEpLmdldEVsZW1lbnQoKTtCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoYyxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuU0VUU0laRSxhKTtCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoYyxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuUE9TSU5TRVQsYil9fX07XG5CbG9ja2x5LnRyZWUuQmFzZU5vZGUucHJvdG90eXBlLmNyZWF0ZURvbT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5hcHBlbmRDaGlsZCh0aGlzLnRvRG9tKCkpO3RoaXMuc2V0RWxlbWVudEludGVybmFsKGEpfTtCbG9ja2x5LnRyZWUuQmFzZU5vZGUucHJvdG90eXBlLmVudGVyRG9jdW1lbnQ9ZnVuY3Rpb24oKXtCbG9ja2x5LnRyZWUuQmFzZU5vZGUuc3VwZXJDbGFzc18uZW50ZXJEb2N1bWVudC5jYWxsKHRoaXMpO0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5hbGxOb2Rlc1t0aGlzLmdldElkKCldPXRoaXM7dGhpcy5pbml0QWNjZXNzaWJpbGl0eSgpfTtCbG9ja2x5LnRyZWUuQmFzZU5vZGUucHJvdG90eXBlLmV4aXREb2N1bWVudD1mdW5jdGlvbigpe0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5zdXBlckNsYXNzXy5leGl0RG9jdW1lbnQuY2FsbCh0aGlzKTtkZWxldGUgQmxvY2tseS50cmVlLkJhc2VOb2RlLmFsbE5vZGVzW3RoaXMuZ2V0SWQoKV19O1xuQmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5hZGRDaGlsZEF0PWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDaGlsZEF0KGItMSksZD10aGlzLmdldENoaWxkQXQoYik7QmxvY2tseS50cmVlLkJhc2VOb2RlLnN1cGVyQ2xhc3NfLmFkZENoaWxkQXQuY2FsbCh0aGlzLGEsYik7YS5wcmV2aW91c1NpYmxpbmdfPWM7YS5uZXh0U2libGluZ189ZDtjJiYoYy5uZXh0U2libGluZ189YSk7ZCYmKGQucHJldmlvdXNTaWJsaW5nXz1hKTsoYj10aGlzLmdldFRyZWUoKSkmJmEuc2V0VHJlZUludGVybmFsKGIpO2Euc2V0RGVwdGhfKHRoaXMuZ2V0RGVwdGgoKSsxKTtpZihiPXRoaXMuZ2V0RWxlbWVudCgpKWlmKHRoaXMudXBkYXRlRXhwYW5kSWNvbigpLEJsb2NrbHkudXRpbHMuYXJpYS5zZXRTdGF0ZShiLEJsb2NrbHkudXRpbHMuYXJpYS5TdGF0ZS5FWFBBTkRFRCx0aGlzLmV4cGFuZGVkXyksdGhpcy5leHBhbmRlZF8pe2I9dGhpcy5nZXRDaGlsZHJlbkVsZW1lbnQoKTthLmdldEVsZW1lbnQoKXx8XG5hLmNyZWF0ZURvbSgpO3ZhciBlPWEuZ2V0RWxlbWVudCgpLGY9ZCYmZC5nZXRFbGVtZW50KCk7Yi5pbnNlcnRCZWZvcmUoZSxmKTt0aGlzLmlzSW5Eb2N1bWVudCgpJiZhLmVudGVyRG9jdW1lbnQoKTtkfHwoYz9jLnVwZGF0ZUV4cGFuZEljb24oKTooQmxvY2tseS51dGlscy5zdHlsZS5zZXRFbGVtZW50U2hvd24oYiwhMCksdGhpcy5zZXRFeHBhbmRlZCh0aGlzLmV4cGFuZGVkXykpKX19O0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEpe2lmKGEuZ2V0UGFyZW50KCkpdGhyb3cgRXJyb3IoQmxvY2tseS5Db21wb25lbnQuRXJyb3IuUEFSRU5UX1VOQUJMRV9UT19CRV9TRVQpO3RoaXMuYWRkQ2hpbGRBdChhLHRoaXMuZ2V0Q2hpbGRDb3VudCgpKX07QmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5nZXRUcmVlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O1xuQmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5nZXREZXB0aD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZGVwdGhfOzA+YSYmKGE9KGE9dGhpcy5nZXRQYXJlbnQoKSk/YS5nZXREZXB0aCgpKzE6MCx0aGlzLnNldERlcHRoXyhhKSk7cmV0dXJuIGF9O0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuc2V0RGVwdGhfPWZ1bmN0aW9uKGEpe2lmKGEhPXRoaXMuZGVwdGhfKXt0aGlzLmRlcHRoXz1hO3ZhciBiPXRoaXMuZ2V0Um93RWxlbWVudCgpO2lmKGIpe3ZhciBjPXRoaXMuZ2V0UGl4ZWxJbmRlbnRfKCkrXCJweFwiO3RoaXMucmlnaHRUb0xlZnRfP2Iuc3R5bGUucGFkZGluZ1JpZ2h0PWM6Yi5zdHlsZS5wYWRkaW5nTGVmdD1jfXRoaXMuZm9yRWFjaENoaWxkKGZ1bmN0aW9uKGIpe2Iuc2V0RGVwdGhfKGErMSl9KX19O0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oYSl7Zm9yKDthOyl7aWYoYT09dGhpcylyZXR1cm4hMDthPWEuZ2V0UGFyZW50KCl9cmV0dXJuITF9O1xuQmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5nZXRDaGlsZHJlbj1mdW5jdGlvbigpe3ZhciBhPVtdO3RoaXMuZm9yRWFjaENoaWxkKGZ1bmN0aW9uKGIpe2EucHVzaChiKX0pO3JldHVybiBhfTtCbG9ja2x5LnRyZWUuQmFzZU5vZGUucHJvdG90eXBlLmdldFByZXZpb3VzU2libGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZpb3VzU2libGluZ199O0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuZ2V0TmV4dFNpYmxpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uZXh0U2libGluZ199O0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuaXNMYXN0U2libGluZz1mdW5jdGlvbigpe3JldHVybiF0aGlzLm5leHRTaWJsaW5nX307QmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5pc1NlbGVjdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWRffTtcbkJsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRUcmVlKCk7YSYmYS5zZXRTZWxlY3RlZEl0ZW0odGhpcyl9O0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuc2V0U2VsZWN0ZWQ9ZnVuY3Rpb24oYSl7aWYodGhpcy5zZWxlY3RlZF8hPWEpe3RoaXMuc2VsZWN0ZWRfPWE7dGhpcy51cGRhdGVSb3coKTt2YXIgYj10aGlzLmdldEVsZW1lbnQoKTtiJiYoQmxvY2tseS51dGlscy5hcmlhLnNldFN0YXRlKGIsQmxvY2tseS51dGlscy5hcmlhLlN0YXRlLlNFTEVDVEVELGEpLGEmJihhPXRoaXMuZ2V0VHJlZSgpLmdldEVsZW1lbnQoKSxCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoYSxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuQUNUSVZFREVTQ0VOREFOVCx0aGlzLmdldElkKCkpKSl9fTtcbkJsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuc2V0RXhwYW5kZWQ9ZnVuY3Rpb24oYSl7dmFyIGI9YSE9dGhpcy5leHBhbmRlZF8sYzt0aGlzLmV4cGFuZGVkXz1hO3ZhciBkPXRoaXMuZ2V0VHJlZSgpLGU9dGhpcy5nZXRFbGVtZW50KCk7aWYodGhpcy5oYXNDaGlsZHJlbigpKXtpZighYSYmZCYmdGhpcy5jb250YWlucyhkLmdldFNlbGVjdGVkSXRlbSgpKSYmdGhpcy5zZWxlY3QoKSxlKXtpZihjPXRoaXMuZ2V0Q2hpbGRyZW5FbGVtZW50KCkpQmxvY2tseS51dGlscy5zdHlsZS5zZXRFbGVtZW50U2hvd24oYyxhKSxCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoZSxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuRVhQQU5ERUQsYSksYSYmdGhpcy5pc0luRG9jdW1lbnQoKSYmIWMuaGFzQ2hpbGROb2RlcygpJiYodGhpcy5mb3JFYWNoQ2hpbGQoZnVuY3Rpb24oYSl7Yy5hcHBlbmRDaGlsZChhLnRvRG9tKCkpfSksdGhpcy5mb3JFYWNoQ2hpbGQoZnVuY3Rpb24oYSl7YS5lbnRlckRvY3VtZW50KCl9KSk7XG50aGlzLnVwZGF0ZUV4cGFuZEljb24oKX19ZWxzZShjPXRoaXMuZ2V0Q2hpbGRyZW5FbGVtZW50KCkpJiZCbG9ja2x5LnV0aWxzLnN0eWxlLnNldEVsZW1lbnRTaG93bihjLCExKTtlJiZ0aGlzLnVwZGF0ZUljb25fKCk7YiYmKGE/dGhpcy5kb05vZGVFeHBhbmRlZCgpOnRoaXMuZG9Ob2RlQ29sbGFwc2VkKCkpfTtCbG9ja2x5LnRyZWUuQmFzZU5vZGUucHJvdG90eXBlLmRvTm9kZUV4cGFuZGVkPWZ1bmN0aW9uKCl7fTtCbG9ja2x5LnRyZWUuQmFzZU5vZGUucHJvdG90eXBlLmRvTm9kZUNvbGxhcHNlZD1mdW5jdGlvbigpe307QmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oKXt0aGlzLnNldEV4cGFuZGVkKCF0aGlzLmV4cGFuZGVkXyl9O1xuQmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS50b0RvbT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZXhwYW5kZWRfJiZ0aGlzLmhhc0NoaWxkcmVuKCksYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2Iuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uPXRoaXMuZ2V0QmFja2dyb3VuZFBvc2l0aW9uKCk7YXx8KGIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIik7YSYmdGhpcy5mb3JFYWNoQ2hpbGQoZnVuY3Rpb24oYSl7Yi5hcHBlbmRDaGlsZChhLnRvRG9tKCkpfSk7YT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2EuaWQ9dGhpcy5nZXRJZCgpO2EuYXBwZW5kQ2hpbGQodGhpcy5nZXRSb3dEb20oKSk7YS5hcHBlbmRDaGlsZChiKTtyZXR1cm4gYX07QmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5nZXRQaXhlbEluZGVudF89ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5tYXgoMCwodGhpcy5nZXREZXB0aCgpLTEpKnRoaXMuY29uZmlnXy5pbmRlbnRXaWR0aCl9O1xuQmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5nZXRSb3dEb209ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2EuY2xhc3NOYW1lPXRoaXMuZ2V0Um93Q2xhc3NOYW1lKCk7YS5zdHlsZVtcInBhZGRpbmctXCIrKHRoaXMucmlnaHRUb0xlZnRfP1wicmlnaHRcIjpcImxlZnRcIildPXRoaXMuZ2V0UGl4ZWxJbmRlbnRfKCkrXCJweFwiO2EuYXBwZW5kQ2hpbGQodGhpcy5nZXRJY29uRG9tKCkpO2EuYXBwZW5kQ2hpbGQodGhpcy5nZXRMYWJlbERvbSgpKTtyZXR1cm4gYX07QmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5nZXRSb3dDbGFzc05hbWU9ZnVuY3Rpb24oKXt2YXIgYT1cIlwiO3RoaXMuaXNTZWxlY3RlZCgpJiYoYT1cIiBcIisodGhpcy5jb25maWdfLmNzc1NlbGVjdGVkUm93fHxcIlwiKSk7cmV0dXJuIHRoaXMuY29uZmlnXy5jc3NUcmVlUm93K2F9O1xuQmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5nZXRMYWJlbERvbT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2EuY2xhc3NOYW1lPXRoaXMuY29uZmlnXy5jc3NJdGVtTGFiZWx8fFwiXCI7YS50ZXh0Q29udGVudD10aGlzLmNvbnRlbnQ7cmV0dXJuIGF9O0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuZ2V0SWNvbkRvbT1mdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2Euc3R5bGUuZGlzcGxheT1cImlubGluZS1ibG9ja1wiO2EuY2xhc3NOYW1lPXRoaXMuZ2V0Q2FsY3VsYXRlZEljb25DbGFzcygpO3JldHVybiBhfTtCbG9ja2x5LnRyZWUuQmFzZU5vZGUucHJvdG90eXBlLmdldENhbGN1bGF0ZWRJY29uQ2xhc3M9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcihcInVuaW1wbGVtZW50ZWQgYWJzdHJhY3QgbWV0aG9kXCIpO307XG5CbG9ja2x5LnRyZWUuQmFzZU5vZGUucHJvdG90eXBlLmdldEJhY2tncm91bmRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybih0aGlzLmlzTGFzdFNpYmxpbmcoKT9cIi0xMDBcIjoodGhpcy5nZXREZXB0aCgpLTEpKnRoaXMuY29uZmlnXy5pbmRlbnRXaWR0aCkrXCJweCAwXCJ9O0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuZ2V0RWxlbWVudD1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkudHJlZS5CYXNlTm9kZS5zdXBlckNsYXNzXy5nZXRFbGVtZW50LmNhbGwodGhpcyk7YXx8KGE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5nZXRJZCgpKSx0aGlzLnNldEVsZW1lbnRJbnRlcm5hbChhKSk7cmV0dXJuIGF9O0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuZ2V0Um93RWxlbWVudD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpO3JldHVybiBhP2EuZmlyc3RDaGlsZDpudWxsfTtcbkJsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuZ2V0SWNvbkVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJvd0VsZW1lbnQoKTtyZXR1cm4gYT9hLmZpcnN0Q2hpbGQ6bnVsbH07QmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5nZXRMYWJlbEVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJvd0VsZW1lbnQoKTtyZXR1cm4gYSYmYS5sYXN0Q2hpbGQ/YS5sYXN0Q2hpbGQucHJldmlvdXNTaWJsaW5nOm51bGx9O0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuZ2V0Q2hpbGRyZW5FbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7cmV0dXJuIGE/YS5sYXN0Q2hpbGQ6bnVsbH07QmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS51cGRhdGVSb3c9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJvd0VsZW1lbnQoKTthJiYoYS5jbGFzc05hbWU9dGhpcy5nZXRSb3dDbGFzc05hbWUoKSl9O1xuQmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS51cGRhdGVFeHBhbmRJY29uPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDaGlsZHJlbkVsZW1lbnQoKTthJiYoYS5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb249dGhpcy5nZXRCYWNrZ3JvdW5kUG9zaXRpb24oKSl9O0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUudXBkYXRlSWNvbl89ZnVuY3Rpb24oKXt0aGlzLmdldEljb25FbGVtZW50KCkuY2xhc3NOYW1lPXRoaXMuZ2V0Q2FsY3VsYXRlZEljb25DbGFzcygpfTtCbG9ja2x5LnRyZWUuQmFzZU5vZGUucHJvdG90eXBlLm9uTW91c2VEb3duPWZ1bmN0aW9uKGEpe1wiZXhwYW5kXCI9PWEudGFyZ2V0LmdldEF0dHJpYnV0ZShcInR5cGVcIikmJnRoaXMuaGFzQ2hpbGRyZW4oKT90aGlzLmlzVXNlckNvbGxhcHNpYmxlXyYmdGhpcy50b2dnbGUoKToodGhpcy5zZWxlY3QoKSx0aGlzLnVwZGF0ZVJvdygpKX07XG5CbG9ja2x5LnRyZWUuQmFzZU5vZGUucHJvdG90eXBlLm9uQ2xpY2tfPWZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX07QmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5vbktleURvd249ZnVuY3Rpb24oYSl7dmFyIGI9ITA7c3dpdGNoKGEua2V5Q29kZSl7Y2FzZSBCbG9ja2x5LnV0aWxzLktleUNvZGVzLlJJR0hUOmlmKGEuYWx0S2V5KWJyZWFrO2I9dGhpcy5zZWxlY3RDaGlsZCgpO2JyZWFrO2Nhc2UgQmxvY2tseS51dGlscy5LZXlDb2Rlcy5MRUZUOmlmKGEuYWx0S2V5KWJyZWFrO2I9dGhpcy5zZWxlY3RQYXJlbnQoKTticmVhaztjYXNlIEJsb2NrbHkudXRpbHMuS2V5Q29kZXMuRE9XTjpiPXRoaXMuc2VsZWN0TmV4dCgpO2JyZWFrO2Nhc2UgQmxvY2tseS51dGlscy5LZXlDb2Rlcy5VUDpiPXRoaXMuc2VsZWN0UHJldmlvdXMoKTticmVhaztkZWZhdWx0OmI9ITF9YiYmYS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBifTtcbkJsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuc2VsZWN0TmV4dD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0TmV4dFNob3duTm9kZSgpO2EmJmEuc2VsZWN0KCk7cmV0dXJuITB9O0Jsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuc2VsZWN0UHJldmlvdXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFByZXZpb3VzU2hvd25Ob2RlKCk7YSYmYS5zZWxlY3QoKTtyZXR1cm4hMH07QmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5zZWxlY3RQYXJlbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLmhhc0NoaWxkcmVuKCkmJnRoaXMuZXhwYW5kZWRfJiZ0aGlzLmlzVXNlckNvbGxhcHNpYmxlXyl0aGlzLnNldEV4cGFuZGVkKCExKTtlbHNle3ZhciBhPXRoaXMuZ2V0UGFyZW50KCksYj10aGlzLmdldFRyZWUoKTthJiZhIT1iJiZhLnNlbGVjdCgpfXJldHVybiEwfTtcbkJsb2NrbHkudHJlZS5CYXNlTm9kZS5wcm90b3R5cGUuc2VsZWN0Q2hpbGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNDaGlsZHJlbigpPyh0aGlzLmV4cGFuZGVkXz90aGlzLmdldENoaWxkQXQoMCkuc2VsZWN0KCk6dGhpcy5zZXRFeHBhbmRlZCghMCksITApOiExfTtCbG9ja2x5LnRyZWUuQmFzZU5vZGUucHJvdG90eXBlLmdldExhc3RTaG93bkRlc2NlbmRhbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHBhbmRlZF8mJnRoaXMuaGFzQ2hpbGRyZW4oKT90aGlzLmdldENoaWxkQXQodGhpcy5nZXRDaGlsZENvdW50KCktMSkuZ2V0TGFzdFNob3duRGVzY2VuZGFudCgpOnRoaXN9O1xuQmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5nZXROZXh0U2hvd25Ob2RlPWZ1bmN0aW9uKCl7aWYodGhpcy5oYXNDaGlsZHJlbigpJiZ0aGlzLmV4cGFuZGVkXylyZXR1cm4gdGhpcy5nZXRDaGlsZEF0KDApO2Zvcih2YXIgYT10aGlzLGI7YSE9dGhpcy5nZXRUcmVlKCk7KXtiPWEuZ2V0TmV4dFNpYmxpbmcoKTtpZihudWxsIT1iKXJldHVybiBiO2E9YS5nZXRQYXJlbnQoKX1yZXR1cm4gbnVsbH07QmxvY2tseS50cmVlLkJhc2VOb2RlLnByb3RvdHlwZS5nZXRQcmV2aW91c1Nob3duTm9kZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0UHJldmlvdXNTaWJsaW5nKCk7aWYobnVsbCE9YSlyZXR1cm4gYS5nZXRMYXN0U2hvd25EZXNjZW5kYW50KCk7YT10aGlzLmdldFBhcmVudCgpO3ZhciBiPXRoaXMuZ2V0VHJlZSgpO3JldHVybiBhPT1ifHx0aGlzPT1iP251bGw6YX07XG5CbG9ja2x5LnRyZWUuQmFzZU5vZGUucHJvdG90eXBlLnNldFRyZWVJbnRlcm5hbD1mdW5jdGlvbihhKXt0aGlzLnRyZWUhPWEmJih0aGlzLnRyZWU9YSx0aGlzLmZvckVhY2hDaGlsZChmdW5jdGlvbihiKXtiLnNldFRyZWVJbnRlcm5hbChhKX0pKX07QmxvY2tseS50cmVlLlRyZWVOb2RlPWZ1bmN0aW9uKGEsYixjKXt0aGlzLnRvb2xib3hfPWE7QmxvY2tseS50cmVlLkJhc2VOb2RlLmNhbGwodGhpcyxiLGMpfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LnRyZWUuVHJlZU5vZGUsQmxvY2tseS50cmVlLkJhc2VOb2RlKTtCbG9ja2x5LnRyZWUuVHJlZU5vZGUucHJvdG90eXBlLmdldFRyZWU9ZnVuY3Rpb24oKXtpZih0aGlzLnRyZWUpcmV0dXJuIHRoaXMudHJlZTt2YXIgYT10aGlzLmdldFBhcmVudCgpO3JldHVybiBhJiYoYT1hLmdldFRyZWUoKSk/KHRoaXMuc2V0VHJlZUludGVybmFsKGEpLGEpOm51bGx9O1xuQmxvY2tseS50cmVlLlRyZWVOb2RlLnByb3RvdHlwZS5nZXRDYWxjdWxhdGVkSWNvbkNsYXNzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5leHBhbmRlZF87aWYoYSYmdGhpcy5leHBhbmRlZEljb25DbGFzcylyZXR1cm4gdGhpcy5leHBhbmRlZEljb25DbGFzczt2YXIgYj10aGlzLmljb25DbGFzcztpZighYSYmYilyZXR1cm4gYjtiPXRoaXMuY29uZmlnXztpZih0aGlzLmhhc0NoaWxkcmVuKCkpe2lmKGEmJmIuY3NzRXhwYW5kZWRGb2xkZXJJY29uKXJldHVybiBiLmNzc1RyZWVJY29uK1wiIFwiK2IuY3NzRXhwYW5kZWRGb2xkZXJJY29uO2lmKCFhJiZiLmNzc0NvbGxhcHNlZEZvbGRlckljb24pcmV0dXJuIGIuY3NzVHJlZUljb24rXCIgXCIrYi5jc3NDb2xsYXBzZWRGb2xkZXJJY29ufWVsc2UgaWYoYi5jc3NGaWxlSWNvbilyZXR1cm4gYi5jc3NUcmVlSWNvbitcIiBcIitiLmNzc0ZpbGVJY29uO3JldHVyblwiXCJ9O1xuQmxvY2tseS50cmVlLlRyZWVOb2RlLnByb3RvdHlwZS5vbkNsaWNrXz1mdW5jdGlvbihhKXt0aGlzLmhhc0NoaWxkcmVuKCkmJnRoaXMuaXNVc2VyQ29sbGFwc2libGVfPyh0aGlzLnRvZ2dsZSgpLHRoaXMuc2VsZWN0KCkpOnRoaXMuaXNTZWxlY3RlZCgpP3RoaXMuZ2V0VHJlZSgpLnNldFNlbGVjdGVkSXRlbShudWxsKTp0aGlzLnNlbGVjdCgpO3RoaXMudXBkYXRlUm93KCl9O0Jsb2NrbHkudHJlZS5UcmVlTm9kZS5wcm90b3R5cGUub25Nb3VzZURvd249ZnVuY3Rpb24oYSl7fTtcbkJsb2NrbHkudHJlZS5UcmVlTm9kZS5wcm90b3R5cGUub25LZXlEb3duPWZ1bmN0aW9uKGEpe2lmKHRoaXMudHJlZS50b29sYm94Xy5ob3Jpem9udGFsTGF5b3V0Xyl7dmFyIGI9e30sYz1CbG9ja2x5LnV0aWxzLktleUNvZGVzLkRPV04sZD1CbG9ja2x5LnV0aWxzLktleUNvZGVzLlVQO2JbQmxvY2tseS51dGlscy5LZXlDb2Rlcy5SSUdIVF09dGhpcy5yaWdodFRvTGVmdF8/ZDpjO2JbQmxvY2tseS51dGlscy5LZXlDb2Rlcy5MRUZUXT10aGlzLnJpZ2h0VG9MZWZ0Xz9jOmQ7YltCbG9ja2x5LnV0aWxzLktleUNvZGVzLlVQXT1CbG9ja2x5LnV0aWxzLktleUNvZGVzLkxFRlQ7YltCbG9ja2x5LnV0aWxzLktleUNvZGVzLkRPV05dPUJsb2NrbHkudXRpbHMuS2V5Q29kZXMuUklHSFQ7T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYSx7a2V5Q29kZTp7dmFsdWU6YlthLmtleUNvZGVdfHxhLmtleUNvZGV9fSl9cmV0dXJuIEJsb2NrbHkudHJlZS5UcmVlTm9kZS5zdXBlckNsYXNzXy5vbktleURvd24uY2FsbCh0aGlzLFxuYSl9O0Jsb2NrbHkudHJlZS5UcmVlTm9kZS5wcm90b3R5cGUub25TaXplQ2hhbmdlZD1mdW5jdGlvbihhKXt0aGlzLm9uU2l6ZUNoYW5nZWRfPWF9O0Jsb2NrbHkudHJlZS5UcmVlTm9kZS5wcm90b3R5cGUucmVzaXplVG9vbGJveF89ZnVuY3Rpb24oKXt0aGlzLm9uU2l6ZUNoYW5nZWRfJiZ0aGlzLm9uU2l6ZUNoYW5nZWRfLmNhbGwodGhpcy50b29sYm94Xyl9O0Jsb2NrbHkudHJlZS5UcmVlTm9kZS5wcm90b3R5cGUuZG9Ob2RlRXhwYW5kZWQ9QmxvY2tseS50cmVlLlRyZWVOb2RlLnByb3RvdHlwZS5yZXNpemVUb29sYm94XztCbG9ja2x5LnRyZWUuVHJlZU5vZGUucHJvdG90eXBlLmRvTm9kZUNvbGxhcHNlZD1CbG9ja2x5LnRyZWUuVHJlZU5vZGUucHJvdG90eXBlLnJlc2l6ZVRvb2xib3hfO0Jsb2NrbHkudHJlZS5UcmVlQ29udHJvbD1mdW5jdGlvbihhLGIpe3RoaXMudG9vbGJveF89YTt0aGlzLm9uS2V5ZG93bldyYXBwZXJfPXRoaXMub25DbGlja1dyYXBwZXJfPXRoaXMub25CbHVyV3JhcHBlcl89dGhpcy5vbkZvY3VzV3JhcHBlcl89bnVsbDtCbG9ja2x5LnRyZWUuQmFzZU5vZGUuY2FsbCh0aGlzLFwiXCIsYik7dGhpcy5zZWxlY3RlZF89dGhpcy5leHBhbmRlZF89ITA7dGhpcy5zZWxlY3RlZEl0ZW1fPXRoaXN9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkudHJlZS5UcmVlQ29udHJvbCxCbG9ja2x5LnRyZWUuQmFzZU5vZGUpO0Jsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5wcm90b3R5cGUuZ2V0VHJlZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtCbG9ja2x5LnRyZWUuVHJlZUNvbnRyb2wucHJvdG90eXBlLmdldFRvb2xib3g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b29sYm94X307XG5CbG9ja2x5LnRyZWUuVHJlZUNvbnRyb2wucHJvdG90eXBlLmdldERlcHRoPWZ1bmN0aW9uKCl7cmV0dXJuIDB9O0Jsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5wcm90b3R5cGUuaGFuZGxlRm9jdXNfPWZ1bmN0aW9uKGEpe3RoaXMuZm9jdXNlZF89ITA7YT10aGlzLmdldEVsZW1lbnQoKTtCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyhhLFwiZm9jdXNlZFwiKTt0aGlzLnNlbGVjdGVkSXRlbV8mJnRoaXMuc2VsZWN0ZWRJdGVtXy5zZWxlY3QoKX07QmxvY2tseS50cmVlLlRyZWVDb250cm9sLnByb3RvdHlwZS5oYW5kbGVCbHVyXz1mdW5jdGlvbihhKXt0aGlzLmZvY3VzZWRfPSExO2E9dGhpcy5nZXRFbGVtZW50KCk7QmxvY2tseS51dGlscy5kb20ucmVtb3ZlQ2xhc3MoYSxcImZvY3VzZWRcIil9O0Jsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5wcm90b3R5cGUuaGFzRm9jdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb2N1c2VkX307XG5CbG9ja2x5LnRyZWUuVHJlZUNvbnRyb2wucHJvdG90eXBlLnNldEV4cGFuZGVkPWZ1bmN0aW9uKGEpe3RoaXMuZXhwYW5kZWRfPWF9O0Jsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5wcm90b3R5cGUuZ2V0SWNvbkVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJvd0VsZW1lbnQoKTtyZXR1cm4gYT9hLmZpcnN0Q2hpbGQ6bnVsbH07QmxvY2tseS50cmVlLlRyZWVDb250cm9sLnByb3RvdHlwZS51cGRhdGVFeHBhbmRJY29uPWZ1bmN0aW9uKCl7fTtCbG9ja2x5LnRyZWUuVHJlZUNvbnRyb2wucHJvdG90eXBlLmdldFJvd0NsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiBCbG9ja2x5LnRyZWUuVHJlZUNvbnRyb2wuc3VwZXJDbGFzc18uZ2V0Um93Q2xhc3NOYW1lLmNhbGwodGhpcykrXCIgXCIrdGhpcy5jb25maWdfLmNzc0hpZGVSb290fTtcbkJsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRlZEljb25DbGFzcz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZXhwYW5kZWRfO2lmKGEmJnRoaXMuZXhwYW5kZWRJY29uQ2xhc3MpcmV0dXJuIHRoaXMuZXhwYW5kZWRJY29uQ2xhc3M7dmFyIGI9dGhpcy5pY29uQ2xhc3M7cmV0dXJuIWEmJmI/YjphJiZ0aGlzLmNvbmZpZ18uY3NzRXhwYW5kZWRSb290SWNvbj90aGlzLmNvbmZpZ18uY3NzVHJlZUljb24rXCIgXCIrdGhpcy5jb25maWdfLmNzc0V4cGFuZGVkUm9vdEljb246XCJcIn07XG5CbG9ja2x5LnRyZWUuVHJlZUNvbnRyb2wucHJvdG90eXBlLnNldFNlbGVjdGVkSXRlbT1mdW5jdGlvbihhKXtpZihhIT10aGlzLnNlbGVjdGVkSXRlbV8mJighdGhpcy5vbkJlZm9yZVNlbGVjdGVkX3x8dGhpcy5vbkJlZm9yZVNlbGVjdGVkXy5jYWxsKHRoaXMudG9vbGJveF8sYSkpKXt2YXIgYj10aGlzLmdldFNlbGVjdGVkSXRlbSgpO3RoaXMuc2VsZWN0ZWRJdGVtXyYmdGhpcy5zZWxlY3RlZEl0ZW1fLnNldFNlbGVjdGVkKCExKTsodGhpcy5zZWxlY3RlZEl0ZW1fPWEpJiZhLnNldFNlbGVjdGVkKCEwKTt0aGlzLm9uQWZ0ZXJTZWxlY3RlZF8mJnRoaXMub25BZnRlclNlbGVjdGVkXy5jYWxsKHRoaXMudG9vbGJveF8sYixhKX19O0Jsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5wcm90b3R5cGUub25CZWZvcmVTZWxlY3RlZD1mdW5jdGlvbihhKXt0aGlzLm9uQmVmb3JlU2VsZWN0ZWRfPWF9O1xuQmxvY2tseS50cmVlLlRyZWVDb250cm9sLnByb3RvdHlwZS5vbkFmdGVyU2VsZWN0ZWQ9ZnVuY3Rpb24oYSl7dGhpcy5vbkFmdGVyU2VsZWN0ZWRfPWF9O0Jsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5wcm90b3R5cGUuZ2V0U2VsZWN0ZWRJdGVtPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtX307QmxvY2tseS50cmVlLlRyZWVDb250cm9sLnByb3RvdHlwZS5pbml0QWNjZXNzaWJpbGl0eT1mdW5jdGlvbigpe0Jsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5zdXBlckNsYXNzXy5pbml0QWNjZXNzaWJpbGl0eS5jYWxsKHRoaXMpO3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpO0Jsb2NrbHkudXRpbHMuYXJpYS5zZXRSb2xlKGEsQmxvY2tseS51dGlscy5hcmlhLlJvbGUuVFJFRSk7QmxvY2tseS51dGlscy5hcmlhLnNldFN0YXRlKGEsQmxvY2tseS51dGlscy5hcmlhLlN0YXRlLkxBQkVMTEVEQlksdGhpcy5nZXRMYWJlbEVsZW1lbnQoKS5pZCl9O1xuQmxvY2tseS50cmVlLlRyZWVDb250cm9sLnByb3RvdHlwZS5lbnRlckRvY3VtZW50PWZ1bmN0aW9uKCl7QmxvY2tseS50cmVlLlRyZWVDb250cm9sLnN1cGVyQ2xhc3NfLmVudGVyRG9jdW1lbnQuY2FsbCh0aGlzKTt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTthLmNsYXNzTmFtZT10aGlzLmNvbmZpZ18uY3NzUm9vdDthLnNldEF0dHJpYnV0ZShcImhpZGVGb2N1c1wiLFwidHJ1ZVwiKTt0aGlzLmF0dGFjaEV2ZW50c18oKTt0aGlzLmluaXRBY2Nlc3NpYmlsaXR5KCl9O0Jsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5wcm90b3R5cGUuZXhpdERvY3VtZW50PWZ1bmN0aW9uKCl7QmxvY2tseS50cmVlLlRyZWVDb250cm9sLnN1cGVyQ2xhc3NfLmV4aXREb2N1bWVudC5jYWxsKHRoaXMpO3RoaXMuZGV0YWNoRXZlbnRzXygpfTtcbkJsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5wcm90b3R5cGUuYXR0YWNoRXZlbnRzXz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpO2EudGFiSW5kZXg9MDt0aGlzLm9uRm9jdXNXcmFwcGVyXz1CbG9ja2x5LmJpbmRFdmVudF8oYSxcImZvY3VzXCIsdGhpcyx0aGlzLmhhbmRsZUZvY3VzXyk7dGhpcy5vbkJsdXJXcmFwcGVyXz1CbG9ja2x5LmJpbmRFdmVudF8oYSxcImJsdXJcIix0aGlzLHRoaXMuaGFuZGxlQmx1cl8pO3RoaXMub25DbGlja1dyYXBwZXJfPUJsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18oYSxcImNsaWNrXCIsdGhpcyx0aGlzLmhhbmRsZU1vdXNlRXZlbnRfKTt0aGlzLm9uS2V5ZG93bldyYXBwZXJfPUJsb2NrbHkuYmluZEV2ZW50XyhhLFwia2V5ZG93blwiLHRoaXMsdGhpcy5oYW5kbGVLZXlFdmVudF8pfTtcbkJsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5wcm90b3R5cGUuZGV0YWNoRXZlbnRzXz1mdW5jdGlvbigpe3RoaXMub25Gb2N1c1dyYXBwZXJfJiYoQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5vbkZvY3VzV3JhcHBlcl8pLHRoaXMub25Gb2N1c1dyYXBwZXJfPW51bGwpO3RoaXMub25CbHVyV3JhcHBlcl8mJihCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLm9uQmx1cldyYXBwZXJfKSx0aGlzLm9uQmx1cldyYXBwZXJfPW51bGwpO3RoaXMub25DbGlja1dyYXBwZXJfJiYoQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5vbkNsaWNrV3JhcHBlcl8pLHRoaXMub25DbGlja1dyYXBwZXJfPW51bGwpO3RoaXMub25LZXlkb3duV3JhcHBlcl8mJihCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLm9uS2V5ZG93bldyYXBwZXJfKSx0aGlzLm9uS2V5ZG93bldyYXBwZXJfPW51bGwpfTtcbkJsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5wcm90b3R5cGUuaGFuZGxlTW91c2VFdmVudF89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXROb2RlRnJvbUV2ZW50XyhhKTtpZihiKXN3aXRjaChhLnR5cGUpe2Nhc2UgXCJtb3VzZWRvd25cIjpiLm9uTW91c2VEb3duKGEpO2JyZWFrO2Nhc2UgXCJjbGlja1wiOmIub25DbGlja18oYSl9fTtCbG9ja2x5LnRyZWUuVHJlZUNvbnRyb2wucHJvdG90eXBlLmhhbmRsZUtleUV2ZW50Xz1mdW5jdGlvbihhKXt2YXIgYj0hMTtpZihiPXRoaXMuc2VsZWN0ZWRJdGVtXyYmdGhpcy5zZWxlY3RlZEl0ZW1fLm9uS2V5RG93bihhKXx8YilCbG9ja2x5LnV0aWxzLnN0eWxlLnNjcm9sbEludG9Db250YWluZXJWaWV3KHRoaXMuc2VsZWN0ZWRJdGVtXy5nZXRFbGVtZW50KCksdGhpcy5nZXRFbGVtZW50KCkucGFyZW50Tm9kZSksYS5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBifTtcbkJsb2NrbHkudHJlZS5UcmVlQ29udHJvbC5wcm90b3R5cGUuZ2V0Tm9kZUZyb21FdmVudF89ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWEudGFyZ2V0O251bGwhPWI7KXtpZihhPUJsb2NrbHkudHJlZS5CYXNlTm9kZS5hbGxOb2Rlc1tiLmlkXSlyZXR1cm4gYTtpZihiPT10aGlzLmdldEVsZW1lbnQoKSlicmVhaztpZihiLmdldEF0dHJpYnV0ZShcInJvbGVcIik9PUJsb2NrbHkudXRpbHMuYXJpYS5Sb2xlLkdST1VQKWJyZWFrO2I9Yi5wYXJlbnROb2RlfXJldHVybiBudWxsfTtCbG9ja2x5LnRyZWUuVHJlZUNvbnRyb2wucHJvdG90eXBlLmNyZWF0ZU5vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBCbG9ja2x5LnRyZWUuVHJlZU5vZGUodGhpcy50b29sYm94XyxhfHxcIlwiLHRoaXMuY29uZmlnXyl9O0Jsb2NrbHkuVG9vbGJveD1mdW5jdGlvbihhKXt0aGlzLndvcmtzcGFjZV89YTt0aGlzLlJUTD1hLm9wdGlvbnMuUlRMO3RoaXMuaG9yaXpvbnRhbExheW91dF89YS5vcHRpb25zLmhvcml6b250YWxMYXlvdXQ7dGhpcy50b29sYm94UG9zaXRpb249YS5vcHRpb25zLnRvb2xib3hQb3NpdGlvbjt0aGlzLmNvbmZpZ189e2luZGVudFdpZHRoOjE5LGNzc1Jvb3Q6XCJibG9ja2x5VHJlZVJvb3RcIixjc3NIaWRlUm9vdDpcImJsb2NrbHlIaWRkZW5cIixjc3NUcmVlUm93OlwiYmxvY2tseVRyZWVSb3dcIixjc3NJdGVtTGFiZWw6XCJibG9ja2x5VHJlZUxhYmVsXCIsY3NzVHJlZUljb246XCJibG9ja2x5VHJlZUljb25cIixjc3NFeHBhbmRlZEZvbGRlckljb246XCJibG9ja2x5VHJlZUljb25PcGVuXCIsY3NzRmlsZUljb246XCJibG9ja2x5VHJlZUljb25Ob25lXCIsY3NzU2VsZWN0ZWRSb3c6XCJibG9ja2x5VHJlZVNlbGVjdGVkXCJ9O3RoaXMudHJlZVNlcGFyYXRvckNvbmZpZ189e2Nzc1RyZWVSb3c6XCJibG9ja2x5VHJlZVNlcGFyYXRvclwifTtcbnRoaXMuaG9yaXpvbnRhbExheW91dF8mJih0aGlzLmNvbmZpZ18uY3NzVHJlZVJvdys9YS5SVEw/XCIgYmxvY2tseUhvcml6b250YWxUcmVlUnRsXCI6XCIgYmxvY2tseUhvcml6b250YWxUcmVlXCIsdGhpcy50cmVlU2VwYXJhdG9yQ29uZmlnXy5jc3NUcmVlUm93PVwiYmxvY2tseVRyZWVTZXBhcmF0b3JIb3Jpem9udGFsIFwiKyhhLlJUTD9cImJsb2NrbHlIb3Jpem9udGFsVHJlZVJ0bFwiOlwiYmxvY2tseUhvcml6b250YWxUcmVlXCIpLHRoaXMuY29uZmlnXy5jc3NUcmVlSWNvbj1cIlwiKTt0aGlzLmZseW91dF89bnVsbH07QmxvY2tseS5Ub29sYm94LnByb3RvdHlwZS53aWR0aD0wO0Jsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUuaGVpZ2h0PTA7QmxvY2tseS5Ub29sYm94LnByb3RvdHlwZS5zZWxlY3RlZE9wdGlvbl89bnVsbDtCbG9ja2x5LlRvb2xib3gucHJvdG90eXBlLmxhc3RDYXRlZ29yeV89bnVsbDtcbkJsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMud29ya3NwYWNlXyxiPXRoaXMud29ya3NwYWNlXy5nZXRQYXJlbnRTdmcoKTt0aGlzLkh0bWxEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLkh0bWxEaXYuY2xhc3NOYW1lPVwiYmxvY2tseVRvb2xib3hEaXYgYmxvY2tseU5vblNlbGVjdGFibGVcIjt0aGlzLkh0bWxEaXYuc2V0QXR0cmlidXRlKFwiZGlyXCIsYS5SVEw/XCJSVExcIjpcIkxUUlwiKTtiLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuSHRtbERpdixiKTt2YXIgYz1hLmdldFRoZW1lTWFuYWdlcigpO2Muc3Vic2NyaWJlKHRoaXMuSHRtbERpdixcInRvb2xib3hCYWNrZ3JvdW5kQ29sb3VyXCIsXCJiYWNrZ3JvdW5kLWNvbG9yXCIpO2Muc3Vic2NyaWJlKHRoaXMuSHRtbERpdixcInRvb2xib3hGb3JlZ3JvdW5kQ29sb3VyXCIsXCJjb2xvclwiKTtCbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKHRoaXMuSHRtbERpdixcIm1vdXNlZG93blwiLFxudGhpcyxmdW5jdGlvbihhKXtCbG9ja2x5LnV0aWxzLmlzUmlnaHRCdXR0b24oYSl8fGEudGFyZ2V0PT10aGlzLkh0bWxEaXY/QmxvY2tseS5oaWRlQ2hhZmYoITEpOkJsb2NrbHkuaGlkZUNoYWZmKCEwKTtCbG9ja2x5LlRvdWNoLmNsZWFyVG91Y2hJZGVudGlmaWVyKCl9LCExLCEwKTtjPW5ldyBCbG9ja2x5Lk9wdGlvbnMoe3BhcmVudFdvcmtzcGFjZTphLHJ0bDphLlJUTCxvbmVCYXNlZEluZGV4OmEub3B0aW9ucy5vbmVCYXNlZEluZGV4LGhvcml6b250YWxMYXlvdXQ6YS5ob3Jpem9udGFsTGF5b3V0LHJlbmRlcmVyOmEub3B0aW9ucy5yZW5kZXJlcixyZW5kZXJlck92ZXJyaWRlczphLm9wdGlvbnMucmVuZGVyZXJPdmVycmlkZXN9KTtjLnRvb2xib3hQb3NpdGlvbj1hLm9wdGlvbnMudG9vbGJveFBvc2l0aW9uO2lmKGEuaG9yaXpvbnRhbExheW91dCl7aWYoIUJsb2NrbHkuSG9yaXpvbnRhbEZseW91dCl0aHJvdyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZSBmb3IgQmxvY2tseS5Ib3Jpem9udGFsRmx5b3V0XCIpO1xudGhpcy5mbHlvdXRfPW5ldyBCbG9ja2x5Lkhvcml6b250YWxGbHlvdXQoYyl9ZWxzZXtpZighQmxvY2tseS5WZXJ0aWNhbEZseW91dCl0aHJvdyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZSBmb3IgQmxvY2tseS5WZXJ0aWNhbEZseW91dFwiKTt0aGlzLmZseW91dF89bmV3IEJsb2NrbHkuVmVydGljYWxGbHlvdXQoYyl9aWYoIXRoaXMuZmx5b3V0Xyl0aHJvdyBFcnJvcihcIk9uZSBvZiBCbG9ja2x5LlZlcnRpY2FsRmx5b3V0IG9yIEJsb2NrbHkuSG9yaXpvbnRhbCBtdXN0IGJlcmVxdWlyZWQuXCIpO0Jsb2NrbHkudXRpbHMuZG9tLmluc2VydEFmdGVyKHRoaXMuZmx5b3V0Xy5jcmVhdGVEb20oXCJzdmdcIiksYik7dGhpcy5mbHlvdXRfLmluaXQoYSk7dGhpcy5jb25maWdfLmNsZWFyZG90UGF0aD1hLm9wdGlvbnMucGF0aFRvTWVkaWErXCIxeDEuZ2lmXCI7dGhpcy5jb25maWdfLmNzc0NvbGxhcHNlZEZvbGRlckljb249XCJibG9ja2x5VHJlZUljb25DbG9zZWRcIisoYS5SVEw/XCJSdGxcIjpcIkx0clwiKTtcbnRoaXMucmVuZGVyVHJlZShhLm9wdGlvbnMubGFuZ3VhZ2VUcmVlKX07XG5CbG9ja2x5LlRvb2xib3gucHJvdG90eXBlLnJlbmRlclRyZWU9ZnVuY3Rpb24oYSl7dGhpcy50cmVlXyYmKHRoaXMudHJlZV8uZGlzcG9zZSgpLHRoaXMubGFzdENhdGVnb3J5Xz1udWxsKTt2YXIgYj1uZXcgQmxvY2tseS50cmVlLlRyZWVDb250cm9sKHRoaXMsdGhpcy5jb25maWdfKTt0aGlzLnRyZWVfPWI7Yi5zZXRTZWxlY3RlZEl0ZW0obnVsbCk7Yi5vbkJlZm9yZVNlbGVjdGVkKHRoaXMuaGFuZGxlQmVmb3JlVHJlZVNlbGVjdGVkXyk7Yi5vbkFmdGVyU2VsZWN0ZWQodGhpcy5oYW5kbGVBZnRlclRyZWVTZWxlY3RlZF8pO3ZhciBjPW51bGw7aWYoYSl7dGhpcy50cmVlXy5ibG9ja3M9W107dGhpcy5oYXNDb2xvdXJzXz0hMTtjPXRoaXMuc3luY1RyZWVzXyhhLHRoaXMudHJlZV8sdGhpcy53b3Jrc3BhY2VfLm9wdGlvbnMucGF0aFRvTWVkaWEpO2lmKHRoaXMudHJlZV8uYmxvY2tzLmxlbmd0aCl0aHJvdyBFcnJvcihcIlRvb2xib3ggY2Fubm90IGhhdmUgYm90aCBibG9ja3MgYW5kIGNhdGVnb3JpZXMgaW4gdGhlIHJvb3QgbGV2ZWwuXCIpO3RoaXMud29ya3NwYWNlXy5yZXNpemVDb250ZW50cygpfWIucmVuZGVyKHRoaXMuSHRtbERpdik7XG5jJiZiLnNldFNlbGVjdGVkSXRlbShjKTt0aGlzLmFkZENvbG91cl8oKTt0aGlzLnBvc2l0aW9uKCk7dGhpcy5ob3Jpem9udGFsTGF5b3V0XyYmQmxvY2tseS51dGlscy5hcmlhLnNldFN0YXRlKHRoaXMudHJlZV8uZ2V0RWxlbWVudCgpLEJsb2NrbHkudXRpbHMuYXJpYS5TdGF0ZS5PUklFTlRBVElPTixcImhvcml6b250YWxcIil9O0Jsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUuaGFuZGxlQmVmb3JlVHJlZVNlbGVjdGVkXz1mdW5jdGlvbihhKXtpZihhPT10aGlzLnRyZWVfKXJldHVybiExO3RoaXMubGFzdENhdGVnb3J5XyYmKHRoaXMubGFzdENhdGVnb3J5Xy5nZXRSb3dFbGVtZW50KCkuc3R5bGUuYmFja2dyb3VuZENvbG9yPVwiXCIpO2lmKGEpe3ZhciBiPWEuaGV4Q29sb3VyfHxcIiM1N2VcIjthLmdldFJvd0VsZW1lbnQoKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9Yjt0aGlzLmFkZENvbG91cl8oYSl9cmV0dXJuITB9O1xuQmxvY2tseS5Ub29sYm94LnByb3RvdHlwZS5oYW5kbGVBZnRlclRyZWVTZWxlY3RlZF89ZnVuY3Rpb24oYSxiKXtiJiZiLmJsb2NrcyYmYi5ibG9ja3MubGVuZ3RoPyh0aGlzLmZseW91dF8uc2hvdyhiLmJsb2NrcyksdGhpcy5sYXN0Q2F0ZWdvcnlfIT1iJiZ0aGlzLmZseW91dF8uc2Nyb2xsVG9TdGFydCgpLHRoaXMud29ya3NwYWNlXy5rZXlib2FyZEFjY2Vzc2liaWxpdHlNb2RlJiZCbG9ja2x5Lm5hdmlnYXRpb24uc2V0U3RhdGUoQmxvY2tseS5uYXZpZ2F0aW9uLlNUQVRFX1RPT0xCT1gpKToodGhpcy5mbHlvdXRfLmhpZGUoKSwhdGhpcy53b3Jrc3BhY2VfLmtleWJvYXJkQWNjZXNzaWJpbGl0eU1vZGV8fGIgaW5zdGFuY2VvZiBCbG9ja2x5LlRvb2xib3guVHJlZVNlcGFyYXRvcnx8QmxvY2tseS5uYXZpZ2F0aW9uLnNldFN0YXRlKEJsb2NrbHkubmF2aWdhdGlvbi5TVEFURV9XUykpO2EhPWImJmEhPXRoaXMmJihhPW5ldyBCbG9ja2x5LkV2ZW50cy5VaShudWxsLFwiY2F0ZWdvcnlcIixcbmEmJmEuY29udGVudCxiJiZiLmNvbnRlbnQpLGEud29ya3NwYWNlSWQ9dGhpcy53b3Jrc3BhY2VfLmlkLEJsb2NrbHkuRXZlbnRzLmZpcmUoYSkpO2ImJih0aGlzLmxhc3RDYXRlZ29yeV89Yil9O0Jsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUuaGFuZGxlTm9kZVNpemVDaGFuZ2VkXz1mdW5jdGlvbigpe0Jsb2NrbHkuc3ZnUmVzaXplKHRoaXMud29ya3NwYWNlXyl9O1xuQmxvY2tseS5Ub29sYm94LnByb3RvdHlwZS5vbkJsb2NrbHlBY3Rpb249ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50cmVlXy5nZXRTZWxlY3RlZEl0ZW0oKTtpZighYilyZXR1cm4hMTtzd2l0Y2goYS5uYW1lKXtjYXNlIEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5QUkVWSU9VUzpyZXR1cm4gYi5zZWxlY3RQcmV2aW91cygpO2Nhc2UgQmxvY2tseS5uYXZpZ2F0aW9uLmFjdGlvbk5hbWVzLk9VVDpyZXR1cm4gYi5zZWxlY3RQYXJlbnQoKTtjYXNlIEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5ORVhUOnJldHVybiBiLnNlbGVjdE5leHQoKTtjYXNlIEJsb2NrbHkubmF2aWdhdGlvbi5hY3Rpb25OYW1lcy5JTjpyZXR1cm4gYi5zZWxlY3RDaGlsZCgpO2RlZmF1bHQ6cmV0dXJuITF9fTtcbkJsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZmx5b3V0Xy5kaXNwb3NlKCk7dGhpcy50cmVlXy5kaXNwb3NlKCk7dGhpcy53b3Jrc3BhY2VfLmdldFRoZW1lTWFuYWdlcigpLnVuc3Vic2NyaWJlKHRoaXMuSHRtbERpdik7QmxvY2tseS51dGlscy5kb20ucmVtb3ZlTm9kZSh0aGlzLkh0bWxEaXYpO3RoaXMubGFzdENhdGVnb3J5Xz1udWxsfTtCbG9ja2x5LlRvb2xib3gucHJvdG90eXBlLmdldFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGh9O0Jsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUuZ2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVpZ2h0fTtCbG9ja2x5LlRvb2xib3gucHJvdG90eXBlLmdldEZseW91dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZseW91dF99O1xuQmxvY2tseS5Ub29sYm94LnByb3RvdHlwZS5wb3NpdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuSHRtbERpdjtpZihhKXt2YXIgYj1CbG9ja2x5LnN2Z1NpemUodGhpcy53b3Jrc3BhY2VfLmdldFBhcmVudFN2ZygpKTt0aGlzLmhvcml6b250YWxMYXlvdXRfPyhhLnN0eWxlLmxlZnQ9XCIwXCIsYS5zdHlsZS5oZWlnaHQ9XCJhdXRvXCIsYS5zdHlsZS53aWR0aD1iLndpZHRoK1wicHhcIix0aGlzLmhlaWdodD1hLm9mZnNldEhlaWdodCx0aGlzLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX1RPUD9hLnN0eWxlLnRvcD1cIjBcIjphLnN0eWxlLmJvdHRvbT1cIjBcIik6KHRoaXMudG9vbGJveFBvc2l0aW9uPT1CbG9ja2x5LlRPT0xCT1hfQVRfUklHSFQ/YS5zdHlsZS5yaWdodD1cIjBcIjphLnN0eWxlLmxlZnQ9XCIwXCIsYS5zdHlsZS5oZWlnaHQ9Yi5oZWlnaHQrXCJweFwiLHRoaXMud2lkdGg9YS5vZmZzZXRXaWR0aCk7dGhpcy5mbHlvdXRfLnBvc2l0aW9uKCl9fTtcbkJsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUuc3luY1RyZWVzXz1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPW51bGwsZT1udWxsLGY9MCxnO2c9YS5jaGlsZE5vZGVzW2ZdO2YrKylpZihnLnRhZ05hbWUpc3dpdGNoKGcudGFnTmFtZS50b1VwcGVyQ2FzZSgpKXtjYXNlIFwiQ0FURUdPUllcIjplPUJsb2NrbHkudXRpbHMucmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzKGcuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSk7dmFyIGg9dGhpcy50cmVlXy5jcmVhdGVOb2RlKGUpO2gub25TaXplQ2hhbmdlZCh0aGlzLmhhbmRsZU5vZGVTaXplQ2hhbmdlZF8pO2guYmxvY2tzPVtdO2IuYWRkKGgpO3ZhciBrPWcuZ2V0QXR0cmlidXRlKFwiY3VzdG9tXCIpO2s/aC5ibG9ja3M9azooaz10aGlzLnN5bmNUcmVlc18oZyxoLGMpKSYmKGQ9ayk7az1nLmdldEF0dHJpYnV0ZShcImNhdGVnb3J5c3R5bGVcIik7dmFyIGw9Zy5nZXRBdHRyaWJ1dGUoXCJjb2xvdXJcIik7bCYmaz8oaC5oZXhDb2xvdXI9XCJcIixjb25zb2xlLndhcm4oJ1Rvb2xib3ggY2F0ZWdvcnkgXCInK1xuZSsnXCIgY2FuIG5vdCBoYXZlIGJvdGggYSBzdHlsZSBhbmQgYSBjb2xvdXInKSk6az90aGlzLnNldENvbG91ckZyb21TdHlsZV8oayxoLGUpOnRoaXMuc2V0Q29sb3VyXyhsLGgsZSk7XCJ0cnVlXCI9PWcuZ2V0QXR0cmlidXRlKFwiZXhwYW5kZWRcIik/KGguYmxvY2tzLmxlbmd0aCYmKGQ9aCksaC5zZXRFeHBhbmRlZCghMCkpOmguc2V0RXhwYW5kZWQoITEpO2U9ZzticmVhaztjYXNlIFwiU0VQXCI6aWYoZSYmXCJDQVRFR09SWVwiPT1lLnRhZ05hbWUudG9VcHBlckNhc2UoKSl7Yi5hZGQobmV3IEJsb2NrbHkuVG9vbGJveC5UcmVlU2VwYXJhdG9yKHRoaXMudHJlZVNlcGFyYXRvckNvbmZpZ18pKTticmVha31jYXNlIFwiQkxPQ0tcIjpjYXNlIFwiU0hBRE9XXCI6Y2FzZSBcIkxBQkVMXCI6Y2FzZSBcIkJVVFRPTlwiOmIuYmxvY2tzLnB1c2goZyksZT1nfXJldHVybiBkfTtcbkJsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUuc2V0Q29sb3VyXz1mdW5jdGlvbihhLGIsYyl7YT1CbG9ja2x5LnV0aWxzLnJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyhhKTtpZihudWxsPT09YXx8XCJcIj09PWEpYi5oZXhDb2xvdXI9XCJcIjtlbHNle3ZhciBkPU51bWJlcihhKTtpc05hTihkKT8oZD1CbG9ja2x5LnV0aWxzLmNvbG91ci5wYXJzZShhKSk/KGIuaGV4Q29sb3VyPWQsdGhpcy5oYXNDb2xvdXJzXz0hMCk6KGIuaGV4Q29sb3VyPVwiXCIsY29uc29sZS53YXJuKCdUb29sYm94IGNhdGVnb3J5IFwiJytjKydcIiBoYXMgdW5yZWNvZ25pemVkIGNvbG91ciBhdHRyaWJ1dGU6ICcrYSkpOihiLmhleENvbG91cj1CbG9ja2x5Lmh1ZVRvSGV4KGQpLHRoaXMuaGFzQ29sb3Vyc189ITApfX07XG5CbG9ja2x5LlRvb2xib3gucHJvdG90eXBlLnNldENvbG91ckZyb21TdHlsZV89ZnVuY3Rpb24oYSxiLGMpe2Iuc3R5bGVOYW1lPWE7dmFyIGQ9dGhpcy53b3Jrc3BhY2VfLmdldFRoZW1lKCk7YSYmZCYmKChkPWQuY2F0ZWdvcnlTdHlsZXNbYV0pJiZkLmNvbG91cj90aGlzLnNldENvbG91cl8oZC5jb2xvdXIsYixjKTpjb25zb2xlLndhcm4oJ1N0eWxlIFwiJythKydcIiBtdXN0IGV4aXN0IGFuZCBjb250YWluIGEgY29sb3VyIHZhbHVlJykpfTtCbG9ja2x5LlRvb2xib3gucHJvdG90eXBlLnVwZGF0ZUNvbG91ckZyb21UaGVtZV89ZnVuY3Rpb24oYSl7aWYoYT1hfHx0aGlzLnRyZWVfKXthPWEuZ2V0Q2hpbGRyZW4oITEpO2Zvcih2YXIgYj0wLGM7Yz1hW2JdO2IrKyljLnN0eWxlTmFtZSYmKHRoaXMuc2V0Q29sb3VyRnJvbVN0eWxlXyhjLnN0eWxlTmFtZSxjLFwiXCIpLHRoaXMuYWRkQ29sb3VyXygpKSx0aGlzLnVwZGF0ZUNvbG91ckZyb21UaGVtZV8oYyl9fTtcbkJsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUudXBkYXRlQ29sb3VyRnJvbVRoZW1lPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmVlXzthJiYodGhpcy51cGRhdGVDb2xvdXJGcm9tVGhlbWVfKGEpLHRoaXMudXBkYXRlU2VsZWN0ZWRJdGVtQ29sb3VyXyhhKSl9O0Jsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUudXBkYXRlU2VsZWN0ZWRJdGVtQ29sb3VyXz1mdW5jdGlvbihhKXtpZihhPWEuZ2V0U2VsZWN0ZWRJdGVtKCkpe3ZhciBiPWEuaGV4Q29sb3VyfHxcIiM1N2VcIjthLmdldFJvd0VsZW1lbnQoKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9Yjt0aGlzLmFkZENvbG91cl8oYSl9fTtcbkJsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUuYWRkQ29sb3VyXz1mdW5jdGlvbihhKXthPShhfHx0aGlzLnRyZWVfKS5nZXRDaGlsZHJlbighMSk7Zm9yKHZhciBiPTAsYztjPWFbYl07YisrKXt2YXIgZD1jLmdldFJvd0VsZW1lbnQoKTtpZihkKXt2YXIgZT10aGlzLmhhc0NvbG91cnNfP1wiOHB4IHNvbGlkIFwiKyhjLmhleENvbG91cnx8XCIjZGRkXCIpOlwibm9uZVwiO3RoaXMud29ya3NwYWNlXy5SVEw/ZC5zdHlsZS5ib3JkZXJSaWdodD1lOmQuc3R5bGUuYm9yZGVyTGVmdD1lfXRoaXMuYWRkQ29sb3VyXyhjKX19O0Jsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUuY2xlYXJTZWxlY3Rpb249ZnVuY3Rpb24oKXt0aGlzLnRyZWVfLnNldFNlbGVjdGVkSXRlbShudWxsKX07QmxvY2tseS5Ub29sYm94LnByb3RvdHlwZS5hZGRTdHlsZT1mdW5jdGlvbihhKXtCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyh0aGlzLkh0bWxEaXYsYSl9O1xuQmxvY2tseS5Ub29sYm94LnByb3RvdHlwZS5yZW1vdmVTdHlsZT1mdW5jdGlvbihhKXtCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyh0aGlzLkh0bWxEaXYsYSl9O1xuQmxvY2tseS5Ub29sYm94LnByb3RvdHlwZS5nZXRDbGllbnRSZWN0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuSHRtbERpdilyZXR1cm4gbnVsbDt2YXIgYT10aGlzLkh0bWxEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYj1hLnRvcCxjPWIrYS5oZWlnaHQsZD1hLmxlZnQ7YT1kK2Eud2lkdGg7cmV0dXJuIHRoaXMudG9vbGJveFBvc2l0aW9uPT1CbG9ja2x5LlRPT0xCT1hfQVRfVE9QP25ldyBCbG9ja2x5LnV0aWxzLlJlY3QoLTFFNyxjLC0xRTcsMUU3KTp0aGlzLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX0JPVFRPTT9uZXcgQmxvY2tseS51dGlscy5SZWN0KGIsMUU3LC0xRTcsMUU3KTp0aGlzLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX0xFRlQ/bmV3IEJsb2NrbHkudXRpbHMuUmVjdCgtMUU3LDFFNywtMUU3LGEpOm5ldyBCbG9ja2x5LnV0aWxzLlJlY3QoLTFFNywxRTcsZCwxRTcpfTtcbkJsb2NrbHkuVG9vbGJveC5wcm90b3R5cGUucmVmcmVzaFNlbGVjdGlvbj1mdW5jdGlvbigpe3ZhciBhPXRoaXMudHJlZV8uZ2V0U2VsZWN0ZWRJdGVtKCk7YSYmYS5ibG9ja3MmJnRoaXMuZmx5b3V0Xy5zaG93KGEuYmxvY2tzKX07QmxvY2tseS5Ub29sYm94LnByb3RvdHlwZS5zZWxlY3RGaXJzdENhdGVnb3J5PWZ1bmN0aW9uKCl7dGhpcy50cmVlXy5nZXRTZWxlY3RlZEl0ZW0oKXx8dGhpcy50cmVlXy5zZWxlY3RDaGlsZCgpfTtCbG9ja2x5LlRvb2xib3guVHJlZVNlcGFyYXRvcj1mdW5jdGlvbihhKXtCbG9ja2x5LnRyZWUuVHJlZU5vZGUuY2FsbCh0aGlzLG51bGwsXCJcIixhKX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5Ub29sYm94LlRyZWVTZXBhcmF0b3IsQmxvY2tseS50cmVlLlRyZWVOb2RlKTtcbkJsb2NrbHkuQ3NzLnJlZ2lzdGVyKFtcIi5ibG9ja2x5VG9vbGJveERlbGV0ZSB7XCIsJ2N1cnNvcjogdXJsKFwiPDw8UEFUSD4+Pi9oYW5kZGVsZXRlLmN1clwiKSwgYXV0bzsnLFwifVwiLFwiLmJsb2NrbHlUb29sYm94R3JhYiB7XCIsJ2N1cnNvcjogdXJsKFwiPDw8UEFUSD4+Pi9oYW5kY2xvc2VkLmN1clwiKSwgYXV0bzsnLFwiY3Vyc29yOiBncmFiYmluZztcIixcImN1cnNvcjogLXdlYmtpdC1ncmFiYmluZztcIixcIn1cIixcIi5ibG9ja2x5VG9vbGJveERpdiB7XCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1wiLFwib3ZlcmZsb3cteDogdmlzaWJsZTtcIixcIm92ZXJmbG93LXk6IGF1dG87XCIsXCJwb3NpdGlvbjogYWJzb2x1dGU7XCIsXCJ6LWluZGV4OiA3MDtcIixcIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XCIsXCJ9XCIsXCIuYmxvY2tseVRyZWVSb290IHtcIixcInBhZGRpbmc6IDRweCAwO1wiLFwifVwiLFwiLmJsb2NrbHlUcmVlUm9vdDpmb2N1cyB7XCIsXCJvdXRsaW5lOiBub25lO1wiLFwifVwiLFwiLmJsb2NrbHlUcmVlUm93IHtcIixcblwiaGVpZ2h0OiAyMnB4O1wiLFwibGluZS1oZWlnaHQ6IDIycHg7XCIsXCJtYXJnaW4tYm90dG9tOiAzcHg7XCIsXCJwYWRkaW5nLXJpZ2h0OiA4cHg7XCIsXCJ3aGl0ZS1zcGFjZTogbm93cmFwO1wiLFwifVwiLFwiLmJsb2NrbHlIb3Jpem9udGFsVHJlZSB7XCIsXCJmbG9hdDogbGVmdDtcIixcIm1hcmdpbjogMXB4IDVweCA4cHggMDtcIixcIn1cIixcIi5ibG9ja2x5SG9yaXpvbnRhbFRyZWVSdGwge1wiLFwiZmxvYXQ6IHJpZ2h0O1wiLFwibWFyZ2luOiAxcHggMCA4cHggNXB4O1wiLFwifVwiLCcuYmxvY2tseVRvb2xib3hEaXZbZGlyPVwiUlRMXCJdIC5ibG9ja2x5VHJlZVJvdyB7JyxcIm1hcmdpbi1sZWZ0OiA4cHg7XCIsXCJ9XCIsXCIuYmxvY2tseVRyZWVSb3c6bm90KC5ibG9ja2x5VHJlZVNlbGVjdGVkKTpob3ZlciB7XCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XCIsXCJ9XCIsXCIuYmxvY2tseVRyZWVTZXBhcmF0b3Ige1wiLFwiYm9yZGVyLWJvdHRvbTogc29saWQgI2U1ZTVlNSAxcHg7XCIsXCJoZWlnaHQ6IDA7XCIsXG5cIm1hcmdpbjogNXB4IDA7XCIsXCJ9XCIsXCIuYmxvY2tseVRyZWVTZXBhcmF0b3JIb3Jpem9udGFsIHtcIixcImJvcmRlci1yaWdodDogc29saWQgI2U1ZTVlNSAxcHg7XCIsXCJ3aWR0aDogMDtcIixcInBhZGRpbmc6IDVweCAwO1wiLFwibWFyZ2luOiAwIDVweDtcIixcIn1cIixcIi5ibG9ja2x5VHJlZUljb24ge1wiLFwiYmFja2dyb3VuZC1pbWFnZTogdXJsKDw8PFBBVEg+Pj4vc3ByaXRlcy5wbmcpO1wiLFwiaGVpZ2h0OiAxNnB4O1wiLFwidmVydGljYWwtYWxpZ246IG1pZGRsZTtcIixcIndpZHRoOiAxNnB4O1wiLFwifVwiLFwiLmJsb2NrbHlUcmVlSWNvbkNsb3NlZEx0ciB7XCIsXCJiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMzJweCAtMXB4O1wiLFwifVwiLFwiLmJsb2NrbHlUcmVlSWNvbkNsb3NlZFJ0bCB7XCIsXCJiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC0xcHg7XCIsXCJ9XCIsXCIuYmxvY2tseVRyZWVJY29uT3BlbiB7XCIsXCJiYWNrZ3JvdW5kLXBvc2l0aW9uOiAtMTZweCAtMXB4O1wiLFwifVwiLFwiLmJsb2NrbHlUcmVlU2VsZWN0ZWQ+LmJsb2NrbHlUcmVlSWNvbkNsb3NlZEx0ciB7XCIsXG5cImJhY2tncm91bmQtcG9zaXRpb246IC0zMnB4IC0xN3B4O1wiLFwifVwiLFwiLmJsb2NrbHlUcmVlU2VsZWN0ZWQ+LmJsb2NrbHlUcmVlSWNvbkNsb3NlZFJ0bCB7XCIsXCJiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIC0xN3B4O1wiLFwifVwiLFwiLmJsb2NrbHlUcmVlU2VsZWN0ZWQ+LmJsb2NrbHlUcmVlSWNvbk9wZW4ge1wiLFwiYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggLTE3cHg7XCIsXCJ9XCIsXCIuYmxvY2tseVRyZWVJY29uTm9uZSxcIixcIi5ibG9ja2x5VHJlZVNlbGVjdGVkPi5ibG9ja2x5VHJlZUljb25Ob25lIHtcIixcImJhY2tncm91bmQtcG9zaXRpb246IC00OHB4IC0xcHg7XCIsXCJ9XCIsXCIuYmxvY2tseVRyZWVMYWJlbCB7XCIsXCJjdXJzb3I6IGRlZmF1bHQ7XCIsXCJmb250LWZhbWlseTogc2Fucy1zZXJpZjtcIixcImZvbnQtc2l6ZTogMTZweDtcIixcInBhZGRpbmc6IDAgM3B4O1wiLFwidmVydGljYWwtYWxpZ246IG1pZGRsZTtcIixcIn1cIixcIi5ibG9ja2x5VG9vbGJveERlbGV0ZSAuYmxvY2tseVRyZWVMYWJlbCB7XCIsXG4nY3Vyc29yOiB1cmwoXCI8PDxQQVRIPj4+L2hhbmRkZWxldGUuY3VyXCIpLCBhdXRvOycsXCJ9XCIsXCIuYmxvY2tseVRyZWVTZWxlY3RlZCAuYmxvY2tseVRyZWVMYWJlbCB7XCIsXCJjb2xvcjogI2ZmZjtcIixcIn1cIl0pO0Jsb2NrbHkuVHJhc2hjYW49ZnVuY3Rpb24oYSl7dGhpcy53b3Jrc3BhY2VfPWE7dGhpcy5jb250ZW50c189W107dGhpcy5mbHlvdXQ9bnVsbDtpZighKDA+PXRoaXMud29ya3NwYWNlXy5vcHRpb25zLm1heFRyYXNoY2FuQ29udGVudHMpKXthPW5ldyBCbG9ja2x5Lk9wdGlvbnMoe3Njcm9sbGJhcnM6ITAscGFyZW50V29ya3NwYWNlOnRoaXMud29ya3NwYWNlXyxydGw6dGhpcy53b3Jrc3BhY2VfLlJUTCxvbmVCYXNlZEluZGV4OnRoaXMud29ya3NwYWNlXy5vcHRpb25zLm9uZUJhc2VkSW5kZXgscmVuZGVyZXI6dGhpcy53b3Jrc3BhY2VfLm9wdGlvbnMucmVuZGVyZXIscmVuZGVyZXJPdmVycmlkZXM6dGhpcy53b3Jrc3BhY2VfLm9wdGlvbnMucmVuZGVyZXJPdmVycmlkZXN9KTtpZih0aGlzLndvcmtzcGFjZV8uaG9yaXpvbnRhbExheW91dCl7YS50b29sYm94UG9zaXRpb249dGhpcy53b3Jrc3BhY2VfLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX1RPUD9CbG9ja2x5LlRPT0xCT1hfQVRfQk9UVE9NOlxuQmxvY2tseS5UT09MQk9YX0FUX1RPUDtpZighQmxvY2tseS5Ib3Jpem9udGFsRmx5b3V0KXRocm93IEVycm9yKFwiTWlzc2luZyByZXF1aXJlIGZvciBCbG9ja2x5Lkhvcml6b250YWxGbHlvdXRcIik7dGhpcy5mbHlvdXQ9bmV3IEJsb2NrbHkuSG9yaXpvbnRhbEZseW91dChhKX1lbHNle2EudG9vbGJveFBvc2l0aW9uPXRoaXMud29ya3NwYWNlXy50b29sYm94UG9zaXRpb249PUJsb2NrbHkuVE9PTEJPWF9BVF9SSUdIVD9CbG9ja2x5LlRPT0xCT1hfQVRfTEVGVDpCbG9ja2x5LlRPT0xCT1hfQVRfUklHSFQ7aWYoIUJsb2NrbHkuVmVydGljYWxGbHlvdXQpdGhyb3cgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmUgZm9yIEJsb2NrbHkuVmVydGljYWxGbHlvdXRcIik7dGhpcy5mbHlvdXQ9bmV3IEJsb2NrbHkuVmVydGljYWxGbHlvdXQoYSl9dGhpcy53b3Jrc3BhY2VfLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMub25EZWxldGVfLmJpbmQodGhpcykpfX07XG5CbG9ja2x5LlRyYXNoY2FuLnByb3RvdHlwZS5XSURUSF89NDc7QmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUuQk9EWV9IRUlHSFRfPTQ0O0Jsb2NrbHkuVHJhc2hjYW4ucHJvdG90eXBlLkxJRF9IRUlHSFRfPTE2O0Jsb2NrbHkuVHJhc2hjYW4ucHJvdG90eXBlLk1BUkdJTl9CT1RUT01fPTIwO0Jsb2NrbHkuVHJhc2hjYW4ucHJvdG90eXBlLk1BUkdJTl9TSURFXz0yMDtCbG9ja2x5LlRyYXNoY2FuLnByb3RvdHlwZS5NQVJHSU5fSE9UU1BPVF89MTA7QmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUuU1BSSVRFX0xFRlRfPTA7QmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUuU1BSSVRFX1RPUF89MzI7QmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUuSEFTX0JMT0NLU19MSURfQU5HTEVfPS4xO0Jsb2NrbHkuVHJhc2hjYW4uQU5JTUFUSU9OX0xFTkdUSF89ODA7QmxvY2tseS5UcmFzaGNhbi5BTklNQVRJT05fRlJBTUVTXz00O0Jsb2NrbHkuVHJhc2hjYW4uT1BBQ0lUWV9NSU5fPS40O1xuQmxvY2tseS5UcmFzaGNhbi5PUEFDSVRZX01BWF89Ljg7QmxvY2tseS5UcmFzaGNhbi5NQVhfTElEX0FOR0xFXz00NTtCbG9ja2x5LlRyYXNoY2FuLnByb3RvdHlwZS5pc09wZW49ITE7QmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUubWluT3Blbm5lc3NfPTA7QmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUuc3ZnR3JvdXBfPW51bGw7QmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUuc3ZnTGlkXz1udWxsO0Jsb2NrbHkuVHJhc2hjYW4ucHJvdG90eXBlLmxpZFRhc2tfPTA7QmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUubGlkT3Blbl89MDtCbG9ja2x5LlRyYXNoY2FuLnByb3RvdHlwZS5sZWZ0Xz0wO0Jsb2NrbHkuVHJhc2hjYW4ucHJvdG90eXBlLnRvcF89MDtcbkJsb2NrbHkuVHJhc2hjYW4ucHJvdG90eXBlLmNyZWF0ZURvbT1mdW5jdGlvbigpe3RoaXMuc3ZnR3JvdXBfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJnXCIse1wiY2xhc3NcIjpcImJsb2NrbHlUcmFzaFwifSxudWxsKTt2YXIgYT1TdHJpbmcoTWF0aC5yYW5kb20oKSkuc3Vic3RyaW5nKDIpO3ZhciBiPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJjbGlwUGF0aFwiLHtpZDpcImJsb2NrbHlUcmFzaEJvZHlDbGlwUGF0aFwiK2F9LHRoaXMuc3ZnR3JvdXBfKTtCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicmVjdFwiLHt3aWR0aDp0aGlzLldJRFRIXyxoZWlnaHQ6dGhpcy5CT0RZX0hFSUdIVF8seTp0aGlzLkxJRF9IRUlHSFRffSxiKTt2YXIgYz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiaW1hZ2VcIix7d2lkdGg6QmxvY2tseS5TUFJJVEUud2lkdGgseDotdGhpcy5TUFJJVEVfTEVGVF8saGVpZ2h0OkJsb2NrbHkuU1BSSVRFLmhlaWdodCxcbnk6LXRoaXMuU1BSSVRFX1RPUF8sXCJjbGlwLXBhdGhcIjpcInVybCgjYmxvY2tseVRyYXNoQm9keUNsaXBQYXRoXCIrYStcIilcIn0sdGhpcy5zdmdHcm91cF8pO2Muc2V0QXR0cmlidXRlTlMoQmxvY2tseS51dGlscy5kb20uWExJTktfTlMsXCJ4bGluazpocmVmXCIsdGhpcy53b3Jrc3BhY2VfLm9wdGlvbnMucGF0aFRvTWVkaWErQmxvY2tseS5TUFJJVEUudXJsKTtiPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJjbGlwUGF0aFwiLHtpZDpcImJsb2NrbHlUcmFzaExpZENsaXBQYXRoXCIrYX0sdGhpcy5zdmdHcm91cF8pO0Jsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJyZWN0XCIse3dpZHRoOnRoaXMuV0lEVEhfLGhlaWdodDp0aGlzLkxJRF9IRUlHSFRffSxiKTt0aGlzLnN2Z0xpZF89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImltYWdlXCIse3dpZHRoOkJsb2NrbHkuU1BSSVRFLndpZHRoLHg6LXRoaXMuU1BSSVRFX0xFRlRfLGhlaWdodDpCbG9ja2x5LlNQUklURS5oZWlnaHQsXG55Oi10aGlzLlNQUklURV9UT1BfLFwiY2xpcC1wYXRoXCI6XCJ1cmwoI2Jsb2NrbHlUcmFzaExpZENsaXBQYXRoXCIrYStcIilcIn0sdGhpcy5zdmdHcm91cF8pO3RoaXMuc3ZnTGlkXy5zZXRBdHRyaWJ1dGVOUyhCbG9ja2x5LnV0aWxzLmRvbS5YTElOS19OUyxcInhsaW5rOmhyZWZcIix0aGlzLndvcmtzcGFjZV8ub3B0aW9ucy5wYXRoVG9NZWRpYStCbG9ja2x5LlNQUklURS51cmwpO0Jsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18odGhpcy5zdmdHcm91cF8sXCJtb3VzZXVwXCIsdGhpcyx0aGlzLmNsaWNrKTtCbG9ja2x5LmJpbmRFdmVudF8oYyxcIm1vdXNlb3ZlclwiLHRoaXMsdGhpcy5tb3VzZU92ZXJfKTtCbG9ja2x5LmJpbmRFdmVudF8oYyxcIm1vdXNlb3V0XCIsdGhpcyx0aGlzLm1vdXNlT3V0Xyk7dGhpcy5hbmltYXRlTGlkXygpO3JldHVybiB0aGlzLnN2Z0dyb3VwX307XG5CbG9ja2x5LlRyYXNoY2FuLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEpezA8dGhpcy53b3Jrc3BhY2VfLm9wdGlvbnMubWF4VHJhc2hjYW5Db250ZW50cyYmKEJsb2NrbHkudXRpbHMuZG9tLmluc2VydEFmdGVyKHRoaXMuZmx5b3V0LmNyZWF0ZURvbShcInN2Z1wiKSx0aGlzLndvcmtzcGFjZV8uZ2V0UGFyZW50U3ZnKCkpLHRoaXMuZmx5b3V0LmluaXQodGhpcy53b3Jrc3BhY2VfKSk7dGhpcy52ZXJ0aWNhbFNwYWNpbmdfPXRoaXMuTUFSR0lOX0JPVFRPTV8rYTt0aGlzLnNldE9wZW4oITEpO3JldHVybiB0aGlzLnZlcnRpY2FsU3BhY2luZ18rdGhpcy5CT0RZX0hFSUdIVF8rdGhpcy5MSURfSEVJR0hUX307XG5CbG9ja2x5LlRyYXNoY2FuLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5zdmdHcm91cF8mJihCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVOb2RlKHRoaXMuc3ZnR3JvdXBfKSx0aGlzLnN2Z0dyb3VwXz1udWxsKTt0aGlzLndvcmtzcGFjZV89dGhpcy5zdmdMaWRfPW51bGw7Y2xlYXJUaW1lb3V0KHRoaXMubGlkVGFza18pfTtCbG9ja2x5LlRyYXNoY2FuLnByb3RvdHlwZS5jb250ZW50c0lzT3Blbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZseW91dC5pc1Zpc2libGUoKX07QmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUuZW1wdHlDb250ZW50cz1mdW5jdGlvbigpe3RoaXMuY29udGVudHNfLmxlbmd0aCYmKHRoaXMuY29udGVudHNfLmxlbmd0aD0wLHRoaXMuc2V0TWluT3Blbm5lc3NfKDApLHRoaXMuY29udGVudHNJc09wZW4oKSYmdGhpcy5mbHlvdXQuaGlkZSgpKX07XG5CbG9ja2x5LlRyYXNoY2FuLnByb3RvdHlwZS5wb3NpdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMudmVydGljYWxTcGFjaW5nXyl7dmFyIGE9dGhpcy53b3Jrc3BhY2VfLmdldE1ldHJpY3MoKTthJiYodGhpcy5sZWZ0Xz1hLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX0xFRlR8fHRoaXMud29ya3NwYWNlXy5ob3Jpem9udGFsTGF5b3V0JiYhdGhpcy53b3Jrc3BhY2VfLlJUTD9hLnZpZXdXaWR0aCthLmFic29sdXRlTGVmdC10aGlzLldJRFRIXy10aGlzLk1BUkdJTl9TSURFXy1CbG9ja2x5LlNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3M6dGhpcy5NQVJHSU5fU0lERV8rQmxvY2tseS5TY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzLHRoaXMudG9wXz1hLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX0JPVFRPTT90aGlzLnZlcnRpY2FsU3BhY2luZ186YS52aWV3SGVpZ2h0K2EuYWJzb2x1dGVUb3AtKHRoaXMuQk9EWV9IRUlHSFRfK3RoaXMuTElEX0hFSUdIVF8pLVxudGhpcy52ZXJ0aWNhbFNwYWNpbmdfLHRoaXMuc3ZnR3JvdXBfLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKFwiK3RoaXMubGVmdF8rXCIsXCIrdGhpcy50b3BfK1wiKVwiKSl9fTtCbG9ja2x5LlRyYXNoY2FuLnByb3RvdHlwZS5nZXRDbGllbnRSZWN0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuc3ZnR3JvdXBfKXJldHVybiBudWxsO3ZhciBhPXRoaXMuc3ZnR3JvdXBfLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGI9YS50b3ArdGhpcy5TUFJJVEVfVE9QXy10aGlzLk1BUkdJTl9IT1RTUE9UXzthPWEubGVmdCt0aGlzLlNQUklURV9MRUZUXy10aGlzLk1BUkdJTl9IT1RTUE9UXztyZXR1cm4gbmV3IEJsb2NrbHkudXRpbHMuUmVjdChiLGIrdGhpcy5MSURfSEVJR0hUXyt0aGlzLkJPRFlfSEVJR0hUXysyKnRoaXMuTUFSR0lOX0hPVFNQT1RfLGEsYSt0aGlzLldJRFRIXysyKnRoaXMuTUFSR0lOX0hPVFNQT1RfKX07XG5CbG9ja2x5LlRyYXNoY2FuLnByb3RvdHlwZS5zZXRPcGVuPWZ1bmN0aW9uKGEpe3RoaXMuaXNPcGVuIT1hJiYoY2xlYXJUaW1lb3V0KHRoaXMubGlkVGFza18pLHRoaXMuaXNPcGVuPWEsdGhpcy5hbmltYXRlTGlkXygpKX07XG5CbG9ja2x5LlRyYXNoY2FuLnByb3RvdHlwZS5hbmltYXRlTGlkXz1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkuVHJhc2hjYW4uQU5JTUFUSU9OX0ZSQU1FU18sYj0xLyhhKzEpO3RoaXMubGlkT3Blbl8rPXRoaXMuaXNPcGVuP2I6LWI7dGhpcy5saWRPcGVuXz1NYXRoLm1pbihNYXRoLm1heCh0aGlzLmxpZE9wZW5fLHRoaXMubWluT3Blbm5lc3NfKSwxKTt0aGlzLnNldExpZEFuZ2xlXyh0aGlzLmxpZE9wZW5fKkJsb2NrbHkuVHJhc2hjYW4uTUFYX0xJRF9BTkdMRV8pO2I9QmxvY2tseS5UcmFzaGNhbi5PUEFDSVRZX01JTl87dGhpcy5zdmdHcm91cF8uc3R5bGUub3BhY2l0eT1iK3RoaXMubGlkT3Blbl8qKEJsb2NrbHkuVHJhc2hjYW4uT1BBQ0lUWV9NQVhfLWIpO3RoaXMubGlkT3Blbl8+dGhpcy5taW5PcGVubmVzc18mJjE+dGhpcy5saWRPcGVuXyYmKHRoaXMubGlkVGFza189c2V0VGltZW91dCh0aGlzLmFuaW1hdGVMaWRfLmJpbmQodGhpcyksQmxvY2tseS5UcmFzaGNhbi5BTklNQVRJT05fTEVOR1RIXy9cbmEpKX07QmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUuc2V0TGlkQW5nbGVfPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMud29ya3NwYWNlXy50b29sYm94UG9zaXRpb249PUJsb2NrbHkuVE9PTEJPWF9BVF9SSUdIVHx8dGhpcy53b3Jrc3BhY2VfLmhvcml6b250YWxMYXlvdXQmJnRoaXMud29ya3NwYWNlXy5SVEw7dGhpcy5zdmdMaWRfLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwicm90YXRlKFwiKyhiPy1hOmEpK1wiLFwiKyhiPzQ6dGhpcy5XSURUSF8tNCkrXCIsXCIrKHRoaXMuTElEX0hFSUdIVF8tMikrXCIpXCIpfTtCbG9ja2x5LlRyYXNoY2FuLnByb3RvdHlwZS5zZXRNaW5PcGVubmVzc189ZnVuY3Rpb24oYSl7dGhpcy5taW5PcGVubmVzc189YTt0aGlzLmlzT3Blbnx8dGhpcy5zZXRMaWRBbmdsZV8oYSpCbG9ja2x5LlRyYXNoY2FuLk1BWF9MSURfQU5HTEVfKX07QmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLnNldE9wZW4oITEpfTtcbkJsb2NrbHkuVHJhc2hjYW4ucHJvdG90eXBlLmNsaWNrPWZ1bmN0aW9uKCl7aWYodGhpcy5jb250ZW50c18ubGVuZ3RoKXtmb3IodmFyIGE9W10sYj0wLGM7Yz10aGlzLmNvbnRlbnRzX1tiXTtiKyspYVtiXT1CbG9ja2x5LlhtbC50ZXh0VG9Eb20oYyk7dGhpcy5mbHlvdXQuc2hvdyhhKX19O0Jsb2NrbHkuVHJhc2hjYW4ucHJvdG90eXBlLm1vdXNlT3Zlcl89ZnVuY3Rpb24oKXt0aGlzLmNvbnRlbnRzXy5sZW5ndGgmJnRoaXMuc2V0T3BlbighMCl9O0Jsb2NrbHkuVHJhc2hjYW4ucHJvdG90eXBlLm1vdXNlT3V0Xz1mdW5jdGlvbigpe3RoaXMuc2V0T3BlbighMSl9O1xuQmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUub25EZWxldGVfPWZ1bmN0aW9uKGEpe2lmKCEoMD49dGhpcy53b3Jrc3BhY2VfLm9wdGlvbnMubWF4VHJhc2hjYW5Db250ZW50cykmJmEudHlwZT09QmxvY2tseS5FdmVudHMuQkxPQ0tfREVMRVRFJiZcInNoYWRvd1wiIT1hLm9sZFhtbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJihhPXRoaXMuY2xlYW5CbG9ja1hNTF8oYS5vbGRYbWwpLC0xPT10aGlzLmNvbnRlbnRzXy5pbmRleE9mKGEpKSl7Zm9yKHRoaXMuY29udGVudHNfLnVuc2hpZnQoYSk7dGhpcy5jb250ZW50c18ubGVuZ3RoPnRoaXMud29ya3NwYWNlXy5vcHRpb25zLm1heFRyYXNoY2FuQ29udGVudHM7KXRoaXMuY29udGVudHNfLnBvcCgpO3RoaXMuc2V0TWluT3Blbm5lc3NfKHRoaXMuSEFTX0JMT0NLU19MSURfQU5HTEVfKX19O1xuQmxvY2tseS5UcmFzaGNhbi5wcm90b3R5cGUuY2xlYW5CbG9ja1hNTF89ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWE9YS5jbG9uZU5vZGUoITApO2I7KXtiLnJlbW92ZUF0dHJpYnV0ZSYmKGIucmVtb3ZlQXR0cmlidXRlKFwieFwiKSxiLnJlbW92ZUF0dHJpYnV0ZShcInlcIiksYi5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKSxiLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpLFwiY29tbWVudFwiPT1iLm5vZGVOYW1lJiYoYi5yZW1vdmVBdHRyaWJ1dGUoXCJoXCIpLGIucmVtb3ZlQXR0cmlidXRlKFwid1wiKSxiLnJlbW92ZUF0dHJpYnV0ZShcInBpbm5lZFwiKSkpO3ZhciBjPWIuZmlyc3RDaGlsZHx8Yi5uZXh0U2libGluZztpZighYylmb3IoYz1iLnBhcmVudE5vZGU7Yzspe2lmKGMubmV4dFNpYmxpbmcpe2M9Yy5uZXh0U2libGluZzticmVha31jPWMucGFyZW50Tm9kZX1iPWN9cmV0dXJuIEJsb2NrbHkuWG1sLmRvbVRvVGV4dChhKX07QmxvY2tseS5WYXJpYWJsZXNEeW5hbWljPXt9O0Jsb2NrbHkuVmFyaWFibGVzRHluYW1pYy5vbkNyZWF0ZVZhcmlhYmxlQnV0dG9uQ2xpY2tfU3RyaW5nPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuVmFyaWFibGVzLmNyZWF0ZVZhcmlhYmxlQnV0dG9uSGFuZGxlcihhLmdldFRhcmdldFdvcmtzcGFjZSgpLHZvaWQgMCxcIlN0cmluZ1wiKX07QmxvY2tseS5WYXJpYWJsZXNEeW5hbWljLm9uQ3JlYXRlVmFyaWFibGVCdXR0b25DbGlja19OdW1iZXI9ZnVuY3Rpb24oYSl7QmxvY2tseS5WYXJpYWJsZXMuY3JlYXRlVmFyaWFibGVCdXR0b25IYW5kbGVyKGEuZ2V0VGFyZ2V0V29ya3NwYWNlKCksdm9pZCAwLFwiTnVtYmVyXCIpfTtCbG9ja2x5LlZhcmlhYmxlc0R5bmFtaWMub25DcmVhdGVWYXJpYWJsZUJ1dHRvbkNsaWNrX0NvbG91cj1mdW5jdGlvbihhKXtCbG9ja2x5LlZhcmlhYmxlcy5jcmVhdGVWYXJpYWJsZUJ1dHRvbkhhbmRsZXIoYS5nZXRUYXJnZXRXb3Jrc3BhY2UoKSx2b2lkIDAsXCJDb2xvdXJcIil9O1xuQmxvY2tseS5WYXJpYWJsZXNEeW5hbWljLmZseW91dENhdGVnb3J5PWZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtjLnNldEF0dHJpYnV0ZShcInRleHRcIixCbG9ja2x5Lk1zZy5ORVdfU1RSSU5HX1ZBUklBQkxFKTtjLnNldEF0dHJpYnV0ZShcImNhbGxiYWNrS2V5XCIsXCJDUkVBVEVfVkFSSUFCTEVfU1RSSU5HXCIpO2IucHVzaChjKTtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0ZXh0XCIsQmxvY2tseS5Nc2cuTkVXX05VTUJFUl9WQVJJQUJMRSk7Yy5zZXRBdHRyaWJ1dGUoXCJjYWxsYmFja0tleVwiLFwiQ1JFQVRFX1ZBUklBQkxFX05VTUJFUlwiKTtiLnB1c2goYyk7Yz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2Muc2V0QXR0cmlidXRlKFwidGV4dFwiLEJsb2NrbHkuTXNnLk5FV19DT0xPVVJfVkFSSUFCTEUpO2Muc2V0QXR0cmlidXRlKFwiY2FsbGJhY2tLZXlcIixcIkNSRUFURV9WQVJJQUJMRV9DT0xPVVJcIik7XG5iLnB1c2goYyk7YS5yZWdpc3RlckJ1dHRvbkNhbGxiYWNrKFwiQ1JFQVRFX1ZBUklBQkxFX1NUUklOR1wiLEJsb2NrbHkuVmFyaWFibGVzRHluYW1pYy5vbkNyZWF0ZVZhcmlhYmxlQnV0dG9uQ2xpY2tfU3RyaW5nKTthLnJlZ2lzdGVyQnV0dG9uQ2FsbGJhY2soXCJDUkVBVEVfVkFSSUFCTEVfTlVNQkVSXCIsQmxvY2tseS5WYXJpYWJsZXNEeW5hbWljLm9uQ3JlYXRlVmFyaWFibGVCdXR0b25DbGlja19OdW1iZXIpO2EucmVnaXN0ZXJCdXR0b25DYWxsYmFjayhcIkNSRUFURV9WQVJJQUJMRV9DT0xPVVJcIixCbG9ja2x5LlZhcmlhYmxlc0R5bmFtaWMub25DcmVhdGVWYXJpYWJsZUJ1dHRvbkNsaWNrX0NvbG91cik7YT1CbG9ja2x5LlZhcmlhYmxlc0R5bmFtaWMuZmx5b3V0Q2F0ZWdvcnlCbG9ja3MoYSk7cmV0dXJuIGI9Yi5jb25jYXQoYSl9O1xuQmxvY2tseS5WYXJpYWJsZXNEeW5hbWljLmZseW91dENhdGVnb3J5QmxvY2tzPWZ1bmN0aW9uKGEpe2E9YS5nZXRBbGxWYXJpYWJsZXMoKTt2YXIgYj1bXTtpZigwPGEubGVuZ3RoKXtpZihCbG9ja2x5LkJsb2Nrcy52YXJpYWJsZXNfc2V0X2R5bmFtaWMpe3ZhciBjPWFbYS5sZW5ndGgtMV0sZD1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiYmxvY2tcIik7ZC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ2YXJpYWJsZXNfc2V0X2R5bmFtaWNcIik7ZC5zZXRBdHRyaWJ1dGUoXCJnYXBcIiwyNCk7ZC5hcHBlbmRDaGlsZChCbG9ja2x5LlZhcmlhYmxlcy5nZW5lcmF0ZVZhcmlhYmxlRmllbGREb20oYykpO2IucHVzaChkKX1pZihCbG9ja2x5LkJsb2Nrcy52YXJpYWJsZXNfZ2V0X2R5bmFtaWMpe2Euc29ydChCbG9ja2x5LlZhcmlhYmxlTW9kZWwuY29tcGFyZUJ5TmFtZSk7Yz0wO2Zvcih2YXIgZTtlPWFbY107YysrKWQ9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcImJsb2NrXCIpLFxuZC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ2YXJpYWJsZXNfZ2V0X2R5bmFtaWNcIiksZC5zZXRBdHRyaWJ1dGUoXCJnYXBcIiw4KSxkLmFwcGVuZENoaWxkKEJsb2NrbHkuVmFyaWFibGVzLmdlbmVyYXRlVmFyaWFibGVGaWVsZERvbShlKSksYi5wdXNoKGQpfX1yZXR1cm4gYn07QmxvY2tseS5ab29tQ29udHJvbHM9ZnVuY3Rpb24oYSl7dGhpcy53b3Jrc3BhY2VfPWF9O0Jsb2NrbHkuWm9vbUNvbnRyb2xzLnByb3RvdHlwZS5XSURUSF89MzI7QmxvY2tseS5ab29tQ29udHJvbHMucHJvdG90eXBlLkhFSUdIVF89MTEwO0Jsb2NrbHkuWm9vbUNvbnRyb2xzLnByb3RvdHlwZS5NQVJHSU5fQk9UVE9NXz0yMDtCbG9ja2x5Llpvb21Db250cm9scy5wcm90b3R5cGUuTUFSR0lOX1NJREVfPTIwO0Jsb2NrbHkuWm9vbUNvbnRyb2xzLnByb3RvdHlwZS5zdmdHcm91cF89bnVsbDtCbG9ja2x5Llpvb21Db250cm9scy5wcm90b3R5cGUubGVmdF89MDtCbG9ja2x5Llpvb21Db250cm9scy5wcm90b3R5cGUudG9wXz0wO1xuQmxvY2tseS5ab29tQ29udHJvbHMucHJvdG90eXBlLmNyZWF0ZURvbT1mdW5jdGlvbigpe3RoaXMuc3ZnR3JvdXBfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJnXCIse30sbnVsbCk7dmFyIGE9U3RyaW5nKE1hdGgucmFuZG9tKCkpLnN1YnN0cmluZygyKTt0aGlzLmNyZWF0ZVpvb21PdXRTdmdfKGEpO3RoaXMuY3JlYXRlWm9vbUluU3ZnXyhhKTt0aGlzLndvcmtzcGFjZV8uaXNNb3ZhYmxlKCkmJnRoaXMuY3JlYXRlWm9vbVJlc2V0U3ZnXyhhKTtyZXR1cm4gdGhpcy5zdmdHcm91cF99O0Jsb2NrbHkuWm9vbUNvbnRyb2xzLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEpe3RoaXMudmVydGljYWxTcGFjaW5nXz10aGlzLk1BUkdJTl9CT1RUT01fK2E7cmV0dXJuIHRoaXMudmVydGljYWxTcGFjaW5nXyt0aGlzLkhFSUdIVF99O0Jsb2NrbHkuWm9vbUNvbnRyb2xzLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5zdmdHcm91cF8mJkJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZU5vZGUodGhpcy5zdmdHcm91cF8pfTtcbkJsb2NrbHkuWm9vbUNvbnRyb2xzLnByb3RvdHlwZS5wb3NpdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMudmVydGljYWxTcGFjaW5nXyl7dmFyIGE9dGhpcy53b3Jrc3BhY2VfLmdldE1ldHJpY3MoKTthJiYodGhpcy5sZWZ0Xz1hLnRvb2xib3hQb3NpdGlvbj09QmxvY2tseS5UT09MQk9YX0FUX0xFRlR8fHRoaXMud29ya3NwYWNlXy5ob3Jpem9udGFsTGF5b3V0JiYhdGhpcy53b3Jrc3BhY2VfLlJUTD9hLnZpZXdXaWR0aCthLmFic29sdXRlTGVmdC10aGlzLldJRFRIXy10aGlzLk1BUkdJTl9TSURFXy1CbG9ja2x5LlNjcm9sbGJhci5zY3JvbGxiYXJUaGlja25lc3M6dGhpcy5NQVJHSU5fU0lERV8rQmxvY2tseS5TY3JvbGxiYXIuc2Nyb2xsYmFyVGhpY2tuZXNzLGEudG9vbGJveFBvc2l0aW9uPT1CbG9ja2x5LlRPT0xCT1hfQVRfQk9UVE9NPyh0aGlzLnRvcF89dGhpcy52ZXJ0aWNhbFNwYWNpbmdfLHRoaXMuem9vbUluR3JvdXBfLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKDAsIDM0KVwiKSxcbnRoaXMuem9vbVJlc2V0R3JvdXBfJiZ0aGlzLnpvb21SZXNldEdyb3VwXy5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZSgwLCA3NylcIikpOih0aGlzLnRvcF89YS52aWV3SGVpZ2h0K2EuYWJzb2x1dGVUb3AtdGhpcy5IRUlHSFRfLXRoaXMudmVydGljYWxTcGFjaW5nXyx0aGlzLnpvb21Jbkdyb3VwXy5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZSgwLCA0MylcIiksdGhpcy56b29tT3V0R3JvdXBfLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKDAsIDc3KVwiKSksdGhpcy5zdmdHcm91cF8uc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoXCIrdGhpcy5sZWZ0XytcIixcIit0aGlzLnRvcF8rXCIpXCIpKX19O1xuQmxvY2tseS5ab29tQ29udHJvbHMucHJvdG90eXBlLmNyZWF0ZVpvb21PdXRTdmdfPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMud29ya3NwYWNlXzt0aGlzLnpvb21PdXRHcm91cF89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImdcIix7XCJjbGFzc1wiOlwiYmxvY2tseVpvb21cIn0sdGhpcy5zdmdHcm91cF8pO3ZhciBjPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJjbGlwUGF0aFwiLHtpZDpcImJsb2NrbHlab29tb3V0Q2xpcFBhdGhcIithfSx0aGlzLnpvb21PdXRHcm91cF8pO0Jsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJyZWN0XCIse3dpZHRoOjMyLGhlaWdodDozMn0sYyk7YT1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiaW1hZ2VcIix7d2lkdGg6QmxvY2tseS5TUFJJVEUud2lkdGgsaGVpZ2h0OkJsb2NrbHkuU1BSSVRFLmhlaWdodCx4Oi02NCx5Oi05MixcImNsaXAtcGF0aFwiOlwidXJsKCNibG9ja2x5Wm9vbW91dENsaXBQYXRoXCIrXG5hK1wiKVwifSx0aGlzLnpvb21PdXRHcm91cF8pO2Euc2V0QXR0cmlidXRlTlMoQmxvY2tseS51dGlscy5kb20uWExJTktfTlMsXCJ4bGluazpocmVmXCIsYi5vcHRpb25zLnBhdGhUb01lZGlhK0Jsb2NrbHkuU1BSSVRFLnVybCk7QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhhLFwibW91c2Vkb3duXCIsbnVsbCxmdW5jdGlvbihhKXtiLm1hcmtGb2N1c2VkKCk7Yi56b29tQ2VudGVyKC0xKTtCbG9ja2x5LlRvdWNoLmNsZWFyVG91Y2hJZGVudGlmaWVyKCk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KX07XG5CbG9ja2x5Llpvb21Db250cm9scy5wcm90b3R5cGUuY3JlYXRlWm9vbUluU3ZnXz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLndvcmtzcGFjZV87dGhpcy56b29tSW5Hcm91cF89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImdcIix7XCJjbGFzc1wiOlwiYmxvY2tseVpvb21cIn0sdGhpcy5zdmdHcm91cF8pO3ZhciBjPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJjbGlwUGF0aFwiLHtpZDpcImJsb2NrbHlab29taW5DbGlwUGF0aFwiK2F9LHRoaXMuem9vbUluR3JvdXBfKTtCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicmVjdFwiLHt3aWR0aDozMixoZWlnaHQ6MzJ9LGMpO2E9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImltYWdlXCIse3dpZHRoOkJsb2NrbHkuU1BSSVRFLndpZHRoLGhlaWdodDpCbG9ja2x5LlNQUklURS5oZWlnaHQseDotMzIseTotOTIsXCJjbGlwLXBhdGhcIjpcInVybCgjYmxvY2tseVpvb21pbkNsaXBQYXRoXCIrXG5hK1wiKVwifSx0aGlzLnpvb21Jbkdyb3VwXyk7YS5zZXRBdHRyaWJ1dGVOUyhCbG9ja2x5LnV0aWxzLmRvbS5YTElOS19OUyxcInhsaW5rOmhyZWZcIixiLm9wdGlvbnMucGF0aFRvTWVkaWErQmxvY2tseS5TUFJJVEUudXJsKTtCbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGEsXCJtb3VzZWRvd25cIixudWxsLGZ1bmN0aW9uKGEpe2IubWFya0ZvY3VzZWQoKTtiLnpvb21DZW50ZXIoMSk7QmxvY2tseS5Ub3VjaC5jbGVhclRvdWNoSWRlbnRpZmllcigpO2Euc3RvcFByb3BhZ2F0aW9uKCk7YS5wcmV2ZW50RGVmYXVsdCgpfSl9O1xuQmxvY2tseS5ab29tQ29udHJvbHMucHJvdG90eXBlLmNyZWF0ZVpvb21SZXNldFN2Z189ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy53b3Jrc3BhY2VfO3RoaXMuem9vbVJlc2V0R3JvdXBfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJnXCIse1wiY2xhc3NcIjpcImJsb2NrbHlab29tXCJ9LHRoaXMuc3ZnR3JvdXBfKTt2YXIgYz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiY2xpcFBhdGhcIix7aWQ6XCJibG9ja2x5Wm9vbXJlc2V0Q2xpcFBhdGhcIithfSx0aGlzLnpvb21SZXNldEdyb3VwXyk7QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInJlY3RcIix7d2lkdGg6MzIsaGVpZ2h0OjMyfSxjKTthPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJpbWFnZVwiLHt3aWR0aDpCbG9ja2x5LlNQUklURS53aWR0aCxoZWlnaHQ6QmxvY2tseS5TUFJJVEUuaGVpZ2h0LHk6LTkyLFwiY2xpcC1wYXRoXCI6XCJ1cmwoI2Jsb2NrbHlab29tcmVzZXRDbGlwUGF0aFwiK1xuYStcIilcIn0sdGhpcy56b29tUmVzZXRHcm91cF8pO2Euc2V0QXR0cmlidXRlTlMoQmxvY2tseS51dGlscy5kb20uWExJTktfTlMsXCJ4bGluazpocmVmXCIsYi5vcHRpb25zLnBhdGhUb01lZGlhK0Jsb2NrbHkuU1BSSVRFLnVybCk7QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhhLFwibW91c2Vkb3duXCIsbnVsbCxmdW5jdGlvbihhKXtiLm1hcmtGb2N1c2VkKCk7Yi5zZXRTY2FsZShiLm9wdGlvbnMuem9vbU9wdGlvbnMuc3RhcnRTY2FsZSk7Yi5iZWdpbkNhbnZhc1RyYW5zaXRpb24oKTtiLnNjcm9sbENlbnRlcigpO3NldFRpbWVvdXQoYi5lbmRDYW52YXNUcmFuc2l0aW9uLmJpbmQoYiksNTAwKTtCbG9ja2x5LlRvdWNoLmNsZWFyVG91Y2hJZGVudGlmaWVyKCk7YS5zdG9wUHJvcGFnYXRpb24oKTthLnByZXZlbnREZWZhdWx0KCl9KX07XG5CbG9ja2x5LkNzcy5yZWdpc3RlcihbXCIuYmxvY2tseVpvb20+aW1hZ2UsIC5ibG9ja2x5Wm9vbT5zdmc+aW1hZ2Uge1wiLFwib3BhY2l0eTogLjQ7XCIsXCJ9XCIsXCIuYmxvY2tseVpvb20+aW1hZ2U6aG92ZXIsIC5ibG9ja2x5Wm9vbT5zdmc+aW1hZ2U6aG92ZXIge1wiLFwib3BhY2l0eTogLjY7XCIsXCJ9XCIsXCIuYmxvY2tseVpvb20+aW1hZ2U6YWN0aXZlLCAuYmxvY2tseVpvb20+c3ZnPmltYWdlOmFjdGl2ZSB7XCIsXCJvcGFjaXR5OiAuODtcIixcIn1cIl0pO0Jsb2NrbHkuTXV0YXRvcj1mdW5jdGlvbihhKXtCbG9ja2x5Lk11dGF0b3Iuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLG51bGwpO3RoaXMucXVhcmtOYW1lc189YX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5NdXRhdG9yLEJsb2NrbHkuSWNvbik7QmxvY2tseS5NdXRhdG9yLnByb3RvdHlwZS53b3Jrc3BhY2VXaWR0aF89MDtCbG9ja2x5Lk11dGF0b3IucHJvdG90eXBlLndvcmtzcGFjZUhlaWdodF89MDtCbG9ja2x5Lk11dGF0b3IucHJvdG90eXBlLnNldEJsb2NrPWZ1bmN0aW9uKGEpe3RoaXMuYmxvY2tfPWF9O0Jsb2NrbHkuTXV0YXRvci5wcm90b3R5cGUuZ2V0V29ya3NwYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud29ya3NwYWNlX307XG5CbG9ja2x5Lk11dGF0b3IucHJvdG90eXBlLmRyYXdJY29uXz1mdW5jdGlvbihhKXtCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicmVjdFwiLHtcImNsYXNzXCI6XCJibG9ja2x5SWNvblNoYXBlXCIscng6XCI0XCIscnk6XCI0XCIsaGVpZ2h0OlwiMTZcIix3aWR0aDpcIjE2XCJ9LGEpO0Jsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJwYXRoXCIse1wiY2xhc3NcIjpcImJsb2NrbHlJY29uU3ltYm9sXCIsZDpcIm00LjIwMyw3LjI5NiAwLDEuMzY4IC0wLjkyLDAuNjc3IC0wLjExLDAuNDEgMC45LDEuNTU5IDAuNDEsMC4xMSAxLjA0MywtMC40NTcgMS4xODcsMC42ODMgMC4xMjcsMS4xMzQgMC4zLDAuMyAxLjgsMCAwLjMsLTAuMjk5IDAuMTI3LC0xLjEzOCAxLjE4NSwtMC42ODIgMS4wNDYsMC40NTggMC40MDksLTAuMTEgMC45LC0xLjU1OSAtMC4xMSwtMC40MSAtMC45MiwtMC42NzcgMCwtMS4zNjYgMC45MiwtMC42NzcgMC4xMSwtMC40MSAtMC45LC0xLjU1OSAtMC40MDksLTAuMTA5IC0xLjA0NiwwLjQ1OCAtMS4xODUsLTAuNjgyIC0wLjEyNywtMS4xMzggLTAuMywtMC4yOTkgLTEuOCwwIC0wLjMsMC4zIC0wLjEyNiwxLjEzNSAtMS4xODcsMC42ODIgLTEuMDQzLC0wLjQ1NyAtMC40MSwwLjExIC0wLjg5OSwxLjU1OSAwLjEwOCwwLjQwOXpcIn0sXG5hKTtCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiY2lyY2xlXCIse1wiY2xhc3NcIjpcImJsb2NrbHlJY29uU2hhcGVcIixyOlwiMi43XCIsY3g6XCI4XCIsY3k6XCI4XCJ9LGEpfTtCbG9ja2x5Lk11dGF0b3IucHJvdG90eXBlLmljb25DbGlja189ZnVuY3Rpb24oYSl7dGhpcy5ibG9ja18uaXNFZGl0YWJsZSgpJiZCbG9ja2x5Lkljb24ucHJvdG90eXBlLmljb25DbGlja18uY2FsbCh0aGlzLGEpfTtcbkJsb2NrbHkuTXV0YXRvci5wcm90b3R5cGUuY3JlYXRlRWRpdG9yXz1mdW5jdGlvbigpe3RoaXMuc3ZnRGlhbG9nXz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwic3ZnXCIse3g6QmxvY2tseS5CdWJibGUuQk9SREVSX1dJRFRILHk6QmxvY2tseS5CdWJibGUuQk9SREVSX1dJRFRIfSxudWxsKTtpZih0aGlzLnF1YXJrTmFtZXNfLmxlbmd0aClmb3IodmFyIGE9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcInhtbFwiKSxiPTAsYztjPXRoaXMucXVhcmtOYW1lc19bYl07YisrKXt2YXIgZD1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiYmxvY2tcIik7ZC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsYyk7YS5hcHBlbmRDaGlsZChkKX1lbHNlIGE9bnVsbDtiPW5ldyBCbG9ja2x5Lk9wdGlvbnMoe2Rpc2FibGU6ITEscGFyZW50V29ya3NwYWNlOnRoaXMuYmxvY2tfLndvcmtzcGFjZSxtZWRpYTp0aGlzLmJsb2NrXy53b3Jrc3BhY2Uub3B0aW9ucy5wYXRoVG9NZWRpYSxcbnJ0bDp0aGlzLmJsb2NrXy5SVEwsaG9yaXpvbnRhbExheW91dDohMSxyZW5kZXJlcjp0aGlzLmJsb2NrXy53b3Jrc3BhY2Uub3B0aW9ucy5yZW5kZXJlcixyZW5kZXJlck92ZXJyaWRlczp0aGlzLmJsb2NrXy53b3Jrc3BhY2Uub3B0aW9ucy5yZW5kZXJlck92ZXJyaWRlc30pO2IudG9vbGJveFBvc2l0aW9uPXRoaXMuYmxvY2tfLlJUTD9CbG9ja2x5LlRPT0xCT1hfQVRfUklHSFQ6QmxvY2tseS5UT09MQk9YX0FUX0xFRlQ7Yi5sYW5ndWFnZVRyZWU9YTtiLmdldE1ldHJpY3M9dGhpcy5nZXRGbHlvdXRNZXRyaWNzXy5iaW5kKHRoaXMpO3RoaXMud29ya3NwYWNlXz1uZXcgQmxvY2tseS5Xb3Jrc3BhY2VTdmcoYik7dGhpcy53b3Jrc3BhY2VfLmlzTXV0YXRvcj0hMDt0aGlzLndvcmtzcGFjZV8uYWRkQ2hhbmdlTGlzdGVuZXIoQmxvY2tseS5FdmVudHMuZGlzYWJsZU9ycGhhbnMpO2E9dGhpcy53b3Jrc3BhY2VfLmFkZEZseW91dChcImdcIik7Yj10aGlzLndvcmtzcGFjZV8uY3JlYXRlRG9tKFwiYmxvY2tseU11dGF0b3JCYWNrZ3JvdW5kXCIpO1xuYi5pbnNlcnRCZWZvcmUoYSx0aGlzLndvcmtzcGFjZV8uc3ZnQmxvY2tDYW52YXNfKTt0aGlzLnN2Z0RpYWxvZ18uYXBwZW5kQ2hpbGQoYik7cmV0dXJuIHRoaXMuc3ZnRGlhbG9nX307QmxvY2tseS5NdXRhdG9yLnByb3RvdHlwZS51cGRhdGVFZGl0YWJsZT1mdW5jdGlvbigpe0Jsb2NrbHkuTXV0YXRvci5zdXBlckNsYXNzXy51cGRhdGVFZGl0YWJsZS5jYWxsKHRoaXMpO3RoaXMuYmxvY2tfLmlzSW5GbHlvdXR8fCh0aGlzLmJsb2NrXy5pc0VkaXRhYmxlKCk/dGhpcy5pY29uR3JvdXBfJiZCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyh0aGlzLmljb25Hcm91cF8sXCJibG9ja2x5SWNvbkdyb3VwUmVhZG9ubHlcIik6KHRoaXMuc2V0VmlzaWJsZSghMSksdGhpcy5pY29uR3JvdXBfJiZCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyh0aGlzLmljb25Hcm91cF8sXCJibG9ja2x5SWNvbkdyb3VwUmVhZG9ubHlcIikpKX07XG5CbG9ja2x5Lk11dGF0b3IucHJvdG90eXBlLnJlc2l6ZUJ1YmJsZV89ZnVuY3Rpb24oKXt2YXIgYT0yKkJsb2NrbHkuQnViYmxlLkJPUkRFUl9XSURUSCxiPXRoaXMud29ya3NwYWNlXy5nZXRDYW52YXMoKS5nZXRCQm94KCk7dmFyIGM9dGhpcy5ibG9ja18uUlRMPy1iLng6Yi53aWR0aCtiLng7Yj1iLmhlaWdodCszKmE7dmFyIGQ9dGhpcy53b3Jrc3BhY2VfLmdldEZseW91dCgpO2QmJihkPWQuZ2V0TWV0cmljc18oKSxiPU1hdGgubWF4KGIsZC5jb250ZW50SGVpZ2h0KzIwKSk7Yys9MyphO2lmKE1hdGguYWJzKHRoaXMud29ya3NwYWNlV2lkdGhfLWMpPmF8fE1hdGguYWJzKHRoaXMud29ya3NwYWNlSGVpZ2h0Xy1iKT5hKXRoaXMud29ya3NwYWNlV2lkdGhfPWMsdGhpcy53b3Jrc3BhY2VIZWlnaHRfPWIsdGhpcy5idWJibGVfLnNldEJ1YmJsZVNpemUoYythLGIrYSksdGhpcy5zdmdEaWFsb2dfLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdGhpcy53b3Jrc3BhY2VXaWR0aF8pLHRoaXMuc3ZnRGlhbG9nXy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixcbnRoaXMud29ya3NwYWNlSGVpZ2h0Xyk7dGhpcy5ibG9ja18uUlRMJiYoYT1cInRyYW5zbGF0ZShcIit0aGlzLndvcmtzcGFjZVdpZHRoXytcIiwwKVwiLHRoaXMud29ya3NwYWNlXy5nZXRDYW52YXMoKS5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixhKSk7dGhpcy53b3Jrc3BhY2VfLnJlc2l6ZSgpfTtCbG9ja2x5Lk11dGF0b3IucHJvdG90eXBlLm9uQnViYmxlTW92ZV89ZnVuY3Rpb24oKXt0aGlzLndvcmtzcGFjZV8mJnRoaXMud29ya3NwYWNlXy5yZWNvcmREZWxldGVBcmVhcygpfTtcbkJsb2NrbHkuTXV0YXRvci5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbihhKXtpZihhIT10aGlzLmlzVmlzaWJsZSgpKWlmKEJsb2NrbHkuRXZlbnRzLmZpcmUobmV3IEJsb2NrbHkuRXZlbnRzLlVpKHRoaXMuYmxvY2tfLFwibXV0YXRvck9wZW5cIiwhYSxhKSksYSl7dGhpcy5idWJibGVfPW5ldyBCbG9ja2x5LkJ1YmJsZSh0aGlzLmJsb2NrXy53b3Jrc3BhY2UsdGhpcy5jcmVhdGVFZGl0b3JfKCksdGhpcy5ibG9ja18ucGF0aE9iamVjdC5zdmdQYXRoLHRoaXMuaWNvblhZXyxudWxsLG51bGwpO3RoaXMuYnViYmxlXy5zZXRTdmdJZCh0aGlzLmJsb2NrXy5pZCk7dGhpcy5idWJibGVfLnJlZ2lzdGVyTW92ZUV2ZW50KHRoaXMub25CdWJibGVNb3ZlXy5iaW5kKHRoaXMpKTt2YXIgYj10aGlzLndvcmtzcGFjZV8ub3B0aW9ucy5sYW5ndWFnZVRyZWU7YT10aGlzLndvcmtzcGFjZV8uZ2V0Rmx5b3V0KCk7YiYmKGEuaW5pdCh0aGlzLndvcmtzcGFjZV8pLGEuc2hvdyhiLmNoaWxkTm9kZXMpKTtcbnRoaXMucm9vdEJsb2NrXz10aGlzLmJsb2NrXy5kZWNvbXBvc2UodGhpcy53b3Jrc3BhY2VfKTtiPXRoaXMucm9vdEJsb2NrXy5nZXREZXNjZW5kYW50cyghMSk7Zm9yKHZhciBjPTAsZDtkPWJbY107YysrKWQucmVuZGVyKCk7dGhpcy5yb290QmxvY2tfLnNldE1vdmFibGUoITEpO3RoaXMucm9vdEJsb2NrXy5zZXREZWxldGFibGUoITEpO2E/KGI9MiphLkNPUk5FUl9SQURJVVMsYT1hLmdldFdpZHRoKCkrYik6YT1iPTE2O3RoaXMuYmxvY2tfLlJUTCYmKGE9LWEpO3RoaXMucm9vdEJsb2NrXy5tb3ZlQnkoYSxiKTtpZih0aGlzLmJsb2NrXy5zYXZlQ29ubmVjdGlvbnMpe3ZhciBlPXRoaXMsZj10aGlzLmJsb2NrXztmLnNhdmVDb25uZWN0aW9ucyh0aGlzLnJvb3RCbG9ja18pO3RoaXMuc291cmNlTGlzdGVuZXJfPWZ1bmN0aW9uKCl7Zi5zYXZlQ29ubmVjdGlvbnMoZS5yb290QmxvY2tfKX07dGhpcy5ibG9ja18ud29ya3NwYWNlLmFkZENoYW5nZUxpc3RlbmVyKHRoaXMuc291cmNlTGlzdGVuZXJfKX10aGlzLnJlc2l6ZUJ1YmJsZV8oKTtcbnRoaXMud29ya3NwYWNlXy5hZGRDaGFuZ2VMaXN0ZW5lcih0aGlzLndvcmtzcGFjZUNoYW5nZWRfLmJpbmQodGhpcykpO3RoaXMuYXBwbHlDb2xvdXIoKX1lbHNlIHRoaXMuc3ZnRGlhbG9nXz1udWxsLHRoaXMud29ya3NwYWNlXy5kaXNwb3NlKCksdGhpcy5yb290QmxvY2tfPXRoaXMud29ya3NwYWNlXz1udWxsLHRoaXMuYnViYmxlXy5kaXNwb3NlKCksdGhpcy5idWJibGVfPW51bGwsdGhpcy53b3Jrc3BhY2VIZWlnaHRfPXRoaXMud29ya3NwYWNlV2lkdGhfPTAsdGhpcy5zb3VyY2VMaXN0ZW5lcl8mJih0aGlzLmJsb2NrXy53b3Jrc3BhY2UucmVtb3ZlQ2hhbmdlTGlzdGVuZXIodGhpcy5zb3VyY2VMaXN0ZW5lcl8pLHRoaXMuc291cmNlTGlzdGVuZXJfPW51bGwpfTtcbkJsb2NrbHkuTXV0YXRvci5wcm90b3R5cGUud29ya3NwYWNlQ2hhbmdlZF89ZnVuY3Rpb24oYSl7aWYoYS50eXBlIT1CbG9ja2x5LkV2ZW50cy5VSSYmKGEudHlwZSE9QmxvY2tseS5FdmVudHMuQ0hBTkdFfHxcImRpc2FibGVkXCIhPWEuZWxlbWVudCkpe2lmKCF0aGlzLndvcmtzcGFjZV8uaXNEcmFnZ2luZygpKXthPXRoaXMud29ya3NwYWNlXy5nZXRUb3BCbG9ja3MoITEpO2Zvcih2YXIgYj0wLGM7Yz1hW2JdO2IrKyl7dmFyIGQ9Yy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCksZT1jLmdldEhlaWdodFdpZHRoKCk7MjA+ZC55K2UuaGVpZ2h0JiZjLm1vdmVCeSgwLDIwLWUuaGVpZ2h0LWQueSl9fWlmKHRoaXMucm9vdEJsb2NrXy53b3Jrc3BhY2U9PXRoaXMud29ya3NwYWNlXyl7QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITApO2M9dGhpcy5ibG9ja187YT0oYT1jLm11dGF0aW9uVG9Eb20oKSkmJkJsb2NrbHkuWG1sLmRvbVRvVGV4dChhKTtjLmNvbXBvc2UodGhpcy5yb290QmxvY2tfKTtcbmMuaW5pdFN2ZygpO2MucmVuZGVyKCk7QmxvY2tseS5nZXRNYWluV29ya3NwYWNlKCkua2V5Ym9hcmRBY2Nlc3NpYmlsaXR5TW9kZSYmQmxvY2tseS5uYXZpZ2F0aW9uLm1vdmVDdXJzb3JPbkJsb2NrTXV0YXRpb24oYyk7Yj0oYj1jLm11dGF0aW9uVG9Eb20oKSkmJkJsb2NrbHkuWG1sLmRvbVRvVGV4dChiKTtpZihhIT1iKXtCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5CbG9ja0NoYW5nZShjLFwibXV0YXRpb25cIixudWxsLGEsYikpO3ZhciBmPUJsb2NrbHkuRXZlbnRzLmdldEdyb3VwKCk7c2V0VGltZW91dChmdW5jdGlvbigpe0Jsb2NrbHkuRXZlbnRzLnNldEdyb3VwKGYpO2MuYnVtcE5laWdoYm91cnMoKTtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSl9LEJsb2NrbHkuQlVNUF9ERUxBWSl9dGhpcy53b3Jrc3BhY2VfLmlzRHJhZ2dpbmcoKXx8dGhpcy5yZXNpemVCdWJibGVfKCk7QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITEpfX19O1xuQmxvY2tseS5NdXRhdG9yLnByb3RvdHlwZS5nZXRGbHlvdXRNZXRyaWNzXz1mdW5jdGlvbigpe3JldHVybnt2aWV3SGVpZ2h0OnRoaXMud29ya3NwYWNlSGVpZ2h0Xyx2aWV3V2lkdGg6dGhpcy53b3Jrc3BhY2VXaWR0aF8tdGhpcy53b3Jrc3BhY2VfLmdldEZseW91dCgpLmdldFdpZHRoKCksYWJzb2x1dGVUb3A6MCxhYnNvbHV0ZUxlZnQ6dGhpcy53b3Jrc3BhY2VfLlJUTD8wOnRoaXMud29ya3NwYWNlXy5nZXRGbHlvdXQoKS5nZXRXaWR0aCgpfX07QmxvY2tseS5NdXRhdG9yLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5ibG9ja18ubXV0YXRvcj1udWxsO0Jsb2NrbHkuSWNvbi5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfTtcbkJsb2NrbHkuTXV0YXRvci5wcm90b3R5cGUudXBkYXRlQmxvY2tTdHlsZT1mdW5jdGlvbigpe3ZhciBhPXRoaXMud29ya3NwYWNlXztpZihhJiZhLmdldEFsbEJsb2NrcyghMSkpe2Zvcih2YXIgYj1hLmdldEFsbEJsb2NrcyghMSksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2Quc2V0U3R5bGUoZC5nZXRTdHlsZU5hbWUoKSl9YT1hLmdldEZseW91dCgpLndvcmtzcGFjZV8uZ2V0QWxsQmxvY2tzKCExKTtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWQ9YVtjXSxkLnNldFN0eWxlKGQuZ2V0U3R5bGVOYW1lKCkpfX07XG5CbG9ja2x5Lk11dGF0b3IucmVjb25uZWN0PWZ1bmN0aW9uKGEsYixjKXtpZighYXx8IWEuZ2V0U291cmNlQmxvY2soKS53b3Jrc3BhY2UpcmV0dXJuITE7Yz1iLmdldElucHV0KGMpLmNvbm5lY3Rpb247dmFyIGQ9YS50YXJnZXRCbG9jaygpO3JldHVybiBkJiZkIT1ifHxjLnRhcmdldENvbm5lY3Rpb249PWE/ITE6KGMuaXNDb25uZWN0ZWQoKSYmYy5kaXNjb25uZWN0KCksYy5jb25uZWN0KGEpLCEwKX07QmxvY2tseS5NdXRhdG9yLmZpbmRQYXJlbnRXcz1mdW5jdGlvbihhKXt2YXIgYj1udWxsO2lmKGEmJmEub3B0aW9ucyl7dmFyIGM9YS5vcHRpb25zLnBhcmVudFdvcmtzcGFjZTthLmlzRmx5b3V0P2MmJmMub3B0aW9ucyYmKGI9Yy5vcHRpb25zLnBhcmVudFdvcmtzcGFjZSk6YyYmKGI9Yyl9cmV0dXJuIGJ9O0Jsb2NrbHkuRmllbGRUZXh0SW5wdXQ9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuc3BlbGxjaGVja189ITA7bnVsbD09YSYmKGE9XCJcIik7QmxvY2tseS5GaWVsZFRleHRJbnB1dC5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSxiLGMpO3RoaXMub25LZXlJbnB1dFdyYXBwZXJfPXRoaXMub25LZXlEb3duV3JhcHBlcl89dGhpcy5odG1sSW5wdXRfPW51bGw7dGhpcy5mdWxsQmxvY2tDbGlja1RhcmdldF89ITF9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuRmllbGRUZXh0SW5wdXQsQmxvY2tseS5GaWVsZCk7QmxvY2tseS5GaWVsZFRleHRJbnB1dC5mcm9tSnNvbj1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LnV0aWxzLnJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyhhLnRleHQpO3JldHVybiBuZXcgQmxvY2tseS5GaWVsZFRleHRJbnB1dChiLHZvaWQgMCxhKX07QmxvY2tseS5GaWVsZFRleHRJbnB1dC5wcm90b3R5cGUuU0VSSUFMSVpBQkxFPSEwO1xuQmxvY2tseS5GaWVsZFRleHRJbnB1dC5CT1JERVJSQURJVVM9NDtCbG9ja2x5LkZpZWxkVGV4dElucHV0LnByb3RvdHlwZS5DVVJTT1I9XCJ0ZXh0XCI7QmxvY2tseS5GaWVsZFRleHRJbnB1dC5wcm90b3R5cGUuY29uZmlndXJlXz1mdW5jdGlvbihhKXtCbG9ja2x5LkZpZWxkVGV4dElucHV0LnN1cGVyQ2xhc3NfLmNvbmZpZ3VyZV8uY2FsbCh0aGlzLGEpO1wiYm9vbGVhblwiPT10eXBlb2YgYS5zcGVsbGNoZWNrJiYodGhpcy5zcGVsbGNoZWNrXz1hLnNwZWxsY2hlY2spfTtcbkJsb2NrbHkuRmllbGRUZXh0SW5wdXQucHJvdG90eXBlLmluaXRWaWV3PWZ1bmN0aW9uKCl7aWYodGhpcy5nZXRDb25zdGFudHMoKS5GVUxMX0JMT0NLX0ZJRUxEUyl7Zm9yKHZhciBhPTAsYj0wLGM9MCxkO2Q9dGhpcy5zb3VyY2VCbG9ja18uaW5wdXRMaXN0W2NdO2MrKyl7Zm9yKHZhciBlPTA7ZC5maWVsZFJvd1tlXTtlKyspYSsrO2QuY29ubmVjdGlvbiYmYisrfXRoaXMuZnVsbEJsb2NrQ2xpY2tUYXJnZXRfPTE+PWEmJnRoaXMuc291cmNlQmxvY2tfLm91dHB1dENvbm5lY3Rpb24mJiFifWVsc2UgdGhpcy5mdWxsQmxvY2tDbGlja1RhcmdldF89ITE7dGhpcy5mdWxsQmxvY2tDbGlja1RhcmdldF8/dGhpcy5jbGlja1RhcmdldF89dGhpcy5zb3VyY2VCbG9ja18uZ2V0U3ZnUm9vdCgpOnRoaXMuY3JlYXRlQm9yZGVyUmVjdF8oKTt0aGlzLmNyZWF0ZVRleHRFbGVtZW50XygpfTtcbkJsb2NrbHkuRmllbGRUZXh0SW5wdXQucHJvdG90eXBlLmRvQ2xhc3NWYWxpZGF0aW9uXz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWF8fHZvaWQgMD09PWE/bnVsbDpTdHJpbmcoYSl9O0Jsb2NrbHkuRmllbGRUZXh0SW5wdXQucHJvdG90eXBlLmRvVmFsdWVJbnZhbGlkXz1mdW5jdGlvbihhKXt0aGlzLmlzQmVpbmdFZGl0ZWRfJiYodGhpcy5pc1RleHRWYWxpZF89ITEsYT10aGlzLnZhbHVlXyx0aGlzLnZhbHVlXz10aGlzLmh0bWxJbnB1dF8udW50eXBlZERlZmF1bHRWYWx1ZV8sdGhpcy5zb3VyY2VCbG9ja18mJkJsb2NrbHkuRXZlbnRzLmlzRW5hYmxlZCgpJiZCbG9ja2x5LkV2ZW50cy5maXJlKG5ldyBCbG9ja2x5LkV2ZW50cy5CbG9ja0NoYW5nZSh0aGlzLnNvdXJjZUJsb2NrXyxcImZpZWxkXCIsdGhpcy5uYW1lfHxudWxsLGEsdGhpcy52YWx1ZV8pKSl9O1xuQmxvY2tseS5GaWVsZFRleHRJbnB1dC5wcm90b3R5cGUuZG9WYWx1ZVVwZGF0ZV89ZnVuY3Rpb24oYSl7dGhpcy5pc1RleHRWYWxpZF89ITA7dGhpcy52YWx1ZV89YTt0aGlzLmlzQmVpbmdFZGl0ZWRffHwodGhpcy5pc0RpcnR5Xz0hMCl9O0Jsb2NrbHkuRmllbGRUZXh0SW5wdXQucHJvdG90eXBlLmFwcGx5Q29sb3VyPWZ1bmN0aW9uKCl7dGhpcy5zb3VyY2VCbG9ja18mJnRoaXMuZ2V0Q29uc3RhbnRzKCkuRlVMTF9CTE9DS19GSUVMRFMmJih0aGlzLmJvcmRlclJlY3RfP3RoaXMuYm9yZGVyUmVjdF8uc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsdGhpcy5zb3VyY2VCbG9ja18uc3R5bGUuY29sb3VyVGVydGlhcnkpOnRoaXMuc291cmNlQmxvY2tfLnBhdGhPYmplY3Quc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9DT0xPVVIpKX07XG5CbG9ja2x5LkZpZWxkVGV4dElucHV0LnByb3RvdHlwZS5yZW5kZXJfPWZ1bmN0aW9uKCl7QmxvY2tseS5GaWVsZFRleHRJbnB1dC5zdXBlckNsYXNzXy5yZW5kZXJfLmNhbGwodGhpcyk7aWYodGhpcy5pc0JlaW5nRWRpdGVkXyl7dGhpcy5yZXNpemVFZGl0b3JfKCk7dmFyIGE9dGhpcy5odG1sSW5wdXRfO3RoaXMuaXNUZXh0VmFsaWRfPyhCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyhhLFwiYmxvY2tseUludmFsaWRJbnB1dFwiKSxCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoYSxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuSU5WQUxJRCwhMSkpOihCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyhhLFwiYmxvY2tseUludmFsaWRJbnB1dFwiKSxCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoYSxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuSU5WQUxJRCwhMCkpfX07XG5CbG9ja2x5LkZpZWxkVGV4dElucHV0LnByb3RvdHlwZS5zZXRTcGVsbGNoZWNrPWZ1bmN0aW9uKGEpe2EhPXRoaXMuc3BlbGxjaGVja18mJih0aGlzLnNwZWxsY2hlY2tfPWEsdGhpcy5odG1sSW5wdXRfJiZ0aGlzLmh0bWxJbnB1dF8uc2V0QXR0cmlidXRlKFwic3BlbGxjaGVja1wiLHRoaXMuc3BlbGxjaGVja18pKX07QmxvY2tseS5GaWVsZFRleHRJbnB1dC5wcm90b3R5cGUuc2hvd0VkaXRvcl89ZnVuY3Rpb24oYSxiKXt0aGlzLndvcmtzcGFjZV89dGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlO2E9Ynx8ITE7IWEmJihCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5NT0JJTEV8fEJsb2NrbHkudXRpbHMudXNlckFnZW50LkFORFJPSUR8fEJsb2NrbHkudXRpbHMudXNlckFnZW50LklQQUQpP3RoaXMuc2hvd1Byb21wdEVkaXRvcl8oKTp0aGlzLnNob3dJbmxpbmVFZGl0b3JfKGEpfTtcbkJsb2NrbHkuRmllbGRUZXh0SW5wdXQucHJvdG90eXBlLnNob3dQcm9tcHRFZGl0b3JfPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztCbG9ja2x5LnByb21wdChCbG9ja2x5Lk1zZy5DSEFOR0VfVkFMVUVfVElUTEUsdGhpcy5nZXRUZXh0KCksZnVuY3Rpb24oYil7YS5zZXRWYWx1ZShiKX0pfTtCbG9ja2x5LkZpZWxkVGV4dElucHV0LnByb3RvdHlwZS5zaG93SW5saW5lRWRpdG9yXz1mdW5jdGlvbihhKXtCbG9ja2x5LldpZGdldERpdi5zaG93KHRoaXMsdGhpcy5zb3VyY2VCbG9ja18uUlRMLHRoaXMud2lkZ2V0RGlzcG9zZV8uYmluZCh0aGlzKSk7dGhpcy5odG1sSW5wdXRfPXRoaXMud2lkZ2V0Q3JlYXRlXygpO3RoaXMuaXNCZWluZ0VkaXRlZF89ITA7YXx8KHRoaXMuaHRtbElucHV0Xy5mb2N1cyh7cHJldmVudFNjcm9sbDohMH0pLHRoaXMuaHRtbElucHV0Xy5zZWxlY3QoKSl9O1xuQmxvY2tseS5GaWVsZFRleHRJbnB1dC5wcm90b3R5cGUud2lkZ2V0Q3JlYXRlXz1mdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkuV2lkZ2V0RGl2LkRJVjtCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyh0aGlzLmdldENsaWNrVGFyZ2V0XygpLFwiZWRpdGluZ1wiKTt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Yi5jbGFzc05hbWU9XCJibG9ja2x5SHRtbElucHV0XCI7Yi5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsdGhpcy5zcGVsbGNoZWNrXyk7dmFyIGM9dGhpcy53b3Jrc3BhY2VfLmdldFNjYWxlKCksZD10aGlzLmdldENvbnN0YW50cygpLkZJRUxEX1RFWFRfRk9OVFNJWkUqYytcInB0XCI7YS5zdHlsZS5mb250U2l6ZT1kO2Iuc3R5bGUuZm9udFNpemU9ZDtkPUJsb2NrbHkuRmllbGRUZXh0SW5wdXQuQk9SREVSUkFESVVTKmMrXCJweFwiO2lmKHRoaXMuZnVsbEJsb2NrQ2xpY2tUYXJnZXRfKXtkPXRoaXMuZ2V0U2NhbGVkQkJveCgpO2Q9KGQuYm90dG9tLWQudG9wKS8yK1xuXCJweFwiO3ZhciBlPXRoaXMuc291cmNlQmxvY2tfLmdldFBhcmVudCgpP3RoaXMuc291cmNlQmxvY2tfLmdldFBhcmVudCgpLnN0eWxlLmNvbG91clRlcnRpYXJ5OnRoaXMuc291cmNlQmxvY2tfLnN0eWxlLmNvbG91clRlcnRpYXJ5O2Iuc3R5bGUuYm9yZGVyPTEqYytcInB4IHNvbGlkIFwiK2U7YS5zdHlsZS5ib3JkZXJSYWRpdXM9ZDthLnN0eWxlLnRyYW5zaXRpb249XCJib3gtc2hhZG93IDAuMjVzIGVhc2UgMHNcIjt0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX1RFWFRJTlBVVF9CT1hfU0hBRE9XJiYoYS5zdHlsZS5ib3hTaGFkb3c9XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMykgMHB4IDBweCAwcHggXCIrNCpjK1wicHhcIil9Yi5zdHlsZS5ib3JkZXJSYWRpdXM9ZDthLmFwcGVuZENoaWxkKGIpO2IudmFsdWU9Yi5kZWZhdWx0VmFsdWU9dGhpcy5nZXRFZGl0b3JUZXh0Xyh0aGlzLnZhbHVlXyk7Yi51bnR5cGVkRGVmYXVsdFZhbHVlXz10aGlzLnZhbHVlXztiLm9sZFZhbHVlXz1udWxsO3RoaXMucmVzaXplRWRpdG9yXygpO1xudGhpcy5iaW5kSW5wdXRFdmVudHNfKGIpO3JldHVybiBifTtCbG9ja2x5LkZpZWxkVGV4dElucHV0LnByb3RvdHlwZS53aWRnZXREaXNwb3NlXz1mdW5jdGlvbigpe3RoaXMuaXNCZWluZ0VkaXRlZF89ITE7dGhpcy5pc1RleHRWYWxpZF89ITA7dGhpcy5mb3JjZVJlcmVuZGVyKCk7aWYodGhpcy5vbkZpbmlzaEVkaXRpbmdfKXRoaXMub25GaW5pc2hFZGl0aW5nXyh0aGlzLnZhbHVlXyk7dGhpcy51bmJpbmRJbnB1dEV2ZW50c18oKTt2YXIgYT1CbG9ja2x5LldpZGdldERpdi5ESVYuc3R5bGU7YS53aWR0aD1cImF1dG9cIjthLmhlaWdodD1cImF1dG9cIjthLmZvbnRTaXplPVwiXCI7YS50cmFuc2l0aW9uPVwiXCI7YS5ib3hTaGFkb3c9XCJcIjt0aGlzLmh0bWxJbnB1dF89bnVsbDtCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyh0aGlzLmdldENsaWNrVGFyZ2V0XygpLFwiZWRpdGluZ1wiKX07XG5CbG9ja2x5LkZpZWxkVGV4dElucHV0LnByb3RvdHlwZS5iaW5kSW5wdXRFdmVudHNfPWZ1bmN0aW9uKGEpe3RoaXMub25LZXlEb3duV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhhLFwia2V5ZG93blwiLHRoaXMsdGhpcy5vbkh0bWxJbnB1dEtleURvd25fKTt0aGlzLm9uS2V5SW5wdXRXcmFwcGVyXz1CbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGEsXCJpbnB1dFwiLHRoaXMsdGhpcy5vbkh0bWxJbnB1dENoYW5nZV8pfTtcbkJsb2NrbHkuRmllbGRUZXh0SW5wdXQucHJvdG90eXBlLnVuYmluZElucHV0RXZlbnRzXz1mdW5jdGlvbigpe3RoaXMub25LZXlEb3duV3JhcHBlcl8mJihCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLm9uS2V5RG93bldyYXBwZXJfKSx0aGlzLm9uS2V5RG93bldyYXBwZXJfPW51bGwpO3RoaXMub25LZXlJbnB1dFdyYXBwZXJfJiYoQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5vbktleUlucHV0V3JhcHBlcl8pLHRoaXMub25LZXlJbnB1dFdyYXBwZXJfPW51bGwpfTtcbkJsb2NrbHkuRmllbGRUZXh0SW5wdXQucHJvdG90eXBlLm9uSHRtbElucHV0S2V5RG93bl89ZnVuY3Rpb24oYSl7YS5rZXlDb2RlPT1CbG9ja2x5LnV0aWxzLktleUNvZGVzLkVOVEVSPyhCbG9ja2x5LldpZGdldERpdi5oaWRlKCksQmxvY2tseS5Ecm9wRG93bkRpdi5oaWRlV2l0aG91dEFuaW1hdGlvbigpKTphLmtleUNvZGU9PUJsb2NrbHkudXRpbHMuS2V5Q29kZXMuRVNDPyh0aGlzLmh0bWxJbnB1dF8udmFsdWU9dGhpcy5odG1sSW5wdXRfLmRlZmF1bHRWYWx1ZSxCbG9ja2x5LldpZGdldERpdi5oaWRlKCksQmxvY2tseS5Ecm9wRG93bkRpdi5oaWRlV2l0aG91dEFuaW1hdGlvbigpKTphLmtleUNvZGU9PUJsb2NrbHkudXRpbHMuS2V5Q29kZXMuVEFCJiYoQmxvY2tseS5XaWRnZXREaXYuaGlkZSgpLEJsb2NrbHkuRHJvcERvd25EaXYuaGlkZVdpdGhvdXRBbmltYXRpb24oKSx0aGlzLnNvdXJjZUJsb2NrXy50YWIodGhpcywhYS5zaGlmdEtleSksYS5wcmV2ZW50RGVmYXVsdCgpKX07XG5CbG9ja2x5LkZpZWxkVGV4dElucHV0LnByb3RvdHlwZS5vbkh0bWxJbnB1dENoYW5nZV89ZnVuY3Rpb24oYSl7YT10aGlzLmh0bWxJbnB1dF8udmFsdWU7YSE9PXRoaXMuaHRtbElucHV0Xy5vbGRWYWx1ZV8mJih0aGlzLmh0bWxJbnB1dF8ub2xkVmFsdWVfPWEsQmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITApLGE9dGhpcy5nZXRWYWx1ZUZyb21FZGl0b3JUZXh0XyhhKSx0aGlzLnNldFZhbHVlKGEpLHRoaXMuZm9yY2VSZXJlbmRlcigpLHRoaXMucmVzaXplRWRpdG9yXygpLEJsb2NrbHkuRXZlbnRzLnNldEdyb3VwKCExKSl9O0Jsb2NrbHkuRmllbGRUZXh0SW5wdXQucHJvdG90eXBlLnNldEVkaXRvclZhbHVlXz1mdW5jdGlvbihhKXt0aGlzLmlzRGlydHlfPSEwO3RoaXMuaXNCZWluZ0VkaXRlZF8mJih0aGlzLmh0bWxJbnB1dF8udmFsdWU9dGhpcy5nZXRFZGl0b3JUZXh0XyhhKSk7dGhpcy5zZXRWYWx1ZShhKX07XG5CbG9ja2x5LkZpZWxkVGV4dElucHV0LnByb3RvdHlwZS5yZXNpemVFZGl0b3JfPWZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS5XaWRnZXREaXYuRElWLGI9dGhpcy5nZXRTY2FsZWRCQm94KCk7YS5zdHlsZS53aWR0aD1iLnJpZ2h0LWIubGVmdCtcInB4XCI7YS5zdHlsZS5oZWlnaHQ9Yi5ib3R0b20tYi50b3ArXCJweFwiO2I9bmV3IEJsb2NrbHkudXRpbHMuQ29vcmRpbmF0ZSh0aGlzLnNvdXJjZUJsb2NrXy5SVEw/Yi5yaWdodC1hLm9mZnNldFdpZHRoOmIubGVmdCxiLnRvcCk7YS5zdHlsZS5sZWZ0PWIueCtcInB4XCI7YS5zdHlsZS50b3A9Yi55K1wicHhcIn07XG5CbG9ja2x5LkZpZWxkVGV4dElucHV0Lm51bWJlclZhbGlkYXRvcj1mdW5jdGlvbihhKXtjb25zb2xlLndhcm4oXCJCbG9ja2x5LkZpZWxkVGV4dElucHV0Lm51bWJlclZhbGlkYXRvciBpcyBkZXByZWNhdGVkLiBVc2UgQmxvY2tseS5GaWVsZE51bWJlciBpbnN0ZWFkLlwiKTtpZihudWxsPT09YSlyZXR1cm4gbnVsbDthPVN0cmluZyhhKTthPWEucmVwbGFjZSgvTy9pZyxcIjBcIik7YT1hLnJlcGxhY2UoLywvZyxcIlwiKTthPU51bWJlcihhfHwwKTtyZXR1cm4gaXNOYU4oYSk/bnVsbDpTdHJpbmcoYSl9O0Jsb2NrbHkuRmllbGRUZXh0SW5wdXQubm9ubmVnYXRpdmVJbnRlZ2VyVmFsaWRhdG9yPWZ1bmN0aW9uKGEpeyhhPUJsb2NrbHkuRmllbGRUZXh0SW5wdXQubnVtYmVyVmFsaWRhdG9yKGEpKSYmKGE9U3RyaW5nKE1hdGgubWF4KDAsTWF0aC5mbG9vcihhKSkpKTtyZXR1cm4gYX07QmxvY2tseS5GaWVsZFRleHRJbnB1dC5wcm90b3R5cGUuaXNUYWJOYXZpZ2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07XG5CbG9ja2x5LkZpZWxkVGV4dElucHV0LnByb3RvdHlwZS5nZXRUZXh0Xz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzQmVpbmdFZGl0ZWRfJiZ0aGlzLmh0bWxJbnB1dF8/dGhpcy5odG1sSW5wdXRfLnZhbHVlOm51bGx9O0Jsb2NrbHkuRmllbGRUZXh0SW5wdXQucHJvdG90eXBlLmdldEVkaXRvclRleHRfPWZ1bmN0aW9uKGEpe3JldHVybiBTdHJpbmcoYSl9O0Jsb2NrbHkuRmllbGRUZXh0SW5wdXQucHJvdG90eXBlLmdldFZhbHVlRnJvbUVkaXRvclRleHRfPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtCbG9ja2x5LmZpZWxkUmVnaXN0cnkucmVnaXN0ZXIoXCJmaWVsZF9pbnB1dFwiLEJsb2NrbHkuRmllbGRUZXh0SW5wdXQpO0Jsb2NrbHkuRmllbGRBbmdsZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5jbG9ja3dpc2VfPUJsb2NrbHkuRmllbGRBbmdsZS5DTE9DS1dJU0U7dGhpcy5vZmZzZXRfPUJsb2NrbHkuRmllbGRBbmdsZS5PRkZTRVQ7dGhpcy53cmFwXz1CbG9ja2x5LkZpZWxkQW5nbGUuV1JBUDt0aGlzLnJvdW5kXz1CbG9ja2x5LkZpZWxkQW5nbGUuUk9VTkQ7QmxvY2tseS5GaWVsZEFuZ2xlLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhfHwwLGIsYyk7dGhpcy5tb3ZlU3VyZmFjZVdyYXBwZXJfPXRoaXMuY2xpY2tTdXJmYWNlV3JhcHBlcl89dGhpcy5jbGlja1dyYXBwZXJfPXRoaXMubGluZV89dGhpcy5nYXVnZV89bnVsbH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5GaWVsZEFuZ2xlLEJsb2NrbHkuRmllbGRUZXh0SW5wdXQpO1xuQmxvY2tseS5GaWVsZEFuZ2xlLmZyb21Kc29uPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQmxvY2tseS5GaWVsZEFuZ2xlKGEuYW5nbGUsdm9pZCAwLGEpfTtCbG9ja2x5LkZpZWxkQW5nbGUucHJvdG90eXBlLlNFUklBTElaQUJMRT0hMDtCbG9ja2x5LkZpZWxkQW5nbGUuUk9VTkQ9MTU7QmxvY2tseS5GaWVsZEFuZ2xlLkhBTEY9NTA7QmxvY2tseS5GaWVsZEFuZ2xlLkNMT0NLV0lTRT0hMTtCbG9ja2x5LkZpZWxkQW5nbGUuT0ZGU0VUPTA7QmxvY2tseS5GaWVsZEFuZ2xlLldSQVA9MzYwO0Jsb2NrbHkuRmllbGRBbmdsZS5SQURJVVM9QmxvY2tseS5GaWVsZEFuZ2xlLkhBTEYtMTtcbkJsb2NrbHkuRmllbGRBbmdsZS5wcm90b3R5cGUuY29uZmlndXJlXz1mdW5jdGlvbihhKXtCbG9ja2x5LkZpZWxkQW5nbGUuc3VwZXJDbGFzc18uY29uZmlndXJlXy5jYWxsKHRoaXMsYSk7c3dpdGNoKGEubW9kZSl7Y2FzZSBcImNvbXBhc3NcIjp0aGlzLmNsb2Nrd2lzZV89ITA7dGhpcy5vZmZzZXRfPTkwO2JyZWFrO2Nhc2UgXCJwcm90cmFjdG9yXCI6dGhpcy5jbG9ja3dpc2VfPSExLHRoaXMub2Zmc2V0Xz0wfXZhciBiPWEuY2xvY2t3aXNlO1wiYm9vbGVhblwiPT10eXBlb2YgYiYmKHRoaXMuY2xvY2t3aXNlXz1iKTtiPWEub2Zmc2V0O251bGwhPWImJihiPU51bWJlcihiKSxpc05hTihiKXx8KHRoaXMub2Zmc2V0Xz1iKSk7Yj1hLndyYXA7bnVsbCE9YiYmKGI9TnVtYmVyKGIpLGlzTmFOKGIpfHwodGhpcy53cmFwXz1iKSk7YT1hLnJvdW5kO251bGwhPWEmJihhPU51bWJlcihhKSxpc05hTihhKXx8KHRoaXMucm91bmRfPWEpKX07XG5CbG9ja2x5LkZpZWxkQW5nbGUucHJvdG90eXBlLmluaXRWaWV3PWZ1bmN0aW9uKCl7QmxvY2tseS5GaWVsZEFuZ2xlLnN1cGVyQ2xhc3NfLmluaXRWaWV3LmNhbGwodGhpcyk7dGhpcy5zeW1ib2xfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJ0c3BhblwiLHt9LG51bGwpO3RoaXMuc3ltYm9sXy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlxcdTAwYjBcIikpO3RoaXMudGV4dEVsZW1lbnRfLmFwcGVuZENoaWxkKHRoaXMuc3ltYm9sXyl9O0Jsb2NrbHkuRmllbGRBbmdsZS5wcm90b3R5cGUucmVuZGVyXz1mdW5jdGlvbigpe0Jsb2NrbHkuRmllbGRBbmdsZS5zdXBlckNsYXNzXy5yZW5kZXJfLmNhbGwodGhpcyk7dGhpcy51cGRhdGVHcmFwaF8oKX07XG5CbG9ja2x5LkZpZWxkQW5nbGUucHJvdG90eXBlLnNob3dFZGl0b3JfPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuRmllbGRBbmdsZS5zdXBlckNsYXNzXy5zaG93RWRpdG9yXy5jYWxsKHRoaXMsYSxCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5NT0JJTEV8fEJsb2NrbHkudXRpbHMudXNlckFnZW50LkFORFJPSUR8fEJsb2NrbHkudXRpbHMudXNlckFnZW50LklQQUQpO2E9dGhpcy5kcm9wZG93bkNyZWF0ZV8oKTtCbG9ja2x5LkRyb3BEb3duRGl2LmdldENvbnRlbnREaXYoKS5hcHBlbmRDaGlsZChhKTtCbG9ja2x5LkRyb3BEb3duRGl2LnNldENvbG91cih0aGlzLnNvdXJjZUJsb2NrXy5zdHlsZS5jb2xvdXJQcmltYXJ5LHRoaXMuc291cmNlQmxvY2tfLnN0eWxlLmNvbG91clRlcnRpYXJ5KTtCbG9ja2x5LkRyb3BEb3duRGl2LnNob3dQb3NpdGlvbmVkQnlGaWVsZCh0aGlzLHRoaXMuZHJvcGRvd25EaXNwb3NlXy5iaW5kKHRoaXMpKTt0aGlzLnVwZGF0ZUdyYXBoXygpfTtcbkJsb2NrbHkuRmllbGRBbmdsZS5wcm90b3R5cGUuZHJvcGRvd25DcmVhdGVfPWZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInN2Z1wiLHt4bWxuczpCbG9ja2x5LnV0aWxzLmRvbS5TVkdfTlMsXCJ4bWxuczpodG1sXCI6QmxvY2tseS51dGlscy5kb20uSFRNTF9OUyxcInhtbG5zOnhsaW5rXCI6QmxvY2tseS51dGlscy5kb20uWExJTktfTlMsdmVyc2lvbjpcIjEuMVwiLGhlaWdodDoyKkJsb2NrbHkuRmllbGRBbmdsZS5IQUxGK1wicHhcIix3aWR0aDoyKkJsb2NrbHkuRmllbGRBbmdsZS5IQUxGK1wicHhcIixzdHlsZTpcInRvdWNoLWFjdGlvbjogbm9uZVwifSxudWxsKSxiPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJjaXJjbGVcIix7Y3g6QmxvY2tseS5GaWVsZEFuZ2xlLkhBTEYsY3k6QmxvY2tseS5GaWVsZEFuZ2xlLkhBTEYscjpCbG9ja2x5LkZpZWxkQW5nbGUuUkFESVVTLFwiY2xhc3NcIjpcImJsb2NrbHlBbmdsZUNpcmNsZVwifSxhKTt0aGlzLmdhdWdlXz1cbkJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJwYXRoXCIse1wiY2xhc3NcIjpcImJsb2NrbHlBbmdsZUdhdWdlXCJ9LGEpO3RoaXMubGluZV89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImxpbmVcIix7eDE6QmxvY2tseS5GaWVsZEFuZ2xlLkhBTEYseTE6QmxvY2tseS5GaWVsZEFuZ2xlLkhBTEYsXCJjbGFzc1wiOlwiYmxvY2tseUFuZ2xlTGluZVwifSxhKTtmb3IodmFyIGM9MDszNjA+YztjKz0xNSlCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwibGluZVwiLHt4MTpCbG9ja2x5LkZpZWxkQW5nbGUuSEFMRitCbG9ja2x5LkZpZWxkQW5nbGUuUkFESVVTLHkxOkJsb2NrbHkuRmllbGRBbmdsZS5IQUxGLHgyOkJsb2NrbHkuRmllbGRBbmdsZS5IQUxGK0Jsb2NrbHkuRmllbGRBbmdsZS5SQURJVVMtKDA9PWMlNDU/MTA6NSkseTI6QmxvY2tseS5GaWVsZEFuZ2xlLkhBTEYsXCJjbGFzc1wiOlwiYmxvY2tseUFuZ2xlTWFya3NcIix0cmFuc2Zvcm06XCJyb3RhdGUoXCIrXG5jK1wiLFwiK0Jsb2NrbHkuRmllbGRBbmdsZS5IQUxGK1wiLFwiK0Jsb2NrbHkuRmllbGRBbmdsZS5IQUxGK1wiKVwifSxhKTt0aGlzLmNsaWNrV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhhLFwiY2xpY2tcIix0aGlzLHRoaXMuaGlkZV8pO3RoaXMuY2xpY2tTdXJmYWNlV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhiLFwiY2xpY2tcIix0aGlzLHRoaXMub25Nb3VzZU1vdmVfLCEwLCEwKTt0aGlzLm1vdmVTdXJmYWNlV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhiLFwibW91c2Vtb3ZlXCIsdGhpcyx0aGlzLm9uTW91c2VNb3ZlXywhMCwhMCk7cmV0dXJuIGF9O1xuQmxvY2tseS5GaWVsZEFuZ2xlLnByb3RvdHlwZS5kcm9wZG93bkRpc3Bvc2VfPWZ1bmN0aW9uKCl7dGhpcy5jbGlja1dyYXBwZXJfJiYoQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5jbGlja1dyYXBwZXJfKSx0aGlzLmNsaWNrV3JhcHBlcl89bnVsbCk7dGhpcy5jbGlja1N1cmZhY2VXcmFwcGVyXyYmKEJsb2NrbHkudW5iaW5kRXZlbnRfKHRoaXMuY2xpY2tTdXJmYWNlV3JhcHBlcl8pLHRoaXMuY2xpY2tTdXJmYWNlV3JhcHBlcl89bnVsbCk7dGhpcy5tb3ZlU3VyZmFjZVdyYXBwZXJfJiYoQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5tb3ZlU3VyZmFjZVdyYXBwZXJfKSx0aGlzLm1vdmVTdXJmYWNlV3JhcHBlcl89bnVsbCk7dGhpcy5saW5lXz10aGlzLmdhdWdlXz1udWxsfTtCbG9ja2x5LkZpZWxkQW5nbGUucHJvdG90eXBlLmhpZGVfPWZ1bmN0aW9uKCl7QmxvY2tseS5Ecm9wRG93bkRpdi5oaWRlSWZPd25lcih0aGlzKTtCbG9ja2x5LldpZGdldERpdi5oaWRlKCl9O1xuQmxvY2tseS5GaWVsZEFuZ2xlLnByb3RvdHlwZS5vbk1vdXNlTW92ZV89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nYXVnZV8ub3duZXJTVkdFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGM9YS5jbGllbnRYLWIubGVmdC1CbG9ja2x5LkZpZWxkQW5nbGUuSEFMRjthPWEuY2xpZW50WS1iLnRvcC1CbG9ja2x5LkZpZWxkQW5nbGUuSEFMRjtiPU1hdGguYXRhbigtYS9jKTtpc05hTihiKXx8KGI9QmxvY2tseS51dGlscy5tYXRoLnRvRGVncmVlcyhiKSwwPmM/Yis9MTgwOjA8YSYmKGIrPTM2MCksYj10aGlzLmNsb2Nrd2lzZV8/dGhpcy5vZmZzZXRfKzM2MC1iOjM2MC0odGhpcy5vZmZzZXRfLWIpLHRoaXMuZGlzcGxheU1vdXNlT3JLZXlib2FyZFZhbHVlXyhiKSl9O1xuQmxvY2tseS5GaWVsZEFuZ2xlLnByb3RvdHlwZS5kaXNwbGF5TW91c2VPcktleWJvYXJkVmFsdWVfPWZ1bmN0aW9uKGEpe3RoaXMucm91bmRfJiYoYT1NYXRoLnJvdW5kKGEvdGhpcy5yb3VuZF8pKnRoaXMucm91bmRfKTthPXRoaXMud3JhcFZhbHVlXyhhKTthIT10aGlzLnZhbHVlXyYmdGhpcy5zZXRFZGl0b3JWYWx1ZV8oYSl9O1xuQmxvY2tseS5GaWVsZEFuZ2xlLnByb3RvdHlwZS51cGRhdGVHcmFwaF89ZnVuY3Rpb24oKXtpZih0aGlzLmdhdWdlXyl7dmFyIGE9TnVtYmVyKHRoaXMuZ2V0VGV4dCgpKSt0aGlzLm9mZnNldF8sYj1CbG9ja2x5LnV0aWxzLm1hdGgudG9SYWRpYW5zKGElMzYwKTthPVtcIk0gXCIsQmxvY2tseS5GaWVsZEFuZ2xlLkhBTEYsXCIsXCIsQmxvY2tseS5GaWVsZEFuZ2xlLkhBTEZdO3ZhciBjPUJsb2NrbHkuRmllbGRBbmdsZS5IQUxGLGQ9QmxvY2tseS5GaWVsZEFuZ2xlLkhBTEY7aWYoIWlzTmFOKGIpKXt2YXIgZT1OdW1iZXIodGhpcy5jbG9ja3dpc2VfKSxmPUJsb2NrbHkudXRpbHMubWF0aC50b1JhZGlhbnModGhpcy5vZmZzZXRfKSxnPU1hdGguY29zKGYpKkJsb2NrbHkuRmllbGRBbmdsZS5SQURJVVMsaD1NYXRoLnNpbihmKSotQmxvY2tseS5GaWVsZEFuZ2xlLlJBRElVUztlJiYoYj0yKmYtYik7Yys9TWF0aC5jb3MoYikqQmxvY2tseS5GaWVsZEFuZ2xlLlJBRElVUztkLT1NYXRoLnNpbihiKSpcbkJsb2NrbHkuRmllbGRBbmdsZS5SQURJVVM7Yj1NYXRoLmFicyhNYXRoLmZsb29yKChiLWYpL01hdGguUEkpJTIpO2UmJihiPTEtYik7YS5wdXNoKFwiIGwgXCIsZyxcIixcIixoLFwiIEEgXCIsQmxvY2tseS5GaWVsZEFuZ2xlLlJBRElVUyxcIixcIixCbG9ja2x5LkZpZWxkQW5nbGUuUkFESVVTLFwiIDAgXCIsYixcIiBcIixlLFwiIFwiLGMsXCIsXCIsZCxcIiB6XCIpfXRoaXMuZ2F1Z2VfLnNldEF0dHJpYnV0ZShcImRcIixhLmpvaW4oXCJcIikpO3RoaXMubGluZV8uc2V0QXR0cmlidXRlKFwieDJcIixjKTt0aGlzLmxpbmVfLnNldEF0dHJpYnV0ZShcInkyXCIsZCl9fTtcbkJsb2NrbHkuRmllbGRBbmdsZS5wcm90b3R5cGUub25IdG1sSW5wdXRLZXlEb3duXz1mdW5jdGlvbihhKXtCbG9ja2x5LkZpZWxkQW5nbGUuc3VwZXJDbGFzc18ub25IdG1sSW5wdXRLZXlEb3duXy5jYWxsKHRoaXMsYSk7dmFyIGI7YS5rZXlDb2RlPT09QmxvY2tseS51dGlscy5LZXlDb2Rlcy5MRUZUP2I9dGhpcy5zb3VyY2VCbG9ja18uUlRMPzE6LTE6YS5rZXlDb2RlPT09QmxvY2tseS51dGlscy5LZXlDb2Rlcy5SSUdIVD9iPXRoaXMuc291cmNlQmxvY2tfLlJUTD8tMToxOmEua2V5Q29kZT09PUJsb2NrbHkudXRpbHMuS2V5Q29kZXMuRE9XTj9iPS0xOmEua2V5Q29kZT09PUJsb2NrbHkudXRpbHMuS2V5Q29kZXMuVVAmJihiPTEpO2lmKGIpe3ZhciBjPXRoaXMuZ2V0VmFsdWUoKTt0aGlzLmRpc3BsYXlNb3VzZU9yS2V5Ym9hcmRWYWx1ZV8oYytiKnRoaXMucm91bmRfKTthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKX19O1xuQmxvY2tseS5GaWVsZEFuZ2xlLnByb3RvdHlwZS5kb0NsYXNzVmFsaWRhdGlvbl89ZnVuY3Rpb24oYSl7YT1OdW1iZXIoYSk7cmV0dXJuIGlzTmFOKGEpfHwhaXNGaW5pdGUoYSk/bnVsbDp0aGlzLndyYXBWYWx1ZV8oYSl9O0Jsb2NrbHkuRmllbGRBbmdsZS5wcm90b3R5cGUud3JhcFZhbHVlXz1mdW5jdGlvbihhKXthJT0zNjA7MD5hJiYoYSs9MzYwKTthPnRoaXMud3JhcF8mJihhLT0zNjApO3JldHVybiBhfTtCbG9ja2x5LkNzcy5yZWdpc3RlcihcIi5ibG9ja2x5QW5nbGVDaXJjbGUgeyxzdHJva2U6ICM0NDQ7LHN0cm9rZS13aWR0aDogMTssZmlsbDogI2RkZDssZmlsbC1vcGFjaXR5OiAuODssfSwuYmxvY2tseUFuZ2xlTWFya3MgeyxzdHJva2U6ICM0NDQ7LHN0cm9rZS13aWR0aDogMTssfSwuYmxvY2tseUFuZ2xlR2F1Z2UgeyxmaWxsOiAjZjg4OyxmaWxsLW9wYWNpdHk6IC44Oyxwb2ludGVyLWV2ZW50czogbm9uZTssfSwuYmxvY2tseUFuZ2xlTGluZSB7LHN0cm9rZTogI2YwMDssc3Ryb2tlLXdpZHRoOiAyOyxzdHJva2UtbGluZWNhcDogcm91bmQ7LHBvaW50ZXItZXZlbnRzOiBub25lOyx9XCIuc3BsaXQoXCIsXCIpKTtcbkJsb2NrbHkuZmllbGRSZWdpc3RyeS5yZWdpc3RlcihcImZpZWxkX2FuZ2xlXCIsQmxvY2tseS5GaWVsZEFuZ2xlKTtCbG9ja2x5LkZpZWxkQ2hlY2tib3g9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuY2hlY2tDaGFyXz1udWxsO251bGw9PWEmJihhPVwiRkFMU0VcIik7QmxvY2tseS5GaWVsZENoZWNrYm94LnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIsYyl9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuRmllbGRDaGVja2JveCxCbG9ja2x5LkZpZWxkKTtCbG9ja2x5LkZpZWxkQ2hlY2tib3guZnJvbUpzb249ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBCbG9ja2x5LkZpZWxkQ2hlY2tib3goYS5jaGVja2VkLHZvaWQgMCxhKX07QmxvY2tseS5GaWVsZENoZWNrYm94LkNIRUNLX0NIQVI9XCJcXHUyNzEzXCI7QmxvY2tseS5GaWVsZENoZWNrYm94LnByb3RvdHlwZS5TRVJJQUxJWkFCTEU9ITA7QmxvY2tseS5GaWVsZENoZWNrYm94LnByb3RvdHlwZS5DVVJTT1I9XCJkZWZhdWx0XCI7XG5CbG9ja2x5LkZpZWxkQ2hlY2tib3gucHJvdG90eXBlLmNvbmZpZ3VyZV89ZnVuY3Rpb24oYSl7QmxvY2tseS5GaWVsZENoZWNrYm94LnN1cGVyQ2xhc3NfLmNvbmZpZ3VyZV8uY2FsbCh0aGlzLGEpO2EuY2hlY2tDaGFyYWN0ZXImJih0aGlzLmNoZWNrQ2hhcl89YS5jaGVja0NoYXJhY3Rlcil9O0Jsb2NrbHkuRmllbGRDaGVja2JveC5wcm90b3R5cGUuaW5pdFZpZXc9ZnVuY3Rpb24oKXtCbG9ja2x5LkZpZWxkQ2hlY2tib3guc3VwZXJDbGFzc18uaW5pdFZpZXcuY2FsbCh0aGlzKTtCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyh0aGlzLnRleHRFbGVtZW50XyxcImJsb2NrbHlDaGVja2JveFwiKTt0aGlzLnRleHRFbGVtZW50Xy5zdHlsZS5kaXNwbGF5PXRoaXMudmFsdWVfP1wiYmxvY2tcIjpcIm5vbmVcIn07XG5CbG9ja2x5LkZpZWxkQ2hlY2tib3gucHJvdG90eXBlLnJlbmRlcl89ZnVuY3Rpb24oKXt0aGlzLnRleHRDb250ZW50XyYmKHRoaXMudGV4dENvbnRlbnRfLm5vZGVWYWx1ZT10aGlzLmdldERpc3BsYXlUZXh0XygpKTt0aGlzLnVwZGF0ZVNpemVfKHRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfQ0hFQ0tCT1hfWF9PRkZTRVQpfTtCbG9ja2x5LkZpZWxkQ2hlY2tib3gucHJvdG90eXBlLmdldERpc3BsYXlUZXh0Xz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrQ2hhcl98fEJsb2NrbHkuRmllbGRDaGVja2JveC5DSEVDS19DSEFSfTtCbG9ja2x5LkZpZWxkQ2hlY2tib3gucHJvdG90eXBlLnNldENoZWNrQ2hhcmFjdGVyPWZ1bmN0aW9uKGEpe3RoaXMuY2hlY2tDaGFyXz1hO3RoaXMuZm9yY2VSZXJlbmRlcigpfTtCbG9ja2x5LkZpZWxkQ2hlY2tib3gucHJvdG90eXBlLnNob3dFZGl0b3JfPWZ1bmN0aW9uKCl7dGhpcy5zZXRWYWx1ZSghdGhpcy52YWx1ZV8pfTtcbkJsb2NrbHkuRmllbGRDaGVja2JveC5wcm90b3R5cGUuZG9DbGFzc1ZhbGlkYXRpb25fPWZ1bmN0aW9uKGEpe3JldHVybiEwPT09YXx8XCJUUlVFXCI9PT1hP1wiVFJVRVwiOiExPT09YXx8XCJGQUxTRVwiPT09YT9cIkZBTFNFXCI6bnVsbH07QmxvY2tseS5GaWVsZENoZWNrYm94LnByb3RvdHlwZS5kb1ZhbHVlVXBkYXRlXz1mdW5jdGlvbihhKXt0aGlzLnZhbHVlXz10aGlzLmNvbnZlcnRWYWx1ZVRvQm9vbF8oYSk7dGhpcy50ZXh0RWxlbWVudF8mJih0aGlzLnRleHRFbGVtZW50Xy5zdHlsZS5kaXNwbGF5PXRoaXMudmFsdWVfP1wiYmxvY2tcIjpcIm5vbmVcIil9O0Jsb2NrbHkuRmllbGRDaGVja2JveC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZV8/XCJUUlVFXCI6XCJGQUxTRVwifTtCbG9ja2x5LkZpZWxkQ2hlY2tib3gucHJvdG90eXBlLmdldFZhbHVlQm9vbGVhbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlX307XG5CbG9ja2x5LkZpZWxkQ2hlY2tib3gucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gU3RyaW5nKHRoaXMuY29udmVydFZhbHVlVG9Cb29sXyh0aGlzLnZhbHVlXykpfTtCbG9ja2x5LkZpZWxkQ2hlY2tib3gucHJvdG90eXBlLmNvbnZlcnRWYWx1ZVRvQm9vbF89ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGE/XCJUUlVFXCI9PWE6ISFhfTtCbG9ja2x5LmZpZWxkUmVnaXN0cnkucmVnaXN0ZXIoXCJmaWVsZF9jaGVja2JveFwiLEJsb2NrbHkuRmllbGRDaGVja2JveCk7QmxvY2tseS5GaWVsZENvbG91cj1mdW5jdGlvbihhLGIsYyl7QmxvY2tseS5GaWVsZENvbG91ci5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYXx8QmxvY2tseS5GaWVsZENvbG91ci5DT0xPVVJTWzBdLGIsYyk7dGhpcy5vbktleURvd25XcmFwcGVyXz10aGlzLm9uTW91c2VMZWF2ZVdyYXBwZXJfPXRoaXMub25Nb3VzZUVudGVyV3JhcHBlcl89dGhpcy5vbk1vdXNlTW92ZVdyYXBwZXJfPXRoaXMub25DbGlja1dyYXBwZXJfPXRoaXMuaGlnaGxpZ2h0ZWRJbmRleF89dGhpcy5waWNrZXJfPW51bGx9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuRmllbGRDb2xvdXIsQmxvY2tseS5GaWVsZCk7QmxvY2tseS5GaWVsZENvbG91ci5mcm9tSnNvbj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEJsb2NrbHkuRmllbGRDb2xvdXIoYS5jb2xvdXIsdm9pZCAwLGEpfTtCbG9ja2x5LkZpZWxkQ29sb3VyLnByb3RvdHlwZS5TRVJJQUxJWkFCTEU9ITA7XG5CbG9ja2x5LkZpZWxkQ29sb3VyLnByb3RvdHlwZS5DVVJTT1I9XCJkZWZhdWx0XCI7QmxvY2tseS5GaWVsZENvbG91ci5wcm90b3R5cGUuaXNEaXJ0eV89ITE7QmxvY2tseS5GaWVsZENvbG91ci5wcm90b3R5cGUuY29sb3Vyc189bnVsbDtCbG9ja2x5LkZpZWxkQ29sb3VyLnByb3RvdHlwZS50aXRsZXNfPW51bGw7QmxvY2tseS5GaWVsZENvbG91ci5wcm90b3R5cGUuY29sdW1uc189MDtCbG9ja2x5LkZpZWxkQ29sb3VyLnByb3RvdHlwZS5jb25maWd1cmVfPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuRmllbGRDb2xvdXIuc3VwZXJDbGFzc18uY29uZmlndXJlXy5jYWxsKHRoaXMsYSk7YS5jb2xvdXJPcHRpb25zJiYodGhpcy5jb2xvdXJzXz1hLmNvbG91ck9wdGlvbnMsdGhpcy50aXRsZXNfPWEuY29sb3VyVGl0bGVzKTthLmNvbHVtbnMmJih0aGlzLmNvbHVtbnNfPWEuY29sdW1ucyl9O1xuQmxvY2tseS5GaWVsZENvbG91ci5wcm90b3R5cGUuaW5pdFZpZXc9ZnVuY3Rpb24oKXt0aGlzLnNpemVfPW5ldyBCbG9ja2x5LnV0aWxzLlNpemUodGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9DT0xPVVJfREVGQVVMVF9XSURUSCx0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0NPTE9VUl9ERUZBVUxUX0hFSUdIVCk7dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9DT0xPVVJfRlVMTF9CTE9DSz90aGlzLmNsaWNrVGFyZ2V0Xz10aGlzLnNvdXJjZUJsb2NrXy5nZXRTdmdSb290KCk6KHRoaXMuY3JlYXRlQm9yZGVyUmVjdF8oKSx0aGlzLmJvcmRlclJlY3RfLnN0eWxlLmZpbGxPcGFjaXR5PVwiMVwiKX07XG5CbG9ja2x5LkZpZWxkQ29sb3VyLnByb3RvdHlwZS5hcHBseUNvbG91cj1mdW5jdGlvbigpe3RoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfQ09MT1VSX0ZVTExfQkxPQ0s/KHRoaXMuc291cmNlQmxvY2tfLnBhdGhPYmplY3Quc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5nZXRWYWx1ZSgpKSx0aGlzLnNvdXJjZUJsb2NrXy5wYXRoT2JqZWN0LnN2Z1BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsXCIjZmZmXCIpKTp0aGlzLmJvcmRlclJlY3RfJiYodGhpcy5ib3JkZXJSZWN0Xy5zdHlsZS5maWxsPXRoaXMuZ2V0VmFsdWUoKSl9O0Jsb2NrbHkuRmllbGRDb2xvdXIucHJvdG90eXBlLmRvQ2xhc3NWYWxpZGF0aW9uXz1mdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYT9udWxsOkJsb2NrbHkudXRpbHMuY29sb3VyLnBhcnNlKGEpfTtcbkJsb2NrbHkuRmllbGRDb2xvdXIucHJvdG90eXBlLmRvVmFsdWVVcGRhdGVfPWZ1bmN0aW9uKGEpe3RoaXMudmFsdWVfPWE7dGhpcy5ib3JkZXJSZWN0Xz90aGlzLmJvcmRlclJlY3RfLnN0eWxlLmZpbGw9YTp0aGlzLnNvdXJjZUJsb2NrXyYmdGhpcy5zb3VyY2VCbG9ja18ucmVuZGVyZWQmJih0aGlzLnNvdXJjZUJsb2NrXy5wYXRoT2JqZWN0LnN2Z1BhdGguc2V0QXR0cmlidXRlKFwiZmlsbFwiLGEpLHRoaXMuc291cmNlQmxvY2tfLnBhdGhPYmplY3Quc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixcIiNmZmZcIikpfTtCbG9ja2x5LkZpZWxkQ29sb3VyLnByb3RvdHlwZS5nZXRUZXh0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52YWx1ZV87L14jKC4pXFwxKC4pXFwyKC4pXFwzJC8udGVzdChhKSYmKGE9XCIjXCIrYVsxXSthWzNdK2FbNV0pO3JldHVybiBhfTtCbG9ja2x5LkZpZWxkQ29sb3VyLkNPTE9VUlM9XCIjZmZmZmZmICNjY2NjY2MgI2MwYzBjMCAjOTk5OTk5ICM2NjY2NjYgIzMzMzMzMyAjMDAwMDAwICNmZmNjY2MgI2ZmNjY2NiAjZmYwMDAwICNjYzAwMDAgIzk5MDAwMCAjNjYwMDAwICMzMzAwMDAgI2ZmY2M5OSAjZmY5OTY2ICNmZjk5MDAgI2ZmNjYwMCAjY2M2NjAwICM5OTMzMDAgIzY2MzMwMCAjZmZmZjk5ICNmZmZmNjYgI2ZmY2M2NiAjZmZjYzMzICNjYzk5MzMgIzk5NjYzMyAjNjYzMzMzICNmZmZmY2MgI2ZmZmYzMyAjZmZmZjAwICNmZmNjMDAgIzk5OTkwMCAjNjY2NjAwICMzMzMzMDAgIzk5ZmY5OSAjNjZmZjk5ICMzM2ZmMzMgIzMzY2MwMCAjMDA5OTAwICMwMDY2MDAgIzAwMzMwMCAjOTlmZmZmICMzM2ZmZmYgIzY2Y2NjYyAjMDBjY2NjICMzMzk5OTkgIzMzNjY2NiAjMDAzMzMzICNjY2ZmZmYgIzY2ZmZmZiAjMzNjY2ZmICMzMzY2ZmYgIzMzMzNmZiAjMDAwMDk5ICMwMDAwNjYgI2NjY2NmZiAjOTk5OWZmICM2NjY2Y2MgIzY2MzNmZiAjNjYwMGNjICMzMzMzOTkgIzMzMDA5OSAjZmZjY2ZmICNmZjk5ZmYgI2NjNjZjYyAjY2MzM2NjICM5OTMzOTkgIzY2MzM2NiAjMzMwMDMzXCIuc3BsaXQoXCIgXCIpO1xuQmxvY2tseS5GaWVsZENvbG91ci5USVRMRVM9W107QmxvY2tseS5GaWVsZENvbG91ci5DT0xVTU5TPTc7QmxvY2tseS5GaWVsZENvbG91ci5wcm90b3R5cGUuc2V0Q29sb3Vycz1mdW5jdGlvbihhLGIpe3RoaXMuY29sb3Vyc189YTtiJiYodGhpcy50aXRsZXNfPWIpO3JldHVybiB0aGlzfTtCbG9ja2x5LkZpZWxkQ29sb3VyLnByb3RvdHlwZS5zZXRDb2x1bW5zPWZ1bmN0aW9uKGEpe3RoaXMuY29sdW1uc189YTtyZXR1cm4gdGhpc307QmxvY2tseS5GaWVsZENvbG91ci5wcm90b3R5cGUuc2hvd0VkaXRvcl89ZnVuY3Rpb24oKXt0aGlzLnBpY2tlcl89dGhpcy5kcm9wZG93bkNyZWF0ZV8oKTtCbG9ja2x5LkRyb3BEb3duRGl2LmdldENvbnRlbnREaXYoKS5hcHBlbmRDaGlsZCh0aGlzLnBpY2tlcl8pO0Jsb2NrbHkuRHJvcERvd25EaXYuc2hvd1Bvc2l0aW9uZWRCeUZpZWxkKHRoaXMsdGhpcy5kcm9wZG93bkRpc3Bvc2VfLmJpbmQodGhpcykpO3RoaXMucGlja2VyXy5mb2N1cyh7cHJldmVudFNjcm9sbDohMH0pfTtcbkJsb2NrbHkuRmllbGRDb2xvdXIucHJvdG90eXBlLm9uQ2xpY2tfPWZ1bmN0aW9uKGEpe2E9KGE9YS50YXJnZXQpJiZhLmxhYmVsO251bGwhPT1hJiYodGhpcy5zZXRWYWx1ZShhKSxCbG9ja2x5LkRyb3BEb3duRGl2LmhpZGVJZk93bmVyKHRoaXMpKX07XG5CbG9ja2x5LkZpZWxkQ29sb3VyLnByb3RvdHlwZS5vbktleURvd25fPWZ1bmN0aW9uKGEpe3ZhciBiPSExO2lmKGEua2V5Q29kZT09PUJsb2NrbHkudXRpbHMuS2V5Q29kZXMuVVApdGhpcy5tb3ZlSGlnaGxpZ2h0QnlfKDAsLTEpLGI9ITA7ZWxzZSBpZihhLmtleUNvZGU9PT1CbG9ja2x5LnV0aWxzLktleUNvZGVzLkRPV04pdGhpcy5tb3ZlSGlnaGxpZ2h0QnlfKDAsMSksYj0hMDtlbHNlIGlmKGEua2V5Q29kZT09PUJsb2NrbHkudXRpbHMuS2V5Q29kZXMuTEVGVCl0aGlzLm1vdmVIaWdobGlnaHRCeV8oLTEsMCksYj0hMDtlbHNlIGlmKGEua2V5Q29kZT09PUJsb2NrbHkudXRpbHMuS2V5Q29kZXMuUklHSFQpdGhpcy5tb3ZlSGlnaGxpZ2h0QnlfKDEsMCksYj0hMDtlbHNlIGlmKGEua2V5Q29kZT09PUJsb2NrbHkudXRpbHMuS2V5Q29kZXMuRU5URVIpe2lmKGI9dGhpcy5nZXRIaWdobGlnaHRlZF8oKSliPWImJmIubGFiZWwsbnVsbCE9PWImJnRoaXMuc2V0VmFsdWUoYik7QmxvY2tseS5Ecm9wRG93bkRpdi5oaWRlV2l0aG91dEFuaW1hdGlvbigpO1xuYj0hMH1iJiZhLnN0b3BQcm9wYWdhdGlvbigpfTtCbG9ja2x5LkZpZWxkQ29sb3VyLnByb3RvdHlwZS5vbkJsb2NrbHlBY3Rpb249ZnVuY3Rpb24oYSl7aWYodGhpcy5waWNrZXJfKXtpZihhPT09QmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9QUkVWSU9VUylyZXR1cm4gdGhpcy5tb3ZlSGlnaGxpZ2h0QnlfKDAsLTEpLCEwO2lmKGE9PT1CbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX05FWFQpcmV0dXJuIHRoaXMubW92ZUhpZ2hsaWdodEJ5XygwLDEpLCEwO2lmKGE9PT1CbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX09VVClyZXR1cm4gdGhpcy5tb3ZlSGlnaGxpZ2h0QnlfKC0xLDApLCEwO2lmKGE9PT1CbG9ja2x5Lm5hdmlnYXRpb24uQUNUSU9OX0lOKXJldHVybiB0aGlzLm1vdmVIaWdobGlnaHRCeV8oMSwwKSwhMH1yZXR1cm4gQmxvY2tseS5GaWVsZENvbG91ci5zdXBlckNsYXNzXy5vbkJsb2NrbHlBY3Rpb24uY2FsbCh0aGlzLGEpfTtcbkJsb2NrbHkuRmllbGRDb2xvdXIucHJvdG90eXBlLm1vdmVIaWdobGlnaHRCeV89ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNvbG91cnNffHxCbG9ja2x5LkZpZWxkQ29sb3VyLkNPTE9VUlMsZD10aGlzLmNvbHVtbnNffHxCbG9ja2x5LkZpZWxkQ29sb3VyLkNPTFVNTlMsZT10aGlzLmhpZ2hsaWdodGVkSW5kZXhfJWQsZj1NYXRoLmZsb29yKHRoaXMuaGlnaGxpZ2h0ZWRJbmRleF8vZCk7ZSs9YTtmKz1iOzA+YT8wPmUmJjA8Zj8oZT1kLTEsZi0tKTowPmUmJihlPTApOjA8YT9lPmQtMSYmZjxNYXRoLmZsb29yKGMubGVuZ3RoL2QpLTE/KGU9MCxmKyspOmU+ZC0xJiZlLS06MD5iPzA+ZiYmKGY9MCk6MDxiJiZmPk1hdGguZmxvb3IoYy5sZW5ndGgvZCktMSYmKGY9TWF0aC5mbG9vcihjLmxlbmd0aC9kKS0xKTt0aGlzLnNldEhpZ2hsaWdodGVkQ2VsbF8odGhpcy5waWNrZXJfLmNoaWxkTm9kZXNbZl0uY2hpbGROb2Rlc1tlXSxmKmQrZSl9O1xuQmxvY2tseS5GaWVsZENvbG91ci5wcm90b3R5cGUub25Nb3VzZU1vdmVfPWZ1bmN0aW9uKGEpe3ZhciBiPShhPWEudGFyZ2V0KSYmTnVtYmVyKGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKSk7bnVsbCE9PWImJmIhPT10aGlzLmhpZ2hsaWdodGVkSW5kZXhfJiZ0aGlzLnNldEhpZ2hsaWdodGVkQ2VsbF8oYSxiKX07QmxvY2tseS5GaWVsZENvbG91ci5wcm90b3R5cGUub25Nb3VzZUVudGVyXz1mdW5jdGlvbigpe3RoaXMucGlja2VyXy5mb2N1cyh7cHJldmVudFNjcm9sbDohMH0pfTtCbG9ja2x5LkZpZWxkQ29sb3VyLnByb3RvdHlwZS5vbk1vdXNlTGVhdmVfPWZ1bmN0aW9uKCl7dGhpcy5waWNrZXJfLmJsdXIoKTt2YXIgYT10aGlzLmdldEhpZ2hsaWdodGVkXygpO2EmJkJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZUNsYXNzKGEsXCJibG9ja2x5Q29sb3VySGlnaGxpZ2h0ZWRcIil9O1xuQmxvY2tseS5GaWVsZENvbG91ci5wcm90b3R5cGUuZ2V0SGlnaGxpZ2h0ZWRfPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb2x1bW5zX3x8QmxvY2tseS5GaWVsZENvbG91ci5DT0xVTU5TLGI9dGhpcy5waWNrZXJfLmNoaWxkTm9kZXNbTWF0aC5mbG9vcih0aGlzLmhpZ2hsaWdodGVkSW5kZXhfL2EpXTtyZXR1cm4gYj9iLmNoaWxkTm9kZXNbdGhpcy5oaWdobGlnaHRlZEluZGV4XyVhXTpudWxsfTtcbkJsb2NrbHkuRmllbGRDb2xvdXIucHJvdG90eXBlLnNldEhpZ2hsaWdodGVkQ2VsbF89ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldEhpZ2hsaWdodGVkXygpO2MmJkJsb2NrbHkudXRpbHMuZG9tLnJlbW92ZUNsYXNzKGMsXCJibG9ja2x5Q29sb3VySGlnaGxpZ2h0ZWRcIik7QmxvY2tseS51dGlscy5kb20uYWRkQ2xhc3MoYSxcImJsb2NrbHlDb2xvdXJIaWdobGlnaHRlZFwiKTt0aGlzLmhpZ2hsaWdodGVkSW5kZXhfPWI7QmxvY2tseS51dGlscy5hcmlhLnNldFN0YXRlKHRoaXMucGlja2VyXyxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuQUNUSVZFREVTQ0VOREFOVCxhLmdldEF0dHJpYnV0ZShcImlkXCIpKX07XG5CbG9ja2x5LkZpZWxkQ29sb3VyLnByb3RvdHlwZS5kcm9wZG93bkNyZWF0ZV89ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbHVtbnNffHxCbG9ja2x5LkZpZWxkQ29sb3VyLkNPTFVNTlMsYj10aGlzLmNvbG91cnNffHxCbG9ja2x5LkZpZWxkQ29sb3VyLkNPTE9VUlMsYz10aGlzLnRpdGxlc198fEJsb2NrbHkuRmllbGRDb2xvdXIuVElUTEVTLGQ9dGhpcy5nZXRWYWx1ZSgpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpO2UuY2xhc3NOYW1lPVwiYmxvY2tseUNvbG91clRhYmxlXCI7ZS50YWJJbmRleD0wO2UuZGlyPVwibHRyXCI7QmxvY2tseS51dGlscy5hcmlhLnNldFJvbGUoZSxCbG9ja2x5LnV0aWxzLmFyaWEuUm9sZS5HUklEKTtCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoZSxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuRVhQQU5ERUQsITApO0Jsb2NrbHkudXRpbHMuYXJpYS5zZXRTdGF0ZShlLEJsb2NrbHkudXRpbHMuYXJpYS5TdGF0ZS5ST1dDT1VOVCxNYXRoLmZsb29yKGIubGVuZ3RoL1xuYSkpO0Jsb2NrbHkudXRpbHMuYXJpYS5zZXRTdGF0ZShlLEJsb2NrbHkudXRpbHMuYXJpYS5TdGF0ZS5DT0xDT1VOVCxhKTtmb3IodmFyIGYsZz0wO2c8Yi5sZW5ndGg7ZysrKXswPT1nJWEmJihmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKSxCbG9ja2x5LnV0aWxzLmFyaWEuc2V0Um9sZShmLEJsb2NrbHkudXRpbHMuYXJpYS5Sb2xlLlJPVyksZS5hcHBlbmRDaGlsZChmKSk7dmFyIGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO2YuYXBwZW5kQ2hpbGQoaCk7aC5sYWJlbD1iW2ddO2gudGl0bGU9Y1tnXXx8YltnXTtoLmlkPUJsb2NrbHkudXRpbHMuSWRHZW5lcmF0b3IuZ2V0TmV4dFVuaXF1ZUlkKCk7aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIsZyk7QmxvY2tseS51dGlscy5hcmlhLnNldFJvbGUoaCxCbG9ja2x5LnV0aWxzLmFyaWEuUm9sZS5HUklEQ0VMTCk7QmxvY2tseS51dGlscy5hcmlhLnNldFN0YXRlKGgsQmxvY2tseS51dGlscy5hcmlhLlN0YXRlLkxBQkVMLFxuYltnXSk7QmxvY2tseS51dGlscy5hcmlhLnNldFN0YXRlKGgsQmxvY2tseS51dGlscy5hcmlhLlN0YXRlLlNFTEVDVEVELGJbZ109PWQpO2guc3R5bGUuYmFja2dyb3VuZENvbG9yPWJbZ107YltnXT09ZCYmKGguY2xhc3NOYW1lPVwiYmxvY2tseUNvbG91clNlbGVjdGVkXCIsdGhpcy5oaWdobGlnaHRlZEluZGV4Xz1nKX10aGlzLm9uQ2xpY2tXcmFwcGVyXz1CbG9ja2x5LmJpbmRFdmVudFdpdGhDaGVja3NfKGUsXCJjbGlja1wiLHRoaXMsdGhpcy5vbkNsaWNrXywhMCk7dGhpcy5vbk1vdXNlTW92ZVdyYXBwZXJfPUJsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18oZSxcIm1vdXNlbW92ZVwiLHRoaXMsdGhpcy5vbk1vdXNlTW92ZV8sITApO3RoaXMub25Nb3VzZUVudGVyV3JhcHBlcl89QmxvY2tseS5iaW5kRXZlbnRXaXRoQ2hlY2tzXyhlLFwibW91c2VlbnRlclwiLHRoaXMsdGhpcy5vbk1vdXNlRW50ZXJfLCEwKTt0aGlzLm9uTW91c2VMZWF2ZVdyYXBwZXJfPUJsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18oZSxcblwibW91c2VsZWF2ZVwiLHRoaXMsdGhpcy5vbk1vdXNlTGVhdmVfLCEwKTt0aGlzLm9uS2V5RG93bldyYXBwZXJfPUJsb2NrbHkuYmluZEV2ZW50V2l0aENoZWNrc18oZSxcImtleWRvd25cIix0aGlzLHRoaXMub25LZXlEb3duXyk7cmV0dXJuIGV9O1xuQmxvY2tseS5GaWVsZENvbG91ci5wcm90b3R5cGUuZHJvcGRvd25EaXNwb3NlXz1mdW5jdGlvbigpe3RoaXMub25DbGlja1dyYXBwZXJfJiYoQmxvY2tseS51bmJpbmRFdmVudF8odGhpcy5vbkNsaWNrV3JhcHBlcl8pLHRoaXMub25DbGlja1dyYXBwZXJfPW51bGwpO3RoaXMub25Nb3VzZU1vdmVXcmFwcGVyXyYmKEJsb2NrbHkudW5iaW5kRXZlbnRfKHRoaXMub25Nb3VzZU1vdmVXcmFwcGVyXyksdGhpcy5vbk1vdXNlTW92ZVdyYXBwZXJfPW51bGwpO3RoaXMub25Nb3VzZUVudGVyV3JhcHBlcl8mJihCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLm9uTW91c2VFbnRlcldyYXBwZXJfKSx0aGlzLm9uTW91c2VFbnRlcldyYXBwZXJfPW51bGwpO3RoaXMub25Nb3VzZUxlYXZlV3JhcHBlcl8mJihCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLm9uTW91c2VMZWF2ZVdyYXBwZXJfKSx0aGlzLm9uTW91c2VMZWF2ZVdyYXBwZXJfPW51bGwpO3RoaXMub25LZXlEb3duV3JhcHBlcl8mJihCbG9ja2x5LnVuYmluZEV2ZW50Xyh0aGlzLm9uS2V5RG93bldyYXBwZXJfKSxcbnRoaXMub25LZXlEb3duV3JhcHBlcl89bnVsbCk7dGhpcy5oaWdobGlnaHRlZEluZGV4Xz10aGlzLnBpY2tlcl89bnVsbH07XG5CbG9ja2x5LkNzcy5yZWdpc3RlcihbXCIuYmxvY2tseUNvbG91clRhYmxlIHtcIixcImJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XCIsXCJkaXNwbGF5OiBibG9jaztcIixcIm91dGxpbmU6IG5vbmU7XCIsXCJwYWRkaW5nOiAxcHg7XCIsXCJ9XCIsXCIuYmxvY2tseUNvbG91clRhYmxlPnRyPnRkIHtcIixcImJvcmRlcjogLjVweCBzb2xpZCAjODg4O1wiLFwiYm94LXNpemluZzogYm9yZGVyLWJveDtcIixcImN1cnNvcjogcG9pbnRlcjtcIixcImRpc3BsYXk6IGlubGluZS1ibG9jaztcIixcImhlaWdodDogMjBweDtcIixcInBhZGRpbmc6IDA7XCIsXCJ3aWR0aDogMjBweDtcIixcIn1cIixcIi5ibG9ja2x5Q29sb3VyVGFibGU+dHI+dGQuYmxvY2tseUNvbG91ckhpZ2hsaWdodGVkIHtcIixcImJvcmRlci1jb2xvcjogI2VlZTtcIixcImJveC1zaGFkb3c6IDJweCAycHggN3B4IDJweCByZ2JhKDAsMCwwLC4zKTtcIixcInBvc2l0aW9uOiByZWxhdGl2ZTtcIixcIn1cIixcIi5ibG9ja2x5Q29sb3VyU2VsZWN0ZWQsIC5ibG9ja2x5Q29sb3VyU2VsZWN0ZWQ6aG92ZXIge1wiLFxuXCJib3JkZXItY29sb3I6ICNlZWUgIWltcG9ydGFudDtcIixcIm91dGxpbmU6IDFweCBzb2xpZCAjMzMzO1wiLFwicG9zaXRpb246IHJlbGF0aXZlO1wiLFwifVwiXSk7QmxvY2tseS5maWVsZFJlZ2lzdHJ5LnJlZ2lzdGVyKFwiZmllbGRfY29sb3VyXCIsQmxvY2tseS5GaWVsZENvbG91cik7QmxvY2tseS5GaWVsZERyb3Bkb3duPWZ1bmN0aW9uKGEsYixjKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBhJiZCbG9ja2x5LkZpZWxkRHJvcGRvd24udmFsaWRhdGVPcHRpb25zXyhhKTt0aGlzLm1lbnVHZW5lcmF0b3JfPWE7dGhpcy5nZW5lcmF0ZWRPcHRpb25zXz1udWxsO3RoaXMudHJpbU9wdGlvbnNfKCk7dGhpcy5zZWxlY3RlZE9wdGlvbl89dGhpcy5nZXRPcHRpb25zKCExKVswXTtCbG9ja2x5LkZpZWxkRHJvcGRvd24uc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLHRoaXMuc2VsZWN0ZWRPcHRpb25fWzFdLGIsYyk7dGhpcy5zdmdBcnJvd189dGhpcy5hcnJvd189dGhpcy5pbWFnZUVsZW1lbnRfPXRoaXMubWVudV89dGhpcy5zZWxlY3RlZE1lbnVJdGVtXz1udWxsfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LkZpZWxkRHJvcGRvd24sQmxvY2tseS5GaWVsZCk7XG5CbG9ja2x5LkZpZWxkRHJvcGRvd24uZnJvbUpzb249ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBCbG9ja2x5LkZpZWxkRHJvcGRvd24oYS5vcHRpb25zLHZvaWQgMCxhKX07QmxvY2tseS5GaWVsZERyb3Bkb3duLnByb3RvdHlwZS5TRVJJQUxJWkFCTEU9ITA7QmxvY2tseS5GaWVsZERyb3Bkb3duLkNIRUNLTUFSS19PVkVSSEFORz0yNTtCbG9ja2x5LkZpZWxkRHJvcGRvd24uTUFYX01FTlVfSEVJR0hUX1ZIPS40NTtCbG9ja2x5LkZpZWxkRHJvcGRvd24uSU1BR0VfWV9PRkZTRVQ9NTtCbG9ja2x5LkZpZWxkRHJvcGRvd24uSU1BR0VfWV9QQURESU5HPTIqQmxvY2tseS5GaWVsZERyb3Bkb3duLklNQUdFX1lfT0ZGU0VUO0Jsb2NrbHkuRmllbGREcm9wZG93bi5BUlJPV19DSEFSPUJsb2NrbHkudXRpbHMudXNlckFnZW50LkFORFJPSUQ/XCJcXHUyNWJjXCI6XCJcXHUyNWJlXCI7QmxvY2tseS5GaWVsZERyb3Bkb3duLnByb3RvdHlwZS5DVVJTT1I9XCJkZWZhdWx0XCI7XG5CbG9ja2x5LkZpZWxkRHJvcGRvd24ucHJvdG90eXBlLmluaXRWaWV3PWZ1bmN0aW9uKCl7dGhpcy5zaG91bGRBZGRCb3JkZXJSZWN0XygpP3RoaXMuY3JlYXRlQm9yZGVyUmVjdF8oKTp0aGlzLmNsaWNrVGFyZ2V0Xz10aGlzLnNvdXJjZUJsb2NrXy5nZXRTdmdSb290KCk7dGhpcy5jcmVhdGVUZXh0RWxlbWVudF8oKTt0aGlzLmltYWdlRWxlbWVudF89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImltYWdlXCIse30sdGhpcy5maWVsZEdyb3VwXyk7dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1c/dGhpcy5jcmVhdGVTVkdBcnJvd18oKTp0aGlzLmNyZWF0ZVRleHRBcnJvd18oKTt0aGlzLmJvcmRlclJlY3RfJiZCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyh0aGlzLmJvcmRlclJlY3RfLFwiYmxvY2tseURyb3Bkb3duUmVjdFwiKX07XG5CbG9ja2x5LkZpZWxkRHJvcGRvd24ucHJvdG90eXBlLnNob3VsZEFkZEJvcmRlclJlY3RfPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfRFJPUERPV05fTk9fQk9SREVSX1JFQ1RfU0hBRE9XfHx0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX05PX0JPUkRFUl9SRUNUX1NIQURPVyYmIXRoaXMuc291cmNlQmxvY2tfLmlzU2hhZG93KCl9O1xuQmxvY2tseS5GaWVsZERyb3Bkb3duLnByb3RvdHlwZS5jcmVhdGVUZXh0QXJyb3dfPWZ1bmN0aW9uKCl7dGhpcy5hcnJvd189QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInRzcGFuXCIse30sdGhpcy50ZXh0RWxlbWVudF8pO3RoaXMuYXJyb3dfLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMuc291cmNlQmxvY2tfLlJUTD9CbG9ja2x5LkZpZWxkRHJvcGRvd24uQVJST1dfQ0hBUitcIiBcIjpcIiBcIitCbG9ja2x5LkZpZWxkRHJvcGRvd24uQVJST1dfQ0hBUikpO3RoaXMuc291cmNlQmxvY2tfLlJUTD90aGlzLnRleHRFbGVtZW50Xy5pbnNlcnRCZWZvcmUodGhpcy5hcnJvd18sdGhpcy50ZXh0Q29udGVudF8pOnRoaXMudGV4dEVsZW1lbnRfLmFwcGVuZENoaWxkKHRoaXMuYXJyb3dfKX07XG5CbG9ja2x5LkZpZWxkRHJvcGRvd24ucHJvdG90eXBlLmNyZWF0ZVNWR0Fycm93Xz1mdW5jdGlvbigpe3RoaXMuc3ZnQXJyb3dfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJpbWFnZVwiLHtoZWlnaHQ6dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1dfU0laRStcInB4XCIsd2lkdGg6dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1dfU0laRStcInB4XCJ9LHRoaXMuZmllbGRHcm91cF8pO3RoaXMuc3ZnQXJyb3dfLnNldEF0dHJpYnV0ZU5TKEJsb2NrbHkudXRpbHMuZG9tLlhMSU5LX05TLFwieGxpbms6aHJlZlwiLHRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XX0RBVEFVUkkpfTtcbkJsb2NrbHkuRmllbGREcm9wZG93bi5wcm90b3R5cGUuc2hvd0VkaXRvcl89ZnVuY3Rpb24oYSl7dGhpcy5tZW51Xz10aGlzLmRyb3Bkb3duQ3JlYXRlXygpO3RoaXMubWVudV8ub3BlbmluZ0Nvb3Jkcz1hJiZcIm51bWJlclwiPT09dHlwZW9mIGEuY2xpZW50WD9uZXcgQmxvY2tseS51dGlscy5Db29yZGluYXRlKGEuY2xpZW50WCxhLmNsaWVudFkpOm51bGw7dGhpcy5tZW51Xy5yZW5kZXIoQmxvY2tseS5Ecm9wRG93bkRpdi5nZXRDb250ZW50RGl2KCkpO0Jsb2NrbHkudXRpbHMuZG9tLmFkZENsYXNzKHRoaXMubWVudV8uZ2V0RWxlbWVudCgpLFwiYmxvY2tseURyb3Bkb3duTWVudVwiKTtpZih0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX0NPTE9VUkVEX0RJVil7YT10aGlzLnNvdXJjZUJsb2NrXy5pc1NoYWRvdygpP3RoaXMuc291cmNlQmxvY2tfLmdldFBhcmVudCgpLmdldENvbG91cigpOnRoaXMuc291cmNlQmxvY2tfLmdldENvbG91cigpO3ZhciBiPXRoaXMuc291cmNlQmxvY2tfLmlzU2hhZG93KCk/XG50aGlzLnNvdXJjZUJsb2NrXy5nZXRQYXJlbnQoKS5zdHlsZS5jb2xvdXJUZXJ0aWFyeTp0aGlzLnNvdXJjZUJsb2NrXy5zdHlsZS5jb2xvdXJUZXJ0aWFyeTtCbG9ja2x5LkRyb3BEb3duRGl2LnNldENvbG91cihhLGIpfUJsb2NrbHkuRHJvcERvd25EaXYuc2hvd1Bvc2l0aW9uZWRCeUZpZWxkKHRoaXMsdGhpcy5kcm9wZG93bkRpc3Bvc2VfLmJpbmQodGhpcykpO3RoaXMubWVudV8uZm9jdXMoKTt0aGlzLnNlbGVjdGVkTWVudUl0ZW1fJiZCbG9ja2x5LnV0aWxzLnN0eWxlLnNjcm9sbEludG9Db250YWluZXJWaWV3KHRoaXMuc2VsZWN0ZWRNZW51SXRlbV8uZ2V0RWxlbWVudCgpLHRoaXMubWVudV8uZ2V0RWxlbWVudCgpKTt0aGlzLmFwcGx5Q29sb3VyKCl9O1xuQmxvY2tseS5GaWVsZERyb3Bkb3duLnByb3RvdHlwZS5kcm9wZG93bkNyZWF0ZV89ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmxvY2tseS5NZW51O2Euc2V0UmlnaHRUb0xlZnQodGhpcy5zb3VyY2VCbG9ja18uUlRMKTthLnNldFJvbGUoQmxvY2tseS51dGlscy5hcmlhLlJvbGUuTElTVEJPWCk7dmFyIGI9dGhpcy5nZXRPcHRpb25zKCExKTt0aGlzLnNlbGVjdGVkTWVudUl0ZW1fPW51bGw7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY11bMF0sZT1iW2NdWzFdO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBkKXt2YXIgZj1uZXcgSW1hZ2UoZC53aWR0aCxkLmhlaWdodCk7Zi5zcmM9ZC5zcmM7Zi5hbHQ9ZC5hbHR8fFwiXCI7ZD1mfWQ9bmV3IEJsb2NrbHkuTWVudUl0ZW0oZCk7ZC5zZXRSb2xlKEJsb2NrbHkudXRpbHMuYXJpYS5Sb2xlLk9QVElPTik7ZC5zZXRSaWdodFRvTGVmdCh0aGlzLnNvdXJjZUJsb2NrXy5SVEwpO2Quc2V0VmFsdWUoZSk7ZC5zZXRDaGVja2FibGUoITApO1xuYS5hZGRDaGlsZChkLCEwKTtkLnNldENoZWNrZWQoZT09dGhpcy52YWx1ZV8pO2U9PXRoaXMudmFsdWVfJiYodGhpcy5zZWxlY3RlZE1lbnVJdGVtXz1kKTtkLm9uQWN0aW9uKHRoaXMuaGFuZGxlTWVudUFjdGlvbkV2ZW50Xyx0aGlzKX1CbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoYS5nZXRFbGVtZW50KCksQmxvY2tseS51dGlscy5hcmlhLlN0YXRlLkFDVElWRURFU0NFTkRBTlQsdGhpcy5zZWxlY3RlZE1lbnVJdGVtXz90aGlzLnNlbGVjdGVkTWVudUl0ZW1fLmdldElkKCk6XCJcIik7cmV0dXJuIGF9O0Jsb2NrbHkuRmllbGREcm9wZG93bi5wcm90b3R5cGUuZHJvcGRvd25EaXNwb3NlXz1mdW5jdGlvbigpe3RoaXMubWVudV8mJnRoaXMubWVudV8uZGlzcG9zZSgpO3RoaXMuc2VsZWN0ZWRNZW51SXRlbV89dGhpcy5tZW51Xz1udWxsO3RoaXMuYXBwbHlDb2xvdXIoKX07XG5CbG9ja2x5LkZpZWxkRHJvcGRvd24ucHJvdG90eXBlLmhhbmRsZU1lbnVBY3Rpb25FdmVudF89ZnVuY3Rpb24oYSl7QmxvY2tseS5Ecm9wRG93bkRpdi5oaWRlSWZPd25lcih0aGlzLCEwKTt0aGlzLm9uSXRlbVNlbGVjdGVkXyh0aGlzLm1lbnVfLGEpfTtCbG9ja2x5LkZpZWxkRHJvcGRvd24ucHJvdG90eXBlLm9uSXRlbVNlbGVjdGVkXz1mdW5jdGlvbihhLGIpe3RoaXMuc2V0VmFsdWUoYi5nZXRWYWx1ZSgpKX07XG5CbG9ja2x5LkZpZWxkRHJvcGRvd24ucHJvdG90eXBlLnRyaW1PcHRpb25zXz1mdW5jdGlvbigpe3RoaXMuc3VmZml4RmllbGQ9dGhpcy5wcmVmaXhGaWVsZD1udWxsO3ZhciBhPXRoaXMubWVudUdlbmVyYXRvcl87aWYoQXJyYXkuaXNBcnJheShhKSl7Zm9yKHZhciBiPSExLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXVswXTtcInN0cmluZ1wiPT10eXBlb2YgZD9hW2NdWzBdPUJsb2NrbHkudXRpbHMucmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzKGQpOihudWxsIT1kLmFsdCYmKGFbY11bMF0uYWx0PUJsb2NrbHkudXRpbHMucmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzKGQuYWx0KSksYj0hMCl9aWYoIShifHwyPmEubGVuZ3RoKSl7Yj1bXTtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWIucHVzaChhW2NdWzBdKTtjPUJsb2NrbHkudXRpbHMuc3RyaW5nLnNob3J0ZXN0U3RyaW5nTGVuZ3RoKGIpO2Q9QmxvY2tseS51dGlscy5zdHJpbmcuY29tbW9uV29yZFByZWZpeChiLGMpO3ZhciBlPVxuQmxvY2tseS51dGlscy5zdHJpbmcuY29tbW9uV29yZFN1ZmZpeChiLGMpOyFkJiYhZXx8Yzw9ZCtlfHwoZCYmKHRoaXMucHJlZml4RmllbGQ9YlswXS5zdWJzdHJpbmcoMCxkLTEpKSxlJiYodGhpcy5zdWZmaXhGaWVsZD1iWzBdLnN1YnN0cigxLWUpKSx0aGlzLm1lbnVHZW5lcmF0b3JfPUJsb2NrbHkuRmllbGREcm9wZG93bi5hcHBseVRyaW1fKGEsZCxlKSl9fX07QmxvY2tseS5GaWVsZERyb3Bkb3duLmFwcGx5VHJpbV89ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1bXSxlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBmPWFbZV1bMF0sZz1hW2VdWzFdO2Y9Zi5zdWJzdHJpbmcoYixmLmxlbmd0aC1jKTtkW2VdPVtmLGddfXJldHVybiBkfTtCbG9ja2x5LkZpZWxkRHJvcGRvd24ucHJvdG90eXBlLmlzT3B0aW9uTGlzdER5bmFtaWM9ZnVuY3Rpb24oKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLm1lbnVHZW5lcmF0b3JffTtcbkJsb2NrbHkuRmllbGREcm9wZG93bi5wcm90b3R5cGUuZ2V0T3B0aW9ucz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc09wdGlvbkxpc3REeW5hbWljKCk/KHRoaXMuZ2VuZXJhdGVkT3B0aW9uc18mJmF8fCh0aGlzLmdlbmVyYXRlZE9wdGlvbnNfPXRoaXMubWVudUdlbmVyYXRvcl8uY2FsbCh0aGlzKSxCbG9ja2x5LkZpZWxkRHJvcGRvd24udmFsaWRhdGVPcHRpb25zXyh0aGlzLmdlbmVyYXRlZE9wdGlvbnNfKSksdGhpcy5nZW5lcmF0ZWRPcHRpb25zXyk6dGhpcy5tZW51R2VuZXJhdG9yX307XG5CbG9ja2x5LkZpZWxkRHJvcGRvd24ucHJvdG90eXBlLmRvQ2xhc3NWYWxpZGF0aW9uXz1mdW5jdGlvbihhKXtmb3IodmFyIGI9ITEsYz10aGlzLmdldE9wdGlvbnMoITApLGQ9MCxlO2U9Y1tkXTtkKyspaWYoZVsxXT09YSl7Yj0hMDticmVha31yZXR1cm4gYj9hOih0aGlzLnNvdXJjZUJsb2NrXyYmY29uc29sZS53YXJuKFwiQ2Fubm90IHNldCB0aGUgZHJvcGRvd24ncyB2YWx1ZSB0byBhbiB1bmF2YWlsYWJsZSBvcHRpb24uIEJsb2NrIHR5cGU6IFwiK3RoaXMuc291cmNlQmxvY2tfLnR5cGUrXCIsIEZpZWxkIG5hbWU6IFwiK3RoaXMubmFtZStcIiwgVmFsdWU6IFwiK2EpLG51bGwpfTtcbkJsb2NrbHkuRmllbGREcm9wZG93bi5wcm90b3R5cGUuZG9WYWx1ZVVwZGF0ZV89ZnVuY3Rpb24oYSl7QmxvY2tseS5GaWVsZERyb3Bkb3duLnN1cGVyQ2xhc3NfLmRvVmFsdWVVcGRhdGVfLmNhbGwodGhpcyxhKTthPXRoaXMuZ2V0T3B0aW9ucyghMCk7Zm9yKHZhciBiPTAsYztjPWFbYl07YisrKWNbMV09PXRoaXMudmFsdWVfJiYodGhpcy5zZWxlY3RlZE9wdGlvbl89Yyl9O1xuQmxvY2tseS5GaWVsZERyb3Bkb3duLnByb3RvdHlwZS5hcHBseUNvbG91cj1mdW5jdGlvbigpe3RoaXMuYm9yZGVyUmVjdF8mJih0aGlzLmJvcmRlclJlY3RfLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLHRoaXMuc291cmNlQmxvY2tfLnN0eWxlLmNvbG91clRlcnRpYXJ5KSx0aGlzLm1lbnVfP3RoaXMuYm9yZGVyUmVjdF8uc2V0QXR0cmlidXRlKFwiZmlsbFwiLHRoaXMuc291cmNlQmxvY2tfLnN0eWxlLmNvbG91clRlcnRpYXJ5KTp0aGlzLmJvcmRlclJlY3RfLnNldEF0dHJpYnV0ZShcImZpbGxcIixcInRyYW5zcGFyZW50XCIpKTt0aGlzLnNvdXJjZUJsb2NrXyYmdGhpcy5hcnJvd18mJih0aGlzLnNvdXJjZUJsb2NrXy5pc1NoYWRvdygpP3RoaXMuYXJyb3dfLnN0eWxlLmZpbGw9dGhpcy5zb3VyY2VCbG9ja18uc3R5bGUuY29sb3VyU2Vjb25kYXJ5OnRoaXMuYXJyb3dfLnN0eWxlLmZpbGw9dGhpcy5zb3VyY2VCbG9ja18uc3R5bGUuY29sb3VyUHJpbWFyeSl9O1xuQmxvY2tseS5GaWVsZERyb3Bkb3duLnByb3RvdHlwZS5yZW5kZXJfPWZ1bmN0aW9uKCl7dGhpcy50ZXh0Q29udGVudF8ubm9kZVZhbHVlPVwiXCI7dGhpcy5pbWFnZUVsZW1lbnRfLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dmFyIGE9dGhpcy5zZWxlY3RlZE9wdGlvbl8mJnRoaXMuc2VsZWN0ZWRPcHRpb25fWzBdO2EmJlwib2JqZWN0XCI9PXR5cGVvZiBhP3RoaXMucmVuZGVyU2VsZWN0ZWRJbWFnZV8oYSk6dGhpcy5yZW5kZXJTZWxlY3RlZFRleHRfKCk7dGhpcy5wb3NpdGlvbkJvcmRlclJlY3RfKCl9O1xuQmxvY2tseS5GaWVsZERyb3Bkb3duLnByb3RvdHlwZS5yZW5kZXJTZWxlY3RlZEltYWdlXz1mdW5jdGlvbihhKXt0aGlzLmltYWdlRWxlbWVudF8uc3R5bGUuZGlzcGxheT1cIlwiO3RoaXMuaW1hZ2VFbGVtZW50Xy5zZXRBdHRyaWJ1dGVOUyhCbG9ja2x5LnV0aWxzLmRvbS5YTElOS19OUyxcInhsaW5rOmhyZWZcIixhLnNyYyk7dGhpcy5pbWFnZUVsZW1lbnRfLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGEuaGVpZ2h0KTt0aGlzLmltYWdlRWxlbWVudF8uc2V0QXR0cmlidXRlKFwid2lkdGhcIixhLndpZHRoKTt2YXIgYj1OdW1iZXIoYS5oZWlnaHQpO2E9TnVtYmVyKGEud2lkdGgpO3ZhciBjPSEhdGhpcy5ib3JkZXJSZWN0XyxkPU1hdGgubWF4KGM/dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9CT1JERVJfUkVDVF9IRUlHSFQ6MCxiK0Jsb2NrbHkuRmllbGREcm9wZG93bi5JTUFHRV9ZX1BBRERJTkcpO2M9Yz90aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORzpcbjA7dmFyIGU9dGhpcy5zdmdBcnJvd18/dGhpcy5wb3NpdGlvblNWR0Fycm93XyhhK2MsZC8yLXRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XX1NJWkUvMik6QmxvY2tseS51dGlscy5kb20uZ2V0RmFzdFRleHRXaWR0aCh0aGlzLmFycm93Xyx0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX1RFWFRfRk9OVFNJWkUsdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9URVhUX0ZPTlRXRUlHSFQsdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9URVhUX0ZPTlRGQU1JTFkpO3RoaXMuc2l6ZV8ud2lkdGg9YStlKzIqYzt0aGlzLnNpemVfLmhlaWdodD1kO3ZhciBmPTA7dGhpcy5zb3VyY2VCbG9ja18uUlRMP3RoaXMuaW1hZ2VFbGVtZW50Xy5zZXRBdHRyaWJ1dGUoXCJ4XCIsYytlKTooZj1hK2UsdGhpcy50ZXh0RWxlbWVudF8uc2V0QXR0cmlidXRlKFwidGV4dC1hbmNob3JcIixcImVuZFwiKSx0aGlzLmltYWdlRWxlbWVudF8uc2V0QXR0cmlidXRlKFwieFwiLGMpKTt0aGlzLmltYWdlRWxlbWVudF8uc2V0QXR0cmlidXRlKFwieVwiLFxuZC8yLWIvMik7dGhpcy5wb3NpdGlvblRleHRFbGVtZW50XyhmK2MsYStlKX07XG5CbG9ja2x5LkZpZWxkRHJvcGRvd24ucHJvdG90eXBlLnJlbmRlclNlbGVjdGVkVGV4dF89ZnVuY3Rpb24oKXt0aGlzLnRleHRDb250ZW50Xy5ub2RlVmFsdWU9dGhpcy5nZXREaXNwbGF5VGV4dF8oKTtCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyh0aGlzLnRleHRFbGVtZW50XyxcImJsb2NrbHlEcm9wZG93blRleHRcIik7dGhpcy50ZXh0RWxlbWVudF8uc2V0QXR0cmlidXRlKFwidGV4dC1hbmNob3JcIixcInN0YXJ0XCIpO3ZhciBhPSEhdGhpcy5ib3JkZXJSZWN0XyxiPU1hdGgubWF4KGE/dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9CT1JERVJfUkVDVF9IRUlHSFQ6MCx0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX1RFWFRfSEVJR0hUKSxjPUJsb2NrbHkudXRpbHMuZG9tLmdldEZhc3RUZXh0V2lkdGgodGhpcy50ZXh0RWxlbWVudF8sdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9URVhUX0ZPTlRTSVpFLHRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfVEVYVF9GT05UV0VJR0hULFxudGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9URVhUX0ZPTlRGQU1JTFkpO2E9YT90aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORzowO3ZhciBkPTA7dGhpcy5zdmdBcnJvd18mJihkPXRoaXMucG9zaXRpb25TVkdBcnJvd18oYythLGIvMi10aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX1NWR19BUlJPV19TSVpFLzIpKTt0aGlzLnNpemVfLndpZHRoPWMrZCsyKmE7dGhpcy5zaXplXy5oZWlnaHQ9Yjt0aGlzLnBvc2l0aW9uVGV4dEVsZW1lbnRfKGEsYyl9O1xuQmxvY2tseS5GaWVsZERyb3Bkb3duLnByb3RvdHlwZS5wb3NpdGlvblNWR0Fycm93Xz1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLnN2Z0Fycm93XylyZXR1cm4gMDt2YXIgYz10aGlzLmJvcmRlclJlY3RfP3RoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfQk9SREVSX1JFQ1RfWF9QQURESU5HOjAsZD10aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0RST1BET1dOX1NWR19BUlJPV19QQURESU5HLGU9dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1dfU0laRTt0aGlzLnN2Z0Fycm93Xy5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZShcIisodGhpcy5zb3VyY2VCbG9ja18uUlRMP2M6YStkKStcIixcIitiK1wiKVwiKTtyZXR1cm4gZStkfTtcbkJsb2NrbHkuRmllbGREcm9wZG93bi5wcm90b3R5cGUuZ2V0VGV4dF89ZnVuY3Rpb24oKXtpZighdGhpcy5zZWxlY3RlZE9wdGlvbl8pcmV0dXJuIG51bGw7dmFyIGE9dGhpcy5zZWxlY3RlZE9wdGlvbl9bMF07cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGE/YS5hbHQ6YX07XG5CbG9ja2x5LkZpZWxkRHJvcGRvd24udmFsaWRhdGVPcHRpb25zXz1mdW5jdGlvbihhKXtpZighQXJyYXkuaXNBcnJheShhKSl0aHJvdyBUeXBlRXJyb3IoXCJGaWVsZERyb3Bkb3duIG9wdGlvbnMgbXVzdCBiZSBhbiBhcnJheS5cIik7aWYoIWEubGVuZ3RoKXRocm93IFR5cGVFcnJvcihcIkZpZWxkRHJvcGRvd24gb3B0aW9ucyBtdXN0IG5vdCBiZSBhbiBlbXB0eSBhcnJheS5cIik7Zm9yKHZhciBiPSExLGM9MDtjPGEubGVuZ3RoOysrYyl7dmFyIGQ9YVtjXTtBcnJheS5pc0FycmF5KGQpP1wic3RyaW5nXCIhPXR5cGVvZiBkWzFdPyhiPSEwLGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIG9wdGlvbltcIitjK1wiXTogRWFjaCBGaWVsZERyb3Bkb3duIG9wdGlvbiBpZCBtdXN0IGJlIGEgc3RyaW5nLiBGb3VuZCBcIitkWzFdK1wiIGluOiBcIixkKSk6ZFswXSYmXCJzdHJpbmdcIiE9dHlwZW9mIGRbMF0mJlwic3RyaW5nXCIhPXR5cGVvZiBkWzBdLnNyYyYmKGI9ITAsY29uc29sZS5lcnJvcihcIkludmFsaWQgb3B0aW9uW1wiK1xuYytcIl06IEVhY2ggRmllbGREcm9wZG93biBvcHRpb24gbXVzdCBoYXZlIGEgc3RyaW5nIGxhYmVsIG9yIGltYWdlIGRlc2NyaXB0aW9uLiBGb3VuZFwiK2RbMF0rXCIgaW46IFwiLGQpKTooYj0hMCxjb25zb2xlLmVycm9yKFwiSW52YWxpZCBvcHRpb25bXCIrYytcIl06IEVhY2ggRmllbGREcm9wZG93biBvcHRpb24gbXVzdCBiZSBhbiBhcnJheS4gRm91bmQ6IFwiLGQpKX1pZihiKXRocm93IFR5cGVFcnJvcihcIkZvdW5kIGludmFsaWQgRmllbGREcm9wZG93biBvcHRpb25zLlwiKTt9O1xuQmxvY2tseS5GaWVsZERyb3Bkb3duLnByb3RvdHlwZS5vbkJsb2NrbHlBY3Rpb249ZnVuY3Rpb24oYSl7aWYodGhpcy5tZW51Xyl7aWYoYT09PUJsb2NrbHkubmF2aWdhdGlvbi5BQ1RJT05fUFJFVklPVVMpcmV0dXJuIHRoaXMubWVudV8uaGlnaGxpZ2h0UHJldmlvdXMoKSwhMDtpZihhPT09QmxvY2tseS5uYXZpZ2F0aW9uLkFDVElPTl9ORVhUKXJldHVybiB0aGlzLm1lbnVfLmhpZ2hsaWdodE5leHQoKSwhMH1yZXR1cm4gQmxvY2tseS5GaWVsZERyb3Bkb3duLnN1cGVyQ2xhc3NfLm9uQmxvY2tseUFjdGlvbi5jYWxsKHRoaXMsYSl9O0Jsb2NrbHkuZmllbGRSZWdpc3RyeS5yZWdpc3RlcihcImZpZWxkX2Ryb3Bkb3duXCIsQmxvY2tseS5GaWVsZERyb3Bkb3duKTtCbG9ja2x5LkZpZWxkTGFiZWxTZXJpYWxpemFibGU9ZnVuY3Rpb24oYSxiLGMpe0Jsb2NrbHkuRmllbGRMYWJlbFNlcmlhbGl6YWJsZS5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSxiLGMpfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LkZpZWxkTGFiZWxTZXJpYWxpemFibGUsQmxvY2tseS5GaWVsZExhYmVsKTtCbG9ja2x5LkZpZWxkTGFiZWxTZXJpYWxpemFibGUuZnJvbUpzb249ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS51dGlscy5yZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMoYS50ZXh0KTtyZXR1cm4gbmV3IEJsb2NrbHkuRmllbGRMYWJlbFNlcmlhbGl6YWJsZShiLHZvaWQgMCxhKX07QmxvY2tseS5GaWVsZExhYmVsU2VyaWFsaXphYmxlLnByb3RvdHlwZS5FRElUQUJMRT0hMTtCbG9ja2x5LkZpZWxkTGFiZWxTZXJpYWxpemFibGUucHJvdG90eXBlLlNFUklBTElaQUJMRT0hMDtcbkJsb2NrbHkuZmllbGRSZWdpc3RyeS5yZWdpc3RlcihcImZpZWxkX2xhYmVsX3NlcmlhbGl6YWJsZVwiLEJsb2NrbHkuRmllbGRMYWJlbFNlcmlhbGl6YWJsZSk7QmxvY2tseS5GaWVsZEltYWdlPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2lmKCFhKXRocm93IEVycm9yKFwiU3JjIHZhbHVlIG9mIGFuIGltYWdlIGZpZWxkIGlzIHJlcXVpcmVkXCIpO2E9QmxvY2tseS51dGlscy5yZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMoYSk7Yz1OdW1iZXIoQmxvY2tseS51dGlscy5yZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMoYykpO2I9TnVtYmVyKEJsb2NrbHkudXRpbHMucmVwbGFjZU1lc3NhZ2VSZWZlcmVuY2VzKGIpKTtpZihpc05hTihjKXx8aXNOYU4oYikpdGhyb3cgRXJyb3IoXCJIZWlnaHQgYW5kIHdpZHRoIHZhbHVlcyBvZiBhbiBpbWFnZSBmaWVsZCBtdXN0IGNhc3QgdG8gbnVtYmVycy5cIik7aWYoMD49Y3x8MD49Yil0aHJvdyBFcnJvcihcIkhlaWdodCBhbmQgd2lkdGggdmFsdWVzIG9mIGFuIGltYWdlIGZpZWxkIG11c3QgYmUgZ3JlYXRlciB0aGFuIDAuXCIpO3RoaXMuZmxpcFJ0bF89ITE7dGhpcy5hbHRUZXh0Xz1cIlwiO0Jsb2NrbHkuRmllbGRJbWFnZS5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsXG5hfHxcIlwiLG51bGwsZyk7Z3x8KHRoaXMuZmxpcFJ0bF89ISFmLHRoaXMuYWx0VGV4dF89QmxvY2tseS51dGlscy5yZXBsYWNlTWVzc2FnZVJlZmVyZW5jZXMoZCl8fFwiXCIpO3RoaXMuc2l6ZV89bmV3IEJsb2NrbHkudXRpbHMuU2l6ZShiLGMrQmxvY2tseS5GaWVsZEltYWdlLllfUEFERElORyk7dGhpcy5pbWFnZUhlaWdodF89Yzt0aGlzLmNsaWNrSGFuZGxlcl89bnVsbDtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYodGhpcy5jbGlja0hhbmRsZXJfPWUpO3RoaXMuaW1hZ2VFbGVtZW50Xz1udWxsfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LkZpZWxkSW1hZ2UsQmxvY2tseS5GaWVsZCk7QmxvY2tseS5GaWVsZEltYWdlLmZyb21Kc29uPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQmxvY2tseS5GaWVsZEltYWdlKGEuc3JjLGEud2lkdGgsYS5oZWlnaHQsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYSl9O0Jsb2NrbHkuRmllbGRJbWFnZS5ZX1BBRERJTkc9MTtcbkJsb2NrbHkuRmllbGRJbWFnZS5wcm90b3R5cGUuRURJVEFCTEU9ITE7QmxvY2tseS5GaWVsZEltYWdlLnByb3RvdHlwZS5pc0RpcnR5Xz0hMTtCbG9ja2x5LkZpZWxkSW1hZ2UucHJvdG90eXBlLmNvbmZpZ3VyZV89ZnVuY3Rpb24oYSl7QmxvY2tseS5GaWVsZEltYWdlLnN1cGVyQ2xhc3NfLmNvbmZpZ3VyZV8uY2FsbCh0aGlzLGEpO3RoaXMuZmxpcFJ0bF89ISFhLmZsaXBSdGw7dGhpcy5hbHRUZXh0Xz1CbG9ja2x5LnV0aWxzLnJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyhhLmFsdCl8fFwiXCJ9O1xuQmxvY2tseS5GaWVsZEltYWdlLnByb3RvdHlwZS5pbml0Vmlldz1mdW5jdGlvbigpe3RoaXMuaW1hZ2VFbGVtZW50Xz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiaW1hZ2VcIix7aGVpZ2h0OnRoaXMuaW1hZ2VIZWlnaHRfK1wicHhcIix3aWR0aDp0aGlzLnNpemVfLndpZHRoK1wicHhcIixhbHQ6dGhpcy5hbHRUZXh0X30sdGhpcy5maWVsZEdyb3VwXyk7dGhpcy5pbWFnZUVsZW1lbnRfLnNldEF0dHJpYnV0ZU5TKEJsb2NrbHkudXRpbHMuZG9tLlhMSU5LX05TLFwieGxpbms6aHJlZlwiLHRoaXMudmFsdWVfKTt0aGlzLmNsaWNrSGFuZGxlcl8mJih0aGlzLmltYWdlRWxlbWVudF8uc3R5bGUuY3Vyc29yPVwicG9pbnRlclwiKX07QmxvY2tseS5GaWVsZEltYWdlLnByb3RvdHlwZS51cGRhdGVTaXplXz1mdW5jdGlvbigpe307XG5CbG9ja2x5LkZpZWxkSW1hZ2UucHJvdG90eXBlLmRvQ2xhc3NWYWxpZGF0aW9uXz1mdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYT9udWxsOmF9O0Jsb2NrbHkuRmllbGRJbWFnZS5wcm90b3R5cGUuZG9WYWx1ZVVwZGF0ZV89ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZV89YTt0aGlzLmltYWdlRWxlbWVudF8mJnRoaXMuaW1hZ2VFbGVtZW50Xy5zZXRBdHRyaWJ1dGVOUyhCbG9ja2x5LnV0aWxzLmRvbS5YTElOS19OUyxcInhsaW5rOmhyZWZcIixTdHJpbmcodGhpcy52YWx1ZV8pKX07QmxvY2tseS5GaWVsZEltYWdlLnByb3RvdHlwZS5nZXRGbGlwUnRsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmxpcFJ0bF99O0Jsb2NrbHkuRmllbGRJbWFnZS5wcm90b3R5cGUuc2V0QWx0PWZ1bmN0aW9uKGEpe2EhPXRoaXMuYWx0VGV4dF8mJih0aGlzLmFsdFRleHRfPWF8fFwiXCIsdGhpcy5pbWFnZUVsZW1lbnRfJiZ0aGlzLmltYWdlRWxlbWVudF8uc2V0QXR0cmlidXRlKFwiYWx0XCIsdGhpcy5hbHRUZXh0XykpfTtcbkJsb2NrbHkuRmllbGRJbWFnZS5wcm90b3R5cGUuc2hvd0VkaXRvcl89ZnVuY3Rpb24oKXt0aGlzLmNsaWNrSGFuZGxlcl8mJnRoaXMuY2xpY2tIYW5kbGVyXyh0aGlzKX07QmxvY2tseS5GaWVsZEltYWdlLnByb3RvdHlwZS5zZXRPbkNsaWNrSGFuZGxlcj1mdW5jdGlvbihhKXt0aGlzLmNsaWNrSGFuZGxlcl89YX07QmxvY2tseS5GaWVsZEltYWdlLnByb3RvdHlwZS5nZXRUZXh0Xz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFsdFRleHRffTtCbG9ja2x5LmZpZWxkUmVnaXN0cnkucmVnaXN0ZXIoXCJmaWVsZF9pbWFnZVwiLEJsb2NrbHkuRmllbGRJbWFnZSk7QmxvY2tseS5GaWVsZE11bHRpbGluZUlucHV0PWZ1bmN0aW9uKGEsYixjKXtudWxsPT1hJiYoYT1cIlwiKTtCbG9ja2x5LkZpZWxkTXVsdGlsaW5lSW5wdXQuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEsYixjKTt0aGlzLnRleHRHcm91cF89bnVsbH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5GaWVsZE11bHRpbGluZUlucHV0LEJsb2NrbHkuRmllbGRUZXh0SW5wdXQpO0Jsb2NrbHkuRmllbGRNdWx0aWxpbmVJbnB1dC5mcm9tSnNvbj1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LnV0aWxzLnJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyhhLnRleHQpO3JldHVybiBuZXcgQmxvY2tseS5GaWVsZE11bHRpbGluZUlucHV0KGIsdm9pZCAwLGEpfTtcbkJsb2NrbHkuRmllbGRNdWx0aWxpbmVJbnB1dC5wcm90b3R5cGUuaW5pdFZpZXc9ZnVuY3Rpb24oKXt0aGlzLmNyZWF0ZUJvcmRlclJlY3RfKCk7dGhpcy50ZXh0R3JvdXBfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJnXCIse1wiY2xhc3NcIjpcImJsb2NrbHlFZGl0YWJsZVRleHRcIn0sdGhpcy5maWVsZEdyb3VwXyl9O1xuQmxvY2tseS5GaWVsZE11bHRpbGluZUlucHV0LnByb3RvdHlwZS5nZXREaXNwbGF5VGV4dF89ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZhbHVlXztpZighYSlyZXR1cm4gQmxvY2tseS5GaWVsZC5OQlNQO3ZhciBiPWEuc3BsaXQoXCJcXG5cIik7YT1cIlwiO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2QubGVuZ3RoPnRoaXMubWF4RGlzcGxheUxlbmd0aCYmKGQ9ZC5zdWJzdHJpbmcoMCx0aGlzLm1heERpc3BsYXlMZW5ndGgtNCkrXCIuLi5cIik7ZD1kLnJlcGxhY2UoL1xccy9nLEJsb2NrbHkuRmllbGQuTkJTUCk7YSs9ZDtjIT09Yi5sZW5ndGgtMSYmKGErPVwiXFxuXCIpfXRoaXMuc291cmNlQmxvY2tfLlJUTCYmKGErPVwiXFx1MjAwZlwiKTtyZXR1cm4gYX07XG5CbG9ja2x5LkZpZWxkTXVsdGlsaW5lSW5wdXQucHJvdG90eXBlLnJlbmRlcl89ZnVuY3Rpb24oKXtmb3IodmFyIGE7YT10aGlzLnRleHRHcm91cF8uZmlyc3RDaGlsZDspdGhpcy50ZXh0R3JvdXBfLnJlbW92ZUNoaWxkKGEpO2E9dGhpcy5nZXREaXNwbGF5VGV4dF8oKS5zcGxpdChcIlxcblwiKTtmb3IodmFyIGI9MCxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfVEVYVF9IRUlHSFQrdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9ZX1BBRERJTkc7QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInRleHRcIix7XCJjbGFzc1wiOlwiYmxvY2tseVRleHQgYmxvY2tseU11bHRpbGluZVRleHRcIix4OnRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfQk9SREVSX1JFQ1RfWF9QQURESU5HLHk6Yit0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1lfUEFERElORyxkeTp0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX1RFWFRfQkFTRUxJTkV9LFxudGhpcy50ZXh0R3JvdXBfKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhW2NdKSk7Yis9ZH10aGlzLnVwZGF0ZVNpemVfKCk7dGhpcy5pc0JlaW5nRWRpdGVkXyYmKHRoaXMuc291cmNlQmxvY2tfLlJUTD9zZXRUaW1lb3V0KHRoaXMucmVzaXplRWRpdG9yXy5iaW5kKHRoaXMpLDApOnRoaXMucmVzaXplRWRpdG9yXygpLGE9dGhpcy5odG1sSW5wdXRfLHRoaXMuaXNUZXh0VmFsaWRfPyhCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyhhLFwiYmxvY2tseUludmFsaWRJbnB1dFwiKSxCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoYSxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuSU5WQUxJRCwhMSkpOihCbG9ja2x5LnV0aWxzLmRvbS5hZGRDbGFzcyhhLFwiYmxvY2tseUludmFsaWRJbnB1dFwiKSxCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoYSxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuSU5WQUxJRCwhMCkpKX07XG5CbG9ja2x5LkZpZWxkTXVsdGlsaW5lSW5wdXQucHJvdG90eXBlLnVwZGF0ZVNpemVfPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMudGV4dEdyb3VwXy5jaGlsZE5vZGVzLGI9MCxjPTAsZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1CbG9ja2x5LnV0aWxzLmRvbS5nZXRUZXh0V2lkdGgoYVtkXSk7ZT5iJiYoYj1lKTtjKz10aGlzLmdldENvbnN0YW50cygpLkZJRUxEX1RFWFRfSEVJR0hUKygwPGQ/dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9ZX1BBRERJTkc6MCl9dGhpcy5ib3JkZXJSZWN0XyYmKGMrPTIqdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9ZX1BBRERJTkcsYis9Mip0aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORyx0aGlzLmJvcmRlclJlY3RfLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYiksdGhpcy5ib3JkZXJSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIixjKSk7dGhpcy5zaXplXy53aWR0aD1cbmI7dGhpcy5zaXplXy5oZWlnaHQ9Yzt0aGlzLnBvc2l0aW9uQm9yZGVyUmVjdF8oKX07XG5CbG9ja2x5LkZpZWxkTXVsdGlsaW5lSW5wdXQucHJvdG90eXBlLndpZGdldENyZWF0ZV89ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5LldpZGdldERpdi5ESVYsYj10aGlzLndvcmtzcGFjZV8uZ2V0U2NhbGUoKSxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtjLmNsYXNzTmFtZT1cImJsb2NrbHlIdG1sSW5wdXQgYmxvY2tseUh0bWxUZXh0QXJlYUlucHV0XCI7Yy5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsdGhpcy5zcGVsbGNoZWNrXyk7dmFyIGQ9dGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9URVhUX0ZPTlRTSVpFKmIrXCJwdFwiO2Euc3R5bGUuZm9udFNpemU9ZDtjLnN0eWxlLmZvbnRTaXplPWQ7Yy5zdHlsZS5ib3JkZXJSYWRpdXM9QmxvY2tseS5GaWVsZFRleHRJbnB1dC5CT1JERVJSQURJVVMqYitcInB4XCI7ZD10aGlzLmdldENvbnN0YW50cygpLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORypiO3ZhciBlPXRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfQk9SREVSX1JFQ1RfWV9QQURESU5HKlxuYi8yO2Muc3R5bGUucGFkZGluZz1lK1wicHggXCIrZCtcInB4IFwiK2UrXCJweCBcIitkK1wicHhcIjtkPXRoaXMuZ2V0Q29uc3RhbnRzKCkuRklFTERfVEVYVF9IRUlHSFQrdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9CT1JERVJfUkVDVF9ZX1BBRERJTkc7Yy5zdHlsZS5saW5lSGVpZ2h0PWQqYitcInB4XCI7YS5hcHBlbmRDaGlsZChjKTtjLnZhbHVlPWMuZGVmYXVsdFZhbHVlPXRoaXMuZ2V0RWRpdG9yVGV4dF8odGhpcy52YWx1ZV8pO2MudW50eXBlZERlZmF1bHRWYWx1ZV89dGhpcy52YWx1ZV87Yy5vbGRWYWx1ZV89bnVsbDtCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5HRUNLTz9zZXRUaW1lb3V0KHRoaXMucmVzaXplRWRpdG9yXy5iaW5kKHRoaXMpLDApOnRoaXMucmVzaXplRWRpdG9yXygpO3RoaXMuYmluZElucHV0RXZlbnRzXyhjKTtyZXR1cm4gY307XG5CbG9ja2x5LkZpZWxkTXVsdGlsaW5lSW5wdXQucHJvdG90eXBlLm9uSHRtbElucHV0S2V5RG93bl89ZnVuY3Rpb24oYSl7YS5rZXlDb2RlIT09QmxvY2tseS51dGlscy5LZXlDb2Rlcy5FTlRFUiYmQmxvY2tseS5GaWVsZE11bHRpbGluZUlucHV0LnN1cGVyQ2xhc3NfLm9uSHRtbElucHV0S2V5RG93bl8uY2FsbCh0aGlzLGEpfTtCbG9ja2x5LkNzcy5yZWdpc3RlcihcIi5ibG9ja2x5SHRtbFRleHRBcmVhSW5wdXQgeyxmb250LWZhbWlseTogbW9ub3NwYWNlOyxyZXNpemU6IG5vbmU7LG92ZXJmbG93OiBoaWRkZW47LGhlaWdodDogMTAwJTssdGV4dC1hbGlnbjogbGVmdDssfVwiLnNwbGl0KFwiLFwiKSk7QmxvY2tseS5maWVsZFJlZ2lzdHJ5LnJlZ2lzdGVyKFwiZmllbGRfbXVsdGlsaW5ldGV4dFwiLEJsb2NrbHkuRmllbGRNdWx0aWxpbmVJbnB1dCk7QmxvY2tseS5GaWVsZE51bWJlcj1mdW5jdGlvbihhLGIsYyxkLGUsZil7dGhpcy5taW5fPS1JbmZpbml0eTt0aGlzLm1heF89SW5maW5pdHk7dGhpcy5wcmVjaXNpb25fPTA7dGhpcy5kZWNpbWFsUGxhY2VzXz1udWxsO0Jsb2NrbHkuRmllbGROdW1iZXIuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGF8fDAsZSxmKTtmfHx0aGlzLnNldENvbnN0cmFpbnRzKGIsYyxkKX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5GaWVsZE51bWJlcixCbG9ja2x5LkZpZWxkVGV4dElucHV0KTtCbG9ja2x5LkZpZWxkTnVtYmVyLmZyb21Kc29uPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQmxvY2tseS5GaWVsZE51bWJlcihhLnZhbHVlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHZvaWQgMCxhKX07QmxvY2tseS5GaWVsZE51bWJlci5wcm90b3R5cGUuU0VSSUFMSVpBQkxFPSEwO1xuQmxvY2tseS5GaWVsZE51bWJlci5wcm90b3R5cGUuY29uZmlndXJlXz1mdW5jdGlvbihhKXtCbG9ja2x5LkZpZWxkTnVtYmVyLnN1cGVyQ2xhc3NfLmNvbmZpZ3VyZV8uY2FsbCh0aGlzLGEpO3RoaXMuc2V0TWluSW50ZXJuYWxfKGEubWluKTt0aGlzLnNldE1heEludGVybmFsXyhhLm1heCk7dGhpcy5zZXRQcmVjaXNpb25JbnRlcm5hbF8oYS5wcmVjaXNpb24pfTtCbG9ja2x5LkZpZWxkTnVtYmVyLnByb3RvdHlwZS5zZXRDb25zdHJhaW50cz1mdW5jdGlvbihhLGIsYyl7dGhpcy5zZXRNaW5JbnRlcm5hbF8oYSk7dGhpcy5zZXRNYXhJbnRlcm5hbF8oYik7dGhpcy5zZXRQcmVjaXNpb25JbnRlcm5hbF8oYyk7dGhpcy5zZXRWYWx1ZSh0aGlzLmdldFZhbHVlKCkpfTtCbG9ja2x5LkZpZWxkTnVtYmVyLnByb3RvdHlwZS5zZXRNaW49ZnVuY3Rpb24oYSl7dGhpcy5zZXRNaW5JbnRlcm5hbF8oYSk7dGhpcy5zZXRWYWx1ZSh0aGlzLmdldFZhbHVlKCkpfTtcbkJsb2NrbHkuRmllbGROdW1iZXIucHJvdG90eXBlLnNldE1pbkludGVybmFsXz1mdW5jdGlvbihhKXtudWxsPT1hP3RoaXMubWluXz0tSW5maW5pdHk6KGE9TnVtYmVyKGEpLGlzTmFOKGEpfHwodGhpcy5taW5fPWEpKX07QmxvY2tseS5GaWVsZE51bWJlci5wcm90b3R5cGUuZ2V0TWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWluX307QmxvY2tseS5GaWVsZE51bWJlci5wcm90b3R5cGUuc2V0TWF4PWZ1bmN0aW9uKGEpe3RoaXMuc2V0TWF4SW50ZXJuYWxfKGEpO3RoaXMuc2V0VmFsdWUodGhpcy5nZXRWYWx1ZSgpKX07QmxvY2tseS5GaWVsZE51bWJlci5wcm90b3R5cGUuc2V0TWF4SW50ZXJuYWxfPWZ1bmN0aW9uKGEpe251bGw9PWE/dGhpcy5tYXhfPUluZmluaXR5OihhPU51bWJlcihhKSxpc05hTihhKXx8KHRoaXMubWF4Xz1hKSl9O0Jsb2NrbHkuRmllbGROdW1iZXIucHJvdG90eXBlLmdldE1heD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1heF99O1xuQmxvY2tseS5GaWVsZE51bWJlci5wcm90b3R5cGUuc2V0UHJlY2lzaW9uPWZ1bmN0aW9uKGEpe3RoaXMuc2V0UHJlY2lzaW9uSW50ZXJuYWxfKGEpO3RoaXMuc2V0VmFsdWUodGhpcy5nZXRWYWx1ZSgpKX07QmxvY2tseS5GaWVsZE51bWJlci5wcm90b3R5cGUuc2V0UHJlY2lzaW9uSW50ZXJuYWxfPWZ1bmN0aW9uKGEpe251bGw9PWE/dGhpcy5wcmVjaXNpb25fPTA6KGE9TnVtYmVyKGEpLGlzTmFOKGEpfHwodGhpcy5wcmVjaXNpb25fPWEpKTt2YXIgYj10aGlzLnByZWNpc2lvbl8udG9TdHJpbmcoKSxjPWIuaW5kZXhPZihcIi5cIik7dGhpcy5kZWNpbWFsUGxhY2VzXz0tMT09Yz9hPzA6bnVsbDpiLmxlbmd0aC1jLTF9O0Jsb2NrbHkuRmllbGROdW1iZXIucHJvdG90eXBlLmdldFByZWNpc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByZWNpc2lvbl99O1xuQmxvY2tseS5GaWVsZE51bWJlci5wcm90b3R5cGUuZG9DbGFzc1ZhbGlkYXRpb25fPWZ1bmN0aW9uKGEpe2lmKG51bGw9PT1hKXJldHVybiBudWxsO2E9U3RyaW5nKGEpO2E9YS5yZXBsYWNlKC9PL2lnLFwiMFwiKTthPWEucmVwbGFjZSgvLC9nLFwiXCIpO2E9YS5yZXBsYWNlKC9pbmZpbml0eS9pLFwiSW5maW5pdHlcIik7YT1OdW1iZXIoYXx8MCk7aWYoaXNOYU4oYSkpcmV0dXJuIG51bGw7YT1NYXRoLm1pbihNYXRoLm1heChhLHRoaXMubWluXyksdGhpcy5tYXhfKTt0aGlzLnByZWNpc2lvbl8mJmlzRmluaXRlKGEpJiYoYT1NYXRoLnJvdW5kKGEvdGhpcy5wcmVjaXNpb25fKSp0aGlzLnByZWNpc2lvbl8pO251bGwhPXRoaXMuZGVjaW1hbFBsYWNlc18mJihhPU51bWJlcihhLnRvRml4ZWQodGhpcy5kZWNpbWFsUGxhY2VzXykpKTtyZXR1cm4gYX07XG5CbG9ja2x5LkZpZWxkTnVtYmVyLnByb3RvdHlwZS53aWRnZXRDcmVhdGVfPWZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS5GaWVsZE51bWJlci5zdXBlckNsYXNzXy53aWRnZXRDcmVhdGVfLmNhbGwodGhpcyk7LUluZmluaXR5PHRoaXMubWluXyYmQmxvY2tseS51dGlscy5hcmlhLnNldFN0YXRlKGEsQmxvY2tseS51dGlscy5hcmlhLlN0YXRlLlZBTFVFTUlOLHRoaXMubWluXyk7SW5maW5pdHk+dGhpcy5tYXhfJiZCbG9ja2x5LnV0aWxzLmFyaWEuc2V0U3RhdGUoYSxCbG9ja2x5LnV0aWxzLmFyaWEuU3RhdGUuVkFMVUVNQVgsdGhpcy5tYXhfKTtyZXR1cm4gYX07QmxvY2tseS5maWVsZFJlZ2lzdHJ5LnJlZ2lzdGVyKFwiZmllbGRfbnVtYmVyXCIsQmxvY2tseS5GaWVsZE51bWJlcik7QmxvY2tseS5GaWVsZFZhcmlhYmxlPWZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy5tZW51R2VuZXJhdG9yXz1CbG9ja2x5LkZpZWxkVmFyaWFibGUuZHJvcGRvd25DcmVhdGU7dGhpcy5kZWZhdWx0VmFyaWFibGVOYW1lPWF8fFwiXCI7dGhpcy5zaXplXz1uZXcgQmxvY2tseS51dGlscy5TaXplKDAsMCk7ZSYmdGhpcy5jb25maWd1cmVfKGUpO2ImJnRoaXMuc2V0VmFsaWRhdG9yKGIpO2V8fHRoaXMuc2V0VHlwZXNfKGMsZCl9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuRmllbGRWYXJpYWJsZSxCbG9ja2x5LkZpZWxkRHJvcGRvd24pO0Jsb2NrbHkuRmllbGRWYXJpYWJsZS5mcm9tSnNvbj1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LnV0aWxzLnJlcGxhY2VNZXNzYWdlUmVmZXJlbmNlcyhhLnZhcmlhYmxlKTtyZXR1cm4gbmV3IEJsb2NrbHkuRmllbGRWYXJpYWJsZShiLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGEpfTtcbkJsb2NrbHkuRmllbGRWYXJpYWJsZS5wcm90b3R5cGUud29ya3NwYWNlXz1udWxsO0Jsb2NrbHkuRmllbGRWYXJpYWJsZS5wcm90b3R5cGUuU0VSSUFMSVpBQkxFPSEwO0Jsb2NrbHkuRmllbGRWYXJpYWJsZS5wcm90b3R5cGUuY29uZmlndXJlXz1mdW5jdGlvbihhKXtCbG9ja2x5LkZpZWxkVmFyaWFibGUuc3VwZXJDbGFzc18uY29uZmlndXJlXy5jYWxsKHRoaXMsYSk7dGhpcy5zZXRUeXBlc18oYS52YXJpYWJsZVR5cGVzLGEuZGVmYXVsdFR5cGUpfTtCbG9ja2x5LkZpZWxkVmFyaWFibGUucHJvdG90eXBlLmluaXRNb2RlbD1mdW5jdGlvbigpe2lmKCF0aGlzLnZhcmlhYmxlXyl7dmFyIGE9QmxvY2tseS5WYXJpYWJsZXMuZ2V0T3JDcmVhdGVWYXJpYWJsZVBhY2thZ2UodGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLG51bGwsdGhpcy5kZWZhdWx0VmFyaWFibGVOYW1lLHRoaXMuZGVmYXVsdFR5cGVfKTt0aGlzLmRvVmFsdWVVcGRhdGVfKGEuZ2V0SWQoKSl9fTtcbkJsb2NrbHkuRmllbGRWYXJpYWJsZS5wcm90b3R5cGUuc2hvdWxkQWRkQm9yZGVyUmVjdF89ZnVuY3Rpb24oKXtyZXR1cm4gQmxvY2tseS5GaWVsZFZhcmlhYmxlLnN1cGVyQ2xhc3NfLnNob3VsZEFkZEJvcmRlclJlY3RfLmNhbGwodGhpcykmJighdGhpcy5nZXRDb25zdGFudHMoKS5GSUVMRF9EUk9QRE9XTl9OT19CT1JERVJfUkVDVF9TSEFET1d8fFwidmFyaWFibGVzX2dldFwiIT10aGlzLnNvdXJjZUJsb2NrXy50eXBlKX07XG5CbG9ja2x5LkZpZWxkVmFyaWFibGUucHJvdG90eXBlLmZyb21YbWw9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoXCJpZFwiKSxjPWEudGV4dENvbnRlbnQsZD1hLmdldEF0dHJpYnV0ZShcInZhcmlhYmxldHlwZVwiKXx8YS5nZXRBdHRyaWJ1dGUoXCJ2YXJpYWJsZVR5cGVcIil8fFwiXCI7Yj1CbG9ja2x5LlZhcmlhYmxlcy5nZXRPckNyZWF0ZVZhcmlhYmxlUGFja2FnZSh0aGlzLnNvdXJjZUJsb2NrXy53b3Jrc3BhY2UsYixjLGQpO2lmKG51bGwhPWQmJmQhPT1iLnR5cGUpdGhyb3cgRXJyb3IoXCJTZXJpYWxpemVkIHZhcmlhYmxlIHR5cGUgd2l0aCBpZCAnXCIrYi5nZXRJZCgpK1wiJyBoYWQgdHlwZSBcIitiLnR5cGUrXCIsIGFuZCBkb2VzIG5vdCBtYXRjaCB2YXJpYWJsZSBmaWVsZCB0aGF0IHJlZmVyZW5jZXMgaXQ6IFwiK0Jsb2NrbHkuWG1sLmRvbVRvVGV4dChhKStcIi5cIik7dGhpcy5zZXRWYWx1ZShiLmdldElkKCkpfTtcbkJsb2NrbHkuRmllbGRWYXJpYWJsZS5wcm90b3R5cGUudG9YbWw9ZnVuY3Rpb24oYSl7dGhpcy5pbml0TW9kZWwoKTthLmlkPXRoaXMudmFyaWFibGVfLmdldElkKCk7YS50ZXh0Q29udGVudD10aGlzLnZhcmlhYmxlXy5uYW1lO3RoaXMudmFyaWFibGVfLnR5cGUmJmEuc2V0QXR0cmlidXRlKFwidmFyaWFibGV0eXBlXCIsdGhpcy52YXJpYWJsZV8udHlwZSk7cmV0dXJuIGF9O0Jsb2NrbHkuRmllbGRWYXJpYWJsZS5wcm90b3R5cGUuc2V0U291cmNlQmxvY2s9ZnVuY3Rpb24oYSl7aWYoYS5pc1NoYWRvdygpKXRocm93IEVycm9yKFwiVmFyaWFibGUgZmllbGRzIGFyZSBub3QgYWxsb3dlZCB0byBleGlzdCBvbiBzaGFkb3cgYmxvY2tzLlwiKTtCbG9ja2x5LkZpZWxkVmFyaWFibGUuc3VwZXJDbGFzc18uc2V0U291cmNlQmxvY2suY2FsbCh0aGlzLGEpfTtcbkJsb2NrbHkuRmllbGRWYXJpYWJsZS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YXJpYWJsZV8/dGhpcy52YXJpYWJsZV8uZ2V0SWQoKTpudWxsfTtCbG9ja2x5LkZpZWxkVmFyaWFibGUucHJvdG90eXBlLmdldFRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YXJpYWJsZV8/dGhpcy52YXJpYWJsZV8ubmFtZTpcIlwifTtCbG9ja2x5LkZpZWxkVmFyaWFibGUucHJvdG90eXBlLmdldFZhcmlhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFyaWFibGVffTtCbG9ja2x5LkZpZWxkVmFyaWFibGUucHJvdG90eXBlLmdldFZhbGlkYXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhcmlhYmxlXz90aGlzLnZhbGlkYXRvcl86bnVsbH07XG5CbG9ja2x5LkZpZWxkVmFyaWFibGUucHJvdG90eXBlLmRvQ2xhc3NWYWxpZGF0aW9uXz1mdW5jdGlvbihhKXtpZihudWxsPT09YSlyZXR1cm4gbnVsbDt2YXIgYj1CbG9ja2x5LlZhcmlhYmxlcy5nZXRWYXJpYWJsZSh0aGlzLnNvdXJjZUJsb2NrXy53b3Jrc3BhY2UsYSk7aWYoIWIpcmV0dXJuIGNvbnNvbGUud2FybihcIlZhcmlhYmxlIGlkIGRvZXNuJ3QgcG9pbnQgdG8gYSByZWFsIHZhcmlhYmxlISBJRCB3YXMgXCIrYSksbnVsbDtiPWIudHlwZTtyZXR1cm4gdGhpcy50eXBlSXNBbGxvd2VkXyhiKT9hOihjb25zb2xlLndhcm4oXCJWYXJpYWJsZSB0eXBlIGRvZXNuJ3QgbWF0Y2ggdGhpcyBmaWVsZCEgIFR5cGUgd2FzIFwiK2IpLG51bGwpfTtcbkJsb2NrbHkuRmllbGRWYXJpYWJsZS5wcm90b3R5cGUuZG9WYWx1ZVVwZGF0ZV89ZnVuY3Rpb24oYSl7dGhpcy52YXJpYWJsZV89QmxvY2tseS5WYXJpYWJsZXMuZ2V0VmFyaWFibGUodGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLGEpO0Jsb2NrbHkuRmllbGRWYXJpYWJsZS5zdXBlckNsYXNzXy5kb1ZhbHVlVXBkYXRlXy5jYWxsKHRoaXMsYSl9O0Jsb2NrbHkuRmllbGRWYXJpYWJsZS5wcm90b3R5cGUudHlwZUlzQWxsb3dlZF89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRWYXJpYWJsZVR5cGVzXygpO2lmKCFiKXJldHVybiEwO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGE9PWJbY10pcmV0dXJuITA7cmV0dXJuITF9O1xuQmxvY2tseS5GaWVsZFZhcmlhYmxlLnByb3RvdHlwZS5nZXRWYXJpYWJsZVR5cGVzXz1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmFyaWFibGVUeXBlcztpZihudWxsPT09YSYmdGhpcy5zb3VyY2VCbG9ja18mJnRoaXMuc291cmNlQmxvY2tfLndvcmtzcGFjZSlyZXR1cm4gdGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLmdldFZhcmlhYmxlVHlwZXMoKTthPWF8fFtcIlwiXTtpZigwPT1hLmxlbmd0aCl0aHJvdyBhPXRoaXMuZ2V0VGV4dCgpLEVycm9yKFwiJ3ZhcmlhYmxlVHlwZXMnIG9mIGZpZWxkIHZhcmlhYmxlIFwiK2ErXCIgd2FzIGFuIGVtcHR5IGxpc3RcIik7cmV0dXJuIGF9O1xuQmxvY2tseS5GaWVsZFZhcmlhYmxlLnByb3RvdHlwZS5zZXRUeXBlc189ZnVuY3Rpb24oYSxiKXtiPWJ8fFwiXCI7aWYobnVsbD09YXx8dm9pZCAwPT1hKWE9bnVsbDtlbHNlIGlmKEFycmF5LmlzQXJyYXkoYSkpe2Zvcih2YXIgYz0hMSxkPTA7ZDxhLmxlbmd0aDtkKyspYVtkXT09YiYmKGM9ITApO2lmKCFjKXRocm93IEVycm9yKFwiSW52YWxpZCBkZWZhdWx0IHR5cGUgJ1wiK2IrXCInIGluIHRoZSBkZWZpbml0aW9uIG9mIGEgRmllbGRWYXJpYWJsZVwiKTt9ZWxzZSB0aHJvdyBFcnJvcihcIid2YXJpYWJsZVR5cGVzJyB3YXMgbm90IGFuIGFycmF5IGluIHRoZSBkZWZpbml0aW9uIG9mIGEgRmllbGRWYXJpYWJsZVwiKTt0aGlzLmRlZmF1bHRUeXBlXz1iO3RoaXMudmFyaWFibGVUeXBlcz1hfTtCbG9ja2x5LkZpZWxkVmFyaWFibGUucHJvdG90eXBlLnJlZnJlc2hWYXJpYWJsZU5hbWU9ZnVuY3Rpb24oKXt0aGlzLmZvcmNlUmVyZW5kZXIoKX07XG5CbG9ja2x5LkZpZWxkVmFyaWFibGUuZHJvcGRvd25DcmVhdGU9ZnVuY3Rpb24oKXtpZighdGhpcy52YXJpYWJsZV8pdGhyb3cgRXJyb3IoXCJUcmllZCB0byBjYWxsIGRyb3Bkb3duQ3JlYXRlIG9uIGEgdmFyaWFibGUgZmllbGQgd2l0aCBubyB2YXJpYWJsZSBzZWxlY3RlZC5cIik7dmFyIGE9dGhpcy5nZXRUZXh0KCksYj1bXTtpZih0aGlzLnNvdXJjZUJsb2NrXyYmdGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlKWZvcih2YXIgYz10aGlzLmdldFZhcmlhYmxlVHlwZXNfKCksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLnNvdXJjZUJsb2NrXy53b3Jrc3BhY2UuZ2V0VmFyaWFibGVzT2ZUeXBlKGNbZF0pO2I9Yi5jb25jYXQoZSl9Yi5zb3J0KEJsb2NrbHkuVmFyaWFibGVNb2RlbC5jb21wYXJlQnlOYW1lKTtjPVtdO2ZvcihkPTA7ZDxiLmxlbmd0aDtkKyspY1tkXT1bYltkXS5uYW1lLGJbZF0uZ2V0SWQoKV07Yy5wdXNoKFtCbG9ja2x5Lk1zZy5SRU5BTUVfVkFSSUFCTEUsQmxvY2tseS5SRU5BTUVfVkFSSUFCTEVfSURdKTtcbkJsb2NrbHkuTXNnLkRFTEVURV9WQVJJQUJMRSYmYy5wdXNoKFtCbG9ja2x5Lk1zZy5ERUxFVEVfVkFSSUFCTEUucmVwbGFjZShcIiUxXCIsYSksQmxvY2tseS5ERUxFVEVfVkFSSUFCTEVfSURdKTtyZXR1cm4gY307QmxvY2tseS5GaWVsZFZhcmlhYmxlLnByb3RvdHlwZS5vbkl0ZW1TZWxlY3RlZF89ZnVuY3Rpb24oYSxiKXthPWIuZ2V0VmFsdWUoKTtpZih0aGlzLnNvdXJjZUJsb2NrXyYmdGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlKXtpZihhPT1CbG9ja2x5LlJFTkFNRV9WQVJJQUJMRV9JRCl7QmxvY2tseS5WYXJpYWJsZXMucmVuYW1lVmFyaWFibGUodGhpcy5zb3VyY2VCbG9ja18ud29ya3NwYWNlLHRoaXMudmFyaWFibGVfKTtyZXR1cm59aWYoYT09QmxvY2tseS5ERUxFVEVfVkFSSUFCTEVfSUQpe3RoaXMuc291cmNlQmxvY2tfLndvcmtzcGFjZS5kZWxldGVWYXJpYWJsZUJ5SWQodGhpcy52YXJpYWJsZV8uZ2V0SWQoKSk7cmV0dXJufX10aGlzLnNldFZhbHVlKGEpfTtcbkJsb2NrbHkuRmllbGRWYXJpYWJsZS5wcm90b3R5cGUucmVmZXJlbmNlc1ZhcmlhYmxlcz1mdW5jdGlvbigpe3JldHVybiEwfTtCbG9ja2x5LmZpZWxkUmVnaXN0cnkucmVnaXN0ZXIoXCJmaWVsZF92YXJpYWJsZVwiLEJsb2NrbHkuRmllbGRWYXJpYWJsZSk7QmxvY2tseS51dGlscy5zdmdQYXRocz17fTtCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50PWZ1bmN0aW9uKGEsYil7cmV0dXJuXCIgXCIrYStcIixcIitiK1wiIFwifTtCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmN1cnZlPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCIgXCIrYStiLmpvaW4oXCJcIil9O0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZVRvPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCIgTSBcIithK1wiLFwiK2IrXCIgXCJ9O0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZUJ5PWZ1bmN0aW9uKGEsYil7cmV0dXJuXCIgbSBcIithK1wiLFwiK2IrXCIgXCJ9O0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZVRvPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCIgbCBcIithK1wiLFwiK2IrXCIgXCJ9O0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZT1mdW5jdGlvbihhKXtyZXR1cm5cIiBsXCIrYS5qb2luKFwiXCIpfTtCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIiBcIithK1wiIFwiK2IrXCIgXCJ9O1xuQmxvY2tseS51dGlscy5zdmdQYXRocy5hcmM9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIGErXCIgXCIrYytcIiBcIitjK1wiIFwiK2IrZH07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5Db25zdGFudFByb3ZpZGVyPWZ1bmN0aW9uKCl7dGhpcy5OT19QQURESU5HPTA7dGhpcy5TTUFMTF9QQURESU5HPTM7dGhpcy5NRURJVU1fUEFERElORz01O3RoaXMuTUVESVVNX0xBUkdFX1BBRERJTkc9ODt0aGlzLkxBUkdFX1BBRERJTkc9MTA7dGhpcy5UQUxMX0lOUFVUX0ZJRUxEX09GRlNFVF9ZPXRoaXMuTUVESVVNX1BBRERJTkc7dGhpcy5UQUJfSEVJR0hUPTE1O3RoaXMuVEFCX09GRlNFVF9GUk9NX1RPUD01O3RoaXMuVEFCX1ZFUlRJQ0FMX09WRVJMQVA9Mi41O3RoaXMuVEFCX1dJRFRIPTg7dGhpcy5OT1RDSF9XSURUSD0xNTt0aGlzLk5PVENIX0hFSUdIVD00O3RoaXMuTUlOX0JMT0NLX1dJRFRIPTEyO3RoaXMuRU1QVFlfQkxPQ0tfU1BBQ0VSX0hFSUdIVD0xNjt0aGlzLkRVTU1ZX0lOUFVUX1NIQURPV19NSU5fSEVJR0hUPXRoaXMuRFVNTVlfSU5QVVRfTUlOX0hFSUdIVD10aGlzLlRBQl9IRUlHSFQ7dGhpcy5DT1JORVJfUkFESVVTPVxuODt0aGlzLlNUQVRFTUVOVF9JTlBVVF9OT1RDSF9PRkZTRVQ9dGhpcy5OT1RDSF9PRkZTRVRfTEVGVD0xNTt0aGlzLlNUQVRFTUVOVF9CT1RUT01fU1BBQ0VSPTA7dGhpcy5TVEFURU1FTlRfSU5QVVRfUEFERElOR19MRUZUPTIwO3RoaXMuQkVUV0VFTl9TVEFURU1FTlRfUEFERElOR19ZPTQ7dGhpcy5UT1BfUk9XX01JTl9IRUlHSFQ9dGhpcy5NRURJVU1fUEFERElORzt0aGlzLlRPUF9ST1dfUFJFQ0VERVNfU1RBVEVNRU5UX01JTl9IRUlHSFQ9dGhpcy5MQVJHRV9QQURESU5HO3RoaXMuQk9UVE9NX1JPV19NSU5fSEVJR0hUPXRoaXMuTUVESVVNX1BBRERJTkc7dGhpcy5CT1RUT01fUk9XX0FGVEVSX1NUQVRFTUVOVF9NSU5fSEVJR0hUPXRoaXMuTEFSR0VfUEFERElORzt0aGlzLkFERF9TVEFSVF9IQVRTPSExO3RoaXMuU1RBUlRfSEFUX0hFSUdIVD0xNTt0aGlzLlNUQVJUX0hBVF9XSURUSD0xMDA7dGhpcy5TUEFDRVJfREVGQVVMVF9IRUlHSFQ9MTU7dGhpcy5NSU5fQkxPQ0tfSEVJR0hUPVxuMjQ7dGhpcy5FTVBUWV9JTkxJTkVfSU5QVVRfUEFERElORz0xNC41O3RoaXMuRU1QVFlfSU5MSU5FX0lOUFVUX0hFSUdIVD10aGlzLlRBQl9IRUlHSFQrMTE7dGhpcy5FWFRFUk5BTF9WQUxVRV9JTlBVVF9QQURESU5HPTI7dGhpcy5FTVBUWV9TVEFURU1FTlRfSU5QVVRfSEVJR0hUPXRoaXMuTUlOX0JMT0NLX0hFSUdIVDt0aGlzLlNUQVJUX1BPSU5UPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZUJ5KDAsMCk7dGhpcy5KQUdHRURfVEVFVEhfSEVJR0hUPTEyO3RoaXMuSkFHR0VEX1RFRVRIX1dJRFRIPTY7dGhpcy5GSUVMRF9URVhUX0ZPTlRTSVpFPTExO3RoaXMuRklFTERfVEVYVF9GT05UV0VJR0hUPVwibm9ybWFsXCI7dGhpcy5GSUVMRF9URVhUX0ZPTlRGQU1JTFk9XCJzYW5zLXNlcmlmXCI7dGhpcy5GSUVMRF9URVhUX0JBU0VMSU5FPXRoaXMuRklFTERfVEVYVF9IRUlHSFQ9LTE7dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9SQURJVVM9NDt0aGlzLkZJRUxEX0JPUkRFUl9SRUNUX0hFSUdIVD1cbjE2O3RoaXMuRklFTERfQk9SREVSX1JFQ1RfWF9QQURESU5HPTU7dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9ZX1BBRERJTkc9Mzt0aGlzLkZJRUxEX0JPUkRFUl9SRUNUX0NPTE9VUj1cIiNmZmZcIjt0aGlzLkZJRUxEX1RFWFRfQkFTRUxJTkVfQ0VOVEVSPSFCbG9ja2x5LnV0aWxzLnVzZXJBZ2VudC5JRSYmIUJsb2NrbHkudXRpbHMudXNlckFnZW50LkVER0U7dGhpcy5GSUVMRF9EUk9QRE9XTl9CT1JERVJfUkVDVF9IRUlHSFQ9dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9IRUlHSFQ7dGhpcy5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1c9dGhpcy5GSUVMRF9EUk9QRE9XTl9DT0xPVVJFRF9ESVY9dGhpcy5GSUVMRF9EUk9QRE9XTl9OT19CT1JERVJfUkVDVF9TSEFET1c9ITE7dGhpcy5GSUVMRF9EUk9QRE9XTl9TVkdfQVJST1dfUEFERElORz10aGlzLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORzt0aGlzLkZJRUxEX0RST1BET1dOX1NWR19BUlJPV19TSVpFPTEyO3RoaXMuRklFTERfRFJPUERPV05fU1ZHX0FSUk9XX0RBVEFVUkk9XG5cImRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QnBaRDBpVEdGNVpYSmZNU0lnWkdGMFlTMXVZVzFsUFNKTVlYbGxjaUF4SWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l4TWk0M01TSWdhR1ZwWjJoMFBTSTRMamM1SWlCMmFXVjNRbTk0UFNJd0lEQWdNVEl1TnpFZ09DNDNPU0krUEhScGRHeGxQbVJ5YjNCa2IzZHVMV0Z5Y205M1BDOTBhWFJzWlQ0OFp5QnZjR0ZqYVhSNVBTSXdMakVpUGp4d1lYUm9JR1E5SWsweE1pNDNNU3d5TGpRMFFUSXVOREVzTWk0ME1Td3dMREFzTVN3eE1pdzBMakUyVERndU1EZ3NPQzR3T0dFeUxqUTFMREl1TkRVc01Dd3dMREV0TXk0ME5Td3dUREF1TnpJc05DNHhOa0V5TGpReUxESXVORElzTUN3d0xERXNNQ3d5TGpRMExESXVORGdzTWk0ME9Dd3dMREFzTVN3dU56RXVOekZETVN3d0xqUTNMREV1TkRNc01DdzJMak0yTERCVE1URXVOelVzTUM0ME5pd3hNaXd1TnpGQk1pNDBOQ3d5TGpRMExEQXNNQ3d4TERFeUxqY3hMREl1TkRSYUlpQm1hV3hzUFNJak1qTXhaakl3SWk4K1BDOW5Qanh3WVhSb0lHUTlJazAyTGpNMkxEY3VOemxoTVM0ME15d3hMalF6TERBc01Dd3hMVEV0TGpReVRERXVORElzTXk0ME5XRXhMalEwTERFdU5EUXNNQ3d3TERFc01DMHlZekF1TlRZdExqVTJMRGt1TXpFdE1DNDFOaXc1TGpnM0xEQmhNUzQwTkN3eExqUTBMREFzTUN3eExEQXNNa3czTGpNM0xEY3VNemRCTVM0ME15d3hMalF6TERBc01Dd3hMRFl1TXpZc055NDNPVm9pSUdacGJHdzlJaU5tWm1ZaUx6NDhMM04yWno0PVwiO1xudGhpcy5GSUVMRF9DT0xPVVJfRlVMTF9CTE9DSz10aGlzLkZJRUxEX1RFWFRJTlBVVF9CT1hfU0hBRE9XPSExO3RoaXMuRklFTERfQ09MT1VSX0RFRkFVTFRfV0lEVEg9MjY7dGhpcy5GSUVMRF9DT0xPVVJfREVGQVVMVF9IRUlHSFQ9dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9IRUlHSFQ7dGhpcy5GSUVMRF9DSEVDS0JPWF9YX09GRlNFVD10aGlzLkZJRUxEX0JPUkRFUl9SRUNUX1hfUEFERElORy0zO3RoaXMucmFuZG9tSWRlbnRpZmllcj1TdHJpbmcoTWF0aC5yYW5kb20oKSkuc3Vic3RyaW5nKDIpO3RoaXMuZW1ib3NzRmlsdGVySWQ9XCJcIjt0aGlzLmVtYm9zc0ZpbHRlcl89bnVsbDt0aGlzLmRpc2FibGVkUGF0dGVybklkPVwiXCI7dGhpcy5kaXNhYmxlZFBhdHRlcm5fPW51bGw7dGhpcy5kZWJ1Z0ZpbHRlcklkPVwiXCI7dGhpcy5jc3NOb2RlXz10aGlzLmRlYnVnRmlsdGVyXz1udWxsO3RoaXMuQ1VSU09SX0NPTE9VUj1cIiNjYzBhMGFcIjt0aGlzLk1BUktFUl9DT0xPVVI9XCIjNDI4NmY0XCI7dGhpcy5DVVJTT1JfV1NfV0lEVEg9XG4xMDA7dGhpcy5XU19DVVJTT1JfSEVJR0hUPTU7dGhpcy5DVVJTT1JfU1RBQ0tfUEFERElORz0xMDt0aGlzLkNVUlNPUl9CTE9DS19QQURESU5HPTI7dGhpcy5DVVJTT1JfU1RST0tFX1dJRFRIPTQ7dGhpcy5GVUxMX0JMT0NLX0ZJRUxEUz0hMTt0aGlzLklOU0VSVElPTl9NQVJLRVJfQ09MT1VSPVwiIzAwMDAwMFwiO3RoaXMuSU5TRVJUSU9OX01BUktFUl9PUEFDSVRZPS4yO3RoaXMuU0hBUEVTPXtQVVpaTEU6MSxOT1RDSDoyfX07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkNvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLkpBR0dFRF9URUVUSD10aGlzLm1ha2VKYWdnZWRUZWV0aCgpO3RoaXMuTk9UQ0g9dGhpcy5tYWtlTm90Y2goKTt0aGlzLlNUQVJUX0hBVD10aGlzLm1ha2VTdGFydEhhdCgpO3RoaXMuUFVaWkxFX1RBQj10aGlzLm1ha2VQdXp6bGVUYWIoKTt0aGlzLklOU0lERV9DT1JORVJTPXRoaXMubWFrZUluc2lkZUNvcm5lcnMoKTt0aGlzLk9VVFNJREVfQ09STkVSUz10aGlzLm1ha2VPdXRzaWRlQ29ybmVycygpfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkNvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLnNldFRoZW1lPWZ1bmN0aW9uKGEpe3RoaXMuYmxvY2tTdHlsZXM9e307dmFyIGI9YS5ibG9ja1N0eWxlcyxjO2ZvcihjIGluIGIpdGhpcy5ibG9ja1N0eWxlc1tjXT10aGlzLnZhbGlkYXRlZEJsb2NrU3R5bGVfKGJbY10pO3RoaXMuc2V0RHluYW1pY1Byb3BlcnRpZXNfKGEpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUuc2V0RHluYW1pY1Byb3BlcnRpZXNfPWZ1bmN0aW9uKGEpe3RoaXMuc2V0Rm9udENvbnN0YW50c18oYSk7dGhpcy5zZXRDb21wb25lbnRDb25zdGFudHNfKGEpO3RoaXMuQUREX1NUQVJUX0hBVFM9bnVsbCE9YS5zdGFydEhhdHM/YS5zdGFydEhhdHM6dGhpcy5BRERfU1RBUlRfSEFUU307XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkNvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLnNldEZvbnRDb25zdGFudHNfPWZ1bmN0aW9uKGEpe3RoaXMuRklFTERfVEVYVF9GT05URkFNSUxZPWEuZm9udFN0eWxlJiZ2b2lkIDAhPWEuZm9udFN0eWxlLmZhbWlseT9hLmZvbnRTdHlsZS5mYW1pbHk6dGhpcy5GSUVMRF9URVhUX0ZPTlRGQU1JTFk7dGhpcy5GSUVMRF9URVhUX0ZPTlRXRUlHSFQ9YS5mb250U3R5bGUmJnZvaWQgMCE9YS5mb250U3R5bGUud2VpZ2h0P2EuZm9udFN0eWxlLndlaWdodDp0aGlzLkZJRUxEX1RFWFRfRk9OVFdFSUdIVDt0aGlzLkZJRUxEX1RFWFRfRk9OVFNJWkU9YS5mb250U3R5bGUmJnZvaWQgMCE9YS5mb250U3R5bGUuc2l6ZT9hLmZvbnRTdHlsZS5zaXplOnRoaXMuRklFTERfVEVYVF9GT05UU0laRTthPUJsb2NrbHkudXRpbHMuZG9tLm1lYXN1cmVGb250TWV0cmljcyhcIkhnXCIsdGhpcy5GSUVMRF9URVhUX0ZPTlRTSVpFK1wicHRcIix0aGlzLkZJRUxEX1RFWFRfRk9OVFdFSUdIVCxcbnRoaXMuRklFTERfVEVYVF9GT05URkFNSUxZKTt0aGlzLkZJRUxEX1RFWFRfSEVJR0hUPWEuaGVpZ2h0O3RoaXMuRklFTERfVEVYVF9CQVNFTElORT1hLmJhc2VsaW5lfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUuc2V0Q29tcG9uZW50Q29uc3RhbnRzXz1mdW5jdGlvbihhKXt0aGlzLkNVUlNPUl9DT0xPVVI9YS5nZXRDb21wb25lbnRTdHlsZShcImN1cnNvckNvbG91clwiKXx8dGhpcy5DVVJTT1JfQ09MT1VSO3RoaXMuTUFSS0VSX0NPTE9VUj1hLmdldENvbXBvbmVudFN0eWxlKFwibWFya2VyQ29sb3VyXCIpfHx0aGlzLk1BUktFUl9DT0xPVVI7dGhpcy5JTlNFUlRJT05fTUFSS0VSX0NPTE9VUj1hLmdldENvbXBvbmVudFN0eWxlKFwiaW5zZXJ0aW9uTWFya2VyQ29sb3VyXCIpfHx0aGlzLklOU0VSVElPTl9NQVJLRVJfQ09MT1VSO3RoaXMuSU5TRVJUSU9OX01BUktFUl9PUEFDSVRZPU51bWJlcihhLmdldENvbXBvbmVudFN0eWxlKFwiaW5zZXJ0aW9uTWFya2VyT3BhY2l0eVwiKSl8fHRoaXMuSU5TRVJUSU9OX01BUktFUl9PUEFDSVRZfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUuZ2V0QmxvY2tTdHlsZUZvckNvbG91cj1mdW5jdGlvbihhKXt2YXIgYj1cImF1dG9fXCIrYTt0aGlzLmJsb2NrU3R5bGVzW2JdfHwodGhpcy5ibG9ja1N0eWxlc1tiXT10aGlzLmNyZWF0ZUJsb2NrU3R5bGVfKGEpKTtyZXR1cm57c3R5bGU6dGhpcy5ibG9ja1N0eWxlc1tiXSxuYW1lOmJ9fTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkNvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLmdldEJsb2NrU3R5bGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYmxvY2tTdHlsZXNbYXx8XCJcIl18fChhJiYwPT1hLmluZGV4T2YoXCJhdXRvX1wiKT90aGlzLmdldEJsb2NrU3R5bGVGb3JDb2xvdXIoYS5zdWJzdHJpbmcoNSkpLnN0eWxlOnRoaXMuY3JlYXRlQmxvY2tTdHlsZV8oXCIjMDAwMDAwXCIpKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5jcmVhdGVCbG9ja1N0eWxlXz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy52YWxpZGF0ZWRCbG9ja1N0eWxlXyh7Y29sb3VyUHJpbWFyeTphfSl9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS52YWxpZGF0ZWRCbG9ja1N0eWxlXz1mdW5jdGlvbihhKXt2YXIgYj17fTthJiZCbG9ja2x5LnV0aWxzLm9iamVjdC5taXhpbihiLGEpO2E9QmxvY2tseS51dGlscy5wYXJzZUJsb2NrQ29sb3VyKGIuY29sb3VyUHJpbWFyeXx8XCIjMDAwXCIpO2IuY29sb3VyUHJpbWFyeT1hLmhleDtiLmNvbG91clNlY29uZGFyeT1iLmNvbG91clNlY29uZGFyeT9CbG9ja2x5LnV0aWxzLnBhcnNlQmxvY2tDb2xvdXIoYi5jb2xvdXJTZWNvbmRhcnkpLmhleDp0aGlzLmdlbmVyYXRlU2Vjb25kYXJ5Q29sb3VyXyhiLmNvbG91clByaW1hcnkpO2IuY29sb3VyVGVydGlhcnk9Yi5jb2xvdXJUZXJ0aWFyeT9CbG9ja2x5LnV0aWxzLnBhcnNlQmxvY2tDb2xvdXIoYi5jb2xvdXJUZXJ0aWFyeSkuaGV4OnRoaXMuZ2VuZXJhdGVUZXJ0aWFyeUNvbG91cl8oYi5jb2xvdXJQcmltYXJ5KTtiLmhhdD1iLmhhdHx8XCJcIjtyZXR1cm4gYn07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkNvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLmdlbmVyYXRlU2Vjb25kYXJ5Q29sb3VyXz1mdW5jdGlvbihhKXtyZXR1cm4gQmxvY2tseS51dGlscy5jb2xvdXIuYmxlbmQoXCIjZmZmXCIsYSwuNil8fGF9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUuZ2VuZXJhdGVUZXJ0aWFyeUNvbG91cl89ZnVuY3Rpb24oYSl7cmV0dXJuIEJsb2NrbHkudXRpbHMuY29sb3VyLmJsZW5kKFwiI2ZmZlwiLGEsLjMpfHxhfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZW1ib3NzRmlsdGVyXyYmQmxvY2tseS51dGlscy5kb20ucmVtb3ZlTm9kZSh0aGlzLmVtYm9zc0ZpbHRlcl8pO3RoaXMuZGlzYWJsZWRQYXR0ZXJuXyYmQmxvY2tseS51dGlscy5kb20ucmVtb3ZlTm9kZSh0aGlzLmRpc2FibGVkUGF0dGVybl8pO3RoaXMuZGVidWdGaWx0ZXJfJiZCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVOb2RlKHRoaXMuZGVidWdGaWx0ZXJfKTt0aGlzLmNzc05vZGVfPW51bGx9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5tYWtlSmFnZ2VkVGVldGg9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLkpBR0dFRF9URUVUSF9IRUlHSFQsYj10aGlzLkpBR0dFRF9URUVUSF9XSURUSCxjPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZShbQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludChiLGEvNCksQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludCgyKi1iLGEvMiksQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludChiLGEvNCldKTtyZXR1cm57aGVpZ2h0OmEsd2lkdGg6YixwYXRoOmN9fTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUubWFrZVN0YXJ0SGF0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5TVEFSVF9IQVRfSEVJR0hULGI9dGhpcy5TVEFSVF9IQVRfV0lEVEgsYz1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmN1cnZlKFwiY1wiLFtCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KDMwLC1hKSxCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KDcwLC1hKSxCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KGIsMCldKTtyZXR1cm57aGVpZ2h0OmEsd2lkdGg6YixwYXRoOmN9fTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUubWFrZVB1enpsZVRhYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7YT1hPy0xOjE7dmFyIGQ9LWEsZT1jLzIsZj1lKzIuNSxsPWUrLjUsbT1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KC1iLGEqZSk7ZT1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KGIsYSplKTtyZXR1cm4gQmxvY2tseS51dGlscy5zdmdQYXRocy5jdXJ2ZShcImNcIixbQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludCgwLGEqZiksQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludCgtYixkKmwpLG1dKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmN1cnZlKFwic1wiLFtCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KGIsMi41KmQpLGVdKX12YXIgYj10aGlzLlRBQl9XSURUSCxjPXRoaXMuVEFCX0hFSUdIVCxkPWEoITApLGU9YSghMSk7cmV0dXJue3R5cGU6dGhpcy5TSEFQRVMuUFVaWkxFLHdpZHRoOmIsaGVpZ2h0OmMsXG5wYXRoRG93bjplLHBhdGhVcDpkfX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5tYWtlTm90Y2g9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmUoW0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYSpkLGMpLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoMyphLDApLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYSpkLC1jKV0pfXZhciBiPXRoaXMuTk9UQ0hfV0lEVEgsYz10aGlzLk5PVENIX0hFSUdIVCxkPShiLTMpLzIsZT1hKDEpLGY9YSgtMSk7cmV0dXJue3R5cGU6dGhpcy5TSEFQRVMuTk9UQ0gsd2lkdGg6YixoZWlnaHQ6YyxwYXRoTGVmdDplLHBhdGhSaWdodDpmfX07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkNvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLm1ha2VJbnNpZGVDb3JuZXJzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5DT1JORVJfUkFESVVTLGI9QmxvY2tseS51dGlscy5zdmdQYXRocy5hcmMoXCJhXCIsXCIwIDAsMFwiLGEsQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludCgtYSxhKSksYz1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmFyYyhcImFcIixcIjAgMCwwXCIsYSxCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KGEsYSkpO3JldHVybnt3aWR0aDphLGhlaWdodDphLHBhdGhUb3A6YixwYXRoQm90dG9tOmN9fTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUubWFrZU91dHNpZGVDb3JuZXJzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5DT1JORVJfUkFESVVTLGI9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlQnkoMCxhKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmFyYyhcImFcIixcIjAgMCwxXCIsYSxCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KGEsLWEpKSxjPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMuYXJjKFwiYVwiLFwiMCAwLDFcIixhLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYSxhKSksZD1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmFyYyhcImFcIixcIjAgMCwxXCIsYSxCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KC1hLC1hKSksZT1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmFyYyhcImFcIixcIjAgMCwxXCIsYSxCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KC1hLGEpKTtyZXR1cm57dG9wTGVmdDpiLHRvcFJpZ2h0OmMsYm90dG9tUmlnaHQ6ZSxib3R0b21MZWZ0OmQsXG5yaWdodEhlaWdodDphfX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5zaGFwZUZvcj1mdW5jdGlvbihhKXtzd2l0Y2goYS50eXBlKXtjYXNlIEJsb2NrbHkuSU5QVVRfVkFMVUU6Y2FzZSBCbG9ja2x5Lk9VVFBVVF9WQUxVRTpyZXR1cm4gdGhpcy5QVVpaTEVfVEFCO2Nhc2UgQmxvY2tseS5QUkVWSU9VU19TVEFURU1FTlQ6Y2FzZSBCbG9ja2x5Lk5FWFRfU1RBVEVNRU5UOnJldHVybiB0aGlzLk5PVENIO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIGNvbm5lY3Rpb24gdHlwZVwiKTt9fTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUuY3JlYXRlRG9tPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmluamVjdENTU18oYixjKTthPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJkZWZzXCIse30sYSk7Yj1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiZmlsdGVyXCIse2lkOlwiYmxvY2tseUVtYm9zc0ZpbHRlclwiK3RoaXMucmFuZG9tSWRlbnRpZmllcn0sYSk7QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImZlR2F1c3NpYW5CbHVyXCIse1wiaW5cIjpcIlNvdXJjZUFscGhhXCIsc3RkRGV2aWF0aW9uOjEscmVzdWx0OlwiYmx1clwifSxiKTtjPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJmZVNwZWN1bGFyTGlnaHRpbmdcIix7XCJpblwiOlwiYmx1clwiLHN1cmZhY2VTY2FsZToxLHNwZWN1bGFyQ29uc3RhbnQ6LjUsc3BlY3VsYXJFeHBvbmVudDoxMCxcImxpZ2h0aW5nLWNvbG9yXCI6XCJ3aGl0ZVwiLFxucmVzdWx0Olwic3BlY091dFwifSxiKTtCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiZmVQb2ludExpZ2h0XCIse3g6LTVFMyx5Oi0xRTQsejoyRTR9LGMpO0Jsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJmZUNvbXBvc2l0ZVwiLHtcImluXCI6XCJzcGVjT3V0XCIsaW4yOlwiU291cmNlQWxwaGFcIixvcGVyYXRvcjpcImluXCIscmVzdWx0Olwic3BlY091dFwifSxiKTtCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiZmVDb21wb3NpdGVcIix7XCJpblwiOlwiU291cmNlR3JhcGhpY1wiLGluMjpcInNwZWNPdXRcIixvcGVyYXRvcjpcImFyaXRobWV0aWNcIixrMTowLGsyOjEsazM6MSxrNDowfSxiKTt0aGlzLmVtYm9zc0ZpbHRlcklkPWIuaWQ7dGhpcy5lbWJvc3NGaWx0ZXJfPWI7Yj1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicGF0dGVyblwiLHtpZDpcImJsb2NrbHlEaXNhYmxlZFBhdHRlcm5cIit0aGlzLnJhbmRvbUlkZW50aWZpZXIscGF0dGVyblVuaXRzOlwidXNlclNwYWNlT25Vc2VcIixcbndpZHRoOjEwLGhlaWdodDoxMH0sYSk7QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInJlY3RcIix7d2lkdGg6MTAsaGVpZ2h0OjEwLGZpbGw6XCIjYWFhXCJ9LGIpO0Jsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJwYXRoXCIse2Q6XCJNIDAgMCBMIDEwIDEwIE0gMTAgMCBMIDAgMTBcIixzdHJva2U6XCIjY2MwXCJ9LGIpO3RoaXMuZGlzYWJsZWRQYXR0ZXJuSWQ9Yi5pZDt0aGlzLmRpc2FibGVkUGF0dGVybl89YjtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkRlYnVnJiYoYT1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiZmlsdGVyXCIse2lkOlwiYmxvY2tseURlYnVnRmlsdGVyXCIrdGhpcy5yYW5kb21JZGVudGlmaWVyLGhlaWdodDpcIjE2MCVcIix3aWR0aDpcIjE4MCVcIix5OlwiLTMwJVwiLHg6XCItNDAlXCJ9LGEpLGI9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImZlQ29tcG9uZW50VHJhbnNmZXJcIix7cmVzdWx0Olwib3V0Qmx1clwifSxhKSxCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiZmVGdW5jQVwiLFxue3R5cGU6XCJ0YWJsZVwiLHRhYmxlVmFsdWVzOlwiMCAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxXCJ9LGIpLEJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJmZUZsb29kXCIse1wiZmxvb2QtY29sb3JcIjpcIiNmZjAwMDBcIixcImZsb29kLW9wYWNpdHlcIjouNSxyZXN1bHQ6XCJvdXRDb2xvclwifSxhKSxCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiZmVDb21wb3NpdGVcIix7XCJpblwiOlwib3V0Q29sb3JcIixpbjI6XCJvdXRCbHVyXCIsb3BlcmF0b3I6XCJpblwiLHJlc3VsdDpcIm91dEdsb3dcIn0sYSksdGhpcy5kZWJ1Z0ZpbHRlcklkPWEuaWQsdGhpcy5kZWJ1Z0ZpbHRlcl89YSl9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5pbmplY3RDU1NfPWZ1bmN0aW9uKGEsYil7Yj10aGlzLmdldENTU18oYik7YT1cImJsb2NrbHktcmVuZGVyZXItc3R5bGUtXCIrYTt0aGlzLmNzc05vZGVfPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpO3ZhciBjPWIuam9pbihcIlxcblwiKTt0aGlzLmNzc05vZGVfP3RoaXMuY3NzTm9kZV8uZmlyc3RDaGlsZC50ZXh0Q29udGVudD1jOihiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSxiLmlkPWEsYT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjKSxiLmFwcGVuZENoaWxkKGEpLGRvY3VtZW50LmhlYWQuaW5zZXJ0QmVmb3JlKGIsZG9jdW1lbnQuaGVhZC5maXJzdENoaWxkKSx0aGlzLmNzc05vZGVfPWIpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUuZ2V0Q1NTXz1mdW5jdGlvbihhKXtyZXR1cm5bYStcIiAuYmxvY2tseVRleHQsIFwiLGErXCIgLmJsb2NrbHlGbHlvdXRMYWJlbFRleHQge1wiLFwiZm9udC1mYW1pbHk6IFwiK3RoaXMuRklFTERfVEVYVF9GT05URkFNSUxZK1wiO1wiLFwiZm9udC1zaXplOiBcIit0aGlzLkZJRUxEX1RFWFRfRk9OVFNJWkUrXCJwdDtcIixcImZvbnQtd2VpZ2h0OiBcIit0aGlzLkZJRUxEX1RFWFRfRk9OVFdFSUdIVCtcIjtcIixcIn1cIixhK1wiIC5ibG9ja2x5VGV4dCB7XCIsXCJmaWxsOiAjZmZmO1wiLFwifVwiLGErXCIgLmJsb2NrbHlOb25FZGl0YWJsZVRleHQ+cmVjdCxcIixhK1wiIC5ibG9ja2x5RWRpdGFibGVUZXh0PnJlY3Qge1wiLFwiZmlsbDogXCIrdGhpcy5GSUVMRF9CT1JERVJfUkVDVF9DT0xPVVIrXCI7XCIsXCJmaWxsLW9wYWNpdHk6IC42O1wiLFwic3Ryb2tlOiBub25lO1wiLFwifVwiLGErXCIgLmJsb2NrbHlOb25FZGl0YWJsZVRleHQ+dGV4dCxcIixhK1wiIC5ibG9ja2x5RWRpdGFibGVUZXh0PnRleHQge1wiLFxuXCJmaWxsOiAjMDAwO1wiLFwifVwiLGErXCIgLmJsb2NrbHlGbHlvdXRMYWJlbFRleHQge1wiLFwiZmlsbDogIzAwMDtcIixcIn1cIixhK1wiIC5ibG9ja2x5VGV4dC5ibG9ja2x5QnViYmxlVGV4dCB7XCIsXCJmaWxsOiAjMDAwO1wiLFwifVwiLGErXCIgLmJsb2NrbHlFZGl0YWJsZVRleHQ6bm90KC5lZGl0aW5nKTpob3Zlcj5yZWN0IHtcIixcInN0cm9rZTogI2ZmZjtcIixcInN0cm9rZS13aWR0aDogMjtcIixcIn1cIixhK1wiIC5ibG9ja2x5SHRtbElucHV0IHtcIixcImZvbnQtZmFtaWx5OiBcIit0aGlzLkZJRUxEX1RFWFRfRk9OVEZBTUlMWStcIjtcIixcImZvbnQtd2VpZ2h0OiBcIit0aGlzLkZJRUxEX1RFWFRfRk9OVFdFSUdIVCtcIjtcIixcIn1cIixhK1wiIC5ibG9ja2x5U2VsZWN0ZWQ+LmJsb2NrbHlQYXRoIHtcIixcInN0cm9rZTogI2ZjMztcIixcInN0cm9rZS13aWR0aDogM3B4O1wiLFwifVwiLGErXCIgLmJsb2NrbHlIaWdobGlnaHRlZENvbm5lY3Rpb25QYXRoIHtcIixcInN0cm9rZTogI2ZjMztcIixcIn1cIixhK1wiIC5ibG9ja2x5UmVwbGFjZWFibGUgLmJsb2NrbHlQYXRoIHtcIixcblwiZmlsbC1vcGFjaXR5OiAuNTtcIixcIn1cIixhK1wiIC5ibG9ja2x5UmVwbGFjZWFibGUgLmJsb2NrbHlQYXRoTGlnaHQsXCIsYStcIiAuYmxvY2tseVJlcGxhY2VhYmxlIC5ibG9ja2x5UGF0aERhcmsge1wiLFwiZGlzcGxheTogbm9uZTtcIixcIn1cIixhK1wiIC5ibG9ja2x5SW5zZXJ0aW9uTWFya2VyPi5ibG9ja2x5UGF0aCB7XCIsXCJmaWxsLW9wYWNpdHk6IFwiK3RoaXMuSU5TRVJUSU9OX01BUktFUl9PUEFDSVRZK1wiO1wiLFwic3Ryb2tlOiBub25lXCIsXCJ9XCJdfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zz1mdW5jdGlvbihhLGIsYyl7dGhpcy53b3Jrc3BhY2VfPWE7dGhpcy5tYXJrZXJfPWM7dGhpcy5wYXJlbnRfPW51bGw7dGhpcy5jb25zdGFudHNfPWI7dGhpcy5jdXJyZW50TWFya2VyU3ZnPW51bGw7YT10aGlzLmlzQ3Vyc29yKCk/dGhpcy5jb25zdGFudHNfLkNVUlNPUl9DT0xPVVI6dGhpcy5jb25zdGFudHNfLk1BUktFUl9DT0xPVVI7dGhpcy5jb2xvdXJfPWMuY29sb3VyfHxhfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zy5DVVJTT1JfQ0xBU1M9XCJibG9ja2x5Q3Vyc29yXCI7QmxvY2tseS5ibG9ja1JlbmRlcmluZy5NYXJrZXJTdmcuTUFSS0VSX0NMQVNTPVwiYmxvY2tseU1hcmtlclwiO0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWFya2VyU3ZnLkhFSUdIVF9NVUxUSVBMSUVSPS43NTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zy5wcm90b3R5cGUuZ2V0U3ZnUm9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN2Z0dyb3VwX307XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zy5wcm90b3R5cGUuaXNDdXJzb3I9ZnVuY3Rpb24oKXtyZXR1cm5cImN1cnNvclwiPT10aGlzLm1hcmtlcl8udHlwZX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5NYXJrZXJTdmcucHJvdG90eXBlLmNyZWF0ZURvbT1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaXNDdXJzb3IoKT9CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zy5DVVJTT1JfQ0xBU1M6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5NYXJrZXJTdmcuTUFSS0VSX0NMQVNTO3RoaXMuc3ZnR3JvdXBfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJnXCIse1wiY2xhc3NcIjphfSxudWxsKTt0aGlzLmNyZWF0ZURvbUludGVybmFsXygpO3RoaXMuYXBwbHlDb2xvdXJfKCk7cmV0dXJuIHRoaXMuc3ZnR3JvdXBffTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWFya2VyU3ZnLnByb3RvdHlwZS5zZXRQYXJlbnRfPWZ1bmN0aW9uKGEpe3RoaXMuaXNDdXJzb3IoKT8odGhpcy5wYXJlbnRfJiZ0aGlzLnBhcmVudF8uc2V0Q3Vyc29yU3ZnKG51bGwpLGEuc2V0Q3Vyc29yU3ZnKHRoaXMuZ2V0U3ZnUm9vdCgpKSk6KHRoaXMucGFyZW50XyYmdGhpcy5wYXJlbnRfLnNldE1hcmtlclN2ZyhudWxsKSxhLnNldE1hcmtlclN2Zyh0aGlzLmdldFN2Z1Jvb3QoKSkpO3RoaXMucGFyZW50Xz1hfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWFya2VyU3ZnLnByb3RvdHlwZS5zaG93V2l0aEJsb2NrUHJldk91dHB1dF89ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9YS53aWR0aCxjPWEuaGVpZ2h0LGQ9YypCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zy5IRUlHSFRfTVVMVElQTElFUixlPXRoaXMuY29uc3RhbnRzXy5DVVJTT1JfQkxPQ0tfUEFERElORztpZihhLnByZXZpb3VzQ29ubmVjdGlvbil7dmFyIGY9dGhpcy5jb25zdGFudHNfLnNoYXBlRm9yKGEucHJldmlvdXNDb25uZWN0aW9uKTt0aGlzLnBvc2l0aW9uUHJldmlvdXNfKGIsZSxkLGYpfWVsc2UgYS5vdXRwdXRDb25uZWN0aW9uPyhmPXRoaXMuY29uc3RhbnRzXy5zaGFwZUZvcihhLm91dHB1dENvbm5lY3Rpb24pLHRoaXMucG9zaXRpb25PdXRwdXRfKGIsYyxmKSk6dGhpcy5wb3NpdGlvbkJsb2NrXyhiLGUsZCk7dGhpcy5zZXRQYXJlbnRfKGEpO3RoaXMuc2hvd0N1cnJlbnRfKCl9fTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWFya2VyU3ZnLnByb3RvdHlwZS5zaG93V2l0aENvb3JkaW5hdGVzXz1mdW5jdGlvbihhKXt2YXIgYj1hLmdldFdzQ29vcmRpbmF0ZSgpO2E9Yi54O2I9Yi55O3RoaXMud29ya3NwYWNlXy5SVEwmJihhLT10aGlzLmNvbnN0YW50c18uQ1VSU09SX1dTX1dJRFRIKTt0aGlzLnBvc2l0aW9uTGluZV8oYSxiLHRoaXMuY29uc3RhbnRzXy5DVVJTT1JfV1NfV0lEVEgpO3RoaXMuc2V0UGFyZW50Xyh0aGlzLndvcmtzcGFjZV8pO3RoaXMuc2hvd0N1cnJlbnRfKCl9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWFya2VyU3ZnLnByb3RvdHlwZS5zaG93V2l0aEZpZWxkXz1mdW5jdGlvbihhKXthPWEuZ2V0TG9jYXRpb24oKTt2YXIgYj1hLmdldFNpemUoKS53aWR0aCxjPWEuZ2V0U2l6ZSgpLmhlaWdodDt0aGlzLnBvc2l0aW9uUmVjdF8oMCwwLGIsYyk7dGhpcy5zZXRQYXJlbnRfKGEpO3RoaXMuc2hvd0N1cnJlbnRfKCl9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5NYXJrZXJTdmcucHJvdG90eXBlLnNob3dXaXRoSW5wdXRfPWZ1bmN0aW9uKGEpe2E9YS5nZXRMb2NhdGlvbigpO3ZhciBiPWEuZ2V0U291cmNlQmxvY2soKTt0aGlzLnBvc2l0aW9uSW5wdXRfKGEpO3RoaXMuc2V0UGFyZW50XyhiKTt0aGlzLnNob3dDdXJyZW50XygpfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zy5wcm90b3R5cGUuc2hvd1dpdGhOZXh0Xz1mdW5jdGlvbihhKXt2YXIgYj1hLmdldExvY2F0aW9uKCk7YT1iLmdldFNvdXJjZUJsb2NrKCk7dmFyIGM9MDtiPWIuZ2V0T2Zmc2V0SW5CbG9jaygpLnk7dmFyIGQ9YS5nZXRIZWlnaHRXaWR0aCgpLndpZHRoO3RoaXMud29ya3NwYWNlXy5SVEwmJihjPS1kKTt0aGlzLnBvc2l0aW9uTGluZV8oYyxiLGQpO3RoaXMuc2V0UGFyZW50XyhhKTt0aGlzLnNob3dDdXJyZW50XygpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWFya2VyU3ZnLnByb3RvdHlwZS5zaG93V2l0aFN0YWNrXz1mdW5jdGlvbihhKXthPWEuZ2V0TG9jYXRpb24oKTt2YXIgYj1hLmdldEhlaWdodFdpZHRoKCksYz1iLndpZHRoK3RoaXMuY29uc3RhbnRzXy5DVVJTT1JfU1RBQ0tfUEFERElORztiPWIuaGVpZ2h0K3RoaXMuY29uc3RhbnRzXy5DVVJTT1JfU1RBQ0tfUEFERElORzt2YXIgZD0tdGhpcy5jb25zdGFudHNfLkNVUlNPUl9TVEFDS19QQURESU5HLzIsZT0tdGhpcy5jb25zdGFudHNfLkNVUlNPUl9TVEFDS19QQURESU5HLzIsZj1kO3RoaXMud29ya3NwYWNlXy5SVEwmJihmPS0oYytkKSk7dGhpcy5wb3NpdGlvblJlY3RfKGYsZSxjLGIpO3RoaXMuc2V0UGFyZW50XyhhKTt0aGlzLnNob3dDdXJyZW50XygpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWFya2VyU3ZnLnByb3RvdHlwZS5zaG93Q3VycmVudF89ZnVuY3Rpb24oKXt0aGlzLmhpZGUoKTt0aGlzLmN1cnJlbnRNYXJrZXJTdmcuc3R5bGUuZGlzcGxheT1cIlwifTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zy5wcm90b3R5cGUucG9zaXRpb25CbG9ja189ZnVuY3Rpb24oYSxiLGMpe2E9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlQnkoLWIsYykrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiVlwiLC1iKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJIXCIsYSsyKmIpK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcIlZcIixjKTt0aGlzLm1hcmtlckJsb2NrXy5zZXRBdHRyaWJ1dGUoXCJkXCIsYSk7dGhpcy53b3Jrc3BhY2VfLlJUTCYmdGhpcy5mbGlwUnRsXyh0aGlzLm1hcmtlckJsb2NrXyk7dGhpcy5jdXJyZW50TWFya2VyU3ZnPXRoaXMubWFya2VyQmxvY2tffTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWFya2VyU3ZnLnByb3RvdHlwZS5wb3NpdGlvbklucHV0Xz1mdW5jdGlvbihhKXt2YXIgYj1hLmdldE9mZnNldEluQmxvY2soKS54LGM9YS5nZXRPZmZzZXRJbkJsb2NrKCkueTthPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZVRvKDAsMCkrdGhpcy5jb25zdGFudHNfLnNoYXBlRm9yKGEpLnBhdGhEb3duO3RoaXMubWFya2VySW5wdXRfLnNldEF0dHJpYnV0ZShcImRcIixhKTt0aGlzLm1hcmtlcklucHV0Xy5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZShcIitiK1wiLFwiK2MrXCIpXCIrKHRoaXMud29ya3NwYWNlXy5SVEw/XCIgc2NhbGUoLTEgMSlcIjpcIlwiKSk7dGhpcy5jdXJyZW50TWFya2VyU3ZnPXRoaXMubWFya2VySW5wdXRffTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWFya2VyU3ZnLnByb3RvdHlwZS5wb3NpdGlvbkxpbmVfPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm1hcmtlclN2Z0xpbmVfLnNldEF0dHJpYnV0ZShcInhcIixhKTt0aGlzLm1hcmtlclN2Z0xpbmVfLnNldEF0dHJpYnV0ZShcInlcIixiKTt0aGlzLm1hcmtlclN2Z0xpbmVfLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYyk7dGhpcy5jdXJyZW50TWFya2VyU3ZnPXRoaXMubWFya2VyU3ZnTGluZV99O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5NYXJrZXJTdmcucHJvdG90eXBlLnBvc2l0aW9uT3V0cHV0Xz1mdW5jdGlvbihhLGIsYyl7YT1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLm1vdmVCeShhLDApK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcImhcIiwtKGEtYy53aWR0aCkpK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcInZcIix0aGlzLmNvbnN0YW50c18uVEFCX09GRlNFVF9GUk9NX1RPUCkrYy5wYXRoRG93bitCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJWXCIsYikrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiSFwiLGEpO3RoaXMubWFya2VyQmxvY2tfLnNldEF0dHJpYnV0ZShcImRcIixhKTt0aGlzLndvcmtzcGFjZV8uUlRMJiZ0aGlzLmZsaXBSdGxfKHRoaXMubWFya2VyQmxvY2tfKTt0aGlzLmN1cnJlbnRNYXJrZXJTdmc9dGhpcy5tYXJrZXJCbG9ja199O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5NYXJrZXJTdmcucHJvdG90eXBlLnBvc2l0aW9uUHJldmlvdXNfPWZ1bmN0aW9uKGEsYixjLGQpe2E9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlQnkoLWIsYykrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiVlwiLC1iKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJIXCIsdGhpcy5jb25zdGFudHNfLk5PVENIX09GRlNFVF9MRUZUKStkLnBhdGhMZWZ0K0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcIkhcIixhKzIqYikrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiVlwiLGMpO3RoaXMubWFya2VyQmxvY2tfLnNldEF0dHJpYnV0ZShcImRcIixhKTt0aGlzLndvcmtzcGFjZV8uUlRMJiZ0aGlzLmZsaXBSdGxfKHRoaXMubWFya2VyQmxvY2tfKTt0aGlzLmN1cnJlbnRNYXJrZXJTdmc9dGhpcy5tYXJrZXJCbG9ja199O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5NYXJrZXJTdmcucHJvdG90eXBlLnBvc2l0aW9uUmVjdF89ZnVuY3Rpb24oYSxiLGMsZCl7dGhpcy5tYXJrZXJTdmdSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJ4XCIsYSk7dGhpcy5tYXJrZXJTdmdSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJ5XCIsYik7dGhpcy5tYXJrZXJTdmdSZWN0Xy5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLGMpO3RoaXMubWFya2VyU3ZnUmVjdF8uc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsZCk7dGhpcy5jdXJyZW50TWFya2VyU3ZnPXRoaXMubWFya2VyU3ZnUmVjdF99O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWFya2VyU3ZnLnByb3RvdHlwZS5mbGlwUnRsXz1mdW5jdGlvbihhKXthLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwic2NhbGUoLTEgMSlcIil9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5NYXJrZXJTdmcucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLm1hcmtlclN2Z0xpbmVfLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dGhpcy5tYXJrZXJTdmdSZWN0Xy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3RoaXMubWFya2VySW5wdXRfLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dGhpcy5tYXJrZXJCbG9ja18uc3R5bGUuZGlzcGxheT1cIm5vbmVcIn07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zy5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbihhLGIpe2lmKGIpe3RoaXMuY29uc3RhbnRzXz10aGlzLndvcmtzcGFjZV8uZ2V0UmVuZGVyZXIoKS5nZXRDb25zdGFudHMoKTt2YXIgYz10aGlzLmlzQ3Vyc29yKCk/dGhpcy5jb25zdGFudHNfLkNVUlNPUl9DT0xPVVI6dGhpcy5jb25zdGFudHNfLk1BUktFUl9DT0xPVVI7dGhpcy5jb2xvdXJfPXRoaXMubWFya2VyXy5jb2xvdXJ8fGM7dGhpcy5hcHBseUNvbG91cl8oKTt0aGlzLnNob3dBdExvY2F0aW9uXyhiKTt0aGlzLmZpcmVtYXJrZXJFdmVudF8oYSxiKTthPXRoaXMuY3VycmVudE1hcmtlclN2Zy5jaGlsZE5vZGVzWzBdO3ZvaWQgMCE9PWEmJmEuYmVnaW5FbGVtZW50JiZhLmJlZ2luRWxlbWVudCgpfWVsc2UgdGhpcy5oaWRlKCl9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5NYXJrZXJTdmcucHJvdG90eXBlLnNob3dBdExvY2F0aW9uXz1mdW5jdGlvbihhKXthLmdldFR5cGUoKT09QmxvY2tseS5BU1ROb2RlLnR5cGVzLkJMT0NLPyhhPWEuZ2V0TG9jYXRpb24oKSx0aGlzLnNob3dXaXRoQmxvY2tQcmV2T3V0cHV0XyhhKSk6YS5nZXRUeXBlKCk9PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5PVVRQVVQ/KGE9YS5nZXRMb2NhdGlvbigpLmdldFNvdXJjZUJsb2NrKCksdGhpcy5zaG93V2l0aEJsb2NrUHJldk91dHB1dF8oYSkpOmEuZ2V0TG9jYXRpb24oKS50eXBlPT1CbG9ja2x5LklOUFVUX1ZBTFVFP3RoaXMuc2hvd1dpdGhJbnB1dF8oYSk6YS5nZXRMb2NhdGlvbigpLnR5cGU9PUJsb2NrbHkuTkVYVF9TVEFURU1FTlQ/dGhpcy5zaG93V2l0aE5leHRfKGEpOmEuZ2V0VHlwZSgpPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuUFJFVklPVVM/KGE9YS5nZXRMb2NhdGlvbigpLmdldFNvdXJjZUJsb2NrKCksdGhpcy5zaG93V2l0aEJsb2NrUHJldk91dHB1dF8oYSkpOlxuYS5nZXRUeXBlKCk9PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5GSUVMRD90aGlzLnNob3dXaXRoRmllbGRfKGEpOmEuZ2V0VHlwZSgpPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuV09SS1NQQUNFP3RoaXMuc2hvd1dpdGhDb29yZGluYXRlc18oYSk6YS5nZXRUeXBlKCk9PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5TVEFDSyYmdGhpcy5zaG93V2l0aFN0YWNrXyhhKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5NYXJrZXJTdmcucHJvdG90eXBlLmZpcmVtYXJrZXJFdmVudF89ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmdldFNvdXJjZUJsb2NrKCksZD10aGlzLmlzQ3Vyc29yKCk/XCJjdXJzb3JNb3ZlXCI6XCJtYXJrZXJNb3ZlXCI7YT1uZXcgQmxvY2tseS5FdmVudHMuVWkoYyxkLGEsYik7Yi5nZXRUeXBlKCk9PUJsb2NrbHkuQVNUTm9kZS50eXBlcy5XT1JLU1BBQ0UmJihhLndvcmtzcGFjZUlkPWIuZ2V0TG9jYXRpb24oKS5pZCk7QmxvY2tseS5FdmVudHMuZmlyZShhKX07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zy5wcm90b3R5cGUuZ2V0QmxpbmtQcm9wZXJ0aWVzXz1mdW5jdGlvbigpe3JldHVybnthdHRyaWJ1dGVUeXBlOlwiWE1MXCIsYXR0cmlidXRlTmFtZTpcImZpbGxcIixkdXI6XCIxc1wiLHZhbHVlczp0aGlzLmNvbG91cl8rXCI7dHJhbnNwYXJlbnQ7dHJhbnNwYXJlbnQ7XCIscmVwZWF0Q291bnQ6XCJpbmRlZmluaXRlXCJ9fTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWFya2VyU3ZnLnByb3RvdHlwZS5jcmVhdGVEb21JbnRlcm5hbF89ZnVuY3Rpb24oKXt0aGlzLm1hcmtlclN2Z189QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImdcIix7d2lkdGg6dGhpcy5jb25zdGFudHNfLkNVUlNPUl9XU19XSURUSCxoZWlnaHQ6dGhpcy5jb25zdGFudHNfLldTX0NVUlNPUl9IRUlHSFR9LHRoaXMuc3ZnR3JvdXBfKTt0aGlzLm1hcmtlclN2Z0xpbmVfPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJyZWN0XCIse3dpZHRoOnRoaXMuY29uc3RhbnRzXy5DVVJTT1JfV1NfV0lEVEgsaGVpZ2h0OnRoaXMuY29uc3RhbnRzXy5XU19DVVJTT1JfSEVJR0hULHN0eWxlOlwiZGlzcGxheTogbm9uZVwifSx0aGlzLm1hcmtlclN2Z18pO3RoaXMubWFya2VyU3ZnUmVjdF89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInJlY3RcIix7XCJjbGFzc1wiOlwiYmxvY2tseVZlcnRpY2FsTWFya2VyXCIscng6MTAsXG5yeToxMCxzdHlsZTpcImRpc3BsYXk6IG5vbmVcIn0sdGhpcy5tYXJrZXJTdmdfKTt0aGlzLm1hcmtlcklucHV0Xz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicGF0aFwiLHt0cmFuc2Zvcm06XCJcIixzdHlsZTpcImRpc3BsYXk6IG5vbmVcIn0sdGhpcy5tYXJrZXJTdmdfKTt0aGlzLm1hcmtlckJsb2NrXz1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwicGF0aFwiLHt0cmFuc2Zvcm06XCJcIixzdHlsZTpcImRpc3BsYXk6IG5vbmVcIixmaWxsOlwibm9uZVwiLFwic3Ryb2tlLXdpZHRoXCI6dGhpcy5jb25zdGFudHNfLkNVUlNPUl9TVFJPS0VfV0lEVEh9LHRoaXMubWFya2VyU3ZnXyk7aWYodGhpcy5pc0N1cnNvcigpKXt2YXIgYT10aGlzLmdldEJsaW5rUHJvcGVydGllc18oKTtCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiYW5pbWF0ZVwiLGEsdGhpcy5tYXJrZXJTdmdMaW5lXyk7QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImFuaW1hdGVcIixcbmEsdGhpcy5tYXJrZXJJbnB1dF8pO2EuYXR0cmlidXRlTmFtZT1cInN0cm9rZVwiO0Jsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJhbmltYXRlXCIsYSx0aGlzLm1hcmtlckJsb2NrXyl9cmV0dXJuIHRoaXMubWFya2VyU3ZnX307XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zy5wcm90b3R5cGUuYXBwbHlDb2xvdXJfPWZ1bmN0aW9uKCl7dGhpcy5tYXJrZXJTdmdMaW5lXy5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5jb2xvdXJfKTt0aGlzLm1hcmtlclN2Z1JlY3RfLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLHRoaXMuY29sb3VyXyk7dGhpcy5tYXJrZXJJbnB1dF8uc2V0QXR0cmlidXRlKFwiZmlsbFwiLHRoaXMuY29sb3VyXyk7dGhpcy5tYXJrZXJCbG9ja18uc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsdGhpcy5jb2xvdXJfKTtpZih0aGlzLmlzQ3Vyc29yKCkpe3ZhciBhPXRoaXMuY29sb3VyXytcIjt0cmFuc3BhcmVudDt0cmFuc3BhcmVudDtcIjt0aGlzLm1hcmtlclN2Z0xpbmVfLmZpcnN0Q2hpbGQuc2V0QXR0cmlidXRlKFwidmFsdWVzXCIsYSk7dGhpcy5tYXJrZXJJbnB1dF8uZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZXNcIixhKTt0aGlzLm1hcmtlckJsb2NrXy5maXJzdENoaWxkLnNldEF0dHJpYnV0ZShcInZhbHVlc1wiLFxuYSl9fTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zy5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuc3ZnR3JvdXBfJiZCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVOb2RlKHRoaXMuc3ZnR3JvdXBfKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcz17Tk9ORTowLEZJRUxEOjEsSEFUOjIsSUNPTjo0LFNQQUNFUjo4LEJFVFdFRU5fUk9XX1NQQUNFUjoxNixJTl9ST1dfU1BBQ0VSOjMyLEVYVEVSTkFMX1ZBTFVFX0lOUFVUOjY0LElOUFVUOjEyOCxJTkxJTkVfSU5QVVQ6MjU2LFNUQVRFTUVOVF9JTlBVVDo1MTIsQ09OTkVDVElPTjoxMDI0LFBSRVZJT1VTX0NPTk5FQ1RJT046MjA0OCxORVhUX0NPTk5FQ1RJT046NDA5NixPVVRQVVRfQ09OTkVDVElPTjo4MTkyLENPUk5FUjoxNjM4NCxMRUZUX1NRVUFSRV9DT1JORVI6MzI3NjgsTEVGVF9ST1VORF9DT1JORVI6NjU1MzYsUklHSFRfU1FVQVJFX0NPUk5FUjoxMzEwNzIsUklHSFRfUk9VTkRfQ09STkVSOjI2MjE0NCxKQUdHRURfRURHRTo1MjQyODgsUk9XOjEwNDg1NzYsVE9QX1JPVzoyMDk3MTUyLEJPVFRPTV9ST1c6NDE5NDMwNCxJTlBVVF9ST1c6ODM4ODYwOH07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLkxFRlRfQ09STkVSPUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuTEVGVF9TUVVBUkVfQ09STkVSfEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuTEVGVF9ST1VORF9DT1JORVI7QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5SSUdIVF9DT1JORVI9QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5SSUdIVF9TUVVBUkVfQ09STkVSfEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuUklHSFRfUk9VTkRfQ09STkVSO0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMubmV4dFR5cGVWYWx1ZV89MTY3NzcyMTY7XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmdldFR5cGU9ZnVuY3Rpb24oYSl7QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5oYXNPd25Qcm9wZXJ0eShhKXx8KEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXNbYV09QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5uZXh0VHlwZVZhbHVlXyxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLm5leHRUeXBlVmFsdWVfPDw9MSk7cmV0dXJuIEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXNbYV19O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNGaWVsZD1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuRklFTER9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNIYXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZSZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLkhBVH07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSWNvbj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuSUNPTn07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1NwYWNlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuU1BBQ0VSfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSW5Sb3dTcGFjZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZSZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLklOX1JPV19TUEFDRVJ9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbnB1dD1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuSU5QVVR9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNFeHRlcm5hbElucHV0PWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGUmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5FWFRFUk5BTF9WQUxVRV9JTlBVVH07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSW5saW5lSW5wdXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZSZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLklOTElORV9JTlBVVH07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1N0YXRlbWVudElucHV0PWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGUmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5TVEFURU1FTlRfSU5QVVR9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNQcmV2aW91c0Nvbm5lY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZSZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLlBSRVZJT1VTX0NPTk5FQ1RJT059O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNOZXh0Q29ubmVjdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuTkVYVF9DT05ORUNUSU9OfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNQcmV2aW91c09yTmV4dENvbm5lY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZSYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5QUkVWSU9VU19DT05ORUNUSU9OfEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuTkVYVF9DT05ORUNUSU9OKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGUmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5MRUZUX1JPVU5EX0NPUk5FUn07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1JpZ2h0Um91bmRlZENvcm5lcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuUklHSFRfUk9VTkRfQ09STkVSfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNMZWZ0U3F1YXJlQ29ybmVyPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGUmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5MRUZUX1NRVUFSRV9DT1JORVJ9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNSaWdodFNxdWFyZUNvcm5lcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuUklHSFRfU1FVQVJFX0NPUk5FUn07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0Nvcm5lcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuQ09STkVSfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSmFnZ2VkRWRnZT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuSkFHR0VEX0VER0V9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1Jvdz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuUk9XfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzQmV0d2VlblJvd1NwYWNlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuQkVUV0VFTl9ST1dfU1BBQ0VSfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzVG9wUm93PWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGUmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5UT1BfUk9XfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzQm90dG9tUm93PWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGUmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5CT1RUT01fUk9XfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNUb3BPckJvdHRvbVJvdz1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlJihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLlRPUF9ST1d8QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5CT1RUT01fUk9XKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lucHV0Um93PWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGUmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5JTlBVVF9ST1d9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWVhc3VyYWJsZT1mdW5jdGlvbihhKXt0aGlzLmhlaWdodD10aGlzLndpZHRoPTA7dGhpcy50eXBlPUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuTk9ORTt0aGlzLmNlbnRlcmxpbmU9dGhpcy54UG9zPTA7dGhpcy5jb25zdGFudHNfPWE7dGhpcy5ub3RjaE9mZnNldD10aGlzLmNvbnN0YW50c18uTk9UQ0hfT0ZGU0VUX0xFRlR9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29ubmVjdGlvbj1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29ubmVjdGlvbi5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy5jb25uZWN0aW9uTW9kZWw9Yjt0aGlzLnNoYXBlPXRoaXMuY29uc3RhbnRzXy5zaGFwZUZvcihiKTt0aGlzLmlzRHluYW1pY1NoYXBlPSEhdGhpcy5zaGFwZS5pc0R5bmFtaWM7dGhpcy50eXBlfD1CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLkNPTk5FQ1RJT059O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29ubmVjdGlvbixCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1lYXN1cmFibGUpO1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5PdXRwdXRDb25uZWN0aW9uPWZ1bmN0aW9uKGEsYil7QmxvY2tseS5ibG9ja1JlbmRlcmluZy5PdXRwdXRDb25uZWN0aW9uLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIpO3RoaXMudHlwZXw9QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5PVVRQVVRfQ09OTkVDVElPTjt0aGlzLmhlaWdodD10aGlzLmlzRHluYW1pY1NoYXBlPzA6dGhpcy5zaGFwZS5oZWlnaHQ7dGhpcy5zdGFydFg9dGhpcy53aWR0aD10aGlzLmlzRHluYW1pY1NoYXBlPzA6dGhpcy5zaGFwZS53aWR0aDt0aGlzLmNvbm5lY3Rpb25PZmZzZXRZPXRoaXMuY29uc3RhbnRzXy5UQUJfT0ZGU0VUX0ZST01fVE9QO3RoaXMuY29ubmVjdGlvbk9mZnNldFg9MH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5PdXRwdXRDb25uZWN0aW9uLEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29ubmVjdGlvbik7XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlByZXZpb3VzQ29ubmVjdGlvbj1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUHJldmlvdXNDb25uZWN0aW9uLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIpO3RoaXMudHlwZXw9QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5QUkVWSU9VU19DT05ORUNUSU9OO3RoaXMuaGVpZ2h0PXRoaXMuc2hhcGUuaGVpZ2h0O3RoaXMud2lkdGg9dGhpcy5zaGFwZS53aWR0aH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5QcmV2aW91c0Nvbm5lY3Rpb24sQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Db25uZWN0aW9uKTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTmV4dENvbm5lY3Rpb249ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk5leHRDb25uZWN0aW9uLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIpO3RoaXMudHlwZXw9QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5ORVhUX0NPTk5FQ1RJT047dGhpcy5oZWlnaHQ9dGhpcy5zaGFwZS5oZWlnaHQ7dGhpcy53aWR0aD10aGlzLnNoYXBlLndpZHRofTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk5leHRDb25uZWN0aW9uLEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29ubmVjdGlvbik7QmxvY2tseS5ibG9ja1JlbmRlcmluZy5JbnB1dENvbm5lY3Rpb249ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLklucHV0Q29ubmVjdGlvbi5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSxiLmNvbm5lY3Rpb24pO3RoaXMudHlwZXw9QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5JTlBVVDt0aGlzLmlucHV0PWI7dGhpcy5hbGlnbj1iLmFsaWduOyh0aGlzLmNvbm5lY3RlZEJsb2NrPWIuY29ubmVjdGlvbiYmYi5jb25uZWN0aW9uLnRhcmdldEJsb2NrKCk/Yi5jb25uZWN0aW9uLnRhcmdldEJsb2NrKCk6bnVsbCk/KGE9dGhpcy5jb25uZWN0ZWRCbG9jay5nZXRIZWlnaHRXaWR0aCgpLHRoaXMuY29ubmVjdGVkQmxvY2tXaWR0aD1hLndpZHRoLHRoaXMuY29ubmVjdGVkQmxvY2tIZWlnaHQ9YS5oZWlnaHQpOnRoaXMuY29ubmVjdGVkQmxvY2tIZWlnaHQ9dGhpcy5jb25uZWN0ZWRCbG9ja1dpZHRoPTA7dGhpcy5jb25uZWN0aW9uT2Zmc2V0WT10aGlzLmNvbm5lY3Rpb25PZmZzZXRYPVxuMH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5JbnB1dENvbm5lY3Rpb24sQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Db25uZWN0aW9uKTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSW5saW5lSW5wdXQ9ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLklubGluZUlucHV0LnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIpO3RoaXMudHlwZXw9QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5JTkxJTkVfSU5QVVQ7dGhpcy5jb25uZWN0ZWRCbG9jaz8odGhpcy53aWR0aD10aGlzLmNvbm5lY3RlZEJsb2NrV2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5jb25uZWN0ZWRCbG9ja0hlaWdodCk6KHRoaXMuaGVpZ2h0PXRoaXMuY29uc3RhbnRzXy5FTVBUWV9JTkxJTkVfSU5QVVRfSEVJR0hULHRoaXMud2lkdGg9dGhpcy5jb25zdGFudHNfLkVNUFRZX0lOTElORV9JTlBVVF9QQURESU5HKTt0aGlzLmNvbm5lY3Rpb25IZWlnaHQ9dGhpcy5pc0R5bmFtaWNTaGFwZT90aGlzLnNoYXBlLmhlaWdodCh0aGlzLmhlaWdodCk6dGhpcy5zaGFwZS5oZWlnaHQ7dGhpcy5jb25uZWN0aW9uV2lkdGg9dGhpcy5pc0R5bmFtaWNTaGFwZT9cbnRoaXMuc2hhcGUud2lkdGgodGhpcy5oZWlnaHQpOnRoaXMuc2hhcGUud2lkdGg7dGhpcy5jb25uZWN0ZWRCbG9ja3x8KHRoaXMud2lkdGgrPXRoaXMuY29ubmVjdGlvbldpZHRoKih0aGlzLmlzRHluYW1pY1NoYXBlPzI6MSkpO3RoaXMuY29ubmVjdGlvbk9mZnNldFk9dGhpcy5pc0R5bmFtaWNTaGFwZT90aGlzLnNoYXBlLmNvbm5lY3Rpb25PZmZzZXRZKHRoaXMuY29ubmVjdGlvbkhlaWdodCk6dGhpcy5jb25zdGFudHNfLlRBQl9PRkZTRVRfRlJPTV9UT1A7dGhpcy5jb25uZWN0aW9uT2Zmc2V0WD10aGlzLmlzRHluYW1pY1NoYXBlP3RoaXMuc2hhcGUuY29ubmVjdGlvbk9mZnNldFgodGhpcy5jb25uZWN0aW9uV2lkdGgpOjB9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSW5saW5lSW5wdXQsQmxvY2tseS5ibG9ja1JlbmRlcmluZy5JbnB1dENvbm5lY3Rpb24pO1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5TdGF0ZW1lbnRJbnB1dD1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuU3RhdGVtZW50SW5wdXQuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEsYik7dGhpcy50eXBlfD1CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLlNUQVRFTUVOVF9JTlBVVDt0aGlzLmhlaWdodD10aGlzLmNvbm5lY3RlZEJsb2NrP3RoaXMuY29ubmVjdGVkQmxvY2tIZWlnaHQrdGhpcy5jb25zdGFudHNfLlNUQVRFTUVOVF9CT1RUT01fU1BBQ0VSOnRoaXMuY29uc3RhbnRzXy5FTVBUWV9TVEFURU1FTlRfSU5QVVRfSEVJR0hUO3RoaXMud2lkdGg9dGhpcy5jb25zdGFudHNfLlNUQVRFTUVOVF9JTlBVVF9OT1RDSF9PRkZTRVQrdGhpcy5zaGFwZS53aWR0aH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5TdGF0ZW1lbnRJbnB1dCxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLklucHV0Q29ubmVjdGlvbik7XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkV4dGVybmFsVmFsdWVJbnB1dD1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRXh0ZXJuYWxWYWx1ZUlucHV0LnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIpO3RoaXMudHlwZXw9QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5FWFRFUk5BTF9WQUxVRV9JTlBVVDt0aGlzLmhlaWdodD10aGlzLmNvbm5lY3RlZEJsb2NrP3RoaXMuY29ubmVjdGVkQmxvY2tIZWlnaHQtdGhpcy5jb25zdGFudHNfLlRBQl9PRkZTRVRfRlJPTV9UT1AtdGhpcy5jb25zdGFudHNfLk1FRElVTV9QQURESU5HOnRoaXMuc2hhcGUuaGVpZ2h0O3RoaXMud2lkdGg9dGhpcy5zaGFwZS53aWR0aCt0aGlzLmNvbnN0YW50c18uRVhURVJOQUxfVkFMVUVfSU5QVVRfUEFERElORzt0aGlzLmNvbm5lY3Rpb25PZmZzZXRZPXRoaXMuY29uc3RhbnRzXy5UQUJfT0ZGU0VUX0ZST01fVE9QO3RoaXMuY29ubmVjdGlvbkhlaWdodD10aGlzLnNoYXBlLmhlaWdodDtcbnRoaXMuY29ubmVjdGlvbldpZHRoPXRoaXMuc2hhcGUud2lkdGh9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRXh0ZXJuYWxWYWx1ZUlucHV0LEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSW5wdXRDb25uZWN0aW9uKTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkljb249ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkljb24uc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpO3RoaXMuaWNvbj1iO3RoaXMuaXNWaXNpYmxlPWIuaXNWaXNpYmxlKCk7dGhpcy50eXBlfD1CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLklDT047YT1iLmdldENvcnJlY3RlZFNpemUoKTt0aGlzLmhlaWdodD1hLmhlaWdodDt0aGlzLndpZHRoPWEud2lkdGh9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSWNvbixCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1lYXN1cmFibGUpO1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5KYWdnZWRFZGdlPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSmFnZ2VkRWRnZS5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy50eXBlfD1CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLkpBR0dFRF9FREdFO3RoaXMuaGVpZ2h0PXRoaXMuY29uc3RhbnRzXy5KQUdHRURfVEVFVEguaGVpZ2h0O3RoaXMud2lkdGg9dGhpcy5jb25zdGFudHNfLkpBR0dFRF9URUVUSC53aWR0aH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5KYWdnZWRFZGdlLEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWVhc3VyYWJsZSk7XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkZpZWxkPWZ1bmN0aW9uKGEsYixjKXtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkZpZWxkLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKTt0aGlzLmZpZWxkPWI7dGhpcy5pc0VkaXRhYmxlPWIuRURJVEFCTEU7dGhpcy5mbGlwUnRsPWIuZ2V0RmxpcFJ0bCgpO3RoaXMudHlwZXw9QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5GSUVMRDthPXRoaXMuZmllbGQuZ2V0U2l6ZSgpO3RoaXMuaGVpZ2h0PWEuaGVpZ2h0O3RoaXMud2lkdGg9YS53aWR0aDt0aGlzLnBhcmVudElucHV0PWN9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRmllbGQsQmxvY2tseS5ibG9ja1JlbmRlcmluZy5NZWFzdXJhYmxlKTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSGF0PWZ1bmN0aW9uKGEpe0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSGF0LnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKTt0aGlzLnR5cGV8PUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuSEFUO3RoaXMuaGVpZ2h0PXRoaXMuY29uc3RhbnRzXy5TVEFSVF9IQVQuaGVpZ2h0O3RoaXMud2lkdGg9dGhpcy5jb25zdGFudHNfLlNUQVJUX0hBVC53aWR0aDt0aGlzLmFzY2VuZGVySGVpZ2h0PXRoaXMuaGVpZ2h0fTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkhhdCxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1lYXN1cmFibGUpO1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5TcXVhcmVDb3JuZXI9ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlNxdWFyZUNvcm5lci5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy50eXBlPShiJiZcImxlZnRcIiE9Yj9CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLlJJR0hUX1NRVUFSRV9DT1JORVI6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5MRUZUX1NRVUFSRV9DT1JORVIpfEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuQ09STkVSO3RoaXMud2lkdGg9dGhpcy5oZWlnaHQ9dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkd9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuU3F1YXJlQ29ybmVyLEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWVhc3VyYWJsZSk7XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJvdW5kQ29ybmVyPWZ1bmN0aW9uKGEsYil7QmxvY2tseS5ibG9ja1JlbmRlcmluZy5Sb3VuZENvcm5lci5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy50eXBlPShiJiZcImxlZnRcIiE9Yj9CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLlJJR0hUX1JPVU5EX0NPUk5FUjpCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLkxFRlRfUk9VTkRfQ09STkVSKXxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLkNPUk5FUjt0aGlzLndpZHRoPXRoaXMuY29uc3RhbnRzXy5DT1JORVJfUkFESVVTO3RoaXMuaGVpZ2h0PXRoaXMuY29uc3RhbnRzXy5DT1JORVJfUkFESVVTLzJ9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUm91bmRDb3JuZXIsQmxvY2tseS5ibG9ja1JlbmRlcmluZy5NZWFzdXJhYmxlKTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSW5Sb3dTcGFjZXI9ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkluUm93U3BhY2VyLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKTt0aGlzLnR5cGU9dGhpcy50eXBlfEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuU1BBQ0VSfEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuSU5fUk9XX1NQQUNFUjt0aGlzLndpZHRoPWI7dGhpcy5oZWlnaHQ9dGhpcy5jb25zdGFudHNfLlNQQUNFUl9ERUZBVUxUX0hFSUdIVH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5JblJvd1NwYWNlcixCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1lYXN1cmFibGUpO0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUm93PWZ1bmN0aW9uKGEpe3RoaXMudHlwZT1CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLlJPVzt0aGlzLmVsZW1lbnRzPVtdO3RoaXMueFBvcz10aGlzLnlQb3M9dGhpcy53aWR0aFdpdGhDb25uZWN0ZWRCbG9ja3M9dGhpcy5taW5XaWR0aD10aGlzLm1pbkhlaWdodD10aGlzLndpZHRoPXRoaXMuaGVpZ2h0PTA7dGhpcy5oYXNKYWdnZWRFZGdlPXRoaXMuaGFzRHVtbXlJbnB1dD10aGlzLmhhc0lubGluZUlucHV0PXRoaXMuaGFzU3RhdGVtZW50PXRoaXMuaGFzRXh0ZXJuYWxJbnB1dD0hMTt0aGlzLmNvbnN0YW50c189YTt0aGlzLm5vdGNoT2Zmc2V0PXRoaXMuY29uc3RhbnRzXy5OT1RDSF9PRkZTRVRfTEVGVDt0aGlzLmFsaWduPW51bGx9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Sb3cucHJvdG90eXBlLm1lYXN1cmU9ZnVuY3Rpb24oKXt0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgYXR0ZW1wdCB0byBtZWFzdXJlIGEgYmFzZSBSb3cuXCIpO307QmxvY2tseS5ibG9ja1JlbmRlcmluZy5Sb3cucHJvdG90eXBlLmdldExhc3RJbnB1dD1mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmVsZW1lbnRzLmxlbmd0aC0xLGI7Yj10aGlzLmVsZW1lbnRzW2FdO2EtLSlpZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSW5wdXQoYikpcmV0dXJuIGI7cmV0dXJuIG51bGx9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUm93LnByb3RvdHlwZS5zdGFydHNXaXRoRWxlbVNwYWNlcj1mdW5jdGlvbigpe3JldHVybiEwfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJvdy5wcm90b3R5cGUuZW5kc1dpdGhFbGVtU3BhY2VyPWZ1bmN0aW9uKCl7cmV0dXJuITB9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Sb3cucHJvdG90eXBlLmdldEZpcnN0U3BhY2VyPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYjtiPXRoaXMuZWxlbWVudHNbYV07YSsrKWlmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNTcGFjZXIoYikpcmV0dXJuIGI7cmV0dXJuIG51bGx9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUm93LnByb3RvdHlwZS5nZXRMYXN0U3BhY2VyPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZWxlbWVudHMubGVuZ3RoLTEsYjtiPXRoaXMuZWxlbWVudHNbYV07YS0tKWlmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNTcGFjZXIoYikpcmV0dXJuIGI7cmV0dXJuIG51bGx9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Ub3BSb3c9ZnVuY3Rpb24oYSl7QmxvY2tseS5ibG9ja1JlbmRlcmluZy5Ub3BSb3cuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpO3RoaXMudHlwZXw9QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5UT1BfUk9XO3RoaXMuYXNjZW5kZXJIZWlnaHQ9dGhpcy5jYXBsaW5lPTA7dGhpcy5oYXNQcmV2aW91c0Nvbm5lY3Rpb249ITE7dGhpcy5jb25uZWN0aW9uPW51bGx9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVG9wUm93LEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUm93KTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVG9wUm93LnByb3RvdHlwZS5oYXNMZWZ0U3F1YXJlQ29ybmVyPWZ1bmN0aW9uKGEpe3ZhciBiPShhLmhhdD9cImNhcFwiPT09YS5oYXQ6dGhpcy5jb25zdGFudHNfLkFERF9TVEFSVF9IQVRTKSYmIWEub3V0cHV0Q29ubmVjdGlvbiYmIWEucHJldmlvdXNDb25uZWN0aW9uLGM9YS5nZXRQcmV2aW91c0Jsb2NrKCk7cmV0dXJuISFhLm91dHB1dENvbm5lY3Rpb258fGJ8fChjP2MuZ2V0TmV4dEJsb2NrKCk9PWE6ITEpfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlRvcFJvdy5wcm90b3R5cGUuaGFzUmlnaHRTcXVhcmVDb3JuZXI9ZnVuY3Rpb24oYSl7cmV0dXJuITB9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Ub3BSb3cucHJvdG90eXBlLm1lYXN1cmU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTAsYz0wLGQ9MCxlO2U9dGhpcy5lbGVtZW50c1tkXTtkKyspYis9ZS53aWR0aCxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzU3BhY2VyKGUpfHwoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0hhdChlKT9jPU1hdGgubWF4KGMsZS5hc2NlbmRlckhlaWdodCk6YT1NYXRoLm1heChhLGUuaGVpZ2h0KSk7dGhpcy53aWR0aD1NYXRoLm1heCh0aGlzLm1pbldpZHRoLGIpO3RoaXMuaGVpZ2h0PU1hdGgubWF4KHRoaXMubWluSGVpZ2h0LGEpK2M7dGhpcy5jYXBsaW5lPXRoaXMuYXNjZW5kZXJIZWlnaHQ9Yzt0aGlzLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcz10aGlzLndpZHRofTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlRvcFJvdy5wcm90b3R5cGUuc3RhcnRzV2l0aEVsZW1TcGFjZXI9ZnVuY3Rpb24oKXtyZXR1cm4hMX07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlRvcFJvdy5wcm90b3R5cGUuZW5kc1dpdGhFbGVtU3BhY2VyPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQm90dG9tUm93PWZ1bmN0aW9uKGEpe0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQm90dG9tUm93LnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKTt0aGlzLnR5cGV8PUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuQk9UVE9NX1JPVzt0aGlzLmhhc05leHRDb25uZWN0aW9uPSExO3RoaXMuY29ubmVjdGlvbj1udWxsO3RoaXMuYmFzZWxpbmU9dGhpcy5kZXNjZW5kZXJIZWlnaHQ9MH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Cb3R0b21Sb3csQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Sb3cpO1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Cb3R0b21Sb3cucHJvdG90eXBlLmhhc0xlZnRTcXVhcmVDb3JuZXI9ZnVuY3Rpb24oYSl7cmV0dXJuISFhLm91dHB1dENvbm5lY3Rpb258fCEhYS5nZXROZXh0QmxvY2soKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5Cb3R0b21Sb3cucHJvdG90eXBlLmhhc1JpZ2h0U3F1YXJlQ29ybmVyPWZ1bmN0aW9uKGEpe3JldHVybiEwfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQm90dG9tUm93LnByb3RvdHlwZS5tZWFzdXJlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wLGM9MCxkPTAsZTtlPXRoaXMuZWxlbWVudHNbZF07ZCsrKWIrPWUud2lkdGgsQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1NwYWNlcihlKXx8KEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNOZXh0Q29ubmVjdGlvbihlKT9jPU1hdGgubWF4KGMsZS5oZWlnaHQpOmE9TWF0aC5tYXgoYSxlLmhlaWdodCkpO3RoaXMud2lkdGg9TWF0aC5tYXgodGhpcy5taW5XaWR0aCxiKTt0aGlzLmhlaWdodD1NYXRoLm1heCh0aGlzLm1pbkhlaWdodCxhKStjO3RoaXMuZGVzY2VuZGVySGVpZ2h0PWM7dGhpcy53aWR0aFdpdGhDb25uZWN0ZWRCbG9ja3M9dGhpcy53aWR0aH07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5Cb3R0b21Sb3cucHJvdG90eXBlLnN0YXJ0c1dpdGhFbGVtU3BhY2VyPWZ1bmN0aW9uKCl7cmV0dXJuITF9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Cb3R0b21Sb3cucHJvdG90eXBlLmVuZHNXaXRoRWxlbVNwYWNlcj1mdW5jdGlvbigpe3JldHVybiExfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlNwYWNlclJvdz1mdW5jdGlvbihhLGIsYyl7QmxvY2tseS5ibG9ja1JlbmRlcmluZy5TcGFjZXJSb3cuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpO3RoaXMudHlwZT10aGlzLnR5cGV8QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5TUEFDRVJ8QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5CRVRXRUVOX1JPV19TUEFDRVI7dGhpcy53aWR0aD1jO3RoaXMuaGVpZ2h0PWI7dGhpcy5mb2xsb3dzU3RhdGVtZW50PSExO3RoaXMud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzPTA7dGhpcy5lbGVtZW50cz1bbmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSW5Sb3dTcGFjZXIodGhpcy5jb25zdGFudHNfLGMpXX07XG5CbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlNwYWNlclJvdyxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJvdyk7QmxvY2tseS5ibG9ja1JlbmRlcmluZy5TcGFjZXJSb3cucHJvdG90eXBlLm1lYXN1cmU9ZnVuY3Rpb24oKXt9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSW5wdXRSb3c9ZnVuY3Rpb24oYSl7QmxvY2tseS5ibG9ja1JlbmRlcmluZy5JbnB1dFJvdy5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy50eXBlfD1CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLklOUFVUX1JPVzt0aGlzLmNvbm5lY3RlZEJsb2NrV2lkdGhzPTB9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSW5wdXRSb3csQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Sb3cpO1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5JbnB1dFJvdy5wcm90b3R5cGUubWVhc3VyZT1mdW5jdGlvbigpe3RoaXMud2lkdGg9dGhpcy5taW5XaWR0aDt0aGlzLmhlaWdodD10aGlzLm1pbkhlaWdodDtmb3IodmFyIGE9MCxiPTAsYztjPXRoaXMuZWxlbWVudHNbYl07YisrKXRoaXMud2lkdGgrPWMud2lkdGgsQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lucHV0KGMpJiYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1N0YXRlbWVudElucHV0KGMpP2ErPWMuY29ubmVjdGVkQmxvY2tXaWR0aDpCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzRXh0ZXJuYWxJbnB1dChjKSYmMCE9Yy5jb25uZWN0ZWRCbG9ja1dpZHRoJiYoYSs9Yy5jb25uZWN0ZWRCbG9ja1dpZHRoLWMuY29ubmVjdGlvbldpZHRoKSksQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1NwYWNlcihjKXx8KHRoaXMuaGVpZ2h0PU1hdGgubWF4KHRoaXMuaGVpZ2h0LGMuaGVpZ2h0KSk7dGhpcy5jb25uZWN0ZWRCbG9ja1dpZHRocz1cbmE7dGhpcy53aWR0aFdpdGhDb25uZWN0ZWRCbG9ja3M9dGhpcy53aWR0aCthfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLklucHV0Um93LnByb3RvdHlwZS5lbmRzV2l0aEVsZW1TcGFjZXI9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5oYXNFeHRlcm5hbElucHV0JiYhdGhpcy5oYXNTdGF0ZW1lbnR9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVySW5mbz1mdW5jdGlvbihhLGIpe3RoaXMuYmxvY2tfPWI7dGhpcy5yZW5kZXJlcl89YTt0aGlzLmNvbnN0YW50c189dGhpcy5yZW5kZXJlcl8uZ2V0Q29uc3RhbnRzKCk7dGhpcy5vdXRwdXRDb25uZWN0aW9uPWIub3V0cHV0Q29ubmVjdGlvbj9uZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5PdXRwdXRDb25uZWN0aW9uKHRoaXMuY29uc3RhbnRzXyxiLm91dHB1dENvbm5lY3Rpb24pOm51bGw7dGhpcy5pc0lubGluZT1iLmdldElucHV0c0lubGluZSgpJiYhYi5pc0NvbGxhcHNlZCgpO3RoaXMuaXNDb2xsYXBzZWQ9Yi5pc0NvbGxhcHNlZCgpO3RoaXMuaXNJbnNlcnRpb25NYXJrZXI9Yi5pc0luc2VydGlvbk1hcmtlcigpO3RoaXMuUlRMPWIuUlRMO3RoaXMuc3RhdGVtZW50RWRnZT10aGlzLndpZHRoPXRoaXMud2lkdGhXaXRoQ2hpbGRyZW49dGhpcy5oZWlnaHQ9MDt0aGlzLnJvd3M9W107dGhpcy5pbnB1dFJvd3M9W107dGhpcy5oaWRkZW5JY29ucz1cbltdO3RoaXMudG9wUm93PW5ldyBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlRvcFJvdyh0aGlzLmNvbnN0YW50c18pO3RoaXMuYm90dG9tUm93PW5ldyBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkJvdHRvbVJvdyh0aGlzLmNvbnN0YW50c18pO3RoaXMuc3RhcnRZPXRoaXMuc3RhcnRYPTB9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVySW5mby5wcm90b3R5cGUuZ2V0UmVuZGVyZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlcl99O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVySW5mby5wcm90b3R5cGUubWVhc3VyZT1mdW5jdGlvbigpe3RoaXMuY3JlYXRlUm93c18oKTt0aGlzLmFkZEVsZW1TcGFjaW5nXygpO3RoaXMuYWRkUm93U3BhY2luZ18oKTt0aGlzLmNvbXB1dGVCb3VuZHNfKCk7dGhpcy5hbGlnblJvd0VsZW1lbnRzXygpO3RoaXMuZmluYWxpemVfKCl9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJJbmZvLnByb3RvdHlwZS5jcmVhdGVSb3dzXz1mdW5jdGlvbigpe3RoaXMucG9wdWxhdGVUb3BSb3dfKCk7dGhpcy5yb3dzLnB1c2godGhpcy50b3BSb3cpO3ZhciBhPW5ldyBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLklucHV0Um93KHRoaXMuY29uc3RhbnRzXyk7dGhpcy5pbnB1dFJvd3MucHVzaChhKTt2YXIgYj10aGlzLmJsb2NrXy5nZXRJY29ucygpO2lmKGIubGVuZ3RoKWZvcih2YXIgYz0wLGQ7ZD1iW2NdO2MrKyl7dmFyIGU9bmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSWNvbih0aGlzLmNvbnN0YW50c18sZCk7dGhpcy5pc0NvbGxhcHNlZCYmZC5jb2xsYXBzZUhpZGRlbj90aGlzLmhpZGRlbkljb25zLnB1c2goZSk6YS5lbGVtZW50cy5wdXNoKGUpfWQ9bnVsbDtmb3IoYz0wO2I9dGhpcy5ibG9ja18uaW5wdXRMaXN0W2NdO2MrKylpZihiLmlzVmlzaWJsZSgpKXt0aGlzLnNob3VsZFN0YXJ0TmV3Um93XyhiLGQpJiYodGhpcy5yb3dzLnB1c2goYSksXG5hPW5ldyBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLklucHV0Um93KHRoaXMuY29uc3RhbnRzXyksdGhpcy5pbnB1dFJvd3MucHVzaChhKSk7Zm9yKGQ9MDtlPWIuZmllbGRSb3dbZF07ZCsrKWEuZWxlbWVudHMucHVzaChuZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5GaWVsZCh0aGlzLmNvbnN0YW50c18sZSxiKSk7dGhpcy5hZGRJbnB1dF8oYixhKTtkPWJ9dGhpcy5pc0NvbGxhcHNlZCYmKGEuaGFzSmFnZ2VkRWRnZT0hMCxhLmVsZW1lbnRzLnB1c2gobmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSmFnZ2VkRWRnZSh0aGlzLmNvbnN0YW50c18pKSk7KGEuZWxlbWVudHMubGVuZ3RofHxhLmhhc0R1bW15SW5wdXQpJiZ0aGlzLnJvd3MucHVzaChhKTt0aGlzLnBvcHVsYXRlQm90dG9tUm93XygpO3RoaXMucm93cy5wdXNoKHRoaXMuYm90dG9tUm93KX07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlckluZm8ucHJvdG90eXBlLnBvcHVsYXRlVG9wUm93Xz1mdW5jdGlvbigpe3ZhciBhPSEhdGhpcy5ibG9ja18ucHJldmlvdXNDb25uZWN0aW9uLGI9KHRoaXMuYmxvY2tfLmhhdD9cImNhcFwiPT09dGhpcy5ibG9ja18uaGF0OnRoaXMuY29uc3RhbnRzXy5BRERfU1RBUlRfSEFUUykmJiF0aGlzLm91dHB1dENvbm5lY3Rpb24mJiFhO3RoaXMudG9wUm93Lmhhc0xlZnRTcXVhcmVDb3JuZXIodGhpcy5ibG9ja18pP3RoaXMudG9wUm93LmVsZW1lbnRzLnB1c2gobmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuU3F1YXJlQ29ybmVyKHRoaXMuY29uc3RhbnRzXykpOnRoaXMudG9wUm93LmVsZW1lbnRzLnB1c2gobmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUm91bmRDb3JuZXIodGhpcy5jb25zdGFudHNfKSk7Yj8oYT1uZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5IYXQodGhpcy5jb25zdGFudHNfKSx0aGlzLnRvcFJvdy5lbGVtZW50cy5wdXNoKGEpLFxudGhpcy50b3BSb3cuY2FwbGluZT1hLmFzY2VuZGVySGVpZ2h0KTphJiYodGhpcy50b3BSb3cuaGFzUHJldmlvdXNDb25uZWN0aW9uPSEwLHRoaXMudG9wUm93LmNvbm5lY3Rpb249bmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUHJldmlvdXNDb25uZWN0aW9uKHRoaXMuY29uc3RhbnRzXyx0aGlzLmJsb2NrXy5wcmV2aW91c0Nvbm5lY3Rpb24pLHRoaXMudG9wUm93LmVsZW1lbnRzLnB1c2godGhpcy50b3BSb3cuY29ubmVjdGlvbikpO3RoaXMuYmxvY2tfLmlucHV0TGlzdC5sZW5ndGgmJnRoaXMuYmxvY2tfLmlucHV0TGlzdFswXS50eXBlPT1CbG9ja2x5Lk5FWFRfU1RBVEVNRU5UJiYhdGhpcy5ibG9ja18uaXNDb2xsYXBzZWQoKT90aGlzLnRvcFJvdy5taW5IZWlnaHQ9dGhpcy5jb25zdGFudHNfLlRPUF9ST1dfUFJFQ0VERVNfU1RBVEVNRU5UX01JTl9IRUlHSFQ6dGhpcy50b3BSb3cubWluSGVpZ2h0PXRoaXMuY29uc3RhbnRzXy5UT1BfUk9XX01JTl9IRUlHSFQ7dGhpcy50b3BSb3cuaGFzUmlnaHRTcXVhcmVDb3JuZXIodGhpcy5ibG9ja18pP1xudGhpcy50b3BSb3cuZWxlbWVudHMucHVzaChuZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5TcXVhcmVDb3JuZXIodGhpcy5jb25zdGFudHNfLFwicmlnaHRcIikpOnRoaXMudG9wUm93LmVsZW1lbnRzLnB1c2gobmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUm91bmRDb3JuZXIodGhpcy5jb25zdGFudHNfLFwicmlnaHRcIikpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVySW5mby5wcm90b3R5cGUucG9wdWxhdGVCb3R0b21Sb3dfPWZ1bmN0aW9uKCl7dGhpcy5ib3R0b21Sb3cuaGFzTmV4dENvbm5lY3Rpb249ISF0aGlzLmJsb2NrXy5uZXh0Q29ubmVjdGlvbjt0aGlzLmJvdHRvbVJvdy5taW5IZWlnaHQ9dGhpcy5ibG9ja18uaW5wdXRMaXN0Lmxlbmd0aCYmdGhpcy5ibG9ja18uaW5wdXRMaXN0W3RoaXMuYmxvY2tfLmlucHV0TGlzdC5sZW5ndGgtMV0udHlwZT09QmxvY2tseS5ORVhUX1NUQVRFTUVOVD90aGlzLmNvbnN0YW50c18uQk9UVE9NX1JPV19BRlRFUl9TVEFURU1FTlRfTUlOX0hFSUdIVDp0aGlzLmNvbnN0YW50c18uQk9UVE9NX1JPV19NSU5fSEVJR0hUO3RoaXMuYm90dG9tUm93Lmhhc0xlZnRTcXVhcmVDb3JuZXIodGhpcy5ibG9ja18pP3RoaXMuYm90dG9tUm93LmVsZW1lbnRzLnB1c2gobmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuU3F1YXJlQ29ybmVyKHRoaXMuY29uc3RhbnRzXykpOlxudGhpcy5ib3R0b21Sb3cuZWxlbWVudHMucHVzaChuZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5Sb3VuZENvcm5lcih0aGlzLmNvbnN0YW50c18pKTt0aGlzLmJvdHRvbVJvdy5oYXNOZXh0Q29ubmVjdGlvbiYmKHRoaXMuYm90dG9tUm93LmNvbm5lY3Rpb249bmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTmV4dENvbm5lY3Rpb24odGhpcy5jb25zdGFudHNfLHRoaXMuYmxvY2tfLm5leHRDb25uZWN0aW9uKSx0aGlzLmJvdHRvbVJvdy5lbGVtZW50cy5wdXNoKHRoaXMuYm90dG9tUm93LmNvbm5lY3Rpb24pKTt0aGlzLmJvdHRvbVJvdy5oYXNSaWdodFNxdWFyZUNvcm5lcih0aGlzLmJsb2NrXyk/dGhpcy5ib3R0b21Sb3cuZWxlbWVudHMucHVzaChuZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5TcXVhcmVDb3JuZXIodGhpcy5jb25zdGFudHNfLFwicmlnaHRcIikpOnRoaXMuYm90dG9tUm93LmVsZW1lbnRzLnB1c2gobmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUm91bmRDb3JuZXIodGhpcy5jb25zdGFudHNfLFxuXCJyaWdodFwiKSl9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJJbmZvLnByb3RvdHlwZS5hZGRJbnB1dF89ZnVuY3Rpb24oYSxiKXt0aGlzLmlzSW5saW5lJiZhLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUU/KGIuZWxlbWVudHMucHVzaChuZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5JbmxpbmVJbnB1dCh0aGlzLmNvbnN0YW50c18sYSkpLGIuaGFzSW5saW5lSW5wdXQ9ITApOmEudHlwZT09QmxvY2tseS5ORVhUX1NUQVRFTUVOVD8oYi5lbGVtZW50cy5wdXNoKG5ldyBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlN0YXRlbWVudElucHV0KHRoaXMuY29uc3RhbnRzXyxhKSksYi5oYXNTdGF0ZW1lbnQ9ITApOmEudHlwZT09QmxvY2tseS5JTlBVVF9WQUxVRT8oYi5lbGVtZW50cy5wdXNoKG5ldyBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkV4dGVybmFsVmFsdWVJbnB1dCh0aGlzLmNvbnN0YW50c18sYSkpLGIuaGFzRXh0ZXJuYWxJbnB1dD0hMCk6YS50eXBlPT1CbG9ja2x5LkRVTU1ZX0lOUFVUJiYoYi5taW5IZWlnaHQ9XG5NYXRoLm1heChiLm1pbkhlaWdodCxhLmdldFNvdXJjZUJsb2NrKCkmJmEuZ2V0U291cmNlQmxvY2soKS5pc1NoYWRvdygpP3RoaXMuY29uc3RhbnRzXy5EVU1NWV9JTlBVVF9TSEFET1dfTUlOX0hFSUdIVDp0aGlzLmNvbnN0YW50c18uRFVNTVlfSU5QVVRfTUlOX0hFSUdIVCksYi5oYXNEdW1teUlucHV0PSEwKTtudWxsPT1iLmFsaWduJiYoYi5hbGlnbj1hLmFsaWduKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJJbmZvLnByb3RvdHlwZS5zaG91bGRTdGFydE5ld1Jvd189ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9hLnR5cGU9PUJsb2NrbHkuTkVYVF9TVEFURU1FTlR8fGIudHlwZT09QmxvY2tseS5ORVhUX1NUQVRFTUVOVD8hMDphLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUV8fGEudHlwZT09QmxvY2tseS5EVU1NWV9JTlBVVD8hdGhpcy5pc0lubGluZTohMTohMX07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlckluZm8ucHJvdG90eXBlLmFkZEVsZW1TcGFjaW5nXz1mdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI7Yj10aGlzLnJvd3NbYV07YSsrKXt2YXIgYz1iLmVsZW1lbnRzO2IuZWxlbWVudHM9W107Yi5zdGFydHNXaXRoRWxlbVNwYWNlcigpJiZiLmVsZW1lbnRzLnB1c2gobmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSW5Sb3dTcGFjZXIodGhpcy5jb25zdGFudHNfLHRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhudWxsLGNbMF0pKSk7aWYoYy5sZW5ndGgpe2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGgtMTtkKyspe2IuZWxlbWVudHMucHVzaChjW2RdKTt2YXIgZT10aGlzLmdldEluUm93U3BhY2luZ18oY1tkXSxjW2QrMV0pO2IuZWxlbWVudHMucHVzaChuZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5JblJvd1NwYWNlcih0aGlzLmNvbnN0YW50c18sZSkpfWIuZWxlbWVudHMucHVzaChjW2MubGVuZ3RoLTFdKTtiLmVuZHNXaXRoRWxlbVNwYWNlcigpJiZcbmIuZWxlbWVudHMucHVzaChuZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5JblJvd1NwYWNlcih0aGlzLmNvbnN0YW50c18sdGhpcy5nZXRJblJvd1NwYWNpbmdfKGNbYy5sZW5ndGgtMV0sbnVsbCkpKX19fTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVySW5mby5wcm90b3R5cGUuZ2V0SW5Sb3dTcGFjaW5nXz1mdW5jdGlvbihhLGIpe2lmKCFhJiZiJiZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5TVEFURU1FTlRfSU5QVVRfUEFERElOR19MRUZUO2lmKGEmJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbnB1dChhKSYmIWIpe2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNFeHRlcm5hbElucHV0KGEpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTk9fUEFERElORztpZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSW5saW5lSW5wdXQoYSkpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HO2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNTdGF0ZW1lbnRJbnB1dChhKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkd9cmV0dXJuIGEmJlxuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0xlZnRTcXVhcmVDb3JuZXIoYSkmJmImJihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzUHJldmlvdXNDb25uZWN0aW9uKGIpfHxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzTmV4dENvbm5lY3Rpb24oYikpP2Iubm90Y2hPZmZzZXQ6YSYmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyKGEpJiZiJiYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1ByZXZpb3VzQ29ubmVjdGlvbihiKXx8QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc05leHRDb25uZWN0aW9uKGIpKT9iLm5vdGNoT2Zmc2V0LXRoaXMuY29uc3RhbnRzXy5DT1JORVJfUkFESVVTOnRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElOR307XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlckluZm8ucHJvdG90eXBlLmNvbXB1dGVCb3VuZHNfPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wLGM9MCxkPTAsZTtlPXRoaXMucm93c1tkXTtkKyspe2UubWVhc3VyZSgpO2I9TWF0aC5tYXgoYixlLndpZHRoKTtpZihlLmhhc1N0YXRlbWVudCl7dmFyIGY9ZS5nZXRMYXN0SW5wdXQoKTthPU1hdGgubWF4KGEsZS53aWR0aC1mLndpZHRoKX1jPU1hdGgubWF4KGMsZS53aWR0aFdpdGhDb25uZWN0ZWRCbG9ja3MpfXRoaXMuc3RhdGVtZW50RWRnZT1hO3RoaXMud2lkdGg9Yjtmb3IoZD0wO2U9dGhpcy5yb3dzW2RdO2QrKyllLmhhc1N0YXRlbWVudCYmKGUuc3RhdGVtZW50RWRnZT10aGlzLnN0YXRlbWVudEVkZ2UpO3RoaXMud2lkdGhXaXRoQ2hpbGRyZW49TWF0aC5tYXgoYixjKTt0aGlzLm91dHB1dENvbm5lY3Rpb24mJih0aGlzLnN0YXJ0WD10aGlzLm91dHB1dENvbm5lY3Rpb24ud2lkdGgsdGhpcy53aWR0aCs9dGhpcy5vdXRwdXRDb25uZWN0aW9uLndpZHRoLFxudGhpcy53aWR0aFdpdGhDaGlsZHJlbis9dGhpcy5vdXRwdXRDb25uZWN0aW9uLndpZHRoKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJJbmZvLnByb3RvdHlwZS5hbGlnblJvd0VsZW1lbnRzXz1mdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI7Yj10aGlzLnJvd3NbYV07YSsrKWlmKGIuaGFzU3RhdGVtZW50KXRoaXMuYWxpZ25TdGF0ZW1lbnRSb3dfKGIpO2Vsc2V7dmFyIGM9Yi53aWR0aDtjPXRoaXMuZ2V0RGVzaXJlZFJvd1dpZHRoXyhiKS1jOzA8YyYmdGhpcy5hZGRBbGlnbm1lbnRQYWRkaW5nXyhiLGMpO0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNUb3BPckJvdHRvbVJvdyhiKSYmKGIud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzPWIud2lkdGgpfX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJJbmZvLnByb3RvdHlwZS5nZXREZXNpcmVkUm93V2lkdGhfPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLndpZHRoLXRoaXMuc3RhcnRYfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVySW5mby5wcm90b3R5cGUuYWRkQWxpZ25tZW50UGFkZGluZ189ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldEZpcnN0U3BhY2VyKCksZD1hLmdldExhc3RTcGFjZXIoKTtpZihhLmhhc0V4dGVybmFsSW5wdXR8fGEuaGFzU3RhdGVtZW50KWEud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzKz1iO2EuYWxpZ249PUJsb2NrbHkuQUxJR05fTEVGVD9kLndpZHRoKz1iOmEuYWxpZ249PUJsb2NrbHkuQUxJR05fQ0VOVFJFPyhjLndpZHRoKz1iLzIsZC53aWR0aCs9Yi8yKTphLmFsaWduPT1CbG9ja2x5LkFMSUdOX1JJR0hUP2Mud2lkdGgrPWI6ZC53aWR0aCs9YjthLndpZHRoKz1ifTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVySW5mby5wcm90b3R5cGUuYWxpZ25TdGF0ZW1lbnRSb3dfPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0TGFzdElucHV0KCksYz1hLndpZHRoLWIud2lkdGgsZD10aGlzLnN0YXRlbWVudEVkZ2U7Yz1kLWM7MDxjJiZ0aGlzLmFkZEFsaWdubWVudFBhZGRpbmdfKGEsYyk7Yz1hLndpZHRoO2Q9dGhpcy5nZXREZXNpcmVkUm93V2lkdGhfKGEpO2Iud2lkdGgrPWQtYztiLmhlaWdodD1NYXRoLm1heChiLmhlaWdodCxhLmhlaWdodCk7YS53aWR0aCs9ZC1jO2Eud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzPU1hdGgubWF4KGEud2lkdGgsdGhpcy5zdGF0ZW1lbnRFZGdlK2EuY29ubmVjdGVkQmxvY2tXaWR0aHMpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVySW5mby5wcm90b3R5cGUuYWRkUm93U3BhY2luZ189ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJvd3M7dGhpcy5yb3dzPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMucm93cy5wdXNoKGFbYl0pLGIhPWEubGVuZ3RoLTEmJnRoaXMucm93cy5wdXNoKHRoaXMubWFrZVNwYWNlclJvd18oYVtiXSxhW2IrMV0pKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJJbmZvLnByb3RvdHlwZS5tYWtlU3BhY2VyUm93Xz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0U3BhY2VyUm93SGVpZ2h0XyhhLGIpLGQ9dGhpcy5nZXRTcGFjZXJSb3dXaWR0aF8oYSxiKTtjPW5ldyBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlNwYWNlclJvdyh0aGlzLmNvbnN0YW50c18sYyxkKTthLmhhc1N0YXRlbWVudCYmKGMuZm9sbG93c1N0YXRlbWVudD0hMCk7Yi5oYXNTdGF0ZW1lbnQmJihjLnByZWNlZGVzU3RhdGVtZW50PSEwKTtyZXR1cm4gY307XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlckluZm8ucHJvdG90eXBlLmdldFNwYWNlclJvd1dpZHRoXz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLndpZHRoLXRoaXMuc3RhcnRYfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlckluZm8ucHJvdG90eXBlLmdldFNwYWNlclJvd0hlaWdodF89ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jb25zdGFudHNfLk1FRElVTV9QQURESU5HfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVySW5mby5wcm90b3R5cGUuZ2V0RWxlbUNlbnRlcmxpbmVfPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNTcGFjZXIoYik/YS55UG9zK2IuaGVpZ2h0LzI6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0JvdHRvbVJvdyhhKT8oYT1hLnlQb3MrYS5oZWlnaHQtYS5kZXNjZW5kZXJIZWlnaHQsQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc05leHRDb25uZWN0aW9uKGIpP2ErYi5oZWlnaHQvMjphLWIuaGVpZ2h0LzIpOkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNUb3BSb3coYSk/QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0hhdChiKT9hLmNhcGxpbmUtYi5oZWlnaHQvMjphLmNhcGxpbmUrYi5oZWlnaHQvMjphLnlQb3MrYS5oZWlnaHQvMn07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlckluZm8ucHJvdG90eXBlLnJlY29yZEVsZW1Qb3NpdGlvbnNfPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLnhQb3MsYz0wLGQ7ZD1hLmVsZW1lbnRzW2NdO2MrKylCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzU3BhY2VyKGQpJiYoZC5oZWlnaHQ9YS5oZWlnaHQpLGQueFBvcz1iLGQuY2VudGVybGluZT10aGlzLmdldEVsZW1DZW50ZXJsaW5lXyhhLGQpLGIrPWQud2lkdGh9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJJbmZvLnByb3RvdHlwZS5maW5hbGl6ZV89ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTAsYz0wLGQ7ZD10aGlzLnJvd3NbY107YysrKWQueVBvcz1iLGQueFBvcz10aGlzLnN0YXJ0WCxiKz1kLmhlaWdodCxhPU1hdGgubWF4KGEsZC53aWR0aFdpdGhDb25uZWN0ZWRCbG9ja3MpLHRoaXMucmVjb3JkRWxlbVBvc2l0aW9uc18oZCk7dGhpcy5vdXRwdXRDb25uZWN0aW9uJiZ0aGlzLmJsb2NrXy5uZXh0Q29ubmVjdGlvbiYmdGhpcy5ibG9ja18ubmV4dENvbm5lY3Rpb24uaXNDb25uZWN0ZWQoKSYmKGE9TWF0aC5tYXgoYSx0aGlzLmJsb2NrXy5uZXh0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpLmdldEhlaWdodFdpZHRoKCkud2lkdGgpKTt0aGlzLndpZHRoV2l0aENoaWxkcmVuPWErdGhpcy5zdGFydFg7dGhpcy5oZWlnaHQ9Yjt0aGlzLnN0YXJ0WT10aGlzLnRvcFJvdy5jYXBsaW5lO3RoaXMuYm90dG9tUm93LmJhc2VsaW5lPWItdGhpcy5ib3R0b21Sb3cuZGVzY2VuZGVySGVpZ2h0fTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkRyYXdlcj1mdW5jdGlvbihhLGIpe3RoaXMuYmxvY2tfPWE7dGhpcy5pbmZvXz1iO3RoaXMudG9wTGVmdF89YS5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCk7dGhpcy5pbmxpbmVQYXRoXz10aGlzLm91dGxpbmVQYXRoXz1cIlwiO3RoaXMuY29uc3RhbnRzXz1iLmdldFJlbmRlcmVyKCkuZ2V0Q29uc3RhbnRzKCl9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5EcmF3ZXIucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24oKXt0aGlzLmhpZGVIaWRkZW5JY29uc18oKTt0aGlzLmRyYXdPdXRsaW5lXygpO3RoaXMuZHJhd0ludGVybmFsc18oKTt0aGlzLmJsb2NrXy5wYXRoT2JqZWN0LnNldFBhdGgodGhpcy5vdXRsaW5lUGF0aF8rXCJcXG5cIit0aGlzLmlubGluZVBhdGhfKTt0aGlzLmluZm9fLlJUTCYmdGhpcy5ibG9ja18ucGF0aE9iamVjdC5mbGlwUlRMKCk7QmxvY2tseS5ibG9ja1JlbmRlcmluZy51c2VEZWJ1Z2dlciYmdGhpcy5ibG9ja18ucmVuZGVyaW5nRGVidWdnZXIuZHJhd0RlYnVnKHRoaXMuYmxvY2tfLHRoaXMuaW5mb18pO3RoaXMucmVjb3JkU2l6ZU9uQmxvY2tfKCl9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRHJhd2VyLnByb3RvdHlwZS5yZWNvcmRTaXplT25CbG9ja189ZnVuY3Rpb24oKXt0aGlzLmJsb2NrXy5oZWlnaHQ9dGhpcy5pbmZvXy5oZWlnaHQ7dGhpcy5ibG9ja18ud2lkdGg9dGhpcy5pbmZvXy53aWR0aFdpdGhDaGlsZHJlbn07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkRyYXdlci5wcm90b3R5cGUuaGlkZUhpZGRlbkljb25zXz1mdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI7Yj10aGlzLmluZm9fLmhpZGRlbkljb25zW2FdO2ErKyliLmljb24uaWNvbkdyb3VwXy5zZXRBdHRyaWJ1dGUoXCJkaXNwbGF5XCIsXCJub25lXCIpfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkRyYXdlci5wcm90b3R5cGUuZHJhd091dGxpbmVfPWZ1bmN0aW9uKCl7dGhpcy5kcmF3VG9wXygpO2Zvcih2YXIgYT0xO2E8dGhpcy5pbmZvXy5yb3dzLmxlbmd0aC0xO2ErKyl7dmFyIGI9dGhpcy5pbmZvXy5yb3dzW2FdO2IuaGFzSmFnZ2VkRWRnZT90aGlzLmRyYXdKYWdnZWRFZGdlXyhiKTpiLmhhc1N0YXRlbWVudD90aGlzLmRyYXdTdGF0ZW1lbnRJbnB1dF8oYik6Yi5oYXNFeHRlcm5hbElucHV0P3RoaXMuZHJhd1ZhbHVlSW5wdXRfKGIpOnRoaXMuZHJhd1JpZ2h0U2lkZVJvd18oYil9dGhpcy5kcmF3Qm90dG9tXygpO3RoaXMuZHJhd0xlZnRfKCl9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5EcmF3ZXIucHJvdG90eXBlLmRyYXdUb3BfPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbmZvXy50b3BSb3csYj1hLmVsZW1lbnRzO3RoaXMucG9zaXRpb25QcmV2aW91c0Nvbm5lY3Rpb25fKCk7dGhpcy5vdXRsaW5lUGF0aF8rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZUJ5KGEueFBvcyx0aGlzLmluZm9fLnN0YXJ0WSk7Zm9yKHZhciBjPTAsZDtkPWJbY107YysrKUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNMZWZ0Um91bmRlZENvcm5lcihkKT90aGlzLm91dGxpbmVQYXRoXys9dGhpcy5jb25zdGFudHNfLk9VVFNJREVfQ09STkVSUy50b3BMZWZ0OkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNSaWdodFJvdW5kZWRDb3JuZXIoZCk/dGhpcy5vdXRsaW5lUGF0aF8rPXRoaXMuY29uc3RhbnRzXy5PVVRTSURFX0NPUk5FUlMudG9wUmlnaHQ6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1ByZXZpb3VzQ29ubmVjdGlvbihkKT9cbnRoaXMub3V0bGluZVBhdGhfKz1kLnNoYXBlLnBhdGhMZWZ0OkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNIYXQoZCk/dGhpcy5vdXRsaW5lUGF0aF8rPXRoaXMuY29uc3RhbnRzXy5TVEFSVF9IQVQucGF0aDpCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzU3BhY2VyKGQpJiYodGhpcy5vdXRsaW5lUGF0aF8rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcImhcIixkLndpZHRoKSk7dGhpcy5vdXRsaW5lUGF0aF8rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcInZcIixhLmhlaWdodCl9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRHJhd2VyLnByb3RvdHlwZS5kcmF3SmFnZ2VkRWRnZV89ZnVuY3Rpb24oYSl7dGhpcy5vdXRsaW5lUGF0aF8rPXRoaXMuY29uc3RhbnRzXy5KQUdHRURfVEVFVEgucGF0aCtCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJ2XCIsYS5oZWlnaHQtdGhpcy5jb25zdGFudHNfLkpBR0dFRF9URUVUSC5oZWlnaHQpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRHJhd2VyLnByb3RvdHlwZS5kcmF3VmFsdWVJbnB1dF89ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRMYXN0SW5wdXQoKTt0aGlzLnBvc2l0aW9uRXh0ZXJuYWxWYWx1ZUNvbm5lY3Rpb25fKGEpO3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIGIuc2hhcGUucGF0aERvd24/Yi5zaGFwZS5wYXRoRG93bihiLmhlaWdodCk6Yi5zaGFwZS5wYXRoRG93bjt0aGlzLm91dGxpbmVQYXRoXys9QmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiSFwiLGIueFBvcytiLndpZHRoKStjK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcInZcIixhLmhlaWdodC1iLmNvbm5lY3Rpb25IZWlnaHQpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRHJhd2VyLnByb3RvdHlwZS5kcmF3U3RhdGVtZW50SW5wdXRfPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0TGFzdElucHV0KCksYz1iLnhQb3MrYi5ub3RjaE9mZnNldCtiLnNoYXBlLndpZHRoO2I9Yi5zaGFwZS5wYXRoUmlnaHQrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiaFwiLC0oYi5ub3RjaE9mZnNldC10aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMud2lkdGgpKSt0aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMucGF0aFRvcDt2YXIgZD1hLmhlaWdodC0yKnRoaXMuY29uc3RhbnRzXy5JTlNJREVfQ09STkVSUy5oZWlnaHQ7dGhpcy5vdXRsaW5lUGF0aF8rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcIkhcIixjKStiK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcInZcIixkKSt0aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMucGF0aEJvdHRvbStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJIXCIsXG5hLnhQb3MrYS53aWR0aCk7dGhpcy5wb3NpdGlvblN0YXRlbWVudElucHV0Q29ubmVjdGlvbl8oYSl9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRHJhd2VyLnByb3RvdHlwZS5kcmF3UmlnaHRTaWRlUm93Xz1mdW5jdGlvbihhKXt0aGlzLm91dGxpbmVQYXRoXys9QmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiVlwiLGEueVBvcythLmhlaWdodCl9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5EcmF3ZXIucHJvdG90eXBlLmRyYXdCb3R0b21fPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbmZvXy5ib3R0b21Sb3csYj1hLmVsZW1lbnRzO3RoaXMucG9zaXRpb25OZXh0Q29ubmVjdGlvbl8oKTtmb3IodmFyIGM9MCxkPVwiXCIsZT1iLmxlbmd0aC0xLGY7Zj1iW2VdO2UtLSlCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzTmV4dENvbm5lY3Rpb24oZik/ZCs9Zi5zaGFwZS5wYXRoUmlnaHQ6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0xlZnRTcXVhcmVDb3JuZXIoZik/ZCs9QmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiSFwiLGEueFBvcyk6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyKGYpP2QrPXRoaXMuY29uc3RhbnRzXy5PVVRTSURFX0NPUk5FUlMuYm90dG9tTGVmdDpCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzUmlnaHRSb3VuZGVkQ29ybmVyKGYpPyhkKz1cbnRoaXMuY29uc3RhbnRzXy5PVVRTSURFX0NPUk5FUlMuYm90dG9tUmlnaHQsYz10aGlzLmNvbnN0YW50c18uT1VUU0lERV9DT1JORVJTLnJpZ2h0SGVpZ2h0KTpCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzU3BhY2VyKGYpJiYoZCs9QmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiaFwiLC0xKmYud2lkdGgpKTt0aGlzLm91dGxpbmVQYXRoXys9QmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiVlwiLGEuYmFzZWxpbmUtYyk7dGhpcy5vdXRsaW5lUGF0aF8rPWR9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5EcmF3ZXIucHJvdG90eXBlLmRyYXdMZWZ0Xz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbjt0aGlzLnBvc2l0aW9uT3V0cHV0Q29ubmVjdGlvbl8oKTtpZihhKXt2YXIgYj1hLmNvbm5lY3Rpb25PZmZzZXRZK2EuaGVpZ2h0O2E9XCJmdW5jdGlvblwiPT10eXBlb2YgYS5zaGFwZS5wYXRoVXA/YS5zaGFwZS5wYXRoVXAoYS5oZWlnaHQpOmEuc2hhcGUucGF0aFVwO3RoaXMub3V0bGluZVBhdGhfKz1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJWXCIsYikrYX10aGlzLm91dGxpbmVQYXRoXys9XCJ6XCJ9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5EcmF3ZXIucHJvdG90eXBlLmRyYXdJbnRlcm5hbHNfPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYjtiPXRoaXMuaW5mb18ucm93c1thXTthKyspZm9yKHZhciBjPTAsZDtkPWIuZWxlbWVudHNbY107YysrKUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbmxpbmVJbnB1dChkKT90aGlzLmRyYXdJbmxpbmVJbnB1dF8oZCk6KEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJY29uKGQpfHxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzRmllbGQoZCkpJiZ0aGlzLmxheW91dEZpZWxkXyhkKX07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkRyYXdlci5wcm90b3R5cGUubGF5b3V0RmllbGRfPWZ1bmN0aW9uKGEpe2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNGaWVsZChhKSl2YXIgYj1hLmZpZWxkLmdldFN2Z1Jvb3QoKTtlbHNlIEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJY29uKGEpJiYoYj1hLmljb24uaWNvbkdyb3VwXyk7dmFyIGM9YS5jZW50ZXJsaW5lLWEuaGVpZ2h0LzIsZD1hLnhQb3MsZT1cIlwiO3RoaXMuaW5mb18uUlRMJiYoZD0tKGQrYS53aWR0aCksYS5mbGlwUnRsJiYoZCs9YS53aWR0aCxlPVwic2NhbGUoLTEgMSlcIikpO0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJY29uKGEpPyhiLnNldEF0dHJpYnV0ZShcImRpc3BsYXlcIixcImJsb2NrXCIpLGIuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJ0cmFuc2xhdGUoXCIrZCtcIixcIitjK1wiKVwiKSxhLmljb24uY29tcHV0ZUljb25Mb2NhdGlvbigpKTpiLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFxuXCJ0cmFuc2xhdGUoXCIrZCtcIixcIitjK1wiKVwiK2UpO3RoaXMuaW5mb18uaXNJbnNlcnRpb25NYXJrZXImJmIuc2V0QXR0cmlidXRlKFwiZGlzcGxheVwiLFwibm9uZVwiKX07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkRyYXdlci5wcm90b3R5cGUuZHJhd0lubGluZUlucHV0Xz1mdW5jdGlvbihhKXt2YXIgYj1hLndpZHRoLGM9YS5oZWlnaHQsZD1hLmNvbm5lY3Rpb25PZmZzZXRZLGU9YS5jb25uZWN0aW9uSGVpZ2h0K2Q7dGhpcy5pbmxpbmVQYXRoXys9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlVG8oYS54UG9zK2EuY29ubmVjdGlvbldpZHRoLGEuY2VudGVybGluZS1jLzIpK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcInZcIixkKSthLnNoYXBlLnBhdGhEb3duK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcInZcIixjLWUpK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcImhcIixiLWEuY29ubmVjdGlvbldpZHRoKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJ2XCIsLWMpK1wielwiO3RoaXMucG9zaXRpb25JbmxpbmVJbnB1dENvbm5lY3Rpb25fKGEpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRHJhd2VyLnByb3RvdHlwZS5wb3NpdGlvbklubGluZUlucHV0Q29ubmVjdGlvbl89ZnVuY3Rpb24oYSl7dmFyIGI9YS5jZW50ZXJsaW5lLWEuaGVpZ2h0LzI7aWYoYS5jb25uZWN0aW9uTW9kZWwpe3ZhciBjPWEueFBvcythLmNvbm5lY3Rpb25XaWR0aCthLmNvbm5lY3Rpb25PZmZzZXRYO3RoaXMuaW5mb18uUlRMJiYoYyo9LTEpO2EuY29ubmVjdGlvbk1vZGVsLnNldE9mZnNldEluQmxvY2soYyxiK2EuY29ubmVjdGlvbk9mZnNldFkpfX07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkRyYXdlci5wcm90b3R5cGUucG9zaXRpb25TdGF0ZW1lbnRJbnB1dENvbm5lY3Rpb25fPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0TGFzdElucHV0KCk7aWYoYi5jb25uZWN0aW9uTW9kZWwpe3ZhciBjPWEueFBvcythLnN0YXRlbWVudEVkZ2UrYi5ub3RjaE9mZnNldDt0aGlzLmluZm9fLlJUTCYmKGMqPS0xKTtiLmNvbm5lY3Rpb25Nb2RlbC5zZXRPZmZzZXRJbkJsb2NrKGMsYS55UG9zKX19O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRHJhd2VyLnByb3RvdHlwZS5wb3NpdGlvbkV4dGVybmFsVmFsdWVDb25uZWN0aW9uXz1mdW5jdGlvbihhKXt2YXIgYj1hLmdldExhc3RJbnB1dCgpO2lmKGIuY29ubmVjdGlvbk1vZGVsKXt2YXIgYz1hLnhQb3MrYS53aWR0aDt0aGlzLmluZm9fLlJUTCYmKGMqPS0xKTtiLmNvbm5lY3Rpb25Nb2RlbC5zZXRPZmZzZXRJbkJsb2NrKGMsYS55UG9zKX19O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5EcmF3ZXIucHJvdG90eXBlLnBvc2l0aW9uUHJldmlvdXNDb25uZWN0aW9uXz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW5mb18udG9wUm93O2lmKGEuY29ubmVjdGlvbil7dmFyIGI9YS54UG9zK2Eubm90Y2hPZmZzZXQ7YS5jb25uZWN0aW9uLmNvbm5lY3Rpb25Nb2RlbC5zZXRPZmZzZXRJbkJsb2NrKHRoaXMuaW5mb18uUlRMPy1iOmIsMCl9fTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkRyYXdlci5wcm90b3R5cGUucG9zaXRpb25OZXh0Q29ubmVjdGlvbl89ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmluZm9fLmJvdHRvbVJvdztpZihhLmNvbm5lY3Rpb24pe3ZhciBiPWEuY29ubmVjdGlvbixjPWIueFBvcztiLmNvbm5lY3Rpb25Nb2RlbC5zZXRPZmZzZXRJbkJsb2NrKHRoaXMuaW5mb18uUlRMPy1jOmMsYS5iYXNlbGluZSl9fTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRHJhd2VyLnByb3RvdHlwZS5wb3NpdGlvbk91dHB1dENvbm5lY3Rpb25fPWZ1bmN0aW9uKCl7aWYodGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uKXt2YXIgYT10aGlzLmluZm9fLnN0YXJ0WCt0aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24uY29ubmVjdGlvbk9mZnNldFg7dGhpcy5ibG9ja18ub3V0cHV0Q29ubmVjdGlvbi5zZXRPZmZzZXRJbkJsb2NrKHRoaXMuaW5mb18uUlRMPy1hOmEsdGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uLmNvbm5lY3Rpb25PZmZzZXRZKX19O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUGF0aE9iamVjdD1mdW5jdGlvbihhLGIsYyl7dGhpcy5jb25zdGFudHM9Yzt0aGlzLnN2Z1Jvb3Q9YTt0aGlzLnN2Z1BhdGg9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInBhdGhcIix7XCJjbGFzc1wiOlwiYmxvY2tseVBhdGhcIn0sdGhpcy5zdmdSb290KTt0aGlzLnN0eWxlPWI7dGhpcy5tYXJrZXJTdmc9dGhpcy5jdXJzb3JTdmc9bnVsbH07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5QYXRoT2JqZWN0LnByb3RvdHlwZS5zZXRQYXRoPWZ1bmN0aW9uKGEpe3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJkXCIsYSl9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUGF0aE9iamVjdC5wcm90b3R5cGUuZmxpcFJUTD1mdW5jdGlvbigpe3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInNjYWxlKC0xIDEpXCIpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUGF0aE9iamVjdC5wcm90b3R5cGUuc2V0Q3Vyc29yU3ZnPWZ1bmN0aW9uKGEpe2E/KHRoaXMuc3ZnUm9vdC5hcHBlbmRDaGlsZChhKSx0aGlzLmN1cnNvclN2Zz1hKTp0aGlzLmN1cnNvclN2Zz1udWxsfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlBhdGhPYmplY3QucHJvdG90eXBlLnNldE1hcmtlclN2Zz1mdW5jdGlvbihhKXthPyh0aGlzLmN1cnNvclN2Zz90aGlzLnN2Z1Jvb3QuaW5zZXJ0QmVmb3JlKGEsdGhpcy5jdXJzb3JTdmcpOnRoaXMuc3ZnUm9vdC5hcHBlbmRDaGlsZChhKSx0aGlzLm1hcmtlclN2Zz1hKTp0aGlzLm1hcmtlclN2Zz1udWxsfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUGF0aE9iamVjdC5wcm90b3R5cGUuYXBwbHlDb2xvdXI9ZnVuY3Rpb24oYSl7dGhpcy5zdmdQYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLHRoaXMuc3R5bGUuY29sb3VyVGVydGlhcnkpO3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5zdHlsZS5jb2xvdXJQcmltYXJ5KTt0aGlzLnVwZGF0ZVNoYWRvd18oYS5pc1NoYWRvdygpKTt0aGlzLnVwZGF0ZURpc2FibGVkXyghYS5pc0VuYWJsZWQoKXx8YS5nZXRJbmhlcml0ZWREaXNhYmxlZCgpKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5QYXRoT2JqZWN0LnByb3RvdHlwZS5zZXRTdHlsZT1mdW5jdGlvbihhKXt0aGlzLnN0eWxlPWF9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5QYXRoT2JqZWN0LnByb3RvdHlwZS5zZXRDbGFzc189ZnVuY3Rpb24oYSxiKXtiP0Jsb2NrbHkudXRpbHMuZG9tLmFkZENsYXNzKHRoaXMuc3ZnUm9vdCxhKTpCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVDbGFzcyh0aGlzLnN2Z1Jvb3QsYSl9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUGF0aE9iamVjdC5wcm90b3R5cGUudXBkYXRlSGlnaGxpZ2h0ZWQ9ZnVuY3Rpb24oYSl7YT90aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwiZmlsdGVyXCIsXCJ1cmwoI1wiK3RoaXMuY29uc3RhbnRzLmVtYm9zc0ZpbHRlcklkK1wiKVwiKTp0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwiZmlsdGVyXCIsXCJub25lXCIpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUGF0aE9iamVjdC5wcm90b3R5cGUudXBkYXRlU2hhZG93Xz1mdW5jdGlvbihhKXthJiYodGhpcy5zdmdQYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLFwibm9uZVwiKSx0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwiZmlsbFwiLHRoaXMuc3R5bGUuY29sb3VyU2Vjb25kYXJ5KSl9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUGF0aE9iamVjdC5wcm90b3R5cGUudXBkYXRlRGlzYWJsZWRfPWZ1bmN0aW9uKGEpe3RoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseURpc2FibGVkXCIsYSk7YSYmdGhpcy5zdmdQYXRoLnNldEF0dHJpYnV0ZShcImZpbGxcIixcInVybCgjXCIrdGhpcy5jb25zdGFudHMuZGlzYWJsZWRQYXR0ZXJuSWQrXCIpXCIpfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlBhdGhPYmplY3QucHJvdG90eXBlLnVwZGF0ZVNlbGVjdGVkPWZ1bmN0aW9uKGEpe3RoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseVNlbGVjdGVkXCIsYSl9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5QYXRoT2JqZWN0LnByb3RvdHlwZS51cGRhdGVEcmFnZ2luZ0RlbGV0ZT1mdW5jdGlvbihhKXt0aGlzLnNldENsYXNzXyhcImJsb2NrbHlEcmFnZ2luZ0RlbGV0ZVwiLGEpfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlBhdGhPYmplY3QucHJvdG90eXBlLnVwZGF0ZUluc2VydGlvbk1hcmtlcj1mdW5jdGlvbihhKXt0aGlzLnNldENsYXNzXyhcImJsb2NrbHlJbnNlcnRpb25NYXJrZXJcIixhKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5QYXRoT2JqZWN0LnByb3RvdHlwZS51cGRhdGVNb3ZhYmxlPWZ1bmN0aW9uKGEpe3RoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseURyYWdnYWJsZVwiLGEpfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlBhdGhPYmplY3QucHJvdG90eXBlLnVwZGF0ZVJlcGxhY2VtZW50RmFkZT1mdW5jdGlvbihhKXt0aGlzLnNldENsYXNzXyhcImJsb2NrbHlSZXBsYWNlYWJsZVwiLGEpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUGF0aE9iamVjdC5wcm90b3R5cGUudXBkYXRlU2hhcGVGb3JJbnB1dEhpZ2hsaWdodD1mdW5jdGlvbihhLGIpe307QmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJlcj1mdW5jdGlvbihhKXt0aGlzLm5hbWU9YTt0aGlzLm92ZXJyaWRlcz10aGlzLmNvbnN0YW50c189bnVsbH07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJlci5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZStcIi1yZW5kZXJlclwifTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlcmVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGEsYil7dGhpcy5jb25zdGFudHNfPXRoaXMubWFrZUNvbnN0YW50c18oKTtiJiYodGhpcy5vdmVycmlkZXM9YixCbG9ja2x5LnV0aWxzLm9iamVjdC5taXhpbih0aGlzLmNvbnN0YW50c18sYikpO3RoaXMuY29uc3RhbnRzXy5zZXRUaGVtZShhKTt0aGlzLmNvbnN0YW50c18uaW5pdCgpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZURvbT1mdW5jdGlvbihhLGIpe3RoaXMuY29uc3RhbnRzXy5jcmVhdGVEb20oYSx0aGlzLm5hbWUrXCItXCIrYi5uYW1lLFwiLlwiK3RoaXMuZ2V0Q2xhc3NOYW1lKCkrXCIuXCIrYi5nZXRDbGFzc05hbWUoKSl9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVyZXIucHJvdG90eXBlLnJlZnJlc2hEb209ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENvbnN0YW50cygpO2MuZGlzcG9zZSgpO3RoaXMuY29uc3RhbnRzXz10aGlzLm1ha2VDb25zdGFudHNfKCk7dGhpcy5vdmVycmlkZXMmJkJsb2NrbHkudXRpbHMub2JqZWN0Lm1peGluKHRoaXMuY29uc3RhbnRzXyx0aGlzLm92ZXJyaWRlcyk7dGhpcy5jb25zdGFudHNfLnJhbmRvbUlkZW50aWZpZXI9Yy5yYW5kb21JZGVudGlmaWVyO3RoaXMuY29uc3RhbnRzXy5zZXRUaGVtZShiKTt0aGlzLmNvbnN0YW50c18uaW5pdCgpO3RoaXMuY3JlYXRlRG9tKGEsYil9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuY29uc3RhbnRzXyYmdGhpcy5jb25zdGFudHNfLmRpc3Bvc2UoKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJlci5wcm90b3R5cGUubWFrZUNvbnN0YW50c189ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlcn07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJlci5wcm90b3R5cGUubWFrZVJlbmRlckluZm9fPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJJbmZvKHRoaXMsYSl9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVyZXIucHJvdG90eXBlLm1ha2VEcmF3ZXJfPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkRyYXdlcihhLGIpfTtcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVyZXIucHJvdG90eXBlLm1ha2VEZWJ1Z2dlcl89ZnVuY3Rpb24oKXtpZighQmxvY2tseS5ibG9ja1JlbmRlcmluZy5EZWJ1Zyl0aHJvdyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZSBmb3IgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5EZWJ1Z1wiKTtyZXR1cm4gbmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRGVidWcodGhpcy5nZXRDb25zdGFudHMoKSl9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVyZXIucHJvdG90eXBlLm1ha2VNYXJrZXJEcmF3ZXI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuTWFya2VyU3ZnKGEsdGhpcy5nZXRDb25zdGFudHMoKSxiKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJlci5wcm90b3R5cGUubWFrZVBhdGhPYmplY3Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUGF0aE9iamVjdChhLGIsdGhpcy5jb25zdGFudHNfKX07XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlcmVyLnByb3RvdHlwZS5nZXRDb25zdGFudHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb25zdGFudHNffTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlcmVyLnByb3RvdHlwZS5zaG91bGRIaWdobGlnaHRDb25uZWN0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiEwfTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlcmVyLnByb3RvdHlwZS5vcnBoYW5DYW5Db25uZWN0QXRFbmQ9ZnVuY3Rpb24oYSxiLGMpe2M9PUJsb2NrbHkuT1VUUFVUX1ZBTFVFPyhjPWIub3V0cHV0Q29ubmVjdGlvbixhPUJsb2NrbHkuQ29ubmVjdGlvbi5sYXN0Q29ubmVjdGlvbkluUm93KGEsYikpOihjPWIucHJldmlvdXNDb25uZWN0aW9uLGE9YS5sYXN0Q29ubmVjdGlvbkluU3RhY2soKSk7cmV0dXJuIGE/Yy5jaGVja1R5cGUoYSk6ITF9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJlci5wcm90b3R5cGUuZ2V0Q29ubmVjdGlvblByZXZpZXdNZXRob2Q9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiLnR5cGU9PUJsb2NrbHkuT1VUUFVUX1ZBTFVFfHxiLnR5cGU9PUJsb2NrbHkuUFJFVklPVVNfU1RBVEVNRU5UPyFhLmlzQ29ubmVjdGVkKCl8fHRoaXMub3JwaGFuQ2FuQ29ubmVjdEF0RW5kKGMsYS50YXJnZXRCbG9jaygpLGIudHlwZSk/QmxvY2tseS5JbnNlcnRpb25NYXJrZXJNYW5hZ2VyLlBSRVZJRVdfVFlQRS5JTlNFUlRJT05fTUFSS0VSOkJsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlci5QUkVWSUVXX1RZUEUuUkVQTEFDRU1FTlRfRkFERTpCbG9ja2x5Lkluc2VydGlvbk1hcmtlck1hbmFnZXIuUFJFVklFV19UWVBFLklOU0VSVElPTl9NQVJLRVJ9O1xuQmxvY2tseS5ibG9ja1JlbmRlcmluZy5SZW5kZXJlci5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcudXNlRGVidWdnZXImJiFhLnJlbmRlcmluZ0RlYnVnZ2VyJiYoYS5yZW5kZXJpbmdEZWJ1Z2dlcj10aGlzLm1ha2VEZWJ1Z2dlcl8oKSk7dmFyIGI9dGhpcy5tYWtlUmVuZGVySW5mb18oYSk7Yi5tZWFzdXJlKCk7dGhpcy5tYWtlRHJhd2VyXyhhLGIpLmRyYXcoKX07QmxvY2tseS5nZXJhcz17fTtCbG9ja2x5LmdlcmFzLkNvbnN0YW50UHJvdmlkZXI9ZnVuY3Rpb24oKXtCbG9ja2x5LmdlcmFzLkNvbnN0YW50UHJvdmlkZXIuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLkZJRUxEX1RFWFRfQkFTRUxJTkVfQ0VOVEVSPSExO3RoaXMuREFSS19QQVRIX09GRlNFVD0xO3RoaXMuTUFYX0JPVFRPTV9XSURUSD0zMH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5nZXJhcy5Db25zdGFudFByb3ZpZGVyLEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlcik7XG5CbG9ja2x5LmdlcmFzLkNvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLmdldENTU189ZnVuY3Rpb24oYSl7cmV0dXJuIEJsb2NrbHkuZ2VyYXMuQ29uc3RhbnRQcm92aWRlci5zdXBlckNsYXNzXy5nZXRDU1NfLmNhbGwodGhpcyxhKS5jb25jYXQoW2ErXCIgLmJsb2NrbHlJbnNlcnRpb25NYXJrZXI+LmJsb2NrbHlQYXRoTGlnaHQsXCIsYStcIiAuYmxvY2tseUluc2VydGlvbk1hcmtlcj4uYmxvY2tseVBhdGhEYXJrIHtcIixcImZpbGwtb3BhY2l0eTogXCIrdGhpcy5JTlNFUlRJT05fTUFSS0VSX09QQUNJVFkrXCI7XCIsXCJzdHJva2U6IG5vbmVcIixcIn1cIl0pfTtCbG9ja2x5LmdlcmFzLkhpZ2hsaWdodGVyPWZ1bmN0aW9uKGEpe3RoaXMuaW5mb189YTt0aGlzLmlubGluZVN0ZXBzXz10aGlzLnN0ZXBzXz1cIlwiO3RoaXMuUlRMXz10aGlzLmluZm9fLlJUTDthPWEuZ2V0UmVuZGVyZXIoKTt0aGlzLmNvbnN0YW50c189YS5nZXRDb25zdGFudHMoKTt0aGlzLmhpZ2hsaWdodENvbnN0YW50c189YS5nZXRIaWdobGlnaHRDb25zdGFudHMoKTt0aGlzLmhpZ2hsaWdodE9mZnNldF89dGhpcy5oaWdobGlnaHRDb25zdGFudHNfLk9GRlNFVDt0aGlzLm91dHNpZGVDb3JuZXJQYXRoc189dGhpcy5oaWdobGlnaHRDb25zdGFudHNfLk9VVFNJREVfQ09STkVSO3RoaXMuaW5zaWRlQ29ybmVyUGF0aHNfPXRoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzXy5JTlNJREVfQ09STkVSO3RoaXMucHV6emxlVGFiUGF0aHNfPXRoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzXy5QVVpaTEVfVEFCO3RoaXMubm90Y2hQYXRoc189dGhpcy5oaWdobGlnaHRDb25zdGFudHNfLk5PVENIO3RoaXMuc3RhcnRQYXRoc189XG50aGlzLmhpZ2hsaWdodENvbnN0YW50c18uU1RBUlRfSEFUO3RoaXMuamFnZ2VkVGVldGhQYXRoc189dGhpcy5oaWdobGlnaHRDb25zdGFudHNfLkpBR0dFRF9URUVUSH07QmxvY2tseS5nZXJhcy5IaWdobGlnaHRlci5wcm90b3R5cGUuZ2V0UGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0ZXBzXytcIlxcblwiK3RoaXMuaW5saW5lU3RlcHNffTtcbkJsb2NrbHkuZ2VyYXMuSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmRyYXdUb3BDb3JuZXI9ZnVuY3Rpb24oYSl7dGhpcy5zdGVwc18rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZUJ5KGEueFBvcyx0aGlzLmluZm9fLnN0YXJ0WSk7Zm9yKHZhciBiPTAsYztjPWEuZWxlbWVudHNbYl07YisrKUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNMZWZ0U3F1YXJlQ29ybmVyKGMpP3RoaXMuc3RlcHNfKz10aGlzLmhpZ2hsaWdodENvbnN0YW50c18uU1RBUlRfUE9JTlQ6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyKGMpP3RoaXMuc3RlcHNfKz10aGlzLm91dHNpZGVDb3JuZXJQYXRoc18udG9wTGVmdCh0aGlzLlJUTF8pOkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNQcmV2aW91c0Nvbm5lY3Rpb24oYyk/dGhpcy5zdGVwc18rPXRoaXMubm90Y2hQYXRoc18ucGF0aExlZnQ6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0hhdChjKT9cbnRoaXMuc3RlcHNfKz10aGlzLnN0YXJ0UGF0aHNfLnBhdGgodGhpcy5SVExfKTpCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzU3BhY2VyKGMpJiYwIT1jLndpZHRoJiYodGhpcy5zdGVwc18rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcIkhcIixjLnhQb3MrYy53aWR0aC10aGlzLmhpZ2hsaWdodE9mZnNldF8pKTt0aGlzLnN0ZXBzXys9QmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiSFwiLGEueFBvcythLndpZHRoLXRoaXMuaGlnaGxpZ2h0T2Zmc2V0Xyl9O0Jsb2NrbHkuZ2VyYXMuSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmRyYXdKYWdnZWRFZGdlXz1mdW5jdGlvbihhKXt0aGlzLmluZm9fLlJUTCYmKHRoaXMuc3RlcHNfKz10aGlzLmphZ2dlZFRlZXRoUGF0aHNfLnBhdGhMZWZ0K0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcInZcIixhLmhlaWdodC10aGlzLmphZ2dlZFRlZXRoUGF0aHNfLmhlaWdodC10aGlzLmhpZ2hsaWdodE9mZnNldF8pKX07XG5CbG9ja2x5LmdlcmFzLkhpZ2hsaWdodGVyLnByb3RvdHlwZS5kcmF3VmFsdWVJbnB1dD1mdW5jdGlvbihhKXt2YXIgYj1hLmdldExhc3RJbnB1dCgpO2lmKHRoaXMuUlRMXyl7dmFyIGM9YS5oZWlnaHQtYi5jb25uZWN0aW9uSGVpZ2h0O3RoaXMuc3RlcHNfKz1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLm1vdmVUbyhiLnhQb3MrYi53aWR0aC10aGlzLmhpZ2hsaWdodE9mZnNldF8sYS55UG9zKSt0aGlzLnB1enpsZVRhYlBhdGhzXy5wYXRoRG93bih0aGlzLlJUTF8pK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcInZcIixjKX1lbHNlIHRoaXMuc3RlcHNfKz1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLm1vdmVUbyhiLnhQb3MrYi53aWR0aCxhLnlQb3MpK3RoaXMucHV6emxlVGFiUGF0aHNfLnBhdGhEb3duKHRoaXMuUlRMXyl9O1xuQmxvY2tseS5nZXJhcy5IaWdobGlnaHRlci5wcm90b3R5cGUuZHJhd1N0YXRlbWVudElucHV0PWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0TGFzdElucHV0KCk7aWYodGhpcy5SVExfKXt2YXIgYz1hLmhlaWdodC0yKnRoaXMuaW5zaWRlQ29ybmVyUGF0aHNfLmhlaWdodDt0aGlzLnN0ZXBzXys9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlVG8oYi54UG9zLGEueVBvcykrdGhpcy5pbnNpZGVDb3JuZXJQYXRoc18ucGF0aFRvcCh0aGlzLlJUTF8pK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcInZcIixjKSt0aGlzLmluc2lkZUNvcm5lclBhdGhzXy5wYXRoQm90dG9tKHRoaXMuUlRMXykrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lVG8oYS53aWR0aC1iLnhQb3MtdGhpcy5pbnNpZGVDb3JuZXJQYXRoc18ud2lkdGgsMCl9ZWxzZSB0aGlzLnN0ZXBzXys9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlVG8oYi54UG9zLGEueVBvcythLmhlaWdodCkrdGhpcy5pbnNpZGVDb3JuZXJQYXRoc18ucGF0aEJvdHRvbSh0aGlzLlJUTF8pK1xuQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lVG8oYS53aWR0aC1iLnhQb3MtdGhpcy5pbnNpZGVDb3JuZXJQYXRoc18ud2lkdGgsMCl9O0Jsb2NrbHkuZ2VyYXMuSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmRyYXdSaWdodFNpZGVSb3c9ZnVuY3Rpb24oYSl7dmFyIGI9YS54UG9zK2Eud2lkdGgtdGhpcy5oaWdobGlnaHRPZmZzZXRfO2EuZm9sbG93c1N0YXRlbWVudCYmKHRoaXMuc3RlcHNfKz1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJIXCIsYikpO3RoaXMuUlRMXyYmKHRoaXMuc3RlcHNfKz1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJIXCIsYiksYS5oZWlnaHQ+dGhpcy5oaWdobGlnaHRPZmZzZXRfJiYodGhpcy5zdGVwc18rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcIlZcIixhLnlQb3MrYS5oZWlnaHQtdGhpcy5oaWdobGlnaHRPZmZzZXRfKSkpfTtcbkJsb2NrbHkuZ2VyYXMuSGlnaGxpZ2h0ZXIucHJvdG90eXBlLmRyYXdCb3R0b21Sb3c9ZnVuY3Rpb24oYSl7aWYodGhpcy5SVExfKXRoaXMuc3RlcHNfKz1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJWXCIsYS5iYXNlbGluZS10aGlzLmhpZ2hsaWdodE9mZnNldF8pO2Vsc2V7dmFyIGI9dGhpcy5pbmZvXy5ib3R0b21Sb3cuZWxlbWVudHNbMF07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0xlZnRTcXVhcmVDb3JuZXIoYik/dGhpcy5zdGVwc18rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZVRvKGEueFBvcyt0aGlzLmhpZ2hsaWdodE9mZnNldF8sYS5iYXNlbGluZS10aGlzLmhpZ2hsaWdodE9mZnNldF8pOkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNMZWZ0Um91bmRlZENvcm5lcihiKSYmKHRoaXMuc3RlcHNfKz1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLm1vdmVUbyhhLnhQb3MsYS5iYXNlbGluZSksdGhpcy5zdGVwc18rPXRoaXMub3V0c2lkZUNvcm5lclBhdGhzXy5ib3R0b21MZWZ0KCkpfX07XG5CbG9ja2x5LmdlcmFzLkhpZ2hsaWdodGVyLnByb3RvdHlwZS5kcmF3TGVmdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbjthJiYoYT1hLmNvbm5lY3Rpb25PZmZzZXRZK2EuaGVpZ2h0LHRoaXMuUlRMXz90aGlzLnN0ZXBzXys9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlVG8odGhpcy5pbmZvXy5zdGFydFgsYSk6KHRoaXMuc3RlcHNfKz1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLm1vdmVUbyh0aGlzLmluZm9fLnN0YXJ0WCt0aGlzLmhpZ2hsaWdodE9mZnNldF8sdGhpcy5pbmZvXy5ib3R0b21Sb3cuYmFzZWxpbmUtdGhpcy5oaWdobGlnaHRPZmZzZXRfKSx0aGlzLnN0ZXBzXys9QmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiVlwiLGEpKSx0aGlzLnN0ZXBzXys9dGhpcy5wdXp6bGVUYWJQYXRoc18ucGF0aFVwKHRoaXMuUlRMXykpO3RoaXMuUlRMX3x8KGE9dGhpcy5pbmZvXy50b3BSb3csQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyKGEuZWxlbWVudHNbMF0pP1xudGhpcy5zdGVwc18rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcIlZcIix0aGlzLm91dHNpZGVDb3JuZXJQYXRoc18uaGVpZ2h0KTp0aGlzLnN0ZXBzXys9QmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiVlwiLGEuY2FwbGluZSt0aGlzLmhpZ2hsaWdodE9mZnNldF8pKX07XG5CbG9ja2x5LmdlcmFzLkhpZ2hsaWdodGVyLnByb3RvdHlwZS5kcmF3SW5saW5lSW5wdXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5oaWdobGlnaHRPZmZzZXRfLGM9YS54UG9zK2EuY29ubmVjdGlvbldpZHRoLGQ9YS5jZW50ZXJsaW5lLWEuaGVpZ2h0LzIsZT1hLndpZHRoLWEuY29ubmVjdGlvbldpZHRoLGY9ZCtiO3RoaXMuUlRMXz8oZD1hLmNvbm5lY3Rpb25PZmZzZXRZLWIsYT1hLmhlaWdodC0oYS5jb25uZWN0aW9uT2Zmc2V0WSthLmNvbm5lY3Rpb25IZWlnaHQpK2IsdGhpcy5pbmxpbmVTdGVwc18rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZVRvKGMtYixmKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJ2XCIsZCkrdGhpcy5wdXp6bGVUYWJQYXRoc18ucGF0aERvd24odGhpcy5SVExfKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJ2XCIsYSkrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiaFwiLGUpKTp0aGlzLmlubGluZVN0ZXBzXys9XG5CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLm1vdmVUbyhhLnhQb3MrYS53aWR0aCtiLGYpK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcInZcIixhLmhlaWdodCkrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiaFwiLC1lKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLm1vdmVUbyhjLGQrYS5jb25uZWN0aW9uT2Zmc2V0WSkrdGhpcy5wdXp6bGVUYWJQYXRoc18ucGF0aERvd24odGhpcy5SVExfKX07QmxvY2tseS5nZXJhcy5JbmxpbmVJbnB1dD1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuZ2VyYXMuSW5saW5lSW5wdXQuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEsYik7dGhpcy5jb25uZWN0ZWRCbG9jayYmKHRoaXMud2lkdGgrPXRoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VULHRoaXMuaGVpZ2h0Kz10aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVCl9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuZ2VyYXMuSW5saW5lSW5wdXQsQmxvY2tseS5ibG9ja1JlbmRlcmluZy5JbmxpbmVJbnB1dCk7QmxvY2tseS5nZXJhcy5TdGF0ZW1lbnRJbnB1dD1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuZ2VyYXMuU3RhdGVtZW50SW5wdXQuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEsYik7dGhpcy5jb25uZWN0ZWRCbG9jayYmKHRoaXMuaGVpZ2h0Kz10aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVCl9O1xuQmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS5nZXJhcy5TdGF0ZW1lbnRJbnB1dCxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlN0YXRlbWVudElucHV0KTtCbG9ja2x5LmdlcmFzLlJlbmRlckluZm89ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LmdlcmFzLlJlbmRlckluZm8uc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEsYil9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuZ2VyYXMuUmVuZGVySW5mbyxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlckluZm8pO0Jsb2NrbHkuZ2VyYXMuUmVuZGVySW5mby5wcm90b3R5cGUuZ2V0UmVuZGVyZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZW5kZXJlcl99O1xuQmxvY2tseS5nZXJhcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5wb3B1bGF0ZUJvdHRvbVJvd189ZnVuY3Rpb24oKXtCbG9ja2x5LmdlcmFzLlJlbmRlckluZm8uc3VwZXJDbGFzc18ucG9wdWxhdGVCb3R0b21Sb3dfLmNhbGwodGhpcyk7dGhpcy5ibG9ja18uaW5wdXRMaXN0Lmxlbmd0aCYmdGhpcy5ibG9ja18uaW5wdXRMaXN0W3RoaXMuYmxvY2tfLmlucHV0TGlzdC5sZW5ndGgtMV0udHlwZT09QmxvY2tseS5ORVhUX1NUQVRFTUVOVHx8KHRoaXMuYm90dG9tUm93Lm1pbkhlaWdodD10aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkctdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQpfTtcbkJsb2NrbHkuZ2VyYXMuUmVuZGVySW5mby5wcm90b3R5cGUuYWRkSW5wdXRfPWZ1bmN0aW9uKGEsYil7dGhpcy5pc0lubGluZSYmYS50eXBlPT1CbG9ja2x5LklOUFVUX1ZBTFVFPyhiLmVsZW1lbnRzLnB1c2gobmV3IEJsb2NrbHkuZ2VyYXMuSW5saW5lSW5wdXQodGhpcy5jb25zdGFudHNfLGEpKSxiLmhhc0lubGluZUlucHV0PSEwKTphLnR5cGU9PUJsb2NrbHkuTkVYVF9TVEFURU1FTlQ/KGIuZWxlbWVudHMucHVzaChuZXcgQmxvY2tseS5nZXJhcy5TdGF0ZW1lbnRJbnB1dCh0aGlzLmNvbnN0YW50c18sYSkpLGIuaGFzU3RhdGVtZW50PSEwKTphLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUU/KGIuZWxlbWVudHMucHVzaChuZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5FeHRlcm5hbFZhbHVlSW5wdXQodGhpcy5jb25zdGFudHNfLGEpKSxiLmhhc0V4dGVybmFsSW5wdXQ9ITApOmEudHlwZT09QmxvY2tseS5EVU1NWV9JTlBVVCYmKGIubWluSGVpZ2h0PU1hdGgubWF4KGIubWluSGVpZ2h0LFxudGhpcy5jb25zdGFudHNfLkRVTU1ZX0lOUFVUX01JTl9IRUlHSFQpLGIuaGFzRHVtbXlJbnB1dD0hMCk7dGhpcy5pc0lubGluZXx8bnVsbCE9Yi5hbGlnbnx8KGIuYWxpZ249YS5hbGlnbil9O1xuQmxvY2tseS5nZXJhcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5hZGRFbGVtU3BhY2luZ189ZnVuY3Rpb24oKXtmb3IodmFyIGE9ITEsYj0wLGM7Yz10aGlzLnJvd3NbYl07YisrKWMuaGFzRXh0ZXJuYWxJbnB1dCYmKGE9ITApO2ZvcihiPTA7Yz10aGlzLnJvd3NbYl07YisrKXt2YXIgZD1jLmVsZW1lbnRzO2MuZWxlbWVudHM9W107Yy5zdGFydHNXaXRoRWxlbVNwYWNlcigpJiZjLmVsZW1lbnRzLnB1c2gobmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSW5Sb3dTcGFjZXIodGhpcy5jb25zdGFudHNfLHRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhudWxsLGRbMF0pKSk7aWYoZC5sZW5ndGgpe2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGgtMTtlKyspe2MuZWxlbWVudHMucHVzaChkW2VdKTt2YXIgZj10aGlzLmdldEluUm93U3BhY2luZ18oZFtlXSxkW2UrMV0pO2MuZWxlbWVudHMucHVzaChuZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5JblJvd1NwYWNlcih0aGlzLmNvbnN0YW50c18sZikpfWMuZWxlbWVudHMucHVzaChkW2QubGVuZ3RoLVxuMV0pO2MuZW5kc1dpdGhFbGVtU3BhY2VyKCkmJihmPXRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhkW2QubGVuZ3RoLTFdLG51bGwpLGEmJmMuaGFzRHVtbXlJbnB1dCYmKGYrPXRoaXMuY29uc3RhbnRzXy5UQUJfV0lEVEgpLGMuZWxlbWVudHMucHVzaChuZXcgQmxvY2tseS5ibG9ja1JlbmRlcmluZy5JblJvd1NwYWNlcih0aGlzLmNvbnN0YW50c18sZikpKX19fTtcbkJsb2NrbHkuZ2VyYXMuUmVuZGVySW5mby5wcm90b3R5cGUuZ2V0SW5Sb3dTcGFjaW5nXz1mdW5jdGlvbihhLGIpe2lmKCFhKXJldHVybiBiJiZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzRmllbGQoYikmJmIuaXNFZGl0YWJsZT90aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkc6YiYmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lubGluZUlucHV0KGIpP3RoaXMuY29uc3RhbnRzXy5NRURJVU1fTEFSR0VfUEFERElORzpiJiZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYik/dGhpcy5jb25zdGFudHNfLlNUQVRFTUVOVF9JTlBVVF9QQURESU5HX0xFRlQ6dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7aWYoIUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbnB1dChhKSYmKCFifHxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYikpKXJldHVybiBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzRmllbGQoYSkmJlxuYS5pc0VkaXRhYmxlP3RoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElORzpCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSWNvbihhKT8yKnRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HKzE6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0hhdChhKT90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzpCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzUHJldmlvdXNPck5leHRDb25uZWN0aW9uKGEpP3RoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HOkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNMZWZ0Um91bmRlZENvcm5lcihhKT90aGlzLmNvbnN0YW50c18uTUlOX0JMT0NLX1dJRFRIOkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNKYWdnZWRFZGdlKGEpP3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOnRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HO2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbnB1dChhKSYmXG4hYil7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0V4dGVybmFsSW5wdXQoYSkpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5OT19QQURESU5HO2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbmxpbmVJbnB1dChhKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1N0YXRlbWVudElucHV0KGEpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTk9fUEFERElOR31pZighQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lucHV0KGEpJiZiJiZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSW5wdXQoYikpe2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNGaWVsZChhKSYmYS5pc0VkaXRhYmxlKXtpZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSW5saW5lSW5wdXQoYil8fEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNFeHRlcm5hbElucHV0KGIpKXJldHVybiB0aGlzLmNvbnN0YW50c18uU01BTExfUEFERElOR31lbHNle2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbmxpbmVJbnB1dChiKXx8XG5CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzRXh0ZXJuYWxJbnB1dChiKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLk1FRElVTV9MQVJHRV9QQURESU5HO2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNTdGF0ZW1lbnRJbnB1dChiKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkd9cmV0dXJuIHRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HLTF9aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0ljb24oYSkmJmImJiFCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSW5wdXQoYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HO2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbmxpbmVJbnB1dChhKSYmYiYmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0ZpZWxkKGIpKXJldHVybiBiLmlzRWRpdGFibGU/dGhpcy5jb25zdGFudHNfLk1FRElVTV9QQURESU5HOnRoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HO1xuaWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0xlZnRTcXVhcmVDb3JuZXIoYSkmJmIpe2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNIYXQoYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5OT19QQURESU5HO2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNQcmV2aW91c0Nvbm5lY3Rpb24oYikpcmV0dXJuIGIubm90Y2hPZmZzZXQ7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc05leHRDb25uZWN0aW9uKGIpKXJldHVybiBhPSh0aGlzLlJUTD8xOi0xKSp0aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVC8yLGIubm90Y2hPZmZzZXQrYX1pZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzTGVmdFJvdW5kZWRDb3JuZXIoYSkmJmIpe2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNQcmV2aW91c0Nvbm5lY3Rpb24oYikpcmV0dXJuIGIubm90Y2hPZmZzZXQtdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVM7XG5pZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzTmV4dENvbm5lY3Rpb24oYikpcmV0dXJuIGE9KHRoaXMuUlRMPzE6LTEpKnRoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VULzIsYi5ub3RjaE9mZnNldC10aGlzLmNvbnN0YW50c18uQ09STkVSX1JBRElVUythfXJldHVybiBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzRmllbGQoYSkmJmImJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNGaWVsZChiKSYmYS5pc0VkaXRhYmxlPT1iLmlzRWRpdGFibGV8fGImJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNKYWdnZWRFZGdlKGIpP3RoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HOnRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElOR307XG5CbG9ja2x5LmdlcmFzLlJlbmRlckluZm8ucHJvdG90eXBlLmdldFNwYWNlclJvd0hlaWdodF89ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1RvcFJvdyhhKSYmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0JvdHRvbVJvdyhiKT90aGlzLmNvbnN0YW50c18uRU1QVFlfQkxPQ0tfU1BBQ0VSX0hFSUdIVDpCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzVG9wUm93KGEpfHxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzQm90dG9tUm93KGIpP3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOmEuaGFzRXh0ZXJuYWxJbnB1dCYmYi5oYXNFeHRlcm5hbElucHV0P3RoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HOiFhLmhhc1N0YXRlbWVudCYmYi5oYXNTdGF0ZW1lbnQ/dGhpcy5jb25zdGFudHNfLkJFVFdFRU5fU1RBVEVNRU5UX1BBRERJTkdfWTphLmhhc1N0YXRlbWVudCYmYi5oYXNTdGF0ZW1lbnR8fCFhLmhhc1N0YXRlbWVudCYmXG5iLmhhc0R1bW15SW5wdXR8fGEuaGFzRHVtbXlJbnB1dD90aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORzp0aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkd9O1xuQmxvY2tseS5nZXJhcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5nZXRFbGVtQ2VudGVybGluZV89ZnVuY3Rpb24oYSxiKXtpZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzU3BhY2VyKGIpKXJldHVybiBhLnlQb3MrYi5oZWlnaHQvMjtpZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzQm90dG9tUm93KGEpKXJldHVybiBhPWEueVBvcythLmhlaWdodC1hLmRlc2NlbmRlckhlaWdodCxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzTmV4dENvbm5lY3Rpb24oYik/YStiLmhlaWdodC8yOmEtYi5oZWlnaHQvMjtpZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzVG9wUm93KGEpKXJldHVybiBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSGF0KGIpP2EuY2FwbGluZS1iLmhlaWdodC8yOmEuY2FwbGluZStiLmhlaWdodC8yO3ZhciBjPWEueVBvcztCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzRmllbGQoYil8fEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJY29uKGIpP1xuKGMrPWIuaGVpZ2h0LzIsKGEuaGFzSW5saW5lSW5wdXR8fGEuaGFzU3RhdGVtZW50KSYmYi5oZWlnaHQrdGhpcy5jb25zdGFudHNfLlRBTExfSU5QVVRfRklFTERfT0ZGU0VUX1k8PWEuaGVpZ2h0JiYoYys9dGhpcy5jb25zdGFudHNfLlRBTExfSU5QVVRfRklFTERfT0ZGU0VUX1kpKTpjPUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbmxpbmVJbnB1dChiKT9jK2IuaGVpZ2h0LzI6YythLmhlaWdodC8yO3JldHVybiBjfTtcbkJsb2NrbHkuZ2VyYXMuUmVuZGVySW5mby5wcm90b3R5cGUuYWxpZ25Sb3dFbGVtZW50c189ZnVuY3Rpb24oKXtpZih0aGlzLmlzSW5saW5lKXtmb3IodmFyIGE9MCxiPW51bGwsYz10aGlzLnJvd3MubGVuZ3RoLTEsZDtkPXRoaXMucm93c1tjXTtjLS0pZC5uZXh0UmlnaHRFZGdlPWEsQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lucHV0Um93KGQpJiYoZC5oYXNTdGF0ZW1lbnQmJnRoaXMuYWxpZ25TdGF0ZW1lbnRSb3dfKGQpLGImJmIuaGFzU3RhdGVtZW50JiZkLndpZHRoPGIud2lkdGg/ZC5uZXh0UmlnaHRFZGdlPWIud2lkdGg6YT1kLndpZHRoLGI9ZCk7Zm9yKGM9YT0wO2Q9dGhpcy5yb3dzW2NdO2MrKylkLmhhc1N0YXRlbWVudD9hPXRoaXMuZ2V0RGVzaXJlZFJvd1dpZHRoXyhkKTpCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzU3BhY2VyKGQpP2Qud2lkdGg9TWF0aC5tYXgoYSxkLm5leHRSaWdodEVkZ2UpOihhPU1hdGgubWF4KGEsZC5uZXh0UmlnaHRFZGdlKS1cbmQud2lkdGgsMDxhJiZ0aGlzLmFkZEFsaWdubWVudFBhZGRpbmdfKGQsYSksYT1kLndpZHRoKX1lbHNlIEJsb2NrbHkuZ2VyYXMuUmVuZGVySW5mby5zdXBlckNsYXNzXy5hbGlnblJvd0VsZW1lbnRzXy5jYWxsKHRoaXMpfTtCbG9ja2x5LmdlcmFzLlJlbmRlckluZm8ucHJvdG90eXBlLmdldERlc2lyZWRSb3dXaWR0aF89ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNJbmxpbmUmJmEuaGFzU3RhdGVtZW50P3RoaXMuc3RhdGVtZW50RWRnZSt0aGlzLmNvbnN0YW50c18uTUFYX0JPVFRPTV9XSURUSCt0aGlzLnN0YXJ0WDpCbG9ja2x5LmdlcmFzLlJlbmRlckluZm8uc3VwZXJDbGFzc18uZ2V0RGVzaXJlZFJvd1dpZHRoXy5jYWxsKHRoaXMsYSl9O1xuQmxvY2tseS5nZXJhcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5maW5hbGl6ZV89ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTAsYz0wLGQ7ZD10aGlzLnJvd3NbY107YysrKXtkLnlQb3M9YjtkLnhQb3M9dGhpcy5zdGFydFg7Yis9ZC5oZWlnaHQ7YT1NYXRoLm1heChhLGQud2lkdGhXaXRoQ29ubmVjdGVkQmxvY2tzKTt2YXIgZT1iLXRoaXMudG9wUm93LmFzY2VuZGVySGVpZ2h0O2Q9PXRoaXMuYm90dG9tUm93JiZlPHRoaXMuY29uc3RhbnRzXy5NSU5fQkxPQ0tfSEVJR0hUJiYoZT10aGlzLmNvbnN0YW50c18uTUlOX0JMT0NLX0hFSUdIVC1lLHRoaXMuYm90dG9tUm93LmhlaWdodCs9ZSxiKz1lKTt0aGlzLnJlY29yZEVsZW1Qb3NpdGlvbnNfKGQpfXRoaXMub3V0cHV0Q29ubmVjdGlvbiYmdGhpcy5ibG9ja18ubmV4dENvbm5lY3Rpb24mJnRoaXMuYmxvY2tfLm5leHRDb25uZWN0aW9uLmlzQ29ubmVjdGVkKCkmJihhPU1hdGgubWF4KGEsdGhpcy5ibG9ja18ubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKS5nZXRIZWlnaHRXaWR0aCgpLndpZHRoLVxudGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQpKTt0aGlzLmJvdHRvbVJvdy5iYXNlbGluZT1iLXRoaXMuYm90dG9tUm93LmRlc2NlbmRlckhlaWdodDt0aGlzLndpZHRoV2l0aENoaWxkcmVuPWErdGhpcy5zdGFydFgrdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQ7dGhpcy53aWR0aCs9dGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQ7dGhpcy5oZWlnaHQ9Yit0aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVDt0aGlzLnN0YXJ0WT10aGlzLnRvcFJvdy5jYXBsaW5lfTtCbG9ja2x5LmdlcmFzLkRyYXdlcj1mdW5jdGlvbihhLGIpe0Jsb2NrbHkuZ2VyYXMuRHJhd2VyLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIpO3RoaXMuaGlnaGxpZ2h0ZXJfPW5ldyBCbG9ja2x5LmdlcmFzLkhpZ2hsaWdodGVyKGIpfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LmdlcmFzLkRyYXdlcixCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkRyYXdlcik7XG5CbG9ja2x5LmdlcmFzLkRyYXdlci5wcm90b3R5cGUuZHJhdz1mdW5jdGlvbigpe3RoaXMuaGlkZUhpZGRlbkljb25zXygpO3RoaXMuZHJhd091dGxpbmVfKCk7dGhpcy5kcmF3SW50ZXJuYWxzXygpO3ZhciBhPXRoaXMuYmxvY2tfLnBhdGhPYmplY3Q7YS5zZXRQYXRoKHRoaXMub3V0bGluZVBhdGhfK1wiXFxuXCIrdGhpcy5pbmxpbmVQYXRoXyk7YS5zZXRIaWdobGlnaHRQYXRoKHRoaXMuaGlnaGxpZ2h0ZXJfLmdldFBhdGgoKSk7dGhpcy5pbmZvXy5SVEwmJmEuZmxpcFJUTCgpO0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcudXNlRGVidWdnZXImJnRoaXMuYmxvY2tfLnJlbmRlcmluZ0RlYnVnZ2VyLmRyYXdEZWJ1Zyh0aGlzLmJsb2NrXyx0aGlzLmluZm9fKTt0aGlzLnJlY29yZFNpemVPbkJsb2NrXygpfTtcbkJsb2NrbHkuZ2VyYXMuRHJhd2VyLnByb3RvdHlwZS5kcmF3VG9wXz1mdW5jdGlvbigpe3RoaXMuaGlnaGxpZ2h0ZXJfLmRyYXdUb3BDb3JuZXIodGhpcy5pbmZvXy50b3BSb3cpO3RoaXMuaGlnaGxpZ2h0ZXJfLmRyYXdSaWdodFNpZGVSb3codGhpcy5pbmZvXy50b3BSb3cpO0Jsb2NrbHkuZ2VyYXMuRHJhd2VyLnN1cGVyQ2xhc3NfLmRyYXdUb3BfLmNhbGwodGhpcyl9O0Jsb2NrbHkuZ2VyYXMuRHJhd2VyLnByb3RvdHlwZS5kcmF3SmFnZ2VkRWRnZV89ZnVuY3Rpb24oYSl7dGhpcy5oaWdobGlnaHRlcl8uZHJhd0phZ2dlZEVkZ2VfKGEpO0Jsb2NrbHkuZ2VyYXMuRHJhd2VyLnN1cGVyQ2xhc3NfLmRyYXdKYWdnZWRFZGdlXy5jYWxsKHRoaXMsYSl9O1xuQmxvY2tseS5nZXJhcy5EcmF3ZXIucHJvdG90eXBlLmRyYXdWYWx1ZUlucHV0Xz1mdW5jdGlvbihhKXt0aGlzLmhpZ2hsaWdodGVyXy5kcmF3VmFsdWVJbnB1dChhKTtCbG9ja2x5LmdlcmFzLkRyYXdlci5zdXBlckNsYXNzXy5kcmF3VmFsdWVJbnB1dF8uY2FsbCh0aGlzLGEpfTtCbG9ja2x5LmdlcmFzLkRyYXdlci5wcm90b3R5cGUuZHJhd1N0YXRlbWVudElucHV0Xz1mdW5jdGlvbihhKXt0aGlzLmhpZ2hsaWdodGVyXy5kcmF3U3RhdGVtZW50SW5wdXQoYSk7QmxvY2tseS5nZXJhcy5EcmF3ZXIuc3VwZXJDbGFzc18uZHJhd1N0YXRlbWVudElucHV0Xy5jYWxsKHRoaXMsYSl9O1xuQmxvY2tseS5nZXJhcy5EcmF3ZXIucHJvdG90eXBlLmRyYXdSaWdodFNpZGVSb3dfPWZ1bmN0aW9uKGEpe3RoaXMuaGlnaGxpZ2h0ZXJfLmRyYXdSaWdodFNpZGVSb3coYSk7dGhpcy5vdXRsaW5lUGF0aF8rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcIkhcIixhLnhQb3MrYS53aWR0aCkrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiVlwiLGEueVBvcythLmhlaWdodCl9O0Jsb2NrbHkuZ2VyYXMuRHJhd2VyLnByb3RvdHlwZS5kcmF3Qm90dG9tXz1mdW5jdGlvbigpe3RoaXMuaGlnaGxpZ2h0ZXJfLmRyYXdCb3R0b21Sb3codGhpcy5pbmZvXy5ib3R0b21Sb3cpO0Jsb2NrbHkuZ2VyYXMuRHJhd2VyLnN1cGVyQ2xhc3NfLmRyYXdCb3R0b21fLmNhbGwodGhpcyl9O0Jsb2NrbHkuZ2VyYXMuRHJhd2VyLnByb3RvdHlwZS5kcmF3TGVmdF89ZnVuY3Rpb24oKXt0aGlzLmhpZ2hsaWdodGVyXy5kcmF3TGVmdCgpO0Jsb2NrbHkuZ2VyYXMuRHJhd2VyLnN1cGVyQ2xhc3NfLmRyYXdMZWZ0Xy5jYWxsKHRoaXMpfTtcbkJsb2NrbHkuZ2VyYXMuRHJhd2VyLnByb3RvdHlwZS5kcmF3SW5saW5lSW5wdXRfPWZ1bmN0aW9uKGEpe3RoaXMuaGlnaGxpZ2h0ZXJfLmRyYXdJbmxpbmVJbnB1dChhKTtCbG9ja2x5LmdlcmFzLkRyYXdlci5zdXBlckNsYXNzXy5kcmF3SW5saW5lSW5wdXRfLmNhbGwodGhpcyxhKX07QmxvY2tseS5nZXJhcy5EcmF3ZXIucHJvdG90eXBlLnBvc2l0aW9uSW5saW5lSW5wdXRDb25uZWN0aW9uXz1mdW5jdGlvbihhKXt2YXIgYj1hLmNlbnRlcmxpbmUtYS5oZWlnaHQvMjtpZihhLmNvbm5lY3Rpb25Nb2RlbCl7dmFyIGM9YS54UG9zK2EuY29ubmVjdGlvbldpZHRoK3RoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VUO3RoaXMuaW5mb18uUlRMJiYoYyo9LTEpO2EuY29ubmVjdGlvbk1vZGVsLnNldE9mZnNldEluQmxvY2soYyxiK2EuY29ubmVjdGlvbk9mZnNldFkrdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQpfX07XG5CbG9ja2x5LmdlcmFzLkRyYXdlci5wcm90b3R5cGUucG9zaXRpb25TdGF0ZW1lbnRJbnB1dENvbm5lY3Rpb25fPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0TGFzdElucHV0KCk7aWYoYi5jb25uZWN0aW9uTW9kZWwpe3ZhciBjPWEueFBvcythLnN0YXRlbWVudEVkZ2UrYi5ub3RjaE9mZnNldDtjPXRoaXMuaW5mb18uUlRMPy0xKmM6Yyt0aGlzLmNvbnN0YW50c18uREFSS19QQVRIX09GRlNFVDtiLmNvbm5lY3Rpb25Nb2RlbC5zZXRPZmZzZXRJbkJsb2NrKGMsYS55UG9zK3RoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VUKX19O1xuQmxvY2tseS5nZXJhcy5EcmF3ZXIucHJvdG90eXBlLnBvc2l0aW9uRXh0ZXJuYWxWYWx1ZUNvbm5lY3Rpb25fPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0TGFzdElucHV0KCk7aWYoYi5jb25uZWN0aW9uTW9kZWwpe3ZhciBjPWEueFBvcythLndpZHRoK3RoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VUO3RoaXMuaW5mb18uUlRMJiYoYyo9LTEpO2IuY29ubmVjdGlvbk1vZGVsLnNldE9mZnNldEluQmxvY2soYyxhLnlQb3MpfX07QmxvY2tseS5nZXJhcy5EcmF3ZXIucHJvdG90eXBlLnBvc2l0aW9uTmV4dENvbm5lY3Rpb25fPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbmZvXy5ib3R0b21Sb3c7aWYoYS5jb25uZWN0aW9uKXt2YXIgYj1hLmNvbm5lY3Rpb24sYz1iLnhQb3M7Yi5jb25uZWN0aW9uTW9kZWwuc2V0T2Zmc2V0SW5CbG9jaygodGhpcy5pbmZvXy5SVEw/LWM6YykrdGhpcy5jb25zdGFudHNfLkRBUktfUEFUSF9PRkZTRVQvMixhLmJhc2VsaW5lK3RoaXMuY29uc3RhbnRzXy5EQVJLX1BBVEhfT0ZGU0VUKX19O0Jsb2NrbHkuZ2VyYXMuSGlnaGxpZ2h0Q29uc3RhbnRQcm92aWRlcj1mdW5jdGlvbihhKXt0aGlzLmNvbnN0YW50UHJvdmlkZXI9YTt0aGlzLk9GRlNFVD0uNTt0aGlzLlNUQVJUX1BPSU5UPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZUJ5KHRoaXMuT0ZGU0VULHRoaXMuT0ZGU0VUKX07QmxvY2tseS5nZXJhcy5IaWdobGlnaHRDb25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5JTlNJREVfQ09STkVSPXRoaXMubWFrZUluc2lkZUNvcm5lcigpO3RoaXMuT1VUU0lERV9DT1JORVI9dGhpcy5tYWtlT3V0c2lkZUNvcm5lcigpO3RoaXMuUFVaWkxFX1RBQj10aGlzLm1ha2VQdXp6bGVUYWIoKTt0aGlzLk5PVENIPXRoaXMubWFrZU5vdGNoKCk7dGhpcy5KQUdHRURfVEVFVEg9dGhpcy5tYWtlSmFnZ2VkVGVldGgoKTt0aGlzLlNUQVJUX0hBVD10aGlzLm1ha2VTdGFydEhhdCgpfTtcbkJsb2NrbHkuZ2VyYXMuSGlnaGxpZ2h0Q29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUubWFrZUluc2lkZUNvcm5lcj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY29uc3RhbnRQcm92aWRlci5DT1JORVJfUkFESVVTLGI9dGhpcy5PRkZTRVQsYz0oMS1NYXRoLlNRUlQxXzIpKihhK2IpLWIsZD1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLm1vdmVCeShjLGMpK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMuYXJjKFwiYVwiLFwiMCAwLDBcIixhLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoLWMtYixhLWMpKSxlPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMuYXJjKFwiYVwiLFwiMCAwLDBcIixhK2IsQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludChhK2IsYStiKSksZj1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLm1vdmVCeShjLC1jKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmFyYyhcImFcIixcIjAgMCwwXCIsYStiLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYS1jLGMrYikpO3JldHVybnt3aWR0aDphK2IsaGVpZ2h0OmEsXG5wYXRoVG9wOmZ1bmN0aW9uKGEpe3JldHVybiBhP2Q6XCJcIn0scGF0aEJvdHRvbTpmdW5jdGlvbihhKXtyZXR1cm4gYT9lOmZ9fX07XG5CbG9ja2x5LmdlcmFzLkhpZ2hsaWdodENvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLm1ha2VPdXRzaWRlQ29ybmVyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jb25zdGFudFByb3ZpZGVyLkNPUk5FUl9SQURJVVMsYj10aGlzLk9GRlNFVCxjPSgxLU1hdGguU1FSVDFfMikqKGEtYikrYixkPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZUJ5KGMsYykrQmxvY2tseS51dGlscy5zdmdQYXRocy5hcmMoXCJhXCIsXCIwIDAsMVwiLGEtYixCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KGEtYywtYytiKSksZT1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLm1vdmVCeShiLGEpK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMuYXJjKFwiYVwiLFwiMCAwLDFcIixhLWIsQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludChhLC1hK2IpKSxmPS1jLGc9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlQnkoYyxmKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmFyYyhcImFcIixcIjAgMCwxXCIsYS1iLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoLWMrXG5iLC1mLWEpKTtyZXR1cm57aGVpZ2h0OmEsdG9wTGVmdDpmdW5jdGlvbihhKXtyZXR1cm4gYT9kOmV9LGJvdHRvbUxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZ319fTtcbkJsb2NrbHkuZ2VyYXMuSGlnaGxpZ2h0Q29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUubWFrZVB1enpsZVRhYj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY29uc3RhbnRQcm92aWRlci5UQUJfV0lEVEgsYj10aGlzLmNvbnN0YW50UHJvdmlkZXIuVEFCX0hFSUdIVCxjPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZUJ5KC0yLC1iKzMuNCkrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lVG8oLS40NSphLC0yLjEpLGQ9QmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwidlwiLDIuNSkrQmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlQnkoLjk3Ki1hLDIuNSkrQmxvY2tseS51dGlscy5zdmdQYXRocy5jdXJ2ZShcInFcIixbQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludCguMDUqLWEsMTApLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoLjMqYSw5LjUpXSkrQmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlQnkoLjY3KmEsLTEuOSkrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwidlwiLFxuMi41KSxlPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcInZcIiwtMS41KStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLm1vdmVCeSgtLjkyKmEsLS41KStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmN1cnZlKFwicVwiLFtCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KC0uMTkqYSwtNS41KSxCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KDAsLTExKV0pK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZUJ5KC45MiphLDEpLGY9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlQnkoLTUsYi0uNykrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lVG8oLjQ2KmEsLTIuMSk7cmV0dXJue3dpZHRoOmEsaGVpZ2h0OmIscGF0aFVwOmZ1bmN0aW9uKGEpe3JldHVybiBhP2M6ZX0scGF0aERvd246ZnVuY3Rpb24oYSl7cmV0dXJuIGE/ZDpmfX19O1xuQmxvY2tseS5nZXJhcy5IaWdobGlnaHRDb25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5tYWtlTm90Y2g9ZnVuY3Rpb24oKXtyZXR1cm57cGF0aExlZnQ6QmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiaFwiLHRoaXMuT0ZGU0VUKSt0aGlzLmNvbnN0YW50UHJvdmlkZXIuTk9UQ0gucGF0aExlZnR9fTtCbG9ja2x5LmdlcmFzLkhpZ2hsaWdodENvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLm1ha2VKYWdnZWRUZWV0aD1mdW5jdGlvbigpe3JldHVybntwYXRoTGVmdDpCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVUbyg1LjEsMi42KStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLm1vdmVCeSgtMTAuMiw2LjgpK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZVRvKDUuMSwyLjYpLGhlaWdodDoxMix3aWR0aDoxMC4yfX07XG5CbG9ja2x5LmdlcmFzLkhpZ2hsaWdodENvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLm1ha2VTdGFydEhhdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuY29uc3RhbnRQcm92aWRlci5TVEFSVF9IQVQuaGVpZ2h0LGI9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlQnkoMjUsLTguNykrQmxvY2tseS51dGlscy5zdmdQYXRocy5jdXJ2ZShcImNcIixbQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludCgyOS43LC02LjIpLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoNTcuMiwtLjUpLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoNzUsOC43KV0pLGM9QmxvY2tseS51dGlscy5zdmdQYXRocy5jdXJ2ZShcImNcIixbQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludCgxNy44LC05LjIpLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoNDUuMywtMTQuOSksQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludCg3NSwtOC43KV0pK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubW92ZVRvKDEwMC41LFxuYSsuNSk7cmV0dXJue3BhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/YjpjfX19O0Jsb2NrbHkuZ2VyYXMuUGF0aE9iamVjdD1mdW5jdGlvbihhLGIsYyl7dGhpcy5jb25zdGFudHM9Yzt0aGlzLnN2Z1Jvb3Q9YTt0aGlzLnN2Z1BhdGhEYXJrPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJwYXRoXCIse1wiY2xhc3NcIjpcImJsb2NrbHlQYXRoRGFya1wiLHRyYW5zZm9ybTpcInRyYW5zbGF0ZSgxLDEpXCJ9LHRoaXMuc3ZnUm9vdCk7dGhpcy5zdmdQYXRoPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJwYXRoXCIse1wiY2xhc3NcIjpcImJsb2NrbHlQYXRoXCJ9LHRoaXMuc3ZnUm9vdCk7dGhpcy5zdmdQYXRoTGlnaHQ9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInBhdGhcIix7XCJjbGFzc1wiOlwiYmxvY2tseVBhdGhMaWdodFwifSx0aGlzLnN2Z1Jvb3QpO3RoaXMuY29sb3VyRGFyaz1cIiMwMDAwMDBcIjt0aGlzLnN0eWxlPWJ9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuZ2VyYXMuUGF0aE9iamVjdCxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlBhdGhPYmplY3QpO1xuQmxvY2tseS5nZXJhcy5QYXRoT2JqZWN0LnByb3RvdHlwZS5zZXRQYXRoPWZ1bmN0aW9uKGEpe3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJkXCIsYSk7dGhpcy5zdmdQYXRoRGFyay5zZXRBdHRyaWJ1dGUoXCJkXCIsYSl9O0Jsb2NrbHkuZ2VyYXMuUGF0aE9iamVjdC5wcm90b3R5cGUuc2V0SGlnaGxpZ2h0UGF0aD1mdW5jdGlvbihhKXt0aGlzLnN2Z1BhdGhMaWdodC5zZXRBdHRyaWJ1dGUoXCJkXCIsYSl9O0Jsb2NrbHkuZ2VyYXMuUGF0aE9iamVjdC5wcm90b3R5cGUuZmxpcFJUTD1mdW5jdGlvbigpe3RoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInNjYWxlKC0xIDEpXCIpO3RoaXMuc3ZnUGF0aExpZ2h0LnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwic2NhbGUoLTEgMSlcIik7dGhpcy5zdmdQYXRoRGFyay5zZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIixcInRyYW5zbGF0ZSgxLDEpIHNjYWxlKC0xIDEpXCIpfTtcbkJsb2NrbHkuZ2VyYXMuUGF0aE9iamVjdC5wcm90b3R5cGUuYXBwbHlDb2xvdXI9ZnVuY3Rpb24oYSl7dGhpcy5zdmdQYXRoTGlnaHQuc3R5bGUuZGlzcGxheT1cIlwiO3RoaXMuc3ZnUGF0aERhcmsuc3R5bGUuZGlzcGxheT1cIlwiO3RoaXMuc3ZnUGF0aExpZ2h0LnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLHRoaXMuc3R5bGUuY29sb3VyVGVydGlhcnkpO3RoaXMuc3ZnUGF0aERhcmsuc2V0QXR0cmlidXRlKFwiZmlsbFwiLHRoaXMuY29sb3VyRGFyayk7QmxvY2tseS5nZXJhcy5QYXRoT2JqZWN0LnN1cGVyQ2xhc3NfLmFwcGx5Q29sb3VyLmNhbGwodGhpcyxhKTt0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsXCJub25lXCIpfTtcbkJsb2NrbHkuZ2VyYXMuUGF0aE9iamVjdC5wcm90b3R5cGUuc2V0U3R5bGU9ZnVuY3Rpb24oYSl7dGhpcy5zdHlsZT1hO3RoaXMuY29sb3VyRGFyaz1CbG9ja2x5LnV0aWxzLmNvbG91ci5ibGVuZChcIiMwMDBcIix0aGlzLnN0eWxlLmNvbG91clByaW1hcnksLjIpfHx0aGlzLmNvbG91ckRhcmt9O0Jsb2NrbHkuZ2VyYXMuUGF0aE9iamVjdC5wcm90b3R5cGUudXBkYXRlSGlnaGxpZ2h0ZWQ9ZnVuY3Rpb24oYSl7YT8odGhpcy5zdmdQYXRoLnNldEF0dHJpYnV0ZShcImZpbHRlclwiLFwidXJsKCNcIit0aGlzLmNvbnN0YW50cy5lbWJvc3NGaWx0ZXJJZCtcIilcIiksdGhpcy5zdmdQYXRoTGlnaHQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIik6KHRoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJmaWx0ZXJcIixcIm5vbmVcIiksdGhpcy5zdmdQYXRoTGlnaHQuc3R5bGUuZGlzcGxheT1cImlubGluZVwiKX07XG5CbG9ja2x5LmdlcmFzLlBhdGhPYmplY3QucHJvdG90eXBlLnVwZGF0ZVNoYWRvd189ZnVuY3Rpb24oYSl7YSYmKHRoaXMuc3ZnUGF0aExpZ2h0LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5zdmdQYXRoRGFyay5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5zdHlsZS5jb2xvdXJTZWNvbmRhcnkpLHRoaXMuc3ZnUGF0aC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIixcIm5vbmVcIiksdGhpcy5zdmdQYXRoLnNldEF0dHJpYnV0ZShcImZpbGxcIix0aGlzLnN0eWxlLmNvbG91clNlY29uZGFyeSkpfTtCbG9ja2x5LmdlcmFzLlBhdGhPYmplY3QucHJvdG90eXBlLnVwZGF0ZURpc2FibGVkXz1mdW5jdGlvbihhKXtCbG9ja2x5LmdlcmFzLlBhdGhPYmplY3Quc3VwZXJDbGFzc18udXBkYXRlRGlzYWJsZWRfLmNhbGwodGhpcyxhKTthJiZ0aGlzLnN2Z1BhdGguc2V0QXR0cmlidXRlKFwic3Ryb2tlXCIsXCJub25lXCIpfTtCbG9ja2x5LmdlcmFzLlJlbmRlcmVyPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuZ2VyYXMuUmVuZGVyZXIuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpO3RoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzXz1udWxsfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LmdlcmFzLlJlbmRlcmVyLEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVyZXIpO0Jsb2NrbHkuZ2VyYXMuUmVuZGVyZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LmdlcmFzLlJlbmRlcmVyLnN1cGVyQ2xhc3NfLmluaXQuY2FsbCh0aGlzLGEsYik7dGhpcy5oaWdobGlnaHRDb25zdGFudHNfPXRoaXMubWFrZUhpZ2hsaWdodENvbnN0YW50c18oKTt0aGlzLmhpZ2hsaWdodENvbnN0YW50c18uaW5pdCgpfTtcbkJsb2NrbHkuZ2VyYXMuUmVuZGVyZXIucHJvdG90eXBlLnJlZnJlc2hEb209ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LmdlcmFzLlJlbmRlcmVyLnN1cGVyQ2xhc3NfLnJlZnJlc2hEb20uY2FsbCh0aGlzLGEsYik7dGhpcy5nZXRIaWdobGlnaHRDb25zdGFudHMoKS5pbml0KCl9O0Jsb2NrbHkuZ2VyYXMuUmVuZGVyZXIucHJvdG90eXBlLm1ha2VDb25zdGFudHNfPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBCbG9ja2x5LmdlcmFzLkNvbnN0YW50UHJvdmlkZXJ9O0Jsb2NrbHkuZ2VyYXMuUmVuZGVyZXIucHJvdG90eXBlLm1ha2VSZW5kZXJJbmZvXz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEJsb2NrbHkuZ2VyYXMuUmVuZGVySW5mbyh0aGlzLGEpfTtCbG9ja2x5LmdlcmFzLlJlbmRlcmVyLnByb3RvdHlwZS5tYWtlRHJhd2VyXz1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgQmxvY2tseS5nZXJhcy5EcmF3ZXIoYSxiKX07XG5CbG9ja2x5LmdlcmFzLlJlbmRlcmVyLnByb3RvdHlwZS5tYWtlUGF0aE9iamVjdD1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgQmxvY2tseS5nZXJhcy5QYXRoT2JqZWN0KGEsYix0aGlzLmdldENvbnN0YW50cygpKX07QmxvY2tseS5nZXJhcy5SZW5kZXJlci5wcm90b3R5cGUubWFrZUhpZ2hsaWdodENvbnN0YW50c189ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEJsb2NrbHkuZ2VyYXMuSGlnaGxpZ2h0Q29uc3RhbnRQcm92aWRlcih0aGlzLmdldENvbnN0YW50cygpKX07QmxvY2tseS5nZXJhcy5SZW5kZXJlci5wcm90b3R5cGUuZ2V0SGlnaGxpZ2h0Q29uc3RhbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlnaGxpZ2h0Q29uc3RhbnRzX307QmxvY2tseS5ibG9ja1JlbmRlcmluZy5yZWdpc3RlcihcImdlcmFzXCIsQmxvY2tseS5nZXJhcy5SZW5kZXJlcik7QmxvY2tseS50aHJhc29zPXt9O0Jsb2NrbHkudGhyYXNvcy5SZW5kZXJJbmZvPWZ1bmN0aW9uKGEsYil7QmxvY2tseS50aHJhc29zLlJlbmRlckluZm8uc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEsYil9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkudGhyYXNvcy5SZW5kZXJJbmZvLEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVySW5mbyk7QmxvY2tseS50aHJhc29zLlJlbmRlckluZm8ucHJvdG90eXBlLmdldFJlbmRlcmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXJffTtcbkJsb2NrbHkudGhyYXNvcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5hZGRFbGVtU3BhY2luZ189ZnVuY3Rpb24oKXtmb3IodmFyIGE9ITEsYj0wLGM7Yz10aGlzLnJvd3NbYl07YisrKWMuaGFzRXh0ZXJuYWxJbnB1dCYmKGE9ITApO2ZvcihiPTA7Yz10aGlzLnJvd3NbYl07YisrKXt2YXIgZD1jLmVsZW1lbnRzO2MuZWxlbWVudHM9W107Yy5zdGFydHNXaXRoRWxlbVNwYWNlcigpJiZjLmVsZW1lbnRzLnB1c2gobmV3IEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuSW5Sb3dTcGFjZXIodGhpcy5jb25zdGFudHNfLHRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhudWxsLGRbMF0pKSk7Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aC0xO2UrKyl7Yy5lbGVtZW50cy5wdXNoKGRbZV0pO3ZhciBmPXRoaXMuZ2V0SW5Sb3dTcGFjaW5nXyhkW2VdLGRbZSsxXSk7Yy5lbGVtZW50cy5wdXNoKG5ldyBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkluUm93U3BhY2VyKHRoaXMuY29uc3RhbnRzXyxmKSl9Yy5lbGVtZW50cy5wdXNoKGRbZC5sZW5ndGgtXG4xXSk7Yy5lbmRzV2l0aEVsZW1TcGFjZXIoKSYmKGY9dGhpcy5nZXRJblJvd1NwYWNpbmdfKGRbZC5sZW5ndGgtMV0sbnVsbCksYSYmYy5oYXNEdW1teUlucHV0JiYoZis9dGhpcy5jb25zdGFudHNfLlRBQl9XSURUSCksYy5lbGVtZW50cy5wdXNoKG5ldyBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkluUm93U3BhY2VyKHRoaXMuY29uc3RhbnRzXyxmKSkpfX07XG5CbG9ja2x5LnRocmFzb3MuUmVuZGVySW5mby5wcm90b3R5cGUuZ2V0SW5Sb3dTcGFjaW5nXz1mdW5jdGlvbihhLGIpe2lmKCFhKXJldHVybiBiJiZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzRmllbGQoYikmJmIuaXNFZGl0YWJsZT90aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkc6YiYmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lubGluZUlucHV0KGIpP3RoaXMuY29uc3RhbnRzXy5NRURJVU1fTEFSR0VfUEFERElORzpiJiZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYik/dGhpcy5jb25zdGFudHNfLlNUQVRFTUVOVF9JTlBVVF9QQURESU5HX0xFRlQ6dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7aWYoIUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbnB1dChhKSYmIWIpcmV0dXJuIEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNGaWVsZChhKSYmYS5pc0VkaXRhYmxlP3RoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElORzpcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJY29uKGEpPzIqdGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkcrMTpCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSGF0KGEpP3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNQcmV2aW91c09yTmV4dENvbm5lY3Rpb24oYSk/dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0xlZnRSb3VuZGVkQ29ybmVyKGEpP3RoaXMuY29uc3RhbnRzXy5NSU5fQkxPQ0tfV0lEVEg6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0phZ2dlZEVkZ2UoYSk/dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc6dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lucHV0KGEpJiYhYil7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0V4dGVybmFsSW5wdXQoYSkpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5OT19QQURESU5HO1xuaWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lubGluZUlucHV0KGEpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORztpZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzU3RhdGVtZW50SW5wdXQoYSkpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5OT19QQURESU5HfWlmKCFCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSW5wdXQoYSkmJmImJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbnB1dChiKSl7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0ZpZWxkKGEpJiZhLmlzRWRpdGFibGUpe2lmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbmxpbmVJbnB1dChiKXx8QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0V4dGVybmFsSW5wdXQoYikpcmV0dXJuIHRoaXMuY29uc3RhbnRzXy5TTUFMTF9QQURESU5HfWVsc2V7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lubGluZUlucHV0KGIpfHxcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNFeHRlcm5hbElucHV0KGIpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTUVESVVNX0xBUkdFX1BBRERJTkc7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1N0YXRlbWVudElucHV0KGIpKXJldHVybiB0aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElOR31yZXR1cm4gdGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkctMX1pZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSWNvbihhKSYmYiYmIUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbnB1dChiKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lubGluZUlucHV0KGEpJiZiJiZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzRmllbGQoYikpcmV0dXJuIGIuaXNFZGl0YWJsZT90aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkc6dGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc7XG5pZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzTGVmdFNxdWFyZUNvcm5lcihhKSYmYil7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0hhdChiKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkc7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1ByZXZpb3VzQ29ubmVjdGlvbihiKXx8QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc05leHRDb25uZWN0aW9uKGIpKXJldHVybiBiLm5vdGNoT2Zmc2V0fXJldHVybiBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzTGVmdFJvdW5kZWRDb3JuZXIoYSkmJmI/Yi5ub3RjaE9mZnNldC10aGlzLmNvbnN0YW50c18uQ09STkVSX1JBRElVUzpCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzRmllbGQoYSkmJmImJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNGaWVsZChiKSYmYS5pc0VkaXRhYmxlPT1iLmlzRWRpdGFibGV8fGImJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNKYWdnZWRFZGdlKGIpP1xudGhpcy5jb25zdGFudHNfLkxBUkdFX1BBRERJTkc6dGhpcy5jb25zdGFudHNfLk1FRElVTV9QQURESU5HfTtcbkJsb2NrbHkudGhyYXNvcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5nZXRTcGFjZXJSb3dIZWlnaHRfPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNUb3BSb3coYSkmJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNCb3R0b21Sb3coYik/dGhpcy5jb25zdGFudHNfLkVNUFRZX0JMT0NLX1NQQUNFUl9IRUlHSFQ6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1RvcFJvdyhhKXx8QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0JvdHRvbVJvdyhiKT90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzphLmhhc0V4dGVybmFsSW5wdXQmJmIuaGFzRXh0ZXJuYWxJbnB1dD90aGlzLmNvbnN0YW50c18uTEFSR0VfUEFERElORzohYS5oYXNTdGF0ZW1lbnQmJmIuaGFzU3RhdGVtZW50P3RoaXMuY29uc3RhbnRzXy5CRVRXRUVOX1NUQVRFTUVOVF9QQURESU5HX1k6YS5oYXNTdGF0ZW1lbnQmJmIuaGFzU3RhdGVtZW50fHxhLmhhc0R1bW15SW5wdXR8fFxuYi5oYXNEdW1teUlucHV0P3RoaXMuY29uc3RhbnRzXy5MQVJHRV9QQURESU5HOnRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElOR307XG5CbG9ja2x5LnRocmFzb3MuUmVuZGVySW5mby5wcm90b3R5cGUuZ2V0RWxlbUNlbnRlcmxpbmVfPWZ1bmN0aW9uKGEsYil7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1NwYWNlcihiKSlyZXR1cm4gYS55UG9zK2IuaGVpZ2h0LzI7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0JvdHRvbVJvdyhhKSlyZXR1cm4gYT1hLnlQb3MrYS5oZWlnaHQtYS5kZXNjZW5kZXJIZWlnaHQsQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc05leHRDb25uZWN0aW9uKGIpP2ErYi5oZWlnaHQvMjphLWIuaGVpZ2h0LzI7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1RvcFJvdyhhKSlyZXR1cm4gQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0hhdChiKT9hLmNhcGxpbmUtYi5oZWlnaHQvMjphLmNhcGxpbmUrYi5oZWlnaHQvMjt2YXIgYz1hLnlQb3M7cmV0dXJuIGM9QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0ZpZWxkKGIpJiZhLmhhc1N0YXRlbWVudD9cbmMrKHRoaXMuY29uc3RhbnRzXy5UQUxMX0lOUFVUX0ZJRUxEX09GRlNFVF9ZK2IuaGVpZ2h0LzIpOmMrYS5oZWlnaHQvMn07XG5CbG9ja2x5LnRocmFzb3MuUmVuZGVySW5mby5wcm90b3R5cGUuZmluYWxpemVfPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wLGM9MCxkO2Q9dGhpcy5yb3dzW2NdO2MrKyl7ZC55UG9zPWI7ZC54UG9zPXRoaXMuc3RhcnRYO2IrPWQuaGVpZ2h0O2E9TWF0aC5tYXgoYSxkLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcyk7dmFyIGU9Yi10aGlzLnRvcFJvdy5hc2NlbmRlckhlaWdodDtkPT10aGlzLmJvdHRvbVJvdyYmZTx0aGlzLmNvbnN0YW50c18uTUlOX0JMT0NLX0hFSUdIVCYmKGU9dGhpcy5jb25zdGFudHNfLk1JTl9CTE9DS19IRUlHSFQtZSx0aGlzLmJvdHRvbVJvdy5oZWlnaHQrPWUsYis9ZSk7dGhpcy5yZWNvcmRFbGVtUG9zaXRpb25zXyhkKX10aGlzLm91dHB1dENvbm5lY3Rpb24mJnRoaXMuYmxvY2tfLm5leHRDb25uZWN0aW9uJiZ0aGlzLmJsb2NrXy5uZXh0Q29ubmVjdGlvbi5pc0Nvbm5lY3RlZCgpJiYoYT1NYXRoLm1heChhLHRoaXMuYmxvY2tfLm5leHRDb25uZWN0aW9uLnRhcmdldEJsb2NrKCkuZ2V0SGVpZ2h0V2lkdGgoKS53aWR0aCkpO1xudGhpcy5ib3R0b21Sb3cuYmFzZWxpbmU9Yi10aGlzLmJvdHRvbVJvdy5kZXNjZW5kZXJIZWlnaHQ7dGhpcy53aWR0aFdpdGhDaGlsZHJlbj1hK3RoaXMuc3RhcnRYO3RoaXMuaGVpZ2h0PWI7dGhpcy5zdGFydFk9dGhpcy50b3BSb3cuY2FwbGluZX07QmxvY2tseS50aHJhc29zLlJlbmRlcmVyPWZ1bmN0aW9uKGEpe0Jsb2NrbHkudGhyYXNvcy5SZW5kZXJlci5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSl9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkudGhyYXNvcy5SZW5kZXJlcixCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlcmVyKTtCbG9ja2x5LnRocmFzb3MuUmVuZGVyZXIucHJvdG90eXBlLm1ha2VSZW5kZXJJbmZvXz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEJsb2NrbHkudGhyYXNvcy5SZW5kZXJJbmZvKHRoaXMsYSl9O0Jsb2NrbHkuYmxvY2tSZW5kZXJpbmcucmVnaXN0ZXIoXCJ0aHJhc29zXCIsQmxvY2tseS50aHJhc29zLlJlbmRlcmVyKTtCbG9ja2x5LnplbG9zPXt9O1xuQmxvY2tseS56ZWxvcy5Db25zdGFudFByb3ZpZGVyPWZ1bmN0aW9uKCl7QmxvY2tseS56ZWxvcy5Db25zdGFudFByb3ZpZGVyLnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5TTUFMTF9QQURESU5HPXRoaXMuR1JJRF9VTklUPTQ7dGhpcy5NRURJVU1fUEFERElORz0yKnRoaXMuR1JJRF9VTklUO3RoaXMuTUVESVVNX0xBUkdFX1BBRERJTkc9Myp0aGlzLkdSSURfVU5JVDt0aGlzLkxBUkdFX1BBRERJTkc9NCp0aGlzLkdSSURfVU5JVDt0aGlzLkNPUk5FUl9SQURJVVM9MSp0aGlzLkdSSURfVU5JVDt0aGlzLk5PVENIX1dJRFRIPTkqdGhpcy5HUklEX1VOSVQ7dGhpcy5OT1RDSF9IRUlHSFQ9Mip0aGlzLkdSSURfVU5JVDt0aGlzLlNUQVRFTUVOVF9JTlBVVF9OT1RDSF9PRkZTRVQ9dGhpcy5OT1RDSF9PRkZTRVRfTEVGVD0zKnRoaXMuR1JJRF9VTklUO3RoaXMuTUlOX0JMT0NLX1dJRFRIPTIqdGhpcy5HUklEX1VOSVQ7dGhpcy5NSU5fQkxPQ0tfSEVJR0hUPTEyKlxudGhpcy5HUklEX1VOSVQ7dGhpcy5FTVBUWV9TVEFURU1FTlRfSU5QVVRfSEVJR0hUPTYqdGhpcy5HUklEX1VOSVQ7dGhpcy5UQUJfT0ZGU0VUX0ZST01fVE9QPTA7dGhpcy5UT1BfUk9XX01JTl9IRUlHSFQ9dGhpcy5DT1JORVJfUkFESVVTO3RoaXMuVE9QX1JPV19QUkVDRURFU19TVEFURU1FTlRfTUlOX0hFSUdIVD10aGlzLkxBUkdFX1BBRERJTkc7dGhpcy5CT1RUT01fUk9XX01JTl9IRUlHSFQ9dGhpcy5DT1JORVJfUkFESVVTO3RoaXMuQk9UVE9NX1JPV19BRlRFUl9TVEFURU1FTlRfTUlOX0hFSUdIVD02KnRoaXMuR1JJRF9VTklUO3RoaXMuU1RBVEVNRU5UX0JPVFRPTV9TUEFDRVI9LXRoaXMuTk9UQ0hfSEVJR0hUO3RoaXMuU1RBVEVNRU5UX0lOUFVUX1NQQUNFUl9NSU5fV0lEVEg9NDAqdGhpcy5HUklEX1VOSVQ7dGhpcy5TVEFURU1FTlRfSU5QVVRfUEFERElOR19MRUZUPTQqdGhpcy5HUklEX1VOSVQ7dGhpcy5FTVBUWV9JTkxJTkVfSU5QVVRfUEFERElORz00KnRoaXMuR1JJRF9VTklUO1xudGhpcy5FTVBUWV9JTkxJTkVfSU5QVVRfSEVJR0hUPTgqdGhpcy5HUklEX1VOSVQ7dGhpcy5EVU1NWV9JTlBVVF9NSU5fSEVJR0hUPTgqdGhpcy5HUklEX1VOSVQ7dGhpcy5EVU1NWV9JTlBVVF9TSEFET1dfTUlOX0hFSUdIVD02KnRoaXMuR1JJRF9VTklUO3RoaXMuQ1VSU09SX1dTX1dJRFRIPTIwKnRoaXMuR1JJRF9VTklUO3RoaXMuQ1VSU09SX0NPTE9VUj1cIiNmZmEyMDBcIjt0aGlzLkNVUlNPUl9SQURJVVM9NTt0aGlzLkpBR0dFRF9URUVUSF9XSURUSD10aGlzLkpBR0dFRF9URUVUSF9IRUlHSFQ9MDt0aGlzLlNUQVJUX0hBVF9IRUlHSFQ9MjI7dGhpcy5TVEFSVF9IQVRfV0lEVEg9OTY7dGhpcy5TSEFQRVM9e0hFWEFHT05BTDoxLFJPVU5EOjIsU1FVQVJFOjMsUFVaWkxFOjQsTk9UQ0g6NX07dGhpcy5TSEFQRV9JTl9TSEFQRV9QQURESU5HPXsxOnswOjUqdGhpcy5HUklEX1VOSVQsMToyKnRoaXMuR1JJRF9VTklULDI6NSp0aGlzLkdSSURfVU5JVCwzOjUqdGhpcy5HUklEX1VOSVR9LFxuMjp7MDozKnRoaXMuR1JJRF9VTklULDE6Myp0aGlzLkdSSURfVU5JVCwyOjEqdGhpcy5HUklEX1VOSVQsMzoyKnRoaXMuR1JJRF9VTklUfSwzOnswOjIqdGhpcy5HUklEX1VOSVQsMToyKnRoaXMuR1JJRF9VTklULDI6Mip0aGlzLkdSSURfVU5JVCwzOjIqdGhpcy5HUklEX1VOSVR9fTt0aGlzLkZVTExfQkxPQ0tfRklFTERTPSEwO3RoaXMuRklFTERfVEVYVF9GT05UU0laRT0zKnRoaXMuR1JJRF9VTklUO3RoaXMuRklFTERfVEVYVF9GT05UV0VJR0hUPVwiYm9sZFwiO3RoaXMuRklFTERfVEVYVF9GT05URkFNSUxZPSdcIkhlbHZldGljYSBOZXVlXCIsIFwiU2Vnb2UgVUlcIiwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmJzt0aGlzLkZJRUxEX0JPUkRFUl9SRUNUX1JBRElVUz10aGlzLkNPUk5FUl9SQURJVVM7dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9YX1BBRERJTkc9Mip0aGlzLkdSSURfVU5JVDt0aGlzLkZJRUxEX0JPUkRFUl9SRUNUX1lfUEFERElORz0xLjYyNSp0aGlzLkdSSURfVU5JVDt0aGlzLkZJRUxEX0JPUkRFUl9SRUNUX0hFSUdIVD1cbjgqdGhpcy5HUklEX1VOSVQ7dGhpcy5GSUVMRF9EUk9QRE9XTl9CT1JERVJfUkVDVF9IRUlHSFQ9OCp0aGlzLkdSSURfVU5JVDt0aGlzLkZJRUxEX0RST1BET1dOX1NWR19BUlJPVz10aGlzLkZJRUxEX0RST1BET1dOX0NPTE9VUkVEX0RJVj10aGlzLkZJRUxEX0RST1BET1dOX05PX0JPUkRFUl9SRUNUX1NIQURPVz0hMDt0aGlzLkZJRUxEX0RST1BET1dOX1NWR19BUlJPV19QQURESU5HPXRoaXMuRklFTERfQk9SREVSX1JFQ1RfWF9QQURESU5HO3RoaXMuRklFTERfQ09MT1VSX0ZVTExfQkxPQ0s9dGhpcy5GSUVMRF9URVhUSU5QVVRfQk9YX1NIQURPVz0hMDt0aGlzLkZJRUxEX0NPTE9VUl9ERUZBVUxUX1dJRFRIPTIqdGhpcy5HUklEX1VOSVQ7dGhpcy5GSUVMRF9DT0xPVVJfREVGQVVMVF9IRUlHSFQ9NCp0aGlzLkdSSURfVU5JVDt0aGlzLkZJRUxEX0NIRUNLQk9YX1hfT0ZGU0VUPTEqdGhpcy5HUklEX1VOSVQ7dGhpcy5NQVhfRFlOQU1JQ19DT05ORUNUSU9OX1NIQVBFX1dJRFRIPVxuMTIqdGhpcy5HUklEX1VOSVQ7dGhpcy5TRUxFQ1RFRF9HTE9XX0NPTE9VUj1cIiNmZmYyMDBcIjt0aGlzLlNFTEVDVEVEX0dMT1dfU0laRT0uNTt0aGlzLlJFUExBQ0VNRU5UX0dMT1dfQ09MT1VSPVwiI2ZmZjIwMFwiO3RoaXMuUkVQTEFDRU1FTlRfR0xPV19TSVpFPTI7dGhpcy5zZWxlY3RlZEdsb3dGaWx0ZXJJZD1cIlwiO3RoaXMuc2VsZWN0ZWRHbG93RmlsdGVyXz1udWxsO3RoaXMucmVwbGFjZW1lbnRHbG93RmlsdGVySWQ9XCJcIjt0aGlzLnJlcGxhY2VtZW50R2xvd0ZpbHRlcl89bnVsbH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS56ZWxvcy5Db25zdGFudFByb3ZpZGVyLEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQ29uc3RhbnRQcm92aWRlcik7XG5CbG9ja2x5LnplbG9zLkNvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLnNldEZvbnRDb25zdGFudHNfPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuemVsb3MuQ29uc3RhbnRQcm92aWRlci5zdXBlckNsYXNzXy5zZXRGb250Q29uc3RhbnRzXy5jYWxsKHRoaXMsYSk7dGhpcy5GSUVMRF9EUk9QRE9XTl9CT1JERVJfUkVDVF9IRUlHSFQ9dGhpcy5GSUVMRF9CT1JERVJfUkVDVF9IRUlHSFQ9dGhpcy5GSUVMRF9URVhUX0hFSUdIVCsyKnRoaXMuRklFTERfQk9SREVSX1JFQ1RfWV9QQURESU5HfTtcbkJsb2NrbHkuemVsb3MuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe0Jsb2NrbHkuemVsb3MuQ29uc3RhbnRQcm92aWRlci5zdXBlckNsYXNzXy5pbml0LmNhbGwodGhpcyk7dGhpcy5IRVhBR09OQUw9dGhpcy5tYWtlSGV4YWdvbmFsKCk7dGhpcy5ST1VOREVEPXRoaXMubWFrZVJvdW5kZWQoKTt0aGlzLlNRVUFSRUQ9dGhpcy5tYWtlU3F1YXJlZCgpO3RoaXMuU1RBVEVNRU5UX0lOUFVUX05PVENIX09GRlNFVD10aGlzLk5PVENIX09GRlNFVF9MRUZUK3RoaXMuSU5TSURFX0NPUk5FUlMucmlnaHRXaWR0aH07XG5CbG9ja2x5LnplbG9zLkNvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLnNldER5bmFtaWNQcm9wZXJ0aWVzXz1mdW5jdGlvbihhKXtCbG9ja2x5LnplbG9zLkNvbnN0YW50UHJvdmlkZXIuc3VwZXJDbGFzc18uc2V0RHluYW1pY1Byb3BlcnRpZXNfLmNhbGwodGhpcyxhKTt0aGlzLlNFTEVDVEVEX0dMT1dfQ09MT1VSPWEuZ2V0Q29tcG9uZW50U3R5bGUoXCJzZWxlY3RlZEdsb3dDb2xvdXJcIil8fHRoaXMuU0VMRUNURURfR0xPV19DT0xPVVI7dmFyIGI9TnVtYmVyKGEuZ2V0Q29tcG9uZW50U3R5bGUoXCJzZWxlY3RlZEdsb3dTaXplXCIpKTt0aGlzLlNFTEVDVEVEX0dMT1dfU0laRT1iJiYhaXNOYU4oYik/Yjp0aGlzLlNFTEVDVEVEX0dMT1dfU0laRTt0aGlzLlJFUExBQ0VNRU5UX0dMT1dfQ09MT1VSPWEuZ2V0Q29tcG9uZW50U3R5bGUoXCJyZXBsYWNlbWVudEdsb3dDb2xvdXJcIil8fHRoaXMuUkVQTEFDRU1FTlRfR0xPV19DT0xPVVI7dGhpcy5SRVBMQUNFTUVOVF9HTE9XX1NJWkU9KGE9TnVtYmVyKGEuZ2V0Q29tcG9uZW50U3R5bGUoXCJyZXBsYWNlbWVudEdsb3dTaXplXCIpKSkmJlxuIWlzTmFOKGEpP2E6dGhpcy5SRVBMQUNFTUVOVF9HTE9XX1NJWkV9O0Jsb2NrbHkuemVsb3MuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe0Jsb2NrbHkuemVsb3MuQ29uc3RhbnRQcm92aWRlci5zdXBlckNsYXNzXy5kaXNwb3NlLmNhbGwodGhpcyk7dGhpcy5zZWxlY3RlZEdsb3dGaWx0ZXJfJiZCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVOb2RlKHRoaXMuc2VsZWN0ZWRHbG93RmlsdGVyXyk7dGhpcy5yZXBsYWNlbWVudEdsb3dGaWx0ZXJfJiZCbG9ja2x5LnV0aWxzLmRvbS5yZW1vdmVOb2RlKHRoaXMucmVwbGFjZW1lbnRHbG93RmlsdGVyXyl9O1xuQmxvY2tseS56ZWxvcy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5tYWtlU3RhcnRIYXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLlNUQVJUX0hBVF9IRUlHSFQsYj10aGlzLlNUQVJUX0hBVF9XSURUSCxjPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMuY3VydmUoXCJjXCIsW0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoMjUsLWEpLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoNzEsLWEpLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYiwwKV0pO3JldHVybntoZWlnaHQ6YSx3aWR0aDpiLHBhdGg6Y319O1xuQmxvY2tseS56ZWxvcy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5tYWtlSGV4YWdvbmFsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGQsZSl7dmFyIGM9YS8yO2M9Yz5iP2I6YztlPWU/LTE6MTthPShkPy0xOjEpKmEvMjtyZXR1cm4gQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lVG8oLWUqYyxhKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVUbyhlKmMsYSl9dmFyIGI9dGhpcy5NQVhfRFlOQU1JQ19DT05ORUNUSU9OX1NIQVBFX1dJRFRIO3JldHVybnt0eXBlOnRoaXMuU0hBUEVTLkhFWEFHT05BTCxpc0R5bmFtaWM6ITAsd2lkdGg6ZnVuY3Rpb24oYSl7YS89MjtyZXR1cm4gYT5iP2I6YX0saGVpZ2h0OmZ1bmN0aW9uKGEpe3JldHVybiBhfSxjb25uZWN0aW9uT2Zmc2V0WTpmdW5jdGlvbihhKXtyZXR1cm4gYS8yfSxjb25uZWN0aW9uT2Zmc2V0WDpmdW5jdGlvbihhKXtyZXR1cm4tYX0scGF0aERvd246ZnVuY3Rpb24oYil7cmV0dXJuIGEoYiwhMSwhMSl9LHBhdGhVcDpmdW5jdGlvbihiKXtyZXR1cm4gYShiLFxuITAsITEpfSxwYXRoUmlnaHREb3duOmZ1bmN0aW9uKGIpe3JldHVybiBhKGIsITEsITApfSxwYXRoUmlnaHRVcDpmdW5jdGlvbihiKXtyZXR1cm4gYShiLCExLCEwKX19fTtcbkJsb2NrbHkuemVsb3MuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUubWFrZVJvdW5kZWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixmKXt2YXIgZD1hPmM/YS1jOjA7YT0oYT5jP2M6YSkvMjtyZXR1cm4gQmxvY2tseS51dGlscy5zdmdQYXRocy5hcmMoXCJhXCIsXCIwIDAsMVwiLGEsQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludCgoYj8tMToxKSphLChiPy0xOjEpKmEpKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJ2XCIsKGY/MTotMSkqZCkrQmxvY2tseS51dGlscy5zdmdQYXRocy5hcmMoXCJhXCIsXCIwIDAsMVwiLGEsQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludCgoYj8xOi0xKSphLChiPy0xOjEpKmEpKX12YXIgYj10aGlzLk1BWF9EWU5BTUlDX0NPTk5FQ1RJT05fU0hBUEVfV0lEVEgsYz0yKmI7cmV0dXJue3R5cGU6dGhpcy5TSEFQRVMuUk9VTkQsaXNEeW5hbWljOiEwLHdpZHRoOmZ1bmN0aW9uKGEpe2EvPTI7cmV0dXJuIGE+Yj9iOmF9LGhlaWdodDpmdW5jdGlvbihhKXtyZXR1cm4gYX0sXG5jb25uZWN0aW9uT2Zmc2V0WTpmdW5jdGlvbihhKXtyZXR1cm4gYS8yfSxjb25uZWN0aW9uT2Zmc2V0WDpmdW5jdGlvbihhKXtyZXR1cm4tYX0scGF0aERvd246ZnVuY3Rpb24oYil7cmV0dXJuIGEoYiwhMSwhMSl9LHBhdGhVcDpmdW5jdGlvbihiKXtyZXR1cm4gYShiLCEwLCExKX0scGF0aFJpZ2h0RG93bjpmdW5jdGlvbihiKXtyZXR1cm4gYShiLCExLCEwKX0scGF0aFJpZ2h0VXA6ZnVuY3Rpb24oYil7cmV0dXJuIGEoYiwhMSwhMCl9fX07XG5CbG9ja2x5LnplbG9zLkNvbnN0YW50UHJvdmlkZXIucHJvdG90eXBlLm1ha2VTcXVhcmVkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGQsZSl7YS09MipiO3JldHVybiBCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmFyYyhcImFcIixcIjAgMCwxXCIsYixCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KChkPy0xOjEpKmIsKGQ/LTE6MSkqYikpK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcInZcIiwoZT8xOi0xKSphKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmFyYyhcImFcIixcIjAgMCwxXCIsYixCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KChkPzE6LTEpKmIsKGQ/LTE6MSkqYikpfXZhciBiPXRoaXMuQ09STkVSX1JBRElVUztyZXR1cm57dHlwZTp0aGlzLlNIQVBFUy5TUVVBUkUsaXNEeW5hbWljOiEwLHdpZHRoOmZ1bmN0aW9uKGEpe3JldHVybiBifSxoZWlnaHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGNvbm5lY3Rpb25PZmZzZXRZOmZ1bmN0aW9uKGEpe3JldHVybiBhLzJ9LFxuY29ubmVjdGlvbk9mZnNldFg6ZnVuY3Rpb24oYSl7cmV0dXJuLWF9LHBhdGhEb3duOmZ1bmN0aW9uKGIpe3JldHVybiBhKGIsITEsITEpfSxwYXRoVXA6ZnVuY3Rpb24oYil7cmV0dXJuIGEoYiwhMCwhMSl9LHBhdGhSaWdodERvd246ZnVuY3Rpb24oYil7cmV0dXJuIGEoYiwhMSwhMCl9LHBhdGhSaWdodFVwOmZ1bmN0aW9uKGIpe3JldHVybiBhKGIsITEsITApfX19O1xuQmxvY2tseS56ZWxvcy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5zaGFwZUZvcj1mdW5jdGlvbihhKXt2YXIgYj1hLmdldENoZWNrKCk7IWImJmEudGFyZ2V0Q29ubmVjdGlvbiYmKGI9YS50YXJnZXRDb25uZWN0aW9uLmdldENoZWNrKCkpO3N3aXRjaChhLnR5cGUpe2Nhc2UgQmxvY2tseS5JTlBVVF9WQUxVRTpjYXNlIEJsb2NrbHkuT1VUUFVUX1ZBTFVFOmE9YS5nZXRTb3VyY2VCbG9jaygpLmdldE91dHB1dFNoYXBlKCk7aWYobnVsbCE9YSlzd2l0Y2goYSl7Y2FzZSB0aGlzLlNIQVBFUy5IRVhBR09OQUw6cmV0dXJuIHRoaXMuSEVYQUdPTkFMO2Nhc2UgdGhpcy5TSEFQRVMuUk9VTkQ6cmV0dXJuIHRoaXMuUk9VTkRFRDtjYXNlIHRoaXMuU0hBUEVTLlNRVUFSRTpyZXR1cm4gdGhpcy5TUVVBUkVEfWlmKGImJi0xIT1iLmluZGV4T2YoXCJCb29sZWFuXCIpKXJldHVybiB0aGlzLkhFWEFHT05BTDtpZihiJiYtMSE9Yi5pbmRleE9mKFwiTnVtYmVyXCIpKXJldHVybiB0aGlzLlJPVU5ERUQ7XG5iJiZiLmluZGV4T2YoXCJTdHJpbmdcIik7cmV0dXJuIHRoaXMuUk9VTkRFRDtjYXNlIEJsb2NrbHkuUFJFVklPVVNfU1RBVEVNRU5UOmNhc2UgQmxvY2tseS5ORVhUX1NUQVRFTUVOVDpyZXR1cm4gdGhpcy5OT1RDSDtkZWZhdWx0OnRocm93IEVycm9yKFwiVW5rbm93biB0eXBlXCIpO319O1xuQmxvY2tseS56ZWxvcy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5tYWtlTm90Y2g9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiBCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmN1cnZlKFwiY1wiLFtCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KGEqZS8yLDApLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYSplKjMvNCxnLzIpLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYSplLGcpXSkrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lKFtCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KGEqZSxmKV0pK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMuY3VydmUoXCJjXCIsW0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYSplLzQsZy8yKSxCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KGEqZS8yLGcpLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYSplLGcpXSkrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiaFwiLGEqZCkrQmxvY2tseS51dGlscy5zdmdQYXRocy5jdXJ2ZShcImNcIixcbltCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KGEqZS8yLDApLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYSplKjMvNCwtKGcvMikpLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYSplLC1nKV0pK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZShbQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludChhKmUsLWYpXSkrQmxvY2tseS51dGlscy5zdmdQYXRocy5jdXJ2ZShcImNcIixbQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludChhKmUvNCwtKGcvMikpLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYSplLzIsLWcpLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYSplLC1nKV0pfXZhciBiPXRoaXMuTk9UQ0hfV0lEVEgsYz10aGlzLk5PVENIX0hFSUdIVCxkPWIvMyxlPWQvMyxmPWMvMixnPWYvMixoPWEoMSksaz1hKC0xKTtyZXR1cm57dHlwZTp0aGlzLlNIQVBFUy5OT1RDSCx3aWR0aDpiLGhlaWdodDpjLHBhdGhMZWZ0OmgscGF0aFJpZ2h0Omt9fTtcbkJsb2NrbHkuemVsb3MuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUubWFrZUluc2lkZUNvcm5lcnM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLkNPUk5FUl9SQURJVVMsYj1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmFyYyhcImFcIixcIjAgMCwwXCIsYSxCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLnBvaW50KC1hLGEpKSxjPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMuYXJjKFwiYVwiLFwiMCAwLDFcIixhLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoLWEsYSkpLGQ9QmxvY2tseS51dGlscy5zdmdQYXRocy5hcmMoXCJhXCIsXCIwIDAsMFwiLGEsQmxvY2tseS51dGlscy5zdmdQYXRocy5wb2ludChhLGEpKSxlPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMuYXJjKFwiYVwiLFwiMCAwLDFcIixhLEJsb2NrbHkudXRpbHMuc3ZnUGF0aHMucG9pbnQoYSxhKSk7cmV0dXJue3dpZHRoOmEsaGVpZ2h0OmEscGF0aFRvcDpiLHBhdGhCb3R0b206ZCxyaWdodFdpZHRoOmEscmlnaHRIZWlnaHQ6YSxwYXRoVG9wUmlnaHQ6YyxwYXRoQm90dG9tUmlnaHQ6ZX19O1xuQmxvY2tseS56ZWxvcy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5nZW5lcmF0ZVNlY29uZGFyeUNvbG91cl89ZnVuY3Rpb24oYSl7cmV0dXJuIEJsb2NrbHkudXRpbHMuY29sb3VyLmJsZW5kKFwiIzAwMFwiLGEsLjE1KXx8YX07QmxvY2tseS56ZWxvcy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5nZW5lcmF0ZVRlcnRpYXJ5Q29sb3VyXz1mdW5jdGlvbihhKXtyZXR1cm4gQmxvY2tseS51dGlscy5jb2xvdXIuYmxlbmQoXCIjMDAwXCIsYSwuMjUpfHxhfTtcbkJsb2NrbHkuemVsb3MuQ29uc3RhbnRQcm92aWRlci5wcm90b3R5cGUuY3JlYXRlRG9tPWZ1bmN0aW9uKGEsYixjKXtCbG9ja2x5LnplbG9zLkNvbnN0YW50UHJvdmlkZXIuc3VwZXJDbGFzc18uY3JlYXRlRG9tLmNhbGwodGhpcyxhLGIsYyk7YT1CbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiZGVmc1wiLHt9LGEpO2I9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImZpbHRlclwiLHtpZDpcImJsb2NrbHlTZWxlY3RlZEdsb3dGaWx0ZXJcIit0aGlzLnJhbmRvbUlkZW50aWZpZXIsaGVpZ2h0OlwiMTYwJVwiLHdpZHRoOlwiMTgwJVwiLHk6XCItMzAlXCIseDpcIi00MCVcIn0sYSk7QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImZlR2F1c3NpYW5CbHVyXCIse1wiaW5cIjpcIlNvdXJjZUdyYXBoaWNcIixzdGREZXZpYXRpb246dGhpcy5TRUxFQ1RFRF9HTE9XX1NJWkV9LGIpO2M9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImZlQ29tcG9uZW50VHJhbnNmZXJcIixcbntyZXN1bHQ6XCJvdXRCbHVyXCJ9LGIpO0Jsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJmZUZ1bmNBXCIse3R5cGU6XCJ0YWJsZVwiLHRhYmxlVmFsdWVzOlwiMCAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxXCJ9LGMpO0Jsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJmZUZsb29kXCIse1wiZmxvb2QtY29sb3JcIjp0aGlzLlNFTEVDVEVEX0dMT1dfQ09MT1VSLFwiZmxvb2Qtb3BhY2l0eVwiOjEscmVzdWx0Olwib3V0Q29sb3JcIn0sYik7QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImZlQ29tcG9zaXRlXCIse1wiaW5cIjpcIm91dENvbG9yXCIsaW4yOlwib3V0Qmx1clwiLG9wZXJhdG9yOlwiaW5cIixyZXN1bHQ6XCJvdXRHbG93XCJ9LGIpO3RoaXMuc2VsZWN0ZWRHbG93RmlsdGVySWQ9Yi5pZDt0aGlzLnNlbGVjdGVkR2xvd0ZpbHRlcl89YjthPUJsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJmaWx0ZXJcIix7aWQ6XCJibG9ja2x5UmVwbGFjZW1lbnRHbG93RmlsdGVyXCIrXG50aGlzLnJhbmRvbUlkZW50aWZpZXIsaGVpZ2h0OlwiMTYwJVwiLHdpZHRoOlwiMTgwJVwiLHk6XCItMzAlXCIseDpcIi00MCVcIn0sYSk7QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImZlR2F1c3NpYW5CbHVyXCIse1wiaW5cIjpcIlNvdXJjZUdyYXBoaWNcIixzdGREZXZpYXRpb246dGhpcy5SRVBMQUNFTUVOVF9HTE9XX1NJWkV9LGEpO2I9QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImZlQ29tcG9uZW50VHJhbnNmZXJcIix7cmVzdWx0Olwib3V0Qmx1clwifSxhKTtCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiZmVGdW5jQVwiLHt0eXBlOlwidGFibGVcIix0YWJsZVZhbHVlczpcIjAgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMSAxIDEgMVwifSxiKTtCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiZmVGbG9vZFwiLHtcImZsb29kLWNvbG9yXCI6dGhpcy5SRVBMQUNFTUVOVF9HTE9XX0NPTE9VUixcImZsb29kLW9wYWNpdHlcIjoxLHJlc3VsdDpcIm91dENvbG9yXCJ9LFxuYSk7QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImZlQ29tcG9zaXRlXCIse1wiaW5cIjpcIm91dENvbG9yXCIsaW4yOlwib3V0Qmx1clwiLG9wZXJhdG9yOlwiaW5cIixyZXN1bHQ6XCJvdXRHbG93XCJ9LGEpO0Jsb2NrbHkudXRpbHMuZG9tLmNyZWF0ZVN2Z0VsZW1lbnQoXCJmZUNvbXBvc2l0ZVwiLHtcImluXCI6XCJTb3VyY2VHcmFwaGljXCIsaW4yOlwib3V0R2xvd1wiLG9wZXJhdG9yOlwib3ZlclwifSxhKTt0aGlzLnJlcGxhY2VtZW50R2xvd0ZpbHRlcklkPWEuaWQ7dGhpcy5yZXBsYWNlbWVudEdsb3dGaWx0ZXJfPWF9O1xuQmxvY2tseS56ZWxvcy5Db25zdGFudFByb3ZpZGVyLnByb3RvdHlwZS5nZXRDU1NfPWZ1bmN0aW9uKGEpe3JldHVyblthK1wiIC5ibG9ja2x5VGV4dCwgXCIsYStcIiAuYmxvY2tseUZseW91dExhYmVsVGV4dCB7XCIsXCJmb250LWZhbWlseTogXCIrdGhpcy5GSUVMRF9URVhUX0ZPTlRGQU1JTFkrXCI7XCIsXCJmb250LXNpemU6IFwiK3RoaXMuRklFTERfVEVYVF9GT05UU0laRStcInB0O1wiLFwiZm9udC13ZWlnaHQ6IFwiK3RoaXMuRklFTERfVEVYVF9GT05UV0VJR0hUK1wiO1wiLFwifVwiLGErXCIgLmJsb2NrbHlUZXh0IHtcIixcImZpbGw6ICNmZmY7XCIsXCJ9XCIsYStcIiAuYmxvY2tseU5vbkVkaXRhYmxlVGV4dD5yZWN0Om5vdCguYmxvY2tseURyb3Bkb3duUmVjdCksXCIsYStcIiAuYmxvY2tseUVkaXRhYmxlVGV4dD5yZWN0Om5vdCguYmxvY2tseURyb3Bkb3duUmVjdCkge1wiLFwiZmlsbDogXCIrdGhpcy5GSUVMRF9CT1JERVJfUkVDVF9DT0xPVVIrXCI7XCIsXCJ9XCIsYStcIiAuYmxvY2tseU5vbkVkaXRhYmxlVGV4dD50ZXh0LFwiLFxuYStcIiAuYmxvY2tseUVkaXRhYmxlVGV4dD50ZXh0LFwiLGErXCIgLmJsb2NrbHlOb25FZGl0YWJsZVRleHQ+Zz50ZXh0LFwiLGErXCIgLmJsb2NrbHlFZGl0YWJsZVRleHQ+Zz50ZXh0IHtcIixcImZpbGw6ICM1NzVFNzU7XCIsXCJ9XCIsYStcIiAuYmxvY2tseUZseW91dExhYmVsVGV4dCB7XCIsXCJmaWxsOiAjNTc1RTc1O1wiLFwifVwiLGErXCIgLmJsb2NrbHlUZXh0LmJsb2NrbHlCdWJibGVUZXh0IHtcIixcImZpbGw6ICM1NzVFNzU7XCIsXCJ9XCIsYStcIiAuYmxvY2tseURyYWdnYWJsZTpub3QoLmJsb2NrbHlEaXNhYmxlZClcIixcIiAuYmxvY2tseUVkaXRhYmxlVGV4dDpub3QoLmVkaXRpbmcpOmhvdmVyPnJlY3QgLFwiLGErXCIgLmJsb2NrbHlEcmFnZ2FibGU6bm90KC5ibG9ja2x5RGlzYWJsZWQpXCIsXCIgLmJsb2NrbHlFZGl0YWJsZVRleHQ6bm90KC5lZGl0aW5nKTpob3Zlcj4uYmxvY2tseVBhdGgge1wiLFwic3Ryb2tlOiAjZmZmO1wiLFwic3Ryb2tlLXdpZHRoOiAyO1wiLFwifVwiLGErXCIgLmJsb2NrbHlIdG1sSW5wdXQge1wiLFwiZm9udC1mYW1pbHk6IFwiK1xudGhpcy5GSUVMRF9URVhUX0ZPTlRGQU1JTFkrXCI7XCIsXCJmb250LXdlaWdodDogXCIrdGhpcy5GSUVMRF9URVhUX0ZPTlRXRUlHSFQrXCI7XCIsXCJjb2xvcjogIzU3NUU3NTtcIixcIn1cIixhK1wiIC5ibG9ja2x5RHJvcGRvd25UZXh0IHtcIixcImZpbGw6ICNmZmYgIWltcG9ydGFudDtcIixcIn1cIixhK1wiLmJsb2NrbHlXaWRnZXREaXYgLmdvb2ctbWVudWl0ZW0sXCIsYStcIi5ibG9ja2x5RHJvcERvd25EaXYgLmdvb2ctbWVudWl0ZW0ge1wiLFwiZm9udC1mYW1pbHk6IFwiK3RoaXMuRklFTERfVEVYVF9GT05URkFNSUxZK1wiO1wiLFwifVwiLGErXCIuYmxvY2tseURyb3BEb3duRGl2IC5nb29nLW1lbnVpdGVtLWNvbnRlbnQge1wiLFwiY29sb3I6ICNmZmY7XCIsXCJ9XCIsYStcIiAuYmxvY2tseUhpZ2hsaWdodGVkQ29ubmVjdGlvblBhdGgge1wiLFwic3Ryb2tlOiBcIit0aGlzLlNFTEVDVEVEX0dMT1dfQ09MT1VSK1wiO1wiLFwifVwiLGErXCIgLmJsb2NrbHlEaXNhYmxlZCA+IC5ibG9ja2x5T3V0bGluZVBhdGgge1wiLFwiZmlsbDogdXJsKCNibG9ja2x5RGlzYWJsZWRQYXR0ZXJuXCIrXG50aGlzLnJhbmRvbUlkZW50aWZpZXIrXCIpXCIsXCJ9XCIsYStcIiAuYmxvY2tseUluc2VydGlvbk1hcmtlcj4uYmxvY2tseVBhdGgge1wiLFwiZmlsbC1vcGFjaXR5OiBcIit0aGlzLklOU0VSVElPTl9NQVJLRVJfT1BBQ0lUWStcIjtcIixcInN0cm9rZTogbm9uZVwiLFwifVwiXX07QmxvY2tseS56ZWxvcy5Ub3BSb3c9ZnVuY3Rpb24oYSl7QmxvY2tseS56ZWxvcy5Ub3BSb3cuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LnplbG9zLlRvcFJvdyxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlRvcFJvdyk7QmxvY2tseS56ZWxvcy5Ub3BSb3cucHJvdG90eXBlLmVuZHNXaXRoRWxlbVNwYWNlcj1mdW5jdGlvbigpe3JldHVybiExfTtCbG9ja2x5LnplbG9zLlRvcFJvdy5wcm90b3R5cGUuaGFzTGVmdFNxdWFyZUNvcm5lcj1mdW5jdGlvbihhKXt2YXIgYj0oYS5oYXQ/XCJjYXBcIj09PWEuaGF0OnRoaXMuY29uc3RhbnRzXy5BRERfU1RBUlRfSEFUUykmJiFhLm91dHB1dENvbm5lY3Rpb24mJiFhLnByZXZpb3VzQ29ubmVjdGlvbjtyZXR1cm4hIWEub3V0cHV0Q29ubmVjdGlvbnx8Yn07XG5CbG9ja2x5LnplbG9zLlRvcFJvdy5wcm90b3R5cGUuaGFzUmlnaHRTcXVhcmVDb3JuZXI9ZnVuY3Rpb24oYSl7cmV0dXJuISFhLm91dHB1dENvbm5lY3Rpb24mJiFhLnN0YXRlbWVudElucHV0Q291bnQmJiFhLm5leHRDb25uZWN0aW9ufTtCbG9ja2x5LnplbG9zLkJvdHRvbVJvdz1mdW5jdGlvbihhKXtCbG9ja2x5LnplbG9zLkJvdHRvbVJvdy5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSl9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuemVsb3MuQm90dG9tUm93LEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuQm90dG9tUm93KTtCbG9ja2x5LnplbG9zLkJvdHRvbVJvdy5wcm90b3R5cGUuZW5kc1dpdGhFbGVtU3BhY2VyPWZ1bmN0aW9uKCl7cmV0dXJuITF9O0Jsb2NrbHkuemVsb3MuQm90dG9tUm93LnByb3RvdHlwZS5oYXNMZWZ0U3F1YXJlQ29ybmVyPWZ1bmN0aW9uKGEpe3JldHVybiEhYS5vdXRwdXRDb25uZWN0aW9ufTtcbkJsb2NrbHkuemVsb3MuQm90dG9tUm93LnByb3RvdHlwZS5oYXNSaWdodFNxdWFyZUNvcm5lcj1mdW5jdGlvbihhKXtyZXR1cm4hIWEub3V0cHV0Q29ubmVjdGlvbiYmIWEuc3RhdGVtZW50SW5wdXRDb3VudCYmIWEubmV4dENvbm5lY3Rpb259O0Jsb2NrbHkuemVsb3MuUmlnaHRDb25uZWN0aW9uU2hhcGU9ZnVuY3Rpb24oYSl7QmxvY2tseS56ZWxvcy5SaWdodENvbm5lY3Rpb25TaGFwZS5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy50eXBlfD1CbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmdldFR5cGUoXCJSSUdIVF9DT05ORUNUSU9OXCIpO3RoaXMud2lkdGg9dGhpcy5oZWlnaHQ9MH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS56ZWxvcy5SaWdodENvbm5lY3Rpb25TaGFwZSxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1lYXN1cmFibGUpO0Jsb2NrbHkuemVsb3MuU3RhdGVtZW50SW5wdXQ9ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LnplbG9zLlN0YXRlbWVudElucHV0LnN1cGVyQ2xhc3NfLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhLGIpO2lmKHRoaXMuY29ubmVjdGVkQmxvY2spe2ZvcihhPXRoaXMuY29ubmVjdGVkQmxvY2s7YS5nZXROZXh0QmxvY2soKTspYT1hLmdldE5leHRCbG9jaygpO2EubmV4dENvbm5lY3Rpb258fCh0aGlzLmhlaWdodD10aGlzLmNvbm5lY3RlZEJsb2NrSGVpZ2h0LHRoaXMuY29ubmVjdGVkQm90dG9tTmV4dENvbm5lY3Rpb249ITApfX07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS56ZWxvcy5TdGF0ZW1lbnRJbnB1dCxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlN0YXRlbWVudElucHV0KTtCbG9ja2x5LnplbG9zLlJlbmRlckluZm89ZnVuY3Rpb24oYSxiKXtCbG9ja2x5LnplbG9zLlJlbmRlckluZm8uc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEsYik7dGhpcy50b3BSb3c9bmV3IEJsb2NrbHkuemVsb3MuVG9wUm93KHRoaXMuY29uc3RhbnRzXyk7dGhpcy5ib3R0b21Sb3c9bmV3IEJsb2NrbHkuemVsb3MuQm90dG9tUm93KHRoaXMuY29uc3RhbnRzXyk7dGhpcy5pc0lubGluZT0hMDt0aGlzLmlzTXVsdGlSb3c9IWIuZ2V0SW5wdXRzSW5saW5lKCl8fGIuaXNDb2xsYXBzZWQoKTt0aGlzLmhhc1N0YXRlbWVudElucHV0PTA8Yi5zdGF0ZW1lbnRJbnB1dENvdW50O3RoaXMucmlnaHRTaWRlPXRoaXMub3V0cHV0Q29ubmVjdGlvbj9uZXcgQmxvY2tseS56ZWxvcy5SaWdodENvbm5lY3Rpb25TaGFwZSh0aGlzLmNvbnN0YW50c18pOm51bGx9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuemVsb3MuUmVuZGVySW5mbyxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlJlbmRlckluZm8pO1xuQmxvY2tseS56ZWxvcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5nZXRSZW5kZXJlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyX307QmxvY2tseS56ZWxvcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5tZWFzdXJlPWZ1bmN0aW9uKCl7dGhpcy5jcmVhdGVSb3dzXygpO3RoaXMuYWRkRWxlbVNwYWNpbmdfKCk7dGhpcy5hZGRSb3dTcGFjaW5nXygpO3RoaXMuYWRqdXN0WFBvc2l0aW9uXygpO3RoaXMuY29tcHV0ZUJvdW5kc18oKTt0aGlzLmFsaWduUm93RWxlbWVudHNfKCk7dGhpcy5maW5hbGl6ZV8oKX07XG5CbG9ja2x5LnplbG9zLlJlbmRlckluZm8ucHJvdG90eXBlLnNob3VsZFN0YXJ0TmV3Um93Xz1mdW5jdGlvbihhLGIpe3JldHVybiBiP2EudHlwZT09QmxvY2tseS5ORVhUX1NUQVRFTUVOVHx8Yi50eXBlPT1CbG9ja2x5Lk5FWFRfU1RBVEVNRU5UPyEwOmEudHlwZT09QmxvY2tseS5JTlBVVF9WQUxVRXx8YS50eXBlPT1CbG9ja2x5LkRVTU1ZX0lOUFVUPyF0aGlzLmlzSW5saW5lfHx0aGlzLmlzTXVsdGlSb3c6ITE6ITF9O0Jsb2NrbHkuemVsb3MuUmVuZGVySW5mby5wcm90b3R5cGUuZ2V0RGVzaXJlZFJvd1dpZHRoXz1mdW5jdGlvbihhKXtyZXR1cm4gYS5oYXNTdGF0ZW1lbnQ/dGhpcy53aWR0aC10aGlzLnN0YXJ0WC0odGhpcy5jb25zdGFudHNfLklOU0lERV9DT1JORVJTLnJpZ2h0V2lkdGh8fDApOkJsb2NrbHkuemVsb3MuUmVuZGVySW5mby5zdXBlckNsYXNzXy5nZXREZXNpcmVkUm93V2lkdGhfLmNhbGwodGhpcyxhKX07XG5CbG9ja2x5LnplbG9zLlJlbmRlckluZm8ucHJvdG90eXBlLmdldEluUm93U3BhY2luZ189ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmYnx8IXRoaXMub3V0cHV0Q29ubmVjdGlvbnx8IXRoaXMub3V0cHV0Q29ubmVjdGlvbi5pc0R5bmFtaWNTaGFwZXx8dGhpcy5oYXNTdGF0ZW1lbnRJbnB1dHx8dGhpcy5ib3R0b21Sb3cuaGFzTmV4dENvbm5lY3Rpb24/IWEmJmImJkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNTdGF0ZW1lbnRJbnB1dChiKT90aGlzLmNvbnN0YW50c18uU1RBVEVNRU5UX0lOUFVUX1BBRERJTkdfTEVGVDphJiZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzTGVmdFJvdW5kZWRDb3JuZXIoYSkmJmImJihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzUHJldmlvdXNDb25uZWN0aW9uKGIpfHxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzTmV4dENvbm5lY3Rpb24oYikpP2Iubm90Y2hPZmZzZXQtdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVM6XG5hJiZCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzTGVmdFNxdWFyZUNvcm5lcihhKSYmYiYmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0hhdChiKT90aGlzLmNvbnN0YW50c18uTk9fUEFERElORzp0aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkc6dGhpcy5jb25zdGFudHNfLk5PX1BBRERJTkd9O1xuQmxvY2tseS56ZWxvcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5nZXRTcGFjZXJSb3dIZWlnaHRfPWZ1bmN0aW9uKGEsYil7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1RvcFJvdyhhKSYmQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0JvdHRvbVJvdyhiKSlyZXR1cm4gdGhpcy5jb25zdGFudHNfLkVNUFRZX0JMT0NLX1NQQUNFUl9IRUlHSFQ7dmFyIGM9QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lucHV0Um93KGEpJiZhLmhhc1N0YXRlbWVudCxkPUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbnB1dFJvdyhiKSYmYi5oYXNTdGF0ZW1lbnQ7cmV0dXJuIGR8fGM/KGE9TWF0aC5tYXgodGhpcy5jb25zdGFudHNfLk5PVENIX0hFSUdIVCx0aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMucmlnaHRIZWlnaHR8fDApLGQmJmM/TWF0aC5tYXgoYSx0aGlzLmNvbnN0YW50c18uRFVNTVlfSU5QVVRfTUlOX0hFSUdIVCk6YSk6QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1RvcFJvdyhhKT9cbmEuaGFzUHJldmlvdXNDb25uZWN0aW9ufHx0aGlzLm91dHB1dENvbm5lY3Rpb24mJiF0aGlzLmhhc1N0YXRlbWVudElucHV0P3RoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOk1hdGguYWJzKHRoaXMuY29uc3RhbnRzXy5OT1RDSF9IRUlHSFQtdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVMpOkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNCb3R0b21Sb3coYik/dGhpcy5vdXRwdXRDb25uZWN0aW9uPyFiLmhhc05leHRDb25uZWN0aW9uJiZ0aGlzLmhhc1N0YXRlbWVudElucHV0P01hdGguYWJzKHRoaXMuY29uc3RhbnRzXy5OT1RDSF9IRUlHSFQtdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVMpOnRoaXMuY29uc3RhbnRzXy5OT19QQURESU5HOk1hdGgubWF4KHRoaXMudG9wUm93Lm1pbkhlaWdodCxNYXRoLm1heCh0aGlzLmNvbnN0YW50c18uTk9UQ0hfSEVJR0hULHRoaXMuY29uc3RhbnRzXy5DT1JORVJfUkFESVVTKSktdGhpcy5jb25zdGFudHNfLkNPUk5FUl9SQURJVVM6XG50aGlzLmNvbnN0YW50c18uTUVESVVNX1BBRERJTkd9O0Jsb2NrbHkuemVsb3MuUmVuZGVySW5mby5wcm90b3R5cGUuZ2V0U3BhY2VyUm93V2lkdGhfPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy53aWR0aC10aGlzLnN0YXJ0WDtyZXR1cm4gQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lucHV0Um93KGEpJiZhLmhhc1N0YXRlbWVudHx8QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lucHV0Um93KGIpJiZiLmhhc1N0YXRlbWVudD9NYXRoLm1heChjLHRoaXMuY29uc3RhbnRzXy5TVEFURU1FTlRfSU5QVVRfU1BBQ0VSX01JTl9XSURUSCk6Y307XG5CbG9ja2x5LnplbG9zLlJlbmRlckluZm8ucHJvdG90eXBlLmdldEVsZW1DZW50ZXJsaW5lXz1mdW5jdGlvbihhLGIpe2lmKGEuaGFzU3RhdGVtZW50JiYhQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1NwYWNlcihiKSYmIUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNTdGF0ZW1lbnRJbnB1dChiKSlyZXR1cm4gYS55UG9zK3RoaXMuY29uc3RhbnRzXy5FTVBUWV9TVEFURU1FTlRfSU5QVVRfSEVJR0hULzI7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lubGluZUlucHV0KGIpKXt2YXIgYz1iLmNvbm5lY3RlZEJsb2NrO2lmKGMmJmMub3V0cHV0Q29ubmVjdGlvbiYmYy5uZXh0Q29ubmVjdGlvbilyZXR1cm4gYS55UG9zK2MuaGVpZ2h0LzJ9cmV0dXJuIEJsb2NrbHkuemVsb3MuUmVuZGVySW5mby5zdXBlckNsYXNzXy5nZXRFbGVtQ2VudGVybGluZV8uY2FsbCh0aGlzLGEsYil9O1xuQmxvY2tseS56ZWxvcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5hZGRJbnB1dF89ZnVuY3Rpb24oYSxiKXthLnR5cGU9PUJsb2NrbHkuRFVNTVlfSU5QVVQmJmIuaGFzRHVtbXlJbnB1dCYmYi5hbGlnbj09QmxvY2tseS5BTElHTl9MRUZUJiZhLmFsaWduPT1CbG9ja2x5LkFMSUdOX1JJR0hUJiYoYi5yaWdodEFsaWduZWREdW1teUlucHV0PWEpO0Jsb2NrbHkuemVsb3MuUmVuZGVySW5mby5zdXBlckNsYXNzXy5hZGRJbnB1dF8uY2FsbCh0aGlzLGEsYil9O1xuQmxvY2tseS56ZWxvcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5hZGRBbGlnbm1lbnRQYWRkaW5nXz1mdW5jdGlvbihhLGIpe2lmKGEucmlnaHRBbGlnbmVkRHVtbXlJbnB1dCl7Zm9yKHZhciBjLGQ9MCxlOyhlPWEuZWxlbWVudHNbZF0pJiYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1NwYWNlcihlKSYmKGM9ZSksIUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNGaWVsZChlKXx8ZS5wYXJlbnRJbnB1dCE9YS5yaWdodEFsaWduZWREdW1teUlucHV0KTtkKyspO2lmKGMpe2Mud2lkdGgrPWI7YS53aWR0aCs9YjtyZXR1cm59fUJsb2NrbHkuemVsb3MuUmVuZGVySW5mby5zdXBlckNsYXNzXy5hZGRBbGlnbm1lbnRQYWRkaW5nXy5jYWxsKHRoaXMsYSxiKX07XG5CbG9ja2x5LnplbG9zLlJlbmRlckluZm8ucHJvdG90eXBlLmFkanVzdFhQb3NpdGlvbl89ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5jb25zdGFudHNfLk5PVENIX09GRlNFVF9MRUZUK3RoaXMuY29uc3RhbnRzXy5OT1RDSF9XSURUSCxiPWEsYz0yO2M8dGhpcy5yb3dzLmxlbmd0aC0xO2MrPTIpe3ZhciBkPXRoaXMucm93c1tjLTFdLGU9dGhpcy5yb3dzW2NdLGY9dGhpcy5yb3dzW2MrMV07ZD0yPT1jPyEhdGhpcy50b3BSb3cuaGFzUHJldmlvdXNDb25uZWN0aW9uOiEhZC5mb2xsb3dzU3RhdGVtZW50O2Y9YysyPj10aGlzLnJvd3MubGVuZ3RoLTE/ISF0aGlzLmJvdHRvbVJvdy5oYXNOZXh0Q29ubmVjdGlvbjohIWYucHJlY2VkZXNTdGF0ZW1lbnQ7aWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lucHV0Um93KGUpJiZlLmhhc1N0YXRlbWVudCllLm1lYXN1cmUoKSxiPWUud2lkdGgtZS5nZXRMYXN0SW5wdXQoKS53aWR0aCthO2Vsc2UgaWYoZCYmKDI9PWN8fGYpJiZcbkJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNJbnB1dFJvdyhlKSYmIWUuaGFzU3RhdGVtZW50KXtmPWUueFBvcztkPW51bGw7Zm9yKHZhciBnPTAsaDtoPWUuZWxlbWVudHNbZ107ZysrKUJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNTcGFjZXIoaCkmJihkPWgpLCEoZCYmKEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNGaWVsZChoKXx8QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lucHV0KGgpKSYmZjxiKXx8QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0ZpZWxkKGgpJiYoaC5maWVsZCBpbnN0YW5jZW9mIEJsb2NrbHkuRmllbGRMYWJlbHx8aC5maWVsZCBpbnN0YW5jZW9mIEJsb2NrbHkuRmllbGRJbWFnZSl8fChkLndpZHRoKz1iLWYpLGYrPWgud2lkdGh9fX07XG5CbG9ja2x5LnplbG9zLlJlbmRlckluZm8ucHJvdG90eXBlLmZpbmFsaXplT3V0cHV0Q29ubmVjdGlvbl89ZnVuY3Rpb24oKXtpZih0aGlzLm91dHB1dENvbm5lY3Rpb24mJnRoaXMub3V0cHV0Q29ubmVjdGlvbi5pc0R5bmFtaWNTaGFwZSl7Zm9yKHZhciBhPTAsYj0wLGM7Yz10aGlzLnJvd3NbYl07YisrKWMueVBvcz1hLGErPWMuaGVpZ2h0O3RoaXMuaGVpZ2h0PWE7Yj10aGlzLmJvdHRvbVJvdy5oYXNOZXh0Q29ubmVjdGlvbj90aGlzLmhlaWdodC10aGlzLmJvdHRvbVJvdy5kZXNjZW5kZXJIZWlnaHQ6dGhpcy5oZWlnaHQ7YT10aGlzLm91dHB1dENvbm5lY3Rpb24uc2hhcGUuaGVpZ2h0KGIpO2I9dGhpcy5vdXRwdXRDb25uZWN0aW9uLnNoYXBlLndpZHRoKGIpO3RoaXMub3V0cHV0Q29ubmVjdGlvbi5oZWlnaHQ9YTt0aGlzLm91dHB1dENvbm5lY3Rpb24ud2lkdGg9Yjt0aGlzLm91dHB1dENvbm5lY3Rpb24uc3RhcnRYPWI7dGhpcy5vdXRwdXRDb25uZWN0aW9uLmNvbm5lY3Rpb25PZmZzZXRZPVxudGhpcy5vdXRwdXRDb25uZWN0aW9uLnNoYXBlLmNvbm5lY3Rpb25PZmZzZXRZKGEpO3RoaXMub3V0cHV0Q29ubmVjdGlvbi5jb25uZWN0aW9uT2Zmc2V0WD10aGlzLm91dHB1dENvbm5lY3Rpb24uc2hhcGUuY29ubmVjdGlvbk9mZnNldFgoYik7Yz0wO3RoaXMuaGFzU3RhdGVtZW50SW5wdXR8fHRoaXMuYm90dG9tUm93Lmhhc05leHRDb25uZWN0aW9ufHwoYz1iLHRoaXMucmlnaHRTaWRlLmhlaWdodD1hLHRoaXMucmlnaHRTaWRlLndpZHRoPWMsdGhpcy5yaWdodFNpZGUuY2VudGVybGluZT1hLzIsdGhpcy5yaWdodFNpZGUueFBvcz10aGlzLndpZHRoK2MpO3RoaXMuc3RhcnRYPWI7dGhpcy53aWR0aCs9YitjO3RoaXMud2lkdGhXaXRoQ2hpbGRyZW4rPWIrY319O1xuQmxvY2tseS56ZWxvcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5maW5hbGl6ZUhvcml6b250YWxBbGlnbm1lbnRfPWZ1bmN0aW9uKCl7aWYodGhpcy5vdXRwdXRDb25uZWN0aW9uJiYhdGhpcy5oYXNTdGF0ZW1lbnRJbnB1dCYmIXRoaXMuYm90dG9tUm93Lmhhc05leHRDb25uZWN0aW9uKXtmb3IodmFyIGE9MCxiPTAsYztjPXRoaXMucm93c1tiXTtiKyspaWYoQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0lucHV0Um93KGMpKXthPWMuZWxlbWVudHNbYy5lbGVtZW50cy5sZW5ndGgtMl07dmFyIGQ9dGhpcy5nZXROZWdhdGl2ZVNwYWNpbmdfKGMuZWxlbWVudHNbMV0pLGU9dGhpcy5nZXROZWdhdGl2ZVNwYWNpbmdfKGEpO2E9ZCtlO3ZhciBmPXRoaXMuY29uc3RhbnRzXy5NSU5fQkxPQ0tfV0lEVEgrMip0aGlzLm91dHB1dENvbm5lY3Rpb24ud2lkdGg7dGhpcy53aWR0aC1hPGYmJihhPXRoaXMud2lkdGgtZixkPWEvMixlPWEvMik7Yy5lbGVtZW50cy51bnNoaWZ0KG5ldyBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkluUm93U3BhY2VyKHRoaXMuY29uc3RhbnRzXyxcbi1kKSk7Yy5lbGVtZW50cy5wdXNoKG5ldyBCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLkluUm93U3BhY2VyKHRoaXMuY29uc3RhbnRzXywtZSkpfWlmKGEpZm9yKHRoaXMud2lkdGgtPWEsdGhpcy53aWR0aFdpdGhDaGlsZHJlbi09YSx0aGlzLnJpZ2h0U2lkZS54UG9zLT1hLGI9MDtjPXRoaXMucm93c1tiXTtiKyspQmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc1RvcE9yQm90dG9tUm93KGMpJiYoYy5lbGVtZW50c1sxXS53aWR0aC09YSxjLmVsZW1lbnRzWzFdLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcy09YSksYy53aWR0aC09YSxjLndpZHRoV2l0aENvbm5lY3RlZEJsb2Nrcy09YX19O1xuQmxvY2tseS56ZWxvcy5SZW5kZXJJbmZvLnByb3RvdHlwZS5nZXROZWdhdGl2ZVNwYWNpbmdfPWZ1bmN0aW9uKGEpe2lmKCFhKXJldHVybiAwO3ZhciBiPXRoaXMub3V0cHV0Q29ubmVjdGlvbi53aWR0aCxjPXRoaXMub3V0cHV0Q29ubmVjdGlvbi5zaGFwZS50eXBlLGQ9dGhpcy5jb25zdGFudHNfO2lmKHRoaXMuaXNNdWx0aVJvdyYmMTx0aGlzLmlucHV0Um93cy5sZW5ndGgpc3dpdGNoKGMpe2Nhc2UgZC5TSEFQRVMuUk9VTkQ6cmV0dXJuIGM9dGhpcy5jb25zdGFudHNfLk1BWF9EWU5BTUlDX0NPTk5FQ1RJT05fU0hBUEVfV0lEVEgsYz10aGlzLmhlaWdodC8yPmM/Yzp0aGlzLmhlaWdodC8yLGItYyooMS1NYXRoLnNpbihNYXRoLmFjb3MoKGMtdGhpcy5jb25zdGFudHNfLlNNQUxMX1BBRERJTkcpL2MpKSk7ZGVmYXVsdDpyZXR1cm4gMH1pZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSW5saW5lSW5wdXQoYSkpe3ZhciBlPWEuY29ubmVjdGVkQmxvY2s7YT1lP2UucGF0aE9iamVjdC5vdXRwdXRTaGFwZVR5cGU6XG5hLnNoYXBlLnR5cGU7cmV0dXJuIGUmJmUub3V0cHV0Q29ubmVjdGlvbiYmKGUuc3RhdGVtZW50SW5wdXRDb3VudHx8ZS5uZXh0Q29ubmVjdGlvbil8fGM9PWQuU0hBUEVTLkhFWEFHT05BTCYmYyE9YT8wOmItdGhpcy5jb25zdGFudHNfLlNIQVBFX0lOX1NIQVBFX1BBRERJTkdbY11bYV19cmV0dXJuIEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuVHlwZXMuaXNGaWVsZChhKT9jPT1kLlNIQVBFUy5ST1VORCYmYS5maWVsZCBpbnN0YW5jZW9mIEJsb2NrbHkuRmllbGRUZXh0SW5wdXQ/Yi0yLjc1KmQuR1JJRF9VTklUOmItdGhpcy5jb25zdGFudHNfLlNIQVBFX0lOX1NIQVBFX1BBRERJTkdbY11bMF06QmxvY2tseS5ibG9ja1JlbmRlcmluZy5UeXBlcy5pc0ljb24oYSk/dGhpcy5jb25zdGFudHNfLlNNQUxMX1BBRERJTkc6MH07XG5CbG9ja2x5LnplbG9zLlJlbmRlckluZm8ucHJvdG90eXBlLmZpbmFsaXplVmVydGljYWxBbGlnbm1lbnRfPWZ1bmN0aW9uKCl7aWYoIXRoaXMub3V0cHV0Q29ubmVjdGlvbilmb3IodmFyIGE9MjthPHRoaXMucm93cy5sZW5ndGgtMTthKz0yKXt2YXIgYj10aGlzLnJvd3NbYS0xXSxjPXRoaXMucm93c1thXSxkPXRoaXMucm93c1thKzFdLGU9Mj09YSxmPWErMj49dGhpcy5yb3dzLmxlbmd0aC0xPyEhdGhpcy5ib3R0b21Sb3cuaGFzTmV4dENvbm5lY3Rpb246ISFkLnByZWNlZGVzU3RhdGVtZW50O2lmKGU/dGhpcy50b3BSb3cuaGFzUHJldmlvdXNDb25uZWN0aW9uOmIuZm9sbG93c1N0YXRlbWVudCl7dmFyIGc9Mz09Yy5lbGVtZW50cy5sZW5ndGgmJihjLmVsZW1lbnRzWzFdLmZpZWxkIGluc3RhbmNlb2YgQmxvY2tseS5GaWVsZExhYmVsfHxjLmVsZW1lbnRzWzFdLmZpZWxkIGluc3RhbmNlb2YgQmxvY2tseS5GaWVsZEltYWdlKTtpZighZSYmZyliLmhlaWdodC09dGhpcy5jb25zdGFudHNfLlNNQUxMX1BBRERJTkcsXG5kLmhlaWdodC09dGhpcy5jb25zdGFudHNfLlNNQUxMX1BBRERJTkcsYy5oZWlnaHQtPXRoaXMuY29uc3RhbnRzXy5NRURJVU1fUEFERElORztlbHNlIGlmKCFlJiYhZiliLmhlaWdodCs9dGhpcy5jb25zdGFudHNfLlNNQUxMX1BBRERJTkc7ZWxzZSBpZihmKXtlPSExO2ZvcihmPTA7Zz1jLmVsZW1lbnRzW2ZdO2YrKylpZihCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLlR5cGVzLmlzSW5saW5lSW5wdXQoZykmJmcuY29ubmVjdGVkQmxvY2smJiFnLmNvbm5lY3RlZEJsb2NrLmlzU2hhZG93KCkmJjQwPD1nLmNvbm5lY3RlZEJsb2NrLmdldEhlaWdodFdpZHRoKCkuaGVpZ2h0KXtlPSEwO2JyZWFrfWUmJihiLmhlaWdodC09dGhpcy5jb25zdGFudHNfLlNNQUxMX1BBRERJTkcsZC5oZWlnaHQtPXRoaXMuY29uc3RhbnRzXy5TTUFMTF9QQURESU5HKX19fX07XG5CbG9ja2x5LnplbG9zLlJlbmRlckluZm8ucHJvdG90eXBlLmZpbmFsaXplXz1mdW5jdGlvbigpe3RoaXMuZmluYWxpemVPdXRwdXRDb25uZWN0aW9uXygpO3RoaXMuZmluYWxpemVIb3Jpem9udGFsQWxpZ25tZW50XygpO3RoaXMuZmluYWxpemVWZXJ0aWNhbEFsaWdubWVudF8oKTtCbG9ja2x5LnplbG9zLlJlbmRlckluZm8uc3VwZXJDbGFzc18uZmluYWxpemVfLmNhbGwodGhpcyk7dGhpcy5yaWdodFNpZGUmJih0aGlzLndpZHRoV2l0aENoaWxkcmVuKz10aGlzLnJpZ2h0U2lkZS53aWR0aCl9O0Jsb2NrbHkuemVsb3MuRHJhd2VyPWZ1bmN0aW9uKGEsYil7QmxvY2tseS56ZWxvcy5EcmF3ZXIuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEsYil9O0Jsb2NrbHkudXRpbHMub2JqZWN0LmluaGVyaXRzKEJsb2NrbHkuemVsb3MuRHJhd2VyLEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuRHJhd2VyKTtcbkJsb2NrbHkuemVsb3MuRHJhd2VyLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ibG9ja18ucGF0aE9iamVjdDthLmJlZ2luRHJhd2luZygpO3RoaXMuaGlkZUhpZGRlbkljb25zXygpO3RoaXMuZHJhd091dGxpbmVfKCk7dGhpcy5kcmF3SW50ZXJuYWxzXygpO2Euc2V0UGF0aCh0aGlzLm91dGxpbmVQYXRoXytcIlxcblwiK3RoaXMuaW5saW5lUGF0aF8pO3RoaXMuaW5mb18uUlRMJiZhLmZsaXBSVEwoKTtCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLnVzZURlYnVnZ2VyJiZ0aGlzLmJsb2NrXy5yZW5kZXJpbmdEZWJ1Z2dlci5kcmF3RGVidWcodGhpcy5ibG9ja18sdGhpcy5pbmZvXyk7dGhpcy5yZWNvcmRTaXplT25CbG9ja18oKTt0aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24mJihhLm91dHB1dFNoYXBlVHlwZT10aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24uc2hhcGUudHlwZSk7YS5lbmREcmF3aW5nKCl9O1xuQmxvY2tseS56ZWxvcy5EcmF3ZXIucHJvdG90eXBlLmRyYXdPdXRsaW5lXz1mdW5jdGlvbigpe3RoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbiYmdGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uLmlzRHluYW1pY1NoYXBlJiYhdGhpcy5pbmZvXy5oYXNTdGF0ZW1lbnRJbnB1dCYmIXRoaXMuaW5mb18uYm90dG9tUm93Lmhhc05leHRDb25uZWN0aW9uPyh0aGlzLmRyYXdGbGF0VG9wXygpLHRoaXMuZHJhd1JpZ2h0RHluYW1pY0Nvbm5lY3Rpb25fKCksdGhpcy5kcmF3RmxhdEJvdHRvbV8oKSx0aGlzLmRyYXdMZWZ0RHluYW1pY0Nvbm5lY3Rpb25fKCkpOkJsb2NrbHkuemVsb3MuRHJhd2VyLnN1cGVyQ2xhc3NfLmRyYXdPdXRsaW5lXy5jYWxsKHRoaXMpfTtcbkJsb2NrbHkuemVsb3MuRHJhd2VyLnByb3RvdHlwZS5kcmF3TGVmdF89ZnVuY3Rpb24oKXt0aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24mJnRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbi5pc0R5bmFtaWNTaGFwZT90aGlzLmRyYXdMZWZ0RHluYW1pY0Nvbm5lY3Rpb25fKCk6QmxvY2tseS56ZWxvcy5EcmF3ZXIuc3VwZXJDbGFzc18uZHJhd0xlZnRfLmNhbGwodGhpcyl9O1xuQmxvY2tseS56ZWxvcy5EcmF3ZXIucHJvdG90eXBlLmRyYXdSaWdodFNpZGVSb3dfPWZ1bmN0aW9uKGEpe2lmKCEoMD49YS5oZWlnaHQpKWlmKGEucHJlY2VkZXNTdGF0ZW1lbnR8fGEuZm9sbG93c1N0YXRlbWVudCl7dmFyIGI9dGhpcy5jb25zdGFudHNfLklOU0lERV9DT1JORVJTLnJpZ2h0SGVpZ2h0O2I9YS5oZWlnaHQtKGEucHJlY2VkZXNTdGF0ZW1lbnQ/YjowKTt0aGlzLm91dGxpbmVQYXRoXys9KGEuZm9sbG93c1N0YXRlbWVudD90aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMucGF0aEJvdHRvbVJpZ2h0OlwiXCIpKygwPGI/QmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiVlwiLGEueVBvcytiKTpcIlwiKSsoYS5wcmVjZWRlc1N0YXRlbWVudD90aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMucGF0aFRvcFJpZ2h0OlwiXCIpfWVsc2UgdGhpcy5vdXRsaW5lUGF0aF8rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcIlZcIixhLnlQb3MrYS5oZWlnaHQpfTtcbkJsb2NrbHkuemVsb3MuRHJhd2VyLnByb3RvdHlwZS5kcmF3UmlnaHREeW5hbWljQ29ubmVjdGlvbl89ZnVuY3Rpb24oKXt0aGlzLm91dGxpbmVQYXRoXys9dGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uLnNoYXBlLnBhdGhSaWdodERvd24odGhpcy5pbmZvXy5vdXRwdXRDb25uZWN0aW9uLmhlaWdodCl9O0Jsb2NrbHkuemVsb3MuRHJhd2VyLnByb3RvdHlwZS5kcmF3TGVmdER5bmFtaWNDb25uZWN0aW9uXz1mdW5jdGlvbigpe3RoaXMucG9zaXRpb25PdXRwdXRDb25uZWN0aW9uXygpO3RoaXMub3V0bGluZVBhdGhfKz10aGlzLmluZm9fLm91dHB1dENvbm5lY3Rpb24uc2hhcGUucGF0aFVwKHRoaXMuaW5mb18ub3V0cHV0Q29ubmVjdGlvbi5oZWlnaHQpO3RoaXMub3V0bGluZVBhdGhfKz1cInpcIn07XG5CbG9ja2x5LnplbG9zLkRyYXdlci5wcm90b3R5cGUuZHJhd0ZsYXRUb3BfPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbmZvXy50b3BSb3c7dGhpcy5wb3NpdGlvblByZXZpb3VzQ29ubmVjdGlvbl8oKTt0aGlzLm91dGxpbmVQYXRoXys9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlQnkoYS54UG9zLHRoaXMuaW5mb18uc3RhcnRZKTt0aGlzLm91dGxpbmVQYXRoXys9QmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiaFwiLGEud2lkdGgpfTtCbG9ja2x5LnplbG9zLkRyYXdlci5wcm90b3R5cGUuZHJhd0ZsYXRCb3R0b21fPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbmZvXy5ib3R0b21Sb3c7dGhpcy5wb3NpdGlvbk5leHRDb25uZWN0aW9uXygpO3RoaXMub3V0bGluZVBhdGhfKz1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJWXCIsYS5iYXNlbGluZSk7dGhpcy5vdXRsaW5lUGF0aF8rPUJsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcImhcIiwtYS53aWR0aCl9O1xuQmxvY2tseS56ZWxvcy5EcmF3ZXIucHJvdG90eXBlLmRyYXdJbmxpbmVJbnB1dF89ZnVuY3Rpb24oYSl7dGhpcy5wb3NpdGlvbklubGluZUlucHV0Q29ubmVjdGlvbl8oYSk7dmFyIGI9YS5pbnB1dC5uYW1lO2lmKCFhLmNvbm5lY3RlZEJsb2NrJiYhdGhpcy5pbmZvXy5pc0luc2VydGlvbk1hcmtlcil7dmFyIGM9YS53aWR0aC0yKmEuY29ubmVjdGlvbldpZHRoO2E9QmxvY2tseS51dGlscy5zdmdQYXRocy5tb3ZlVG8oYS54UG9zK2EuY29ubmVjdGlvbldpZHRoLGEuY2VudGVybGluZS1hLmhlaWdodC8yKStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJoXCIsYykrYS5zaGFwZS5wYXRoUmlnaHREb3duKGEuaGVpZ2h0KStCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJoXCIsLWMpK2Euc2hhcGUucGF0aFVwKGEuaGVpZ2h0KStcInpcIjt0aGlzLmJsb2NrXy5wYXRoT2JqZWN0LnNldE91dGxpbmVQYXRoKGIsYSl9fTtcbkJsb2NrbHkuemVsb3MuRHJhd2VyLnByb3RvdHlwZS5kcmF3U3RhdGVtZW50SW5wdXRfPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0TGFzdElucHV0KCksYz1iLnhQb3MrYi5ub3RjaE9mZnNldCtiLnNoYXBlLndpZHRoLGQ9Yi5zaGFwZS5wYXRoUmlnaHQrQmxvY2tseS51dGlscy5zdmdQYXRocy5saW5lT25BeGlzKFwiaFwiLC0oYi5ub3RjaE9mZnNldC10aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMud2lkdGgpKSt0aGlzLmNvbnN0YW50c18uSU5TSURFX0NPUk5FUlMucGF0aFRvcCxlPWEuaGVpZ2h0LTIqdGhpcy5jb25zdGFudHNfLklOU0lERV9DT1JORVJTLmhlaWdodDtiPXRoaXMuY29uc3RhbnRzXy5JTlNJREVfQ09STkVSUy5wYXRoQm90dG9tK0Jsb2NrbHkudXRpbHMuc3ZnUGF0aHMubGluZU9uQXhpcyhcImhcIixiLm5vdGNoT2Zmc2V0LXRoaXMuY29uc3RhbnRzXy5JTlNJREVfQ09STkVSUy53aWR0aCkrKGIuY29ubmVjdGVkQm90dG9tTmV4dENvbm5lY3Rpb24/XCJcIjpiLnNoYXBlLnBhdGhMZWZ0KTtcbnRoaXMub3V0bGluZVBhdGhfKz1CbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJIXCIsYykrZCtCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJ2XCIsZSkrYitCbG9ja2x5LnV0aWxzLnN2Z1BhdGhzLmxpbmVPbkF4aXMoXCJIXCIsYS54UG9zK2Eud2lkdGgpO3RoaXMucG9zaXRpb25TdGF0ZW1lbnRJbnB1dENvbm5lY3Rpb25fKGEpfTtCbG9ja2x5LnplbG9zLlBhdGhPYmplY3Q9ZnVuY3Rpb24oYSxiLGMpe0Jsb2NrbHkuemVsb3MuUGF0aE9iamVjdC5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSxiLGMpO3RoaXMuY29uc3RhbnRzPWM7dGhpcy5zdmdQYXRoU2VsZWN0ZWRfPW51bGw7dGhpcy5vdXRsaW5lc189e307dGhpcy5vdXRwdXRTaGFwZVR5cGU9dGhpcy5yZW1haW5pbmdPdXRsaW5lc189bnVsbH07QmxvY2tseS51dGlscy5vYmplY3QuaW5oZXJpdHMoQmxvY2tseS56ZWxvcy5QYXRoT2JqZWN0LEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUGF0aE9iamVjdCk7QmxvY2tseS56ZWxvcy5QYXRoT2JqZWN0LnByb3RvdHlwZS5zZXRQYXRoPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuemVsb3MuUGF0aE9iamVjdC5zdXBlckNsYXNzXy5zZXRQYXRoLmNhbGwodGhpcyxhKTt0aGlzLnN2Z1BhdGhTZWxlY3RlZF8mJnRoaXMuc3ZnUGF0aFNlbGVjdGVkXy5zZXRBdHRyaWJ1dGUoXCJkXCIsYSl9O1xuQmxvY2tseS56ZWxvcy5QYXRoT2JqZWN0LnByb3RvdHlwZS5hcHBseUNvbG91cj1mdW5jdGlvbihhKXtCbG9ja2x5LnplbG9zLlBhdGhPYmplY3Quc3VwZXJDbGFzc18uYXBwbHlDb2xvdXIuY2FsbCh0aGlzLGEpO2EuaXNTaGFkb3coKSYmYS5nZXRQYXJlbnQoKSYmdGhpcy5zdmdQYXRoLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLGEuZ2V0UGFyZW50KCkuc3R5bGUuY29sb3VyVGVydGlhcnkpO2E9MDtmb3IodmFyIGI9T2JqZWN0LmtleXModGhpcy5vdXRsaW5lc18pLGM7Yz1iW2FdO2ErKyl0aGlzLm91dGxpbmVzX1tjXS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5zdHlsZS5jb2xvdXJUZXJ0aWFyeSl9O1xuQmxvY2tseS56ZWxvcy5QYXRoT2JqZWN0LnByb3RvdHlwZS5mbGlwUlRMPWZ1bmN0aW9uKCl7QmxvY2tseS56ZWxvcy5QYXRoT2JqZWN0LnN1cGVyQ2xhc3NfLmZsaXBSVEwuY2FsbCh0aGlzKTtmb3IodmFyIGE9MCxiPU9iamVjdC5rZXlzKHRoaXMub3V0bGluZXNfKSxjO2M9YlthXTthKyspdGhpcy5vdXRsaW5lc19bY10uc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJzY2FsZSgtMSAxKVwiKX07XG5CbG9ja2x5LnplbG9zLlBhdGhPYmplY3QucHJvdG90eXBlLnVwZGF0ZVNlbGVjdGVkPWZ1bmN0aW9uKGEpe3RoaXMuc2V0Q2xhc3NfKFwiYmxvY2tseVNlbGVjdGVkXCIsYSk7YT90aGlzLnN2Z1BhdGhTZWxlY3RlZF98fCh0aGlzLnN2Z1BhdGhTZWxlY3RlZF89dGhpcy5zdmdQYXRoLmNsb25lTm9kZSghMCksdGhpcy5zdmdQYXRoU2VsZWN0ZWRfLnNldEF0dHJpYnV0ZShcImZpbGxcIixcIm5vbmVcIiksdGhpcy5zdmdQYXRoU2VsZWN0ZWRfLnNldEF0dHJpYnV0ZShcImZpbHRlclwiLFwidXJsKCNcIit0aGlzLmNvbnN0YW50cy5zZWxlY3RlZEdsb3dGaWx0ZXJJZCtcIilcIiksdGhpcy5zdmdSb290LmFwcGVuZENoaWxkKHRoaXMuc3ZnUGF0aFNlbGVjdGVkXykpOnRoaXMuc3ZnUGF0aFNlbGVjdGVkXyYmKHRoaXMuc3ZnUm9vdC5yZW1vdmVDaGlsZCh0aGlzLnN2Z1BhdGhTZWxlY3RlZF8pLHRoaXMuc3ZnUGF0aFNlbGVjdGVkXz1udWxsKX07XG5CbG9ja2x5LnplbG9zLlBhdGhPYmplY3QucHJvdG90eXBlLnVwZGF0ZVJlcGxhY2VtZW50RmFkZT1mdW5jdGlvbihhKXt0aGlzLnNldENsYXNzXyhcImJsb2NrbHlSZXBsYWNlYWJsZVwiLGEpO2E/dGhpcy5zdmdQYXRoLnNldEF0dHJpYnV0ZShcImZpbHRlclwiLFwidXJsKCNcIit0aGlzLmNvbnN0YW50cy5yZXBsYWNlbWVudEdsb3dGaWx0ZXJJZCtcIilcIik6dGhpcy5zdmdQYXRoLnJlbW92ZUF0dHJpYnV0ZShcImZpbHRlclwiKX07QmxvY2tseS56ZWxvcy5QYXRoT2JqZWN0LnByb3RvdHlwZS51cGRhdGVTaGFwZUZvcklucHV0SGlnaGxpZ2h0PWZ1bmN0aW9uKGEsYil7YT1hLmdldFBhcmVudElucHV0KCkubmFtZTsoYT10aGlzLmdldE91dGxpbmVQYXRoXyhhKSkmJihiP2Euc2V0QXR0cmlidXRlKFwiZmlsdGVyXCIsXCJ1cmwoI1wiK3RoaXMuY29uc3RhbnRzLnJlcGxhY2VtZW50R2xvd0ZpbHRlcklkK1wiKVwiKTphLnJlbW92ZUF0dHJpYnV0ZShcImZpbHRlclwiKSl9O1xuQmxvY2tseS56ZWxvcy5QYXRoT2JqZWN0LnByb3RvdHlwZS5iZWdpbkRyYXdpbmc9ZnVuY3Rpb24oKXt0aGlzLnJlbWFpbmluZ091dGxpbmVzXz17fTtmb3IodmFyIGE9MCxiPU9iamVjdC5rZXlzKHRoaXMub3V0bGluZXNfKSxjO2M9YlthXTthKyspdGhpcy5yZW1haW5pbmdPdXRsaW5lc19bY109MX07QmxvY2tseS56ZWxvcy5QYXRoT2JqZWN0LnByb3RvdHlwZS5lbmREcmF3aW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5yZW1haW5pbmdPdXRsaW5lc18pZm9yKHZhciBhPTAsYj1PYmplY3Qua2V5cyh0aGlzLnJlbWFpbmluZ091dGxpbmVzXyksYztjPWJbYV07YSsrKXRoaXMucmVtb3ZlT3V0bGluZVBhdGhfKGMpO3RoaXMucmVtYWluaW5nT3V0bGluZXNfPW51bGx9O1xuQmxvY2tseS56ZWxvcy5QYXRoT2JqZWN0LnByb3RvdHlwZS5zZXRPdXRsaW5lUGF0aD1mdW5jdGlvbihhLGIpe2E9dGhpcy5nZXRPdXRsaW5lUGF0aF8oYSk7YS5zZXRBdHRyaWJ1dGUoXCJkXCIsYik7YS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsdGhpcy5zdHlsZS5jb2xvdXJUZXJ0aWFyeSl9O0Jsb2NrbHkuemVsb3MuUGF0aE9iamVjdC5wcm90b3R5cGUuZ2V0T3V0bGluZVBhdGhfPWZ1bmN0aW9uKGEpe3RoaXMub3V0bGluZXNfW2FdfHwodGhpcy5vdXRsaW5lc19bYV09QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcInBhdGhcIix7XCJjbGFzc1wiOlwiYmxvY2tseU91dGxpbmVQYXRoXCIsZDpcIlwifSx0aGlzLnN2Z1Jvb3QpKTt0aGlzLnJlbWFpbmluZ091dGxpbmVzXyYmZGVsZXRlIHRoaXMucmVtYWluaW5nT3V0bGluZXNfW2FdO3JldHVybiB0aGlzLm91dGxpbmVzX1thXX07XG5CbG9ja2x5LnplbG9zLlBhdGhPYmplY3QucHJvdG90eXBlLnJlbW92ZU91dGxpbmVQYXRoXz1mdW5jdGlvbihhKXt0aGlzLm91dGxpbmVzX1thXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMub3V0bGluZXNfW2FdKTtkZWxldGUgdGhpcy5vdXRsaW5lc19bYV19O0Jsb2NrbHkuemVsb3MuTWFya2VyU3ZnPWZ1bmN0aW9uKGEsYixjKXtCbG9ja2x5LnplbG9zLk1hcmtlclN2Zy5zdXBlckNsYXNzXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSxiLGMpfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LnplbG9zLk1hcmtlclN2ZyxCbG9ja2x5LmJsb2NrUmVuZGVyaW5nLk1hcmtlclN2Zyk7QmxvY2tseS56ZWxvcy5NYXJrZXJTdmcucHJvdG90eXBlLnNob3dXaXRoSW5wdXRfPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0U291cmNlQmxvY2soKTthPWEuZ2V0TG9jYXRpb24oKS5nZXRPZmZzZXRJbkJsb2NrKCk7dGhpcy5wb3NpdGlvbkNpcmNsZV8oYS54LGEueSk7dGhpcy5zZXRQYXJlbnRfKGIpO3RoaXMuc2hvd0N1cnJlbnRfKCl9O1xuQmxvY2tseS56ZWxvcy5NYXJrZXJTdmcucHJvdG90eXBlLnNob3dXaXRoQmxvY2tfPWZ1bmN0aW9uKGEpe2E9YS5nZXRMb2NhdGlvbigpO3ZhciBiPWEuZ2V0SGVpZ2h0V2lkdGgoKTt0aGlzLnBvc2l0aW9uUmVjdF8oMCwwLGIud2lkdGgsYi5oZWlnaHQpO3RoaXMuc2V0UGFyZW50XyhhKTt0aGlzLnNob3dDdXJyZW50XygpfTtCbG9ja2x5LnplbG9zLk1hcmtlclN2Zy5wcm90b3R5cGUucG9zaXRpb25DaXJjbGVfPWZ1bmN0aW9uKGEsYil7dGhpcy5tYXJrZXJDaXJjbGVfLnNldEF0dHJpYnV0ZShcImN4XCIsYSk7dGhpcy5tYXJrZXJDaXJjbGVfLnNldEF0dHJpYnV0ZShcImN5XCIsYik7dGhpcy5jdXJyZW50TWFya2VyU3ZnPXRoaXMubWFya2VyQ2lyY2xlX307XG5CbG9ja2x5LnplbG9zLk1hcmtlclN2Zy5wcm90b3R5cGUuc2hvd0F0TG9jYXRpb25fPWZ1bmN0aW9uKGEpe3ZhciBiPSExO2EuZ2V0VHlwZSgpPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuT1VUUFVUPyh0aGlzLnNob3dXaXRoSW5wdXRfKGEpLGI9ITApOmEuZ2V0VHlwZSgpPT1CbG9ja2x5LkFTVE5vZGUudHlwZXMuQkxPQ0smJih0aGlzLnNob3dXaXRoQmxvY2tfKGEpLGI9ITApO2J8fEJsb2NrbHkuemVsb3MuTWFya2VyU3ZnLnN1cGVyQ2xhc3NfLnNob3dBdExvY2F0aW9uXy5jYWxsKHRoaXMsYSl9O0Jsb2NrbHkuemVsb3MuTWFya2VyU3ZnLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7QmxvY2tseS56ZWxvcy5NYXJrZXJTdmcuc3VwZXJDbGFzc18uaGlkZS5jYWxsKHRoaXMpO3RoaXMubWFya2VyQ2lyY2xlXy5zdHlsZS5kaXNwbGF5PVwibm9uZVwifTtcbkJsb2NrbHkuemVsb3MuTWFya2VyU3ZnLnByb3RvdHlwZS5jcmVhdGVEb21JbnRlcm5hbF89ZnVuY3Rpb24oKXtCbG9ja2x5LnplbG9zLk1hcmtlclN2Zy5zdXBlckNsYXNzXy5jcmVhdGVEb21JbnRlcm5hbF8uY2FsbCh0aGlzKTt0aGlzLm1hcmtlckNpcmNsZV89QmxvY2tseS51dGlscy5kb20uY3JlYXRlU3ZnRWxlbWVudChcImNpcmNsZVwiLHtyOnRoaXMuY29uc3RhbnRzXy5DVVJTT1JfUkFESVVTLHN0eWxlOlwiZGlzcGxheTogbm9uZVwiLFwic3Ryb2tlLXdpZHRoXCI6dGhpcy5jb25zdGFudHNfLkNVUlNPUl9TVFJPS0VfV0lEVEh9LHRoaXMubWFya2VyU3ZnXyk7aWYodGhpcy5pc0N1cnNvcigpKXt2YXIgYT10aGlzLmdldEJsaW5rUHJvcGVydGllc18oKTtCbG9ja2x5LnV0aWxzLmRvbS5jcmVhdGVTdmdFbGVtZW50KFwiYW5pbWF0ZVwiLGEsdGhpcy5tYXJrZXJDaXJjbGVfKX1yZXR1cm4gdGhpcy5tYXJrZXJTdmdffTtcbkJsb2NrbHkuemVsb3MuTWFya2VyU3ZnLnByb3RvdHlwZS5hcHBseUNvbG91cl89ZnVuY3Rpb24oKXtCbG9ja2x5LnplbG9zLk1hcmtlclN2Zy5zdXBlckNsYXNzXy5hcHBseUNvbG91cl8uY2FsbCh0aGlzKTt0aGlzLm1hcmtlckNpcmNsZV8uc2V0QXR0cmlidXRlKFwiZmlsbFwiLHRoaXMuY29sb3VyXyk7dGhpcy5tYXJrZXJDaXJjbGVfLnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLHRoaXMuY29sb3VyXyk7dGhpcy5pc0N1cnNvcigpJiZ0aGlzLm1hcmtlckNpcmNsZV8uZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZXNcIix0aGlzLmNvbG91cl8rXCI7dHJhbnNwYXJlbnQ7dHJhbnNwYXJlbnQ7XCIpfTtCbG9ja2x5LnplbG9zLlJlbmRlcmVyPWZ1bmN0aW9uKGEpe0Jsb2NrbHkuemVsb3MuUmVuZGVyZXIuc3VwZXJDbGFzc18uY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpfTtCbG9ja2x5LnV0aWxzLm9iamVjdC5pbmhlcml0cyhCbG9ja2x5LnplbG9zLlJlbmRlcmVyLEJsb2NrbHkuYmxvY2tSZW5kZXJpbmcuUmVuZGVyZXIpO0Jsb2NrbHkuemVsb3MuUmVuZGVyZXIucHJvdG90eXBlLm1ha2VDb25zdGFudHNfPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBCbG9ja2x5LnplbG9zLkNvbnN0YW50UHJvdmlkZXJ9O0Jsb2NrbHkuemVsb3MuUmVuZGVyZXIucHJvdG90eXBlLm1ha2VSZW5kZXJJbmZvXz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEJsb2NrbHkuemVsb3MuUmVuZGVySW5mbyh0aGlzLGEpfTtCbG9ja2x5LnplbG9zLlJlbmRlcmVyLnByb3RvdHlwZS5tYWtlRHJhd2VyXz1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgQmxvY2tseS56ZWxvcy5EcmF3ZXIoYSxiKX07XG5CbG9ja2x5LnplbG9zLlJlbmRlcmVyLnByb3RvdHlwZS5tYWtlTWFya2VyRHJhd2VyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBCbG9ja2x5LnplbG9zLk1hcmtlclN2ZyhhLHRoaXMuZ2V0Q29uc3RhbnRzKCksYil9O0Jsb2NrbHkuemVsb3MuUmVuZGVyZXIucHJvdG90eXBlLm1ha2VQYXRoT2JqZWN0PWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBCbG9ja2x5LnplbG9zLlBhdGhPYmplY3QoYSxiLHRoaXMuZ2V0Q29uc3RhbnRzKCkpfTtCbG9ja2x5LnplbG9zLlJlbmRlcmVyLnByb3RvdHlwZS5zaG91bGRIaWdobGlnaHRDb25uZWN0aW9uPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGUhPUJsb2NrbHkuSU5QVVRfVkFMVUUmJmEudHlwZSE9PUJsb2NrbHkuT1VUUFVUX1ZBTFVFfTtcbkJsb2NrbHkuemVsb3MuUmVuZGVyZXIucHJvdG90eXBlLmdldENvbm5lY3Rpb25QcmV2aWV3TWV0aG9kPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYi50eXBlPT1CbG9ja2x5Lk9VVFBVVF9WQUxVRT9hLmlzQ29ubmVjdGVkKCk/QmxvY2tseS5JbnNlcnRpb25NYXJrZXJNYW5hZ2VyLlBSRVZJRVdfVFlQRS5SRVBMQUNFTUVOVF9GQURFOkJsb2NrbHkuSW5zZXJ0aW9uTWFya2VyTWFuYWdlci5QUkVWSUVXX1RZUEUuSU5QVVRfT1VUTElORTpCbG9ja2x5LnplbG9zLlJlbmRlcmVyLnN1cGVyQ2xhc3NfLmdldENvbm5lY3Rpb25QcmV2aWV3TWV0aG9kKGEsYixjKX07QmxvY2tseS5ibG9ja1JlbmRlcmluZy5yZWdpc3RlcihcInplbG9zXCIsQmxvY2tseS56ZWxvcy5SZW5kZXJlcik7QmxvY2tseS5UaGVtZXMuRGFyaz1CbG9ja2x5LlRoZW1lLmRlZmluZVRoZW1lKFwiZGFya1wiLHtiYXNlOkJsb2NrbHkuVGhlbWVzLkNsYXNzaWMsY29tcG9uZW50U3R5bGVzOnt3b3Jrc3BhY2VCYWNrZ3JvdW5kQ29sb3VyOlwiIzFlMWUxZVwiLHRvb2xib3hCYWNrZ3JvdW5kQ29sb3VyOlwiIzMzM1wiLHRvb2xib3hGb3JlZ3JvdW5kQ29sb3VyOlwiI2ZmZlwiLGZseW91dEJhY2tncm91bmRDb2xvdXI6XCIjMjUyNTI2XCIsZmx5b3V0Rm9yZWdyb3VuZENvbG91cjpcIiNjY2NcIixmbHlvdXRPcGFjaXR5OjEsc2Nyb2xsYmFyQ29sb3VyOlwiIzc5Nzk3OVwiLGluc2VydGlvbk1hcmtlckNvbG91cjpcIiNmZmZcIixpbnNlcnRpb25NYXJrZXJPcGFjaXR5Oi4zLHNjcm9sbGJhck9wYWNpdHk6LjQsY3Vyc29yQ29sb3VyOlwiI2QwZDBkMFwifX0pO0Jsb2NrbHkuVGhlbWVzLkRldXRlcmFub3BpYT17fTtcbkJsb2NrbHkuVGhlbWVzLkRldXRlcmFub3BpYS5kZWZhdWx0QmxvY2tTdHlsZXM9e2NvbG91cl9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIjZjJhNzJjXCIsY29sb3VyU2Vjb25kYXJ5OlwiI2YxYzE3MlwiLGNvbG91clRlcnRpYXJ5OlwiI2RhOTIxY1wifSxsaXN0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiM3ZDY1YWJcIixjb2xvdXJTZWNvbmRhcnk6XCIjYTg4YmUwXCIsY29sb3VyVGVydGlhcnk6XCIjNjY1MThlXCJ9LGxvZ2ljX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiM5ZmQyZjFcIixjb2xvdXJTZWNvbmRhcnk6XCIjYzBlMGY0XCIsY29sb3VyVGVydGlhcnk6XCIjNzRiYWU1XCJ9LGxvb3BfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiIzc5NWEwN1wiLGNvbG91clNlY29uZGFyeTpcIiNhYzg3MjZcIixjb2xvdXJUZXJ0aWFyeTpcIiNjNGEwM2ZcIn0sbWF0aF9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIjZTZkYTM5XCIsY29sb3VyU2Vjb25kYXJ5OlwiI2YzZWM4ZVwiLGNvbG91clRlcnRpYXJ5OlwiI2YyZWViN1wifSxwcm9jZWR1cmVfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiIzU5MDcyMVwiLFxuY29sb3VyU2Vjb25kYXJ5OlwiIzhjNDc1ZFwiLGNvbG91clRlcnRpYXJ5OlwiIzg4NTQ2NFwifSx0ZXh0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiMwNTg4NjNcIixjb2xvdXJTZWNvbmRhcnk6XCIjNWVjZmFmXCIsY29sb3VyVGVydGlhcnk6XCIjMDQ2ODRjXCJ9LHZhcmlhYmxlX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiM0NzAyNWFcIixjb2xvdXJTZWNvbmRhcnk6XCIjODIwZmExXCIsY29sb3VyVGVydGlhcnk6XCIjOGU1NzlkXCJ9LHZhcmlhYmxlX2R5bmFtaWNfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiIzQ3MDI1YVwiLGNvbG91clNlY29uZGFyeTpcIiM4MjBmYTFcIixjb2xvdXJUZXJ0aWFyeTpcIiM4ZTU3OWRcIn19O1xuQmxvY2tseS5UaGVtZXMuRGV1dGVyYW5vcGlhLmNhdGVnb3J5U3R5bGVzPXtjb2xvdXJfY2F0ZWdvcnk6e2NvbG91cjpcIiNmMmE3MmNcIn0sbGlzdF9jYXRlZ29yeTp7Y29sb3VyOlwiIzdkNjVhYlwifSxsb2dpY19jYXRlZ29yeTp7Y29sb3VyOlwiIzlmZDJmMVwifSxsb29wX2NhdGVnb3J5Ontjb2xvdXI6XCIjNzk1YTA3XCJ9LG1hdGhfY2F0ZWdvcnk6e2NvbG91cjpcIiNlNmRhMzlcIn0scHJvY2VkdXJlX2NhdGVnb3J5Ontjb2xvdXI6XCIjNTkwNzIxXCJ9LHRleHRfY2F0ZWdvcnk6e2NvbG91cjpcIiMwNTg4NjNcIn0sdmFyaWFibGVfY2F0ZWdvcnk6e2NvbG91cjpcIiM0NzAyNWFcIn0sdmFyaWFibGVfZHluYW1pY19jYXRlZ29yeTp7Y29sb3VyOlwiIzQ3MDI1YVwifX07QmxvY2tseS5UaGVtZXMuRGV1dGVyYW5vcGlhPW5ldyBCbG9ja2x5LlRoZW1lKFwiZGV1dGVyYW5vcGlhXCIsQmxvY2tseS5UaGVtZXMuRGV1dGVyYW5vcGlhLmRlZmF1bHRCbG9ja1N0eWxlcyxCbG9ja2x5LlRoZW1lcy5EZXV0ZXJhbm9waWEuY2F0ZWdvcnlTdHlsZXMpO0Jsb2NrbHkuVGhlbWVzLkhpZ2hDb250cmFzdD17fTtcbkJsb2NrbHkuVGhlbWVzLkhpZ2hDb250cmFzdC5kZWZhdWx0QmxvY2tTdHlsZXM9e2NvbG91cl9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIjYTUyNzE0XCIsY29sb3VyU2Vjb25kYXJ5OlwiI0ZCOUI4Q1wiLGNvbG91clRlcnRpYXJ5OlwiI0ZCRTFERFwifSxsaXN0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiM0YTE0OGNcIixjb2xvdXJTZWNvbmRhcnk6XCIjQUQ3QkU5XCIsY29sb3VyVGVydGlhcnk6XCIjQ0RCNkU5XCJ9LGxvZ2ljX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiMwMTU3OWJcIixjb2xvdXJTZWNvbmRhcnk6XCIjNjRDN0ZGXCIsY29sb3VyVGVydGlhcnk6XCIjQzVFQUZGXCJ9LGxvb3BfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiIzMzNjkxZVwiLGNvbG91clNlY29uZGFyeTpcIiM5QUZGNzhcIixjb2xvdXJUZXJ0aWFyeTpcIiNFMUZGRDdcIn0sbWF0aF9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIjMWEyMzdlXCIsY29sb3VyU2Vjb25kYXJ5OlwiIzhBOUVGRlwiLGNvbG91clRlcnRpYXJ5OlwiI0RDRTJGRlwifSxwcm9jZWR1cmVfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiIzAwNjA2NFwiLFxuY29sb3VyU2Vjb25kYXJ5OlwiIzc3RTZFRVwiLGNvbG91clRlcnRpYXJ5OlwiI0NGRUNFRVwifSx0ZXh0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiMwMDRkNDBcIixjb2xvdXJTZWNvbmRhcnk6XCIjNWFlMjdjXCIsY29sb3VyVGVydGlhcnk6XCIjRDJGRkREXCJ9LHZhcmlhYmxlX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiM4ODBlNGZcIixjb2xvdXJTZWNvbmRhcnk6XCIjRkY3M0JFXCIsY29sb3VyVGVydGlhcnk6XCIjRkZENEVCXCJ9LHZhcmlhYmxlX2R5bmFtaWNfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiIzg4MGU0ZlwiLGNvbG91clNlY29uZGFyeTpcIiNGRjczQkVcIixjb2xvdXJUZXJ0aWFyeTpcIiNGRkQ0RUJcIn0saGF0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiM4ODBlNGZcIixjb2xvdXJTZWNvbmRhcnk6XCIjRkY3M0JFXCIsY29sb3VyVGVydGlhcnk6XCIjRkZENEVCXCIsaGF0OlwiY2FwXCJ9fTtcbkJsb2NrbHkuVGhlbWVzLkhpZ2hDb250cmFzdC5jYXRlZ29yeVN0eWxlcz17Y29sb3VyX2NhdGVnb3J5Ontjb2xvdXI6XCIjYTUyNzE0XCJ9LGxpc3RfY2F0ZWdvcnk6e2NvbG91cjpcIiM0YTE0OGNcIn0sbG9naWNfY2F0ZWdvcnk6e2NvbG91cjpcIiMwMTU3OWJcIn0sbG9vcF9jYXRlZ29yeTp7Y29sb3VyOlwiIzMzNjkxZVwifSxtYXRoX2NhdGVnb3J5Ontjb2xvdXI6XCIjMWEyMzdlXCJ9LHByb2NlZHVyZV9jYXRlZ29yeTp7Y29sb3VyOlwiIzAwNjA2NFwifSx0ZXh0X2NhdGVnb3J5Ontjb2xvdXI6XCIjMDA0ZDQwXCJ9LHZhcmlhYmxlX2NhdGVnb3J5Ontjb2xvdXI6XCIjODgwZTRmXCJ9LHZhcmlhYmxlX2R5bmFtaWNfY2F0ZWdvcnk6e2NvbG91cjpcIiM4ODBlNGZcIn19O0Jsb2NrbHkuVGhlbWVzLkhpZ2hDb250cmFzdD1uZXcgQmxvY2tseS5UaGVtZShcImhpZ2hjb250cmFzdFwiLEJsb2NrbHkuVGhlbWVzLkhpZ2hDb250cmFzdC5kZWZhdWx0QmxvY2tTdHlsZXMsQmxvY2tseS5UaGVtZXMuSGlnaENvbnRyYXN0LmNhdGVnb3J5U3R5bGVzKTtcbkJsb2NrbHkuVGhlbWVzLkhpZ2hDb250cmFzdC5zZXRDb21wb25lbnRTdHlsZShcInNlbGVjdGVkR2xvd0NvbG91clwiLFwiIzAwMDAwMFwiKTtCbG9ja2x5LlRoZW1lcy5IaWdoQ29udHJhc3Quc2V0Q29tcG9uZW50U3R5bGUoXCJzZWxlY3RlZEdsb3dTaXplXCIsMSk7QmxvY2tseS5UaGVtZXMuSGlnaENvbnRyYXN0LnNldENvbXBvbmVudFN0eWxlKFwicmVwbGFjZW1lbnRHbG93Q29sb3VyXCIsXCIjMDAwMDAwXCIpO0Jsb2NrbHkuVGhlbWVzLkhpZ2hDb250cmFzdC5zZXRGb250U3R5bGUoe2ZhbWlseTpudWxsLHdlaWdodDpudWxsLHNpemU6MTZ9KTtCbG9ja2x5LlRoZW1lcy5Ucml0YW5vcGlhPXt9O1xuQmxvY2tseS5UaGVtZXMuVHJpdGFub3BpYS5kZWZhdWx0QmxvY2tTdHlsZXM9e2NvbG91cl9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIjMDU0MjdmXCIsY29sb3VyU2Vjb25kYXJ5OlwiIzI5NzRjMFwiLGNvbG91clRlcnRpYXJ5OlwiIzJkNzRiYlwifSxsaXN0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiNiNjljZThcIixjb2xvdXJTZWNvbmRhcnk6XCIjY2NiYWVmXCIsY29sb3VyVGVydGlhcnk6XCIjOTE3NmM1XCJ9LGxvZ2ljX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiM5ZmQyZjFcIixjb2xvdXJTZWNvbmRhcnk6XCIjYzBlMGY0XCIsY29sb3VyVGVydGlhcnk6XCIjNzRiYWU1XCJ9LGxvb3BfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiI2FhMTg0NlwiLGNvbG91clNlY29uZGFyeTpcIiNkMzYxODVcIixjb2xvdXJUZXJ0aWFyeTpcIiM3YzE2MzZcIn0sbWF0aF9ibG9ja3M6e2NvbG91clByaW1hcnk6XCIjZTZkYTM5XCIsY29sb3VyU2Vjb25kYXJ5OlwiI2YzZWM4ZVwiLGNvbG91clRlcnRpYXJ5OlwiI2YyZWViN1wifSxwcm9jZWR1cmVfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiIzU5MDcyMVwiLFxuY29sb3VyU2Vjb25kYXJ5OlwiIzhjNDc1ZFwiLGNvbG91clRlcnRpYXJ5OlwiIzg4NTQ2NFwifSx0ZXh0X2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiMwNTg4NjNcIixjb2xvdXJTZWNvbmRhcnk6XCIjNWVjZmFmXCIsY29sb3VyVGVydGlhcnk6XCIjMDQ2ODRjXCJ9LHZhcmlhYmxlX2Jsb2Nrczp7Y29sb3VyUHJpbWFyeTpcIiM0YjJkODRcIixjb2xvdXJTZWNvbmRhcnk6XCIjODE2ZWE3XCIsY29sb3VyVGVydGlhcnk6XCIjODM3NTllXCJ9LHZhcmlhYmxlX2R5bmFtaWNfYmxvY2tzOntjb2xvdXJQcmltYXJ5OlwiIzRiMmQ4NFwiLGNvbG91clNlY29uZGFyeTpcIiM4MTZlYTdcIixjb2xvdXJUZXJ0aWFyeTpcIiM4Mzc1OWVcIn19O1xuQmxvY2tseS5UaGVtZXMuVHJpdGFub3BpYS5jYXRlZ29yeVN0eWxlcz17Y29sb3VyX2NhdGVnb3J5Ontjb2xvdXI6XCIjMDU0MjdmXCJ9LGxpc3RfY2F0ZWdvcnk6e2NvbG91cjpcIiNiNjljZThcIn0sbG9naWNfY2F0ZWdvcnk6e2NvbG91cjpcIiM5ZmQyZjFcIn0sbG9vcF9jYXRlZ29yeTp7Y29sb3VyOlwiI2FhMTg0NlwifSxtYXRoX2NhdGVnb3J5Ontjb2xvdXI6XCIjZTZkYTM5XCJ9LHByb2NlZHVyZV9jYXRlZ29yeTp7Y29sb3VyOlwiIzU5MDcyMVwifSx0ZXh0X2NhdGVnb3J5Ontjb2xvdXI6XCIjMDU4ODYzXCJ9LHZhcmlhYmxlX2NhdGVnb3J5Ontjb2xvdXI6XCIjNGIyZDg0XCJ9LHZhcmlhYmxlX2R5bmFtaWNfY2F0ZWdvcnk6e2NvbG91cjpcIiM0YjJkODRcIn19O0Jsb2NrbHkuVGhlbWVzLlRyaXRhbm9waWE9bmV3IEJsb2NrbHkuVGhlbWUoXCJ0cml0YW5vcGlhXCIsQmxvY2tseS5UaGVtZXMuVHJpdGFub3BpYS5kZWZhdWx0QmxvY2tTdHlsZXMsQmxvY2tseS5UaGVtZXMuVHJpdGFub3BpYS5jYXRlZ29yeVN0eWxlcyk7QmxvY2tseS5yZXF1aXJlcz17fTtcblxucmV0dXJuIEJsb2NrbHk7XG59KSk7IFxuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7IC8vIEFNRFxuICAgIGRlZmluZShbJy4vY29yZSddLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsgLy8gTm9kZS5qc1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCcuL2NvcmUnKSk7XG4gIH0gZWxzZSB7IC8vIEJyb3dzZXJcbiAgICByb290LkJsb2NrbHkuQmxvY2tzID0gZmFjdG9yeShyb290LkJsb2NrbHkpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKEJsb2NrbHkpIHtcblxuICAgIEJsb2NrbHkuQmxvY2tzPXt9Oy8vIERvIG5vdCBlZGl0IHRoaXMgZmlsZTsgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgZ3VscC5cbid1c2Ugc3RyaWN0JztcblxuXG5CbG9ja2x5LkJsb2Nrcy5jb2xvdXI9e307QmxvY2tseS5Db25zdGFudHM9e307QmxvY2tseS5Db25zdGFudHMuQ29sb3VyPXt9O0Jsb2NrbHkuQ29uc3RhbnRzLkNvbG91ci5IVUU9MjA7XG5CbG9ja2x5LmRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXkoW3t0eXBlOlwiY29sb3VyX3BpY2tlclwiLG1lc3NhZ2UwOlwiJTFcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9jb2xvdXJcIixuYW1lOlwiQ09MT1VSXCIsY29sb3VyOlwiI2ZmMDAwMFwifV0sb3V0cHV0OlwiQ29sb3VyXCIsaGVscFVybDpcIiV7QktZX0NPTE9VUl9QSUNLRVJfSEVMUFVSTH1cIixzdHlsZTpcImNvbG91cl9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfQ09MT1VSX1BJQ0tFUl9UT09MVElQfVwiLGV4dGVuc2lvbnM6W1wicGFyZW50X3Rvb2x0aXBfd2hlbl9pbmxpbmVcIl19LHt0eXBlOlwiY29sb3VyX3JhbmRvbVwiLG1lc3NhZ2UwOlwiJXtCS1lfQ09MT1VSX1JBTkRPTV9USVRMRX1cIixvdXRwdXQ6XCJDb2xvdXJcIixoZWxwVXJsOlwiJXtCS1lfQ09MT1VSX1JBTkRPTV9IRUxQVVJMfVwiLHN0eWxlOlwiY29sb3VyX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9DT0xPVVJfUkFORE9NX1RPT0xUSVB9XCJ9LHt0eXBlOlwiY29sb3VyX3JnYlwiLG1lc3NhZ2UwOlwiJXtCS1lfQ09MT1VSX1JHQl9USVRMRX0gJXtCS1lfQ09MT1VSX1JHQl9SRUR9ICUxICV7QktZX0NPTE9VUl9SR0JfR1JFRU59ICUyICV7QktZX0NPTE9VUl9SR0JfQkxVRX0gJTNcIixcbmFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlJFRFwiLGNoZWNrOlwiTnVtYmVyXCIsYWxpZ246XCJSSUdIVFwifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkdSRUVOXCIsY2hlY2s6XCJOdW1iZXJcIixhbGlnbjpcIlJJR0hUXCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiQkxVRVwiLGNoZWNrOlwiTnVtYmVyXCIsYWxpZ246XCJSSUdIVFwifV0sb3V0cHV0OlwiQ29sb3VyXCIsaGVscFVybDpcIiV7QktZX0NPTE9VUl9SR0JfSEVMUFVSTH1cIixzdHlsZTpcImNvbG91cl9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfQ09MT1VSX1JHQl9UT09MVElQfVwifSx7dHlwZTpcImNvbG91cl9ibGVuZFwiLG1lc3NhZ2UwOlwiJXtCS1lfQ09MT1VSX0JMRU5EX1RJVExFfSAle0JLWV9DT0xPVVJfQkxFTkRfQ09MT1VSMX0gJTEgJXtCS1lfQ09MT1VSX0JMRU5EX0NPTE9VUjJ9ICUyICV7QktZX0NPTE9VUl9CTEVORF9SQVRJT30gJTNcIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJDT0xPVVIxXCIsY2hlY2s6XCJDb2xvdXJcIixcbmFsaWduOlwiUklHSFRcIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJDT0xPVVIyXCIsY2hlY2s6XCJDb2xvdXJcIixhbGlnbjpcIlJJR0hUXCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiUkFUSU9cIixjaGVjazpcIk51bWJlclwiLGFsaWduOlwiUklHSFRcIn1dLG91dHB1dDpcIkNvbG91clwiLGhlbHBVcmw6XCIle0JLWV9DT0xPVVJfQkxFTkRfSEVMUFVSTH1cIixzdHlsZTpcImNvbG91cl9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfQ09MT1VSX0JMRU5EX1RPT0xUSVB9XCJ9XSk7QmxvY2tseS5CbG9ja3MubGlzdHM9e307QmxvY2tseS5Db25zdGFudHMuTGlzdHM9e307QmxvY2tseS5Db25zdGFudHMuTGlzdHMuSFVFPTI2MDtcbkJsb2NrbHkuZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheShbe3R5cGU6XCJsaXN0c19jcmVhdGVfZW1wdHlcIixtZXNzYWdlMDpcIiV7QktZX0xJU1RTX0NSRUFURV9FTVBUWV9USVRMRX1cIixvdXRwdXQ6XCJBcnJheVwiLHN0eWxlOlwibGlzdF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTElTVFNfQ1JFQVRFX0VNUFRZX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX0xJU1RTX0NSRUFURV9FTVBUWV9IRUxQVVJMfVwifSx7dHlwZTpcImxpc3RzX3JlcGVhdFwiLG1lc3NhZ2UwOlwiJXtCS1lfTElTVFNfUkVQRUFUX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIklURU1cIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJOVU1cIixjaGVjazpcIk51bWJlclwifV0sb3V0cHV0OlwiQXJyYXlcIixzdHlsZTpcImxpc3RfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX0xJU1RTX1JFUEVBVF9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9MSVNUU19SRVBFQVRfSEVMUFVSTH1cIn0se3R5cGU6XCJsaXN0c19yZXZlcnNlXCIsXG5tZXNzYWdlMDpcIiV7QktZX0xJU1RTX1JFVkVSU0VfTUVTU0FHRTB9XCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTElTVFwiLGNoZWNrOlwiQXJyYXlcIn1dLG91dHB1dDpcIkFycmF5XCIsaW5wdXRzSW5saW5lOiEwLHN0eWxlOlwibGlzdF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTElTVFNfUkVWRVJTRV9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9MSVNUU19SRVZFUlNFX0hFTFBVUkx9XCJ9LHt0eXBlOlwibGlzdHNfaXNFbXB0eVwiLG1lc3NhZ2UwOlwiJXtCS1lfTElTVFNfSVNFTVBUWV9USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJWQUxVRVwiLGNoZWNrOltcIlN0cmluZ1wiLFwiQXJyYXlcIl19XSxvdXRwdXQ6XCJCb29sZWFuXCIsc3R5bGU6XCJsaXN0X2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9MSVNUU19JU0VNUFRZX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX0xJU1RTX0lTRU1QVFlfSEVMUFVSTH1cIn0se3R5cGU6XCJsaXN0c19sZW5ndGhcIixtZXNzYWdlMDpcIiV7QktZX0xJU1RTX0xFTkdUSF9USVRMRX1cIixcbmFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlZBTFVFXCIsY2hlY2s6W1wiU3RyaW5nXCIsXCJBcnJheVwiXX1dLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibGlzdF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTElTVFNfTEVOR1RIX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX0xJU1RTX0xFTkdUSF9IRUxQVVJMfVwifV0pO1xuQmxvY2tseS5CbG9ja3MubGlzdHNfY3JlYXRlX3dpdGg9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnNldEhlbHBVcmwoQmxvY2tseS5Nc2cuTElTVFNfQ1JFQVRFX1dJVEhfSEVMUFVSTCk7dGhpcy5zZXRTdHlsZShcImxpc3RfYmxvY2tzXCIpO3RoaXMuaXRlbUNvdW50Xz0zO3RoaXMudXBkYXRlU2hhcGVfKCk7dGhpcy5zZXRPdXRwdXQoITAsXCJBcnJheVwiKTt0aGlzLnNldE11dGF0b3IobmV3IEJsb2NrbHkuTXV0YXRvcihbXCJsaXN0c19jcmVhdGVfd2l0aF9pdGVtXCJdKSk7dGhpcy5zZXRUb29sdGlwKEJsb2NrbHkuTXNnLkxJU1RTX0NSRUFURV9XSVRIX1RPT0xUSVApfSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcIm11dGF0aW9uXCIpO2Euc2V0QXR0cmlidXRlKFwiaXRlbXNcIix0aGlzLml0ZW1Db3VudF8pO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuaXRlbUNvdW50Xz1wYXJzZUludChhLmdldEF0dHJpYnV0ZShcIml0ZW1zXCIpLFxuMTApO3RoaXMudXBkYXRlU2hhcGVfKCl9LGRlY29tcG9zZTpmdW5jdGlvbihhKXt2YXIgYj1hLm5ld0Jsb2NrKFwibGlzdHNfY3JlYXRlX3dpdGhfY29udGFpbmVyXCIpO2IuaW5pdFN2ZygpO2Zvcih2YXIgYz1iLmdldElucHV0KFwiU1RBQ0tcIikuY29ubmVjdGlvbixkPTA7ZDx0aGlzLml0ZW1Db3VudF87ZCsrKXt2YXIgZT1hLm5ld0Jsb2NrKFwibGlzdHNfY3JlYXRlX3dpdGhfaXRlbVwiKTtlLmluaXRTdmcoKTtjLmNvbm5lY3QoZS5wcmV2aW91c0Nvbm5lY3Rpb24pO2M9ZS5uZXh0Q29ubmVjdGlvbn1yZXR1cm4gYn0sY29tcG9zZTpmdW5jdGlvbihhKXt2YXIgYj1hLmdldElucHV0VGFyZ2V0QmxvY2soXCJTVEFDS1wiKTtmb3IoYT1bXTtiOylhLnB1c2goYi52YWx1ZUNvbm5lY3Rpb25fKSxiPWIubmV4dENvbm5lY3Rpb24mJmIubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKTtmb3IoYj0wO2I8dGhpcy5pdGVtQ291bnRfO2IrKyl7dmFyIGM9dGhpcy5nZXRJbnB1dChcIkFERFwiK2IpLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbjtcbmMmJi0xPT1hLmluZGV4T2YoYykmJmMuZGlzY29ubmVjdCgpfXRoaXMuaXRlbUNvdW50Xz1hLmxlbmd0aDt0aGlzLnVwZGF0ZVNoYXBlXygpO2ZvcihiPTA7Yjx0aGlzLml0ZW1Db3VudF87YisrKUJsb2NrbHkuTXV0YXRvci5yZWNvbm5lY3QoYVtiXSx0aGlzLFwiQUREXCIrYil9LHNhdmVDb25uZWN0aW9uczpmdW5jdGlvbihhKXthPWEuZ2V0SW5wdXRUYXJnZXRCbG9jayhcIlNUQUNLXCIpO2Zvcih2YXIgYj0wO2E7KXt2YXIgYz10aGlzLmdldElucHV0KFwiQUREXCIrYik7YS52YWx1ZUNvbm5lY3Rpb25fPWMmJmMuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO2IrKzthPWEubmV4dENvbm5lY3Rpb24mJmEubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKX19LHVwZGF0ZVNoYXBlXzpmdW5jdGlvbigpe3RoaXMuaXRlbUNvdW50XyYmdGhpcy5nZXRJbnB1dChcIkVNUFRZXCIpP3RoaXMucmVtb3ZlSW5wdXQoXCJFTVBUWVwiKTp0aGlzLml0ZW1Db3VudF98fHRoaXMuZ2V0SW5wdXQoXCJFTVBUWVwiKXx8XG50aGlzLmFwcGVuZER1bW15SW5wdXQoXCJFTVBUWVwiKS5hcHBlbmRGaWVsZChCbG9ja2x5Lk1zZy5MSVNUU19DUkVBVEVfRU1QVFlfVElUTEUpO2Zvcih2YXIgYT0wO2E8dGhpcy5pdGVtQ291bnRfO2ErKylpZighdGhpcy5nZXRJbnB1dChcIkFERFwiK2EpKXt2YXIgYj10aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJBRERcIithKS5zZXRBbGlnbihCbG9ja2x5LkFMSUdOX1JJR0hUKTswPT1hJiZiLmFwcGVuZEZpZWxkKEJsb2NrbHkuTXNnLkxJU1RTX0NSRUFURV9XSVRIX0lOUFVUX1dJVEgpfWZvcig7dGhpcy5nZXRJbnB1dChcIkFERFwiK2EpOyl0aGlzLnJlbW92ZUlucHV0KFwiQUREXCIrYSksYSsrfX07XG5CbG9ja2x5LkJsb2Nrcy5saXN0c19jcmVhdGVfd2l0aF9jb250YWluZXI9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLnNldFN0eWxlKFwibGlzdF9ibG9ja3NcIik7dGhpcy5hcHBlbmREdW1teUlucHV0KCkuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuTElTVFNfQ1JFQVRFX1dJVEhfQ09OVEFJTkVSX1RJVExFX0FERCk7dGhpcy5hcHBlbmRTdGF0ZW1lbnRJbnB1dChcIlNUQUNLXCIpO3RoaXMuc2V0VG9vbHRpcChCbG9ja2x5Lk1zZy5MSVNUU19DUkVBVEVfV0lUSF9DT05UQUlORVJfVE9PTFRJUCk7dGhpcy5jb250ZXh0TWVudT0hMX19O1xuQmxvY2tseS5CbG9ja3MubGlzdHNfY3JlYXRlX3dpdGhfaXRlbT17aW5pdDpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGUoXCJsaXN0X2Jsb2Nrc1wiKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoKS5hcHBlbmRGaWVsZChCbG9ja2x5Lk1zZy5MSVNUU19DUkVBVEVfV0lUSF9JVEVNX1RJVExFKTt0aGlzLnNldFByZXZpb3VzU3RhdGVtZW50KCEwKTt0aGlzLnNldE5leHRTdGF0ZW1lbnQoITApO3RoaXMuc2V0VG9vbHRpcChCbG9ja2x5Lk1zZy5MSVNUU19DUkVBVEVfV0lUSF9JVEVNX1RPT0xUSVApO3RoaXMuY29udGV4dE1lbnU9ITF9fTtcbkJsb2NrbHkuQmxvY2tzLmxpc3RzX2luZGV4T2Y9e2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT1bW0Jsb2NrbHkuTXNnLkxJU1RTX0lOREVYX09GX0ZJUlNULFwiRklSU1RcIl0sW0Jsb2NrbHkuTXNnLkxJU1RTX0lOREVYX09GX0xBU1QsXCJMQVNUXCJdXTt0aGlzLnNldEhlbHBVcmwoQmxvY2tseS5Nc2cuTElTVFNfSU5ERVhfT0ZfSEVMUFVSTCk7dGhpcy5zZXRTdHlsZShcImxpc3RfYmxvY2tzXCIpO3RoaXMuc2V0T3V0cHV0KCEwLFwiTnVtYmVyXCIpO3RoaXMuYXBwZW5kVmFsdWVJbnB1dChcIlZBTFVFXCIpLnNldENoZWNrKFwiQXJyYXlcIikuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuTElTVFNfSU5ERVhfT0ZfSU5QVVRfSU5fTElTVCk7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiRklORFwiKS5hcHBlbmRGaWVsZChuZXcgQmxvY2tseS5GaWVsZERyb3Bkb3duKGEpLFwiRU5EXCIpO3RoaXMuc2V0SW5wdXRzSW5saW5lKCEwKTt2YXIgYj10aGlzO3RoaXMuc2V0VG9vbHRpcChmdW5jdGlvbigpe3JldHVybiBCbG9ja2x5Lk1zZy5MSVNUU19JTkRFWF9PRl9UT09MVElQLnJlcGxhY2UoXCIlMVwiLFxuYi53b3Jrc3BhY2Uub3B0aW9ucy5vbmVCYXNlZEluZGV4P1wiMFwiOlwiLTFcIil9KX19O1xuQmxvY2tseS5CbG9ja3MubGlzdHNfZ2V0SW5kZXg9e2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT1bW0Jsb2NrbHkuTXNnLkxJU1RTX0dFVF9JTkRFWF9HRVQsXCJHRVRcIl0sW0Jsb2NrbHkuTXNnLkxJU1RTX0dFVF9JTkRFWF9HRVRfUkVNT1ZFLFwiR0VUX1JFTU9WRVwiXSxbQmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1JFTU9WRSxcIlJFTU9WRVwiXV07dGhpcy5XSEVSRV9PUFRJT05TPVtbQmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX0ZST01fU1RBUlQsXCJGUk9NX1NUQVJUXCJdLFtCbG9ja2x5Lk1zZy5MSVNUU19HRVRfSU5ERVhfRlJPTV9FTkQsXCJGUk9NX0VORFwiXSxbQmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX0ZJUlNULFwiRklSU1RcIl0sW0Jsb2NrbHkuTXNnLkxJU1RTX0dFVF9JTkRFWF9MQVNULFwiTEFTVFwiXSxbQmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1JBTkRPTSxcIlJBTkRPTVwiXV07dGhpcy5zZXRIZWxwVXJsKEJsb2NrbHkuTXNnLkxJU1RTX0dFVF9JTkRFWF9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwibGlzdF9ibG9ja3NcIik7XG5hPW5ldyBCbG9ja2x5LkZpZWxkRHJvcGRvd24oYSxmdW5jdGlvbihhKXthPVwiUkVNT1ZFXCI9PWE7dGhpcy5nZXRTb3VyY2VCbG9jaygpLnVwZGF0ZVN0YXRlbWVudF8oYSl9KTt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJWQUxVRVwiKS5zZXRDaGVjayhcIkFycmF5XCIpLmFwcGVuZEZpZWxkKEJsb2NrbHkuTXNnLkxJU1RTX0dFVF9JTkRFWF9JTlBVVF9JTl9MSVNUKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoKS5hcHBlbmRGaWVsZChhLFwiTU9ERVwiKS5hcHBlbmRGaWVsZChcIlwiLFwiU1BBQ0VcIik7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiQVRcIik7QmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1RBSUwmJnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIlRBSUxcIikuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1RBSUwpO3RoaXMuc2V0SW5wdXRzSW5saW5lKCEwKTt0aGlzLnNldE91dHB1dCghMCk7dGhpcy51cGRhdGVBdF8oITApO3ZhciBiPXRoaXM7dGhpcy5zZXRUb29sdGlwKGZ1bmN0aW9uKCl7dmFyIGE9XG5iLmdldEZpZWxkVmFsdWUoXCJNT0RFXCIpLGQ9Yi5nZXRGaWVsZFZhbHVlKFwiV0hFUkVcIiksZT1cIlwiO3N3aXRjaChhK1wiIFwiK2Qpe2Nhc2UgXCJHRVQgRlJPTV9TVEFSVFwiOmNhc2UgXCJHRVQgRlJPTV9FTkRcIjplPUJsb2NrbHkuTXNnLkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9GUk9NO2JyZWFrO2Nhc2UgXCJHRVQgRklSU1RcIjplPUJsb2NrbHkuTXNnLkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9GSVJTVDticmVhaztjYXNlIFwiR0VUIExBU1RcIjplPUJsb2NrbHkuTXNnLkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9MQVNUO2JyZWFrO2Nhc2UgXCJHRVQgUkFORE9NXCI6ZT1CbG9ja2x5Lk1zZy5MSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfUkFORE9NO2JyZWFrO2Nhc2UgXCJHRVRfUkVNT1ZFIEZST01fU1RBUlRcIjpjYXNlIFwiR0VUX1JFTU9WRSBGUk9NX0VORFwiOmU9QmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX1JFTU9WRV9GUk9NO2JyZWFrO2Nhc2UgXCJHRVRfUkVNT1ZFIEZJUlNUXCI6ZT1cbkJsb2NrbHkuTXNnLkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9SRU1PVkVfRklSU1Q7YnJlYWs7Y2FzZSBcIkdFVF9SRU1PVkUgTEFTVFwiOmU9QmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX1JFTU9WRV9MQVNUO2JyZWFrO2Nhc2UgXCJHRVRfUkVNT1ZFIFJBTkRPTVwiOmU9QmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX1JFTU9WRV9SQU5ET007YnJlYWs7Y2FzZSBcIlJFTU9WRSBGUk9NX1NUQVJUXCI6Y2FzZSBcIlJFTU9WRSBGUk9NX0VORFwiOmU9QmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfUkVNT1ZFX0ZST007YnJlYWs7Y2FzZSBcIlJFTU9WRSBGSVJTVFwiOmU9QmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfUkVNT1ZFX0ZJUlNUO2JyZWFrO2Nhc2UgXCJSRU1PVkUgTEFTVFwiOmU9QmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfUkVNT1ZFX0xBU1Q7YnJlYWs7Y2FzZSBcIlJFTU9WRSBSQU5ET01cIjplPVxuQmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfUkVNT1ZFX1JBTkRPTX1pZihcIkZST01fU1RBUlRcIj09ZHx8XCJGUk9NX0VORFwiPT1kKWUrPVwiICBcIisoXCJGUk9NX1NUQVJUXCI9PWQ/QmxvY2tseS5Nc2cuTElTVFNfSU5ERVhfRlJPTV9TVEFSVF9UT09MVElQOkJsb2NrbHkuTXNnLkxJU1RTX0lOREVYX0ZST01fRU5EX1RPT0xUSVApLnJlcGxhY2UoXCIlMVwiLGIud29ya3NwYWNlLm9wdGlvbnMub25lQmFzZWRJbmRleD9cIiMxXCI6XCIjMFwiKTtyZXR1cm4gZX0pfSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcIm11dGF0aW9uXCIpO2Euc2V0QXR0cmlidXRlKFwic3RhdGVtZW50XCIsIXRoaXMub3V0cHV0Q29ubmVjdGlvbik7dmFyIGI9dGhpcy5nZXRJbnB1dChcIkFUXCIpLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUU7YS5zZXRBdHRyaWJ1dGUoXCJhdFwiLGIpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPVxuXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwic3RhdGVtZW50XCIpO3RoaXMudXBkYXRlU3RhdGVtZW50XyhiKTthPVwiZmFsc2VcIiE9YS5nZXRBdHRyaWJ1dGUoXCJhdFwiKTt0aGlzLnVwZGF0ZUF0XyhhKX0sdXBkYXRlU3RhdGVtZW50XzpmdW5jdGlvbihhKXthIT0hdGhpcy5vdXRwdXRDb25uZWN0aW9uJiYodGhpcy51bnBsdWcoITAsITApLGE/KHRoaXMuc2V0T3V0cHV0KCExKSx0aGlzLnNldFByZXZpb3VzU3RhdGVtZW50KCEwKSx0aGlzLnNldE5leHRTdGF0ZW1lbnQoITApKToodGhpcy5zZXRQcmV2aW91c1N0YXRlbWVudCghMSksdGhpcy5zZXROZXh0U3RhdGVtZW50KCExKSx0aGlzLnNldE91dHB1dCghMCkpKX0sdXBkYXRlQXRfOmZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlSW5wdXQoXCJBVFwiKTt0aGlzLnJlbW92ZUlucHV0KFwiT1JESU5BTFwiLCEwKTthPyh0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJBVFwiKS5zZXRDaGVjayhcIk51bWJlclwiKSxCbG9ja2x5Lk1zZy5PUkRJTkFMX05VTUJFUl9TVUZGSVgmJlxudGhpcy5hcHBlbmREdW1teUlucHV0KFwiT1JESU5BTFwiKS5hcHBlbmRGaWVsZChCbG9ja2x5Lk1zZy5PUkRJTkFMX05VTUJFUl9TVUZGSVgpKTp0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJBVFwiKTt2YXIgYj1uZXcgQmxvY2tseS5GaWVsZERyb3Bkb3duKHRoaXMuV0hFUkVfT1BUSU9OUyxmdW5jdGlvbihiKXt2YXIgYz1cIkZST01fU1RBUlRcIj09Ynx8XCJGUk9NX0VORFwiPT1iO2lmKGMhPWEpe3ZhciBlPXRoaXMuZ2V0U291cmNlQmxvY2soKTtlLnVwZGF0ZUF0XyhjKTtlLnNldEZpZWxkVmFsdWUoYixcIldIRVJFXCIpO3JldHVybiBudWxsfX0pO3RoaXMuZ2V0SW5wdXQoXCJBVFwiKS5hcHBlbmRGaWVsZChiLFwiV0hFUkVcIik7QmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1RBSUwmJnRoaXMubW92ZUlucHV0QmVmb3JlKFwiVEFJTFwiLG51bGwpfX07XG5CbG9ja2x5LkJsb2Nrcy5saXN0c19zZXRJbmRleD17aW5pdDpmdW5jdGlvbigpe3ZhciBhPVtbQmxvY2tseS5Nc2cuTElTVFNfU0VUX0lOREVYX1NFVCxcIlNFVFwiXSxbQmxvY2tseS5Nc2cuTElTVFNfU0VUX0lOREVYX0lOU0VSVCxcIklOU0VSVFwiXV07dGhpcy5XSEVSRV9PUFRJT05TPVtbQmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX0ZST01fU1RBUlQsXCJGUk9NX1NUQVJUXCJdLFtCbG9ja2x5Lk1zZy5MSVNUU19HRVRfSU5ERVhfRlJPTV9FTkQsXCJGUk9NX0VORFwiXSxbQmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX0ZJUlNULFwiRklSU1RcIl0sW0Jsb2NrbHkuTXNnLkxJU1RTX0dFVF9JTkRFWF9MQVNULFwiTEFTVFwiXSxbQmxvY2tseS5Nc2cuTElTVFNfR0VUX0lOREVYX1JBTkRPTSxcIlJBTkRPTVwiXV07dGhpcy5zZXRIZWxwVXJsKEJsb2NrbHkuTXNnLkxJU1RTX1NFVF9JTkRFWF9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwibGlzdF9ibG9ja3NcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiTElTVFwiKS5zZXRDaGVjayhcIkFycmF5XCIpLmFwcGVuZEZpZWxkKEJsb2NrbHkuTXNnLkxJU1RTX1NFVF9JTkRFWF9JTlBVVF9JTl9MSVNUKTtcbnRoaXMuYXBwZW5kRHVtbXlJbnB1dCgpLmFwcGVuZEZpZWxkKG5ldyBCbG9ja2x5LkZpZWxkRHJvcGRvd24oYSksXCJNT0RFXCIpLmFwcGVuZEZpZWxkKFwiXCIsXCJTUEFDRVwiKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJBVFwiKTt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJUT1wiKS5hcHBlbmRGaWVsZChCbG9ja2x5Lk1zZy5MSVNUU19TRVRfSU5ERVhfSU5QVVRfVE8pO3RoaXMuc2V0SW5wdXRzSW5saW5lKCEwKTt0aGlzLnNldFByZXZpb3VzU3RhdGVtZW50KCEwKTt0aGlzLnNldE5leHRTdGF0ZW1lbnQoITApO3RoaXMuc2V0VG9vbHRpcChCbG9ja2x5Lk1zZy5MSVNUU19TRVRfSU5ERVhfVE9PTFRJUCk7dGhpcy51cGRhdGVBdF8oITApO3ZhciBiPXRoaXM7dGhpcy5zZXRUb29sdGlwKGZ1bmN0aW9uKCl7dmFyIGE9Yi5nZXRGaWVsZFZhbHVlKFwiTU9ERVwiKSxkPWIuZ2V0RmllbGRWYWx1ZShcIldIRVJFXCIpLGU9XCJcIjtzd2l0Y2goYStcIiBcIitkKXtjYXNlIFwiU0VUIEZST01fU1RBUlRcIjpjYXNlIFwiU0VUIEZST01fRU5EXCI6ZT1cbkJsb2NrbHkuTXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX1NFVF9GUk9NO2JyZWFrO2Nhc2UgXCJTRVQgRklSU1RcIjplPUJsb2NrbHkuTXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX1NFVF9GSVJTVDticmVhaztjYXNlIFwiU0VUIExBU1RcIjplPUJsb2NrbHkuTXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX1NFVF9MQVNUO2JyZWFrO2Nhc2UgXCJTRVQgUkFORE9NXCI6ZT1CbG9ja2x5Lk1zZy5MSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9TRVRfUkFORE9NO2JyZWFrO2Nhc2UgXCJJTlNFUlQgRlJPTV9TVEFSVFwiOmNhc2UgXCJJTlNFUlQgRlJPTV9FTkRcIjplPUJsb2NrbHkuTXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX0lOU0VSVF9GUk9NO2JyZWFrO2Nhc2UgXCJJTlNFUlQgRklSU1RcIjplPUJsb2NrbHkuTXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX0lOU0VSVF9GSVJTVDticmVhaztjYXNlIFwiSU5TRVJUIExBU1RcIjplPUJsb2NrbHkuTXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX0lOU0VSVF9MQVNUO1xuYnJlYWs7Y2FzZSBcIklOU0VSVCBSQU5ET01cIjplPUJsb2NrbHkuTXNnLkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX0lOU0VSVF9SQU5ET019aWYoXCJGUk9NX1NUQVJUXCI9PWR8fFwiRlJPTV9FTkRcIj09ZCllKz1cIiAgXCIrQmxvY2tseS5Nc2cuTElTVFNfSU5ERVhfRlJPTV9TVEFSVF9UT09MVElQLnJlcGxhY2UoXCIlMVwiLGIud29ya3NwYWNlLm9wdGlvbnMub25lQmFzZWRJbmRleD9cIiMxXCI6XCIjMFwiKTtyZXR1cm4gZX0pfSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcIm11dGF0aW9uXCIpLGI9dGhpcy5nZXRJbnB1dChcIkFUXCIpLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUU7YS5zZXRBdHRyaWJ1dGUoXCJhdFwiLGIpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe2E9XCJmYWxzZVwiIT1hLmdldEF0dHJpYnV0ZShcImF0XCIpO3RoaXMudXBkYXRlQXRfKGEpfSx1cGRhdGVBdF86ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVJbnB1dChcIkFUXCIpO1xudGhpcy5yZW1vdmVJbnB1dChcIk9SRElOQUxcIiwhMCk7YT8odGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiQVRcIikuc2V0Q2hlY2soXCJOdW1iZXJcIiksQmxvY2tseS5Nc2cuT1JESU5BTF9OVU1CRVJfU1VGRklYJiZ0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJPUkRJTkFMXCIpLmFwcGVuZEZpZWxkKEJsb2NrbHkuTXNnLk9SRElOQUxfTlVNQkVSX1NVRkZJWCkpOnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkFUXCIpO3ZhciBiPW5ldyBCbG9ja2x5LkZpZWxkRHJvcGRvd24odGhpcy5XSEVSRV9PUFRJT05TLGZ1bmN0aW9uKGIpe3ZhciBjPVwiRlJPTV9TVEFSVFwiPT1ifHxcIkZST01fRU5EXCI9PWI7aWYoYyE9YSl7dmFyIGU9dGhpcy5nZXRTb3VyY2VCbG9jaygpO2UudXBkYXRlQXRfKGMpO2Uuc2V0RmllbGRWYWx1ZShiLFwiV0hFUkVcIik7cmV0dXJuIG51bGx9fSk7dGhpcy5tb3ZlSW5wdXRCZWZvcmUoXCJBVFwiLFwiVE9cIik7dGhpcy5nZXRJbnB1dChcIk9SRElOQUxcIikmJnRoaXMubW92ZUlucHV0QmVmb3JlKFwiT1JESU5BTFwiLFxuXCJUT1wiKTt0aGlzLmdldElucHV0KFwiQVRcIikuYXBwZW5kRmllbGQoYixcIldIRVJFXCIpfX07XG5CbG9ja2x5LkJsb2Nrcy5saXN0c19nZXRTdWJsaXN0PXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5XSEVSRV9PUFRJT05TXzE9W1tCbG9ja2x5Lk1zZy5MSVNUU19HRVRfU1VCTElTVF9TVEFSVF9GUk9NX1NUQVJULFwiRlJPTV9TVEFSVFwiXSxbQmxvY2tseS5Nc2cuTElTVFNfR0VUX1NVQkxJU1RfU1RBUlRfRlJPTV9FTkQsXCJGUk9NX0VORFwiXSxbQmxvY2tseS5Nc2cuTElTVFNfR0VUX1NVQkxJU1RfU1RBUlRfRklSU1QsXCJGSVJTVFwiXV07dGhpcy5XSEVSRV9PUFRJT05TXzI9W1tCbG9ja2x5Lk1zZy5MSVNUU19HRVRfU1VCTElTVF9FTkRfRlJPTV9TVEFSVCxcIkZST01fU1RBUlRcIl0sW0Jsb2NrbHkuTXNnLkxJU1RTX0dFVF9TVUJMSVNUX0VORF9GUk9NX0VORCxcIkZST01fRU5EXCJdLFtCbG9ja2x5Lk1zZy5MSVNUU19HRVRfU1VCTElTVF9FTkRfTEFTVCxcIkxBU1RcIl1dO3RoaXMuc2V0SGVscFVybChCbG9ja2x5Lk1zZy5MSVNUU19HRVRfU1VCTElTVF9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwibGlzdF9ibG9ja3NcIik7XG50aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJMSVNUXCIpLnNldENoZWNrKFwiQXJyYXlcIikuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuTElTVFNfR0VUX1NVQkxJU1RfSU5QVVRfSU5fTElTVCk7dGhpcy5hcHBlbmREdW1teUlucHV0KFwiQVQxXCIpO3RoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkFUMlwiKTtCbG9ja2x5Lk1zZy5MSVNUU19HRVRfU1VCTElTVF9UQUlMJiZ0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJUQUlMXCIpLmFwcGVuZEZpZWxkKEJsb2NrbHkuTXNnLkxJU1RTX0dFVF9TVUJMSVNUX1RBSUwpO3RoaXMuc2V0SW5wdXRzSW5saW5lKCEwKTt0aGlzLnNldE91dHB1dCghMCxcIkFycmF5XCIpO3RoaXMudXBkYXRlQXRfKDEsITApO3RoaXMudXBkYXRlQXRfKDIsITApO3RoaXMuc2V0VG9vbHRpcChCbG9ja2x5Lk1zZy5MSVNUU19HRVRfU1VCTElTVF9UT09MVElQKX0sbXV0YXRpb25Ub0RvbTpmdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJtdXRhdGlvblwiKSxcbmI9dGhpcy5nZXRJbnB1dChcIkFUMVwiKS50eXBlPT1CbG9ja2x5LklOUFVUX1ZBTFVFO2Euc2V0QXR0cmlidXRlKFwiYXQxXCIsYik7Yj10aGlzLmdldElucHV0KFwiQVQyXCIpLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUU7YS5zZXRBdHRyaWJ1dGUoXCJhdDJcIixiKTtyZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1cInRydWVcIj09YS5nZXRBdHRyaWJ1dGUoXCJhdDFcIik7YT1cInRydWVcIj09YS5nZXRBdHRyaWJ1dGUoXCJhdDJcIik7dGhpcy51cGRhdGVBdF8oMSxiKTt0aGlzLnVwZGF0ZUF0XygyLGEpfSx1cGRhdGVBdF86ZnVuY3Rpb24oYSxiKXt0aGlzLnJlbW92ZUlucHV0KFwiQVRcIithKTt0aGlzLnJlbW92ZUlucHV0KFwiT1JESU5BTFwiK2EsITApO2I/KHRoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkFUXCIrYSkuc2V0Q2hlY2soXCJOdW1iZXJcIiksQmxvY2tseS5Nc2cuT1JESU5BTF9OVU1CRVJfU1VGRklYJiZ0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJPUkRJTkFMXCIrYSkuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuT1JESU5BTF9OVU1CRVJfU1VGRklYKSk6XG50aGlzLmFwcGVuZER1bW15SW5wdXQoXCJBVFwiK2EpO3ZhciBjPW5ldyBCbG9ja2x5LkZpZWxkRHJvcGRvd24odGhpc1tcIldIRVJFX09QVElPTlNfXCIrYV0sZnVuY3Rpb24oYyl7dmFyIGU9XCJGUk9NX1NUQVJUXCI9PWN8fFwiRlJPTV9FTkRcIj09YztpZihlIT1iKXt2YXIgZD10aGlzLmdldFNvdXJjZUJsb2NrKCk7ZC51cGRhdGVBdF8oYSxlKTtkLnNldEZpZWxkVmFsdWUoYyxcIldIRVJFXCIrYSk7cmV0dXJuIG51bGx9fSk7dGhpcy5nZXRJbnB1dChcIkFUXCIrYSkuYXBwZW5kRmllbGQoYyxcIldIRVJFXCIrYSk7MT09YSYmKHRoaXMubW92ZUlucHV0QmVmb3JlKFwiQVQxXCIsXCJBVDJcIiksdGhpcy5nZXRJbnB1dChcIk9SRElOQUwxXCIpJiZ0aGlzLm1vdmVJbnB1dEJlZm9yZShcIk9SRElOQUwxXCIsXCJBVDJcIikpO0Jsb2NrbHkuTXNnLkxJU1RTX0dFVF9TVUJMSVNUX1RBSUwmJnRoaXMubW92ZUlucHV0QmVmb3JlKFwiVEFJTFwiLG51bGwpfX07XG5CbG9ja2x5LkJsb2Nrcy5saXN0c19zb3J0PXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5qc29uSW5pdCh7bWVzc2FnZTA6QmxvY2tseS5Nc2cuTElTVFNfU09SVF9USVRMRSxhcmdzMDpbe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJUWVBFXCIsb3B0aW9uczpbW0Jsb2NrbHkuTXNnLkxJU1RTX1NPUlRfVFlQRV9OVU1FUklDLFwiTlVNRVJJQ1wiXSxbQmxvY2tseS5Nc2cuTElTVFNfU09SVF9UWVBFX1RFWFQsXCJURVhUXCJdLFtCbG9ja2x5Lk1zZy5MSVNUU19TT1JUX1RZUEVfSUdOT1JFQ0FTRSxcIklHTk9SRV9DQVNFXCJdXX0se3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJESVJFQ1RJT05cIixvcHRpb25zOltbQmxvY2tseS5Nc2cuTElTVFNfU09SVF9PUkRFUl9BU0NFTkRJTkcsXCIxXCJdLFtCbG9ja2x5Lk1zZy5MSVNUU19TT1JUX09SREVSX0RFU0NFTkRJTkcsXCItMVwiXV19LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTElTVFwiLGNoZWNrOlwiQXJyYXlcIn1dLG91dHB1dDpcIkFycmF5XCIsc3R5bGU6XCJsaXN0X2Jsb2Nrc1wiLFxudG9vbHRpcDpCbG9ja2x5Lk1zZy5MSVNUU19TT1JUX1RPT0xUSVAsaGVscFVybDpCbG9ja2x5Lk1zZy5MSVNUU19TT1JUX0hFTFBVUkx9KX19O1xuQmxvY2tseS5CbG9ja3MubGlzdHNfc3BsaXQ9e2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9bmV3IEJsb2NrbHkuRmllbGREcm9wZG93bihbW0Jsb2NrbHkuTXNnLkxJU1RTX1NQTElUX0xJU1RfRlJPTV9URVhULFwiU1BMSVRcIl0sW0Jsb2NrbHkuTXNnLkxJU1RTX1NQTElUX1RFWFRfRlJPTV9MSVNULFwiSk9JTlwiXV0sZnVuY3Rpb24oYil7YS51cGRhdGVUeXBlXyhiKX0pO3RoaXMuc2V0SGVscFVybChCbG9ja2x5Lk1zZy5MSVNUU19TUExJVF9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwibGlzdF9ibG9ja3NcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiSU5QVVRcIikuc2V0Q2hlY2soXCJTdHJpbmdcIikuYXBwZW5kRmllbGQoYixcIk1PREVcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiREVMSU1cIikuc2V0Q2hlY2soXCJTdHJpbmdcIikuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuTElTVFNfU1BMSVRfV0lUSF9ERUxJTUlURVIpO3RoaXMuc2V0SW5wdXRzSW5saW5lKCEwKTt0aGlzLnNldE91dHB1dCghMCxcblwiQXJyYXlcIik7dGhpcy5zZXRUb29sdGlwKGZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRGaWVsZFZhbHVlKFwiTU9ERVwiKTtpZihcIlNQTElUXCI9PWIpcmV0dXJuIEJsb2NrbHkuTXNnLkxJU1RTX1NQTElUX1RPT0xUSVBfU1BMSVQ7aWYoXCJKT0lOXCI9PWIpcmV0dXJuIEJsb2NrbHkuTXNnLkxJU1RTX1NQTElUX1RPT0xUSVBfSk9JTjt0aHJvdyBFcnJvcihcIlVua25vd24gbW9kZTogXCIrYik7fSl9LHVwZGF0ZVR5cGVfOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZ2V0RmllbGRWYWx1ZShcIk1PREVcIikhPWEpe3ZhciBiPXRoaXMuZ2V0SW5wdXQoXCJJTlBVVFwiKS5jb25uZWN0aW9uO2Iuc2V0U2hhZG93RG9tKG51bGwpO3ZhciBjPWIudGFyZ2V0QmxvY2soKTtjJiYoYi5kaXNjb25uZWN0KCksYy5pc1NoYWRvdygpP2MuZGlzcG9zZSgpOnRoaXMuYnVtcE5laWdoYm91cnMoKSl9XCJTUExJVFwiPT1hPyh0aGlzLm91dHB1dENvbm5lY3Rpb24uc2V0Q2hlY2soXCJBcnJheVwiKSx0aGlzLmdldElucHV0KFwiSU5QVVRcIikuc2V0Q2hlY2soXCJTdHJpbmdcIikpOlxuKHRoaXMub3V0cHV0Q29ubmVjdGlvbi5zZXRDaGVjayhcIlN0cmluZ1wiKSx0aGlzLmdldElucHV0KFwiSU5QVVRcIikuc2V0Q2hlY2soXCJBcnJheVwiKSl9LG11dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwibXV0YXRpb25cIik7YS5zZXRBdHRyaWJ1dGUoXCJtb2RlXCIsdGhpcy5nZXRGaWVsZFZhbHVlKFwiTU9ERVwiKSk7cmV0dXJuIGF9LGRvbVRvTXV0YXRpb246ZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVUeXBlXyhhLmdldEF0dHJpYnV0ZShcIm1vZGVcIikpfX07QmxvY2tseS5CbG9ja3MubG9naWM9e307QmxvY2tseS5Db25zdGFudHMuTG9naWM9e307QmxvY2tseS5Db25zdGFudHMuTG9naWMuSFVFPTIxMDtcbkJsb2NrbHkuZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheShbe3R5cGU6XCJsb2dpY19ib29sZWFuXCIsbWVzc2FnZTA6XCIlMVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIkJPT0xcIixvcHRpb25zOltbXCIle0JLWV9MT0dJQ19CT09MRUFOX1RSVUV9XCIsXCJUUlVFXCJdLFtcIiV7QktZX0xPR0lDX0JPT0xFQU5fRkFMU0V9XCIsXCJGQUxTRVwiXV19XSxvdXRwdXQ6XCJCb29sZWFuXCIsc3R5bGU6XCJsb2dpY19ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTE9HSUNfQk9PTEVBTl9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9MT0dJQ19CT09MRUFOX0hFTFBVUkx9XCJ9LHt0eXBlOlwiY29udHJvbHNfaWZcIixtZXNzYWdlMDpcIiV7QktZX0NPTlRST0xTX0lGX01TR19JRn0gJTFcIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJJRjBcIixjaGVjazpcIkJvb2xlYW5cIn1dLG1lc3NhZ2UxOlwiJXtCS1lfQ09OVFJPTFNfSUZfTVNHX1RIRU59ICUxXCIsYXJnczE6W3t0eXBlOlwiaW5wdXRfc3RhdGVtZW50XCIsXG5uYW1lOlwiRE8wXCJ9XSxwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9DT05UUk9MU19JRl9IRUxQVVJMfVwiLG11dGF0b3I6XCJjb250cm9sc19pZl9tdXRhdG9yXCIsZXh0ZW5zaW9uczpbXCJjb250cm9sc19pZl90b29sdGlwXCJdfSx7dHlwZTpcImNvbnRyb2xzX2lmZWxzZVwiLG1lc3NhZ2UwOlwiJXtCS1lfQ09OVFJPTFNfSUZfTVNHX0lGfSAlMVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIklGMFwiLGNoZWNrOlwiQm9vbGVhblwifV0sbWVzc2FnZTE6XCIle0JLWV9DT05UUk9MU19JRl9NU0dfVEhFTn0gJTFcIixhcmdzMTpbe3R5cGU6XCJpbnB1dF9zdGF0ZW1lbnRcIixuYW1lOlwiRE8wXCJ9XSxtZXNzYWdlMjpcIiV7QktZX0NPTlRST0xTX0lGX01TR19FTFNFfSAlMVwiLGFyZ3MyOlt7dHlwZTpcImlucHV0X3N0YXRlbWVudFwiLG5hbWU6XCJFTFNFXCJ9XSxwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxcbnN0eWxlOlwibG9naWNfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZQ09OVFJPTFNfSUZfVE9PTFRJUF8yfVwiLGhlbHBVcmw6XCIle0JLWV9DT05UUk9MU19JRl9IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wiY29udHJvbHNfaWZfdG9vbHRpcFwiXX0se3R5cGU6XCJsb2dpY19jb21wYXJlXCIsbWVzc2FnZTA6XCIlMSAlMiAlM1wiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkFcIn0se3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJPUFwiLG9wdGlvbnM6W1tcIj1cIixcIkVRXCJdLFtcIlxcdTIyNjBcIixcIk5FUVwiXSxbXCJcXHUyMDBmPFwiLFwiTFRcIl0sW1wiXFx1MjAwZlxcdTIyNjRcIixcIkxURVwiXSxbXCJcXHUyMDBmPlwiLFwiR1RcIl0sW1wiXFx1MjAwZlxcdTIyNjVcIixcIkdURVwiXV19LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiQlwifV0saW5wdXRzSW5saW5lOiEwLG91dHB1dDpcIkJvb2xlYW5cIixzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9MT0dJQ19DT01QQVJFX0hFTFBVUkx9XCIsZXh0ZW5zaW9uczpbXCJsb2dpY19jb21wYXJlXCIsXG5cImxvZ2ljX29wX3Rvb2x0aXBcIl19LHt0eXBlOlwibG9naWNfb3BlcmF0aW9uXCIsbWVzc2FnZTA6XCIlMSAlMiAlM1wiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkFcIixjaGVjazpcIkJvb2xlYW5cIn0se3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJPUFwiLG9wdGlvbnM6W1tcIiV7QktZX0xPR0lDX09QRVJBVElPTl9BTkR9XCIsXCJBTkRcIl0sW1wiJXtCS1lfTE9HSUNfT1BFUkFUSU9OX09SfVwiLFwiT1JcIl1dfSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkJcIixjaGVjazpcIkJvb2xlYW5cIn1dLGlucHV0c0lubGluZTohMCxvdXRwdXQ6XCJCb29sZWFuXCIsc3R5bGU6XCJsb2dpY19ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfTE9HSUNfT1BFUkFUSU9OX0hFTFBVUkx9XCIsZXh0ZW5zaW9uczpbXCJsb2dpY19vcF90b29sdGlwXCJdfSx7dHlwZTpcImxvZ2ljX25lZ2F0ZVwiLG1lc3NhZ2UwOlwiJXtCS1lfTE9HSUNfTkVHQVRFX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkJPT0xcIixcbmNoZWNrOlwiQm9vbGVhblwifV0sb3V0cHV0OlwiQm9vbGVhblwiLHN0eWxlOlwibG9naWNfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX0xPR0lDX05FR0FURV9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9MT0dJQ19ORUdBVEVfSEVMUFVSTH1cIn0se3R5cGU6XCJsb2dpY19udWxsXCIsbWVzc2FnZTA6XCIle0JLWV9MT0dJQ19OVUxMfVwiLG91dHB1dDpudWxsLHN0eWxlOlwibG9naWNfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX0xPR0lDX05VTExfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTE9HSUNfTlVMTF9IRUxQVVJMfVwifSx7dHlwZTpcImxvZ2ljX3Rlcm5hcnlcIixtZXNzYWdlMDpcIiV7QktZX0xPR0lDX1RFUk5BUllfQ09ORElUSU9OfSAlMVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIklGXCIsY2hlY2s6XCJCb29sZWFuXCJ9XSxtZXNzYWdlMTpcIiV7QktZX0xPR0lDX1RFUk5BUllfSUZfVFJVRX0gJTFcIixhcmdzMTpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJUSEVOXCJ9XSxtZXNzYWdlMjpcIiV7QktZX0xPR0lDX1RFUk5BUllfSUZfRkFMU0V9ICUxXCIsXG5hcmdzMjpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJFTFNFXCJ9XSxvdXRwdXQ6bnVsbCxzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9MT0dJQ19URVJOQVJZX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX0xPR0lDX1RFUk5BUllfSEVMUFVSTH1cIixleHRlbnNpb25zOltcImxvZ2ljX3Rlcm5hcnlcIl19XSk7XG5CbG9ja2x5LmRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXkoW3t0eXBlOlwiY29udHJvbHNfaWZfaWZcIixtZXNzYWdlMDpcIiV7QktZX0NPTlRST0xTX0lGX0lGX1RJVExFX0lGfVwiLG5leHRTdGF0ZW1lbnQ6bnVsbCxlbmFibGVDb250ZXh0TWVudTohMSxzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9DT05UUk9MU19JRl9JRl9UT09MVElQfVwifSx7dHlwZTpcImNvbnRyb2xzX2lmX2Vsc2VpZlwiLG1lc3NhZ2UwOlwiJXtCS1lfQ09OVFJPTFNfSUZfRUxTRUlGX1RJVExFX0VMU0VJRn1cIixwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxlbmFibGVDb250ZXh0TWVudTohMSxzdHlsZTpcImxvZ2ljX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9DT05UUk9MU19JRl9FTFNFSUZfVE9PTFRJUH1cIn0se3R5cGU6XCJjb250cm9sc19pZl9lbHNlXCIsbWVzc2FnZTA6XCIle0JLWV9DT05UUk9MU19JRl9FTFNFX1RJVExFX0VMU0V9XCIscHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxcbmVuYWJsZUNvbnRleHRNZW51OiExLHN0eWxlOlwibG9naWNfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX0NPTlRST0xTX0lGX0VMU0VfVE9PTFRJUH1cIn1dKTtCbG9ja2x5LkNvbnN0YW50cy5Mb2dpYy5UT09MVElQU19CWV9PUD17RVE6XCIle0JLWV9MT0dJQ19DT01QQVJFX1RPT0xUSVBfRVF9XCIsTkVROlwiJXtCS1lfTE9HSUNfQ09NUEFSRV9UT09MVElQX05FUX1cIixMVDpcIiV7QktZX0xPR0lDX0NPTVBBUkVfVE9PTFRJUF9MVH1cIixMVEU6XCIle0JLWV9MT0dJQ19DT01QQVJFX1RPT0xUSVBfTFRFfVwiLEdUOlwiJXtCS1lfTE9HSUNfQ09NUEFSRV9UT09MVElQX0dUfVwiLEdURTpcIiV7QktZX0xPR0lDX0NPTVBBUkVfVE9PTFRJUF9HVEV9XCIsQU5EOlwiJXtCS1lfTE9HSUNfT1BFUkFUSU9OX1RPT0xUSVBfQU5EfVwiLE9SOlwiJXtCS1lfTE9HSUNfT1BFUkFUSU9OX1RPT0xUSVBfT1J9XCJ9O1xuQmxvY2tseS5FeHRlbnNpb25zLnJlZ2lzdGVyKFwibG9naWNfb3BfdG9vbHRpcFwiLEJsb2NrbHkuRXh0ZW5zaW9ucy5idWlsZFRvb2x0aXBGb3JEcm9wZG93bihcIk9QXCIsQmxvY2tseS5Db25zdGFudHMuTG9naWMuVE9PTFRJUFNfQllfT1ApKTtcbkJsb2NrbHkuQ29uc3RhbnRzLkxvZ2ljLkNPTlRST0xTX0lGX01VVEFUT1JfTUlYSU49e2Vsc2VpZkNvdW50XzowLGVsc2VDb3VudF86MCxzdXBwcmVzc1ByZWZpeFN1ZmZpeDohMCxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZWxzZWlmQ291bnRfJiYhdGhpcy5lbHNlQ291bnRfKXJldHVybiBudWxsO3ZhciBhPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJtdXRhdGlvblwiKTt0aGlzLmVsc2VpZkNvdW50XyYmYS5zZXRBdHRyaWJ1dGUoXCJlbHNlaWZcIix0aGlzLmVsc2VpZkNvdW50Xyk7dGhpcy5lbHNlQ291bnRfJiZhLnNldEF0dHJpYnV0ZShcImVsc2VcIiwxKTtyZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXt0aGlzLmVsc2VpZkNvdW50Xz1wYXJzZUludChhLmdldEF0dHJpYnV0ZShcImVsc2VpZlwiKSwxMCl8fDA7dGhpcy5lbHNlQ291bnRfPXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKFwiZWxzZVwiKSwxMCl8fDA7dGhpcy5yZWJ1aWxkU2hhcGVfKCl9LFxuZGVjb21wb3NlOmZ1bmN0aW9uKGEpe3ZhciBiPWEubmV3QmxvY2soXCJjb250cm9sc19pZl9pZlwiKTtiLmluaXRTdmcoKTtmb3IodmFyIGM9Yi5uZXh0Q29ubmVjdGlvbixkPTE7ZDw9dGhpcy5lbHNlaWZDb3VudF87ZCsrKXt2YXIgZT1hLm5ld0Jsb2NrKFwiY29udHJvbHNfaWZfZWxzZWlmXCIpO2UuaW5pdFN2ZygpO2MuY29ubmVjdChlLnByZXZpb3VzQ29ubmVjdGlvbik7Yz1lLm5leHRDb25uZWN0aW9ufXRoaXMuZWxzZUNvdW50XyYmKGE9YS5uZXdCbG9jayhcImNvbnRyb2xzX2lmX2Vsc2VcIiksYS5pbml0U3ZnKCksYy5jb25uZWN0KGEucHJldmlvdXNDb25uZWN0aW9uKSk7cmV0dXJuIGJ9LGNvbXBvc2U6ZnVuY3Rpb24oYSl7YT1hLm5leHRDb25uZWN0aW9uLnRhcmdldEJsb2NrKCk7dGhpcy5lbHNlQ291bnRfPXRoaXMuZWxzZWlmQ291bnRfPTA7Zm9yKHZhciBiPVtudWxsXSxjPVtudWxsXSxkPW51bGw7YTspe3N3aXRjaChhLnR5cGUpe2Nhc2UgXCJjb250cm9sc19pZl9lbHNlaWZcIjp0aGlzLmVsc2VpZkNvdW50XysrO1xuYi5wdXNoKGEudmFsdWVDb25uZWN0aW9uXyk7Yy5wdXNoKGEuc3RhdGVtZW50Q29ubmVjdGlvbl8pO2JyZWFrO2Nhc2UgXCJjb250cm9sc19pZl9lbHNlXCI6dGhpcy5lbHNlQ291bnRfKys7ZD1hLnN0YXRlbWVudENvbm5lY3Rpb25fO2JyZWFrO2RlZmF1bHQ6dGhyb3cgVHlwZUVycm9yKFwiVW5rbm93biBibG9jayB0eXBlOiBcIithLnR5cGUpO31hPWEubmV4dENvbm5lY3Rpb24mJmEubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKX10aGlzLnVwZGF0ZVNoYXBlXygpO3RoaXMucmVjb25uZWN0Q2hpbGRCbG9ja3NfKGIsYyxkKX0sc2F2ZUNvbm5lY3Rpb25zOmZ1bmN0aW9uKGEpe2E9YS5uZXh0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpO2Zvcih2YXIgYj0xO2E7KXtzd2l0Y2goYS50eXBlKXtjYXNlIFwiY29udHJvbHNfaWZfZWxzZWlmXCI6dmFyIGM9dGhpcy5nZXRJbnB1dChcIklGXCIrYiksZD10aGlzLmdldElucHV0KFwiRE9cIitiKTthLnZhbHVlQ29ubmVjdGlvbl89YyYmYy5jb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb247XG5hLnN0YXRlbWVudENvbm5lY3Rpb25fPWQmJmQuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO2IrKzticmVhaztjYXNlIFwiY29udHJvbHNfaWZfZWxzZVwiOmQ9dGhpcy5nZXRJbnB1dChcIkVMU0VcIik7YS5zdGF0ZW1lbnRDb25uZWN0aW9uXz1kJiZkLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbjticmVhaztkZWZhdWx0OnRocm93IFR5cGVFcnJvcihcIlVua25vd24gYmxvY2sgdHlwZTogXCIrYS50eXBlKTt9YT1hLm5leHRDb25uZWN0aW9uJiZhLm5leHRDb25uZWN0aW9uLnRhcmdldEJsb2NrKCl9fSxyZWJ1aWxkU2hhcGVfOmZ1bmN0aW9uKCl7dmFyIGE9W251bGxdLGI9W251bGxdLGM9bnVsbDt0aGlzLmdldElucHV0KFwiRUxTRVwiKSYmKGM9dGhpcy5nZXRJbnB1dChcIkVMU0VcIikuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uKTtmb3IodmFyIGQ9MTt0aGlzLmdldElucHV0KFwiSUZcIitkKTspe3ZhciBlPXRoaXMuZ2V0SW5wdXQoXCJJRlwiK2QpLGY9dGhpcy5nZXRJbnB1dChcIkRPXCIrXG5kKTthLnB1c2goZS5jb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb24pO2IucHVzaChmLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbik7ZCsrfXRoaXMudXBkYXRlU2hhcGVfKCk7dGhpcy5yZWNvbm5lY3RDaGlsZEJsb2Nrc18oYSxiLGMpfSx1cGRhdGVTaGFwZV86ZnVuY3Rpb24oKXt0aGlzLmdldElucHV0KFwiRUxTRVwiKSYmdGhpcy5yZW1vdmVJbnB1dChcIkVMU0VcIik7Zm9yKHZhciBhPTE7dGhpcy5nZXRJbnB1dChcIklGXCIrYSk7KXRoaXMucmVtb3ZlSW5wdXQoXCJJRlwiK2EpLHRoaXMucmVtb3ZlSW5wdXQoXCJET1wiK2EpLGErKztmb3IoYT0xO2E8PXRoaXMuZWxzZWlmQ291bnRfO2ErKyl0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJJRlwiK2EpLnNldENoZWNrKFwiQm9vbGVhblwiKS5hcHBlbmRGaWVsZChCbG9ja2x5Lk1zZy5DT05UUk9MU19JRl9NU0dfRUxTRUlGKSx0aGlzLmFwcGVuZFN0YXRlbWVudElucHV0KFwiRE9cIithKS5hcHBlbmRGaWVsZChCbG9ja2x5Lk1zZy5DT05UUk9MU19JRl9NU0dfVEhFTik7XG50aGlzLmVsc2VDb3VudF8mJnRoaXMuYXBwZW5kU3RhdGVtZW50SW5wdXQoXCJFTFNFXCIpLmFwcGVuZEZpZWxkKEJsb2NrbHkuTXNnLkNPTlRST0xTX0lGX01TR19FTFNFKX0scmVjb25uZWN0Q2hpbGRCbG9ja3NfOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MTtkPD10aGlzLmVsc2VpZkNvdW50XztkKyspQmxvY2tseS5NdXRhdG9yLnJlY29ubmVjdChhW2RdLHRoaXMsXCJJRlwiK2QpLEJsb2NrbHkuTXV0YXRvci5yZWNvbm5lY3QoYltkXSx0aGlzLFwiRE9cIitkKTtCbG9ja2x5Lk11dGF0b3IucmVjb25uZWN0KGMsdGhpcyxcIkVMU0VcIil9fTtCbG9ja2x5LkV4dGVuc2lvbnMucmVnaXN0ZXJNdXRhdG9yKFwiY29udHJvbHNfaWZfbXV0YXRvclwiLEJsb2NrbHkuQ29uc3RhbnRzLkxvZ2ljLkNPTlRST0xTX0lGX01VVEFUT1JfTUlYSU4sbnVsbCxbXCJjb250cm9sc19pZl9lbHNlaWZcIixcImNvbnRyb2xzX2lmX2Vsc2VcIl0pO1xuQmxvY2tseS5Db25zdGFudHMuTG9naWMuQ09OVFJPTFNfSUZfVE9PTFRJUF9FWFRFTlNJT049ZnVuY3Rpb24oKXt0aGlzLnNldFRvb2x0aXAoZnVuY3Rpb24oKXtpZih0aGlzLmVsc2VpZkNvdW50X3x8dGhpcy5lbHNlQ291bnRfKXtpZighdGhpcy5lbHNlaWZDb3VudF8mJnRoaXMuZWxzZUNvdW50XylyZXR1cm4gQmxvY2tseS5Nc2cuQ09OVFJPTFNfSUZfVE9PTFRJUF8yO2lmKHRoaXMuZWxzZWlmQ291bnRfJiYhdGhpcy5lbHNlQ291bnRfKXJldHVybiBCbG9ja2x5Lk1zZy5DT05UUk9MU19JRl9UT09MVElQXzM7aWYodGhpcy5lbHNlaWZDb3VudF8mJnRoaXMuZWxzZUNvdW50XylyZXR1cm4gQmxvY2tseS5Nc2cuQ09OVFJPTFNfSUZfVE9PTFRJUF80fWVsc2UgcmV0dXJuIEJsb2NrbHkuTXNnLkNPTlRST0xTX0lGX1RPT0xUSVBfMTtyZXR1cm5cIlwifS5iaW5kKHRoaXMpKX07QmxvY2tseS5FeHRlbnNpb25zLnJlZ2lzdGVyKFwiY29udHJvbHNfaWZfdG9vbHRpcFwiLEJsb2NrbHkuQ29uc3RhbnRzLkxvZ2ljLkNPTlRST0xTX0lGX1RPT0xUSVBfRVhURU5TSU9OKTtcbkJsb2NrbHkuQ29uc3RhbnRzLkxvZ2ljLkxPR0lDX0NPTVBBUkVfT05DSEFOR0VfTUlYSU49e29uY2hhbmdlOmZ1bmN0aW9uKGEpe3RoaXMucHJldkJsb2Nrc198fCh0aGlzLnByZXZCbG9ja3NfPVtudWxsLG51bGxdKTt2YXIgYj10aGlzLmdldElucHV0VGFyZ2V0QmxvY2soXCJBXCIpLGM9dGhpcy5nZXRJbnB1dFRhcmdldEJsb2NrKFwiQlwiKTtiJiZjJiYhYi5vdXRwdXRDb25uZWN0aW9uLmNoZWNrVHlwZShjLm91dHB1dENvbm5lY3Rpb24pJiYoQmxvY2tseS5FdmVudHMuc2V0R3JvdXAoYS5ncm91cCksYT10aGlzLnByZXZCbG9ja3NfWzBdLGEhPT1iJiYoYi51bnBsdWcoKSwhYXx8YS5pc0Rpc3Bvc2VkKCl8fGEuaXNTaGFkb3coKXx8dGhpcy5nZXRJbnB1dChcIkFcIikuY29ubmVjdGlvbi5jb25uZWN0KGEub3V0cHV0Q29ubmVjdGlvbikpLGI9dGhpcy5wcmV2QmxvY2tzX1sxXSxiIT09YyYmKGMudW5wbHVnKCksIWJ8fGIuaXNEaXNwb3NlZCgpfHxiLmlzU2hhZG93KCl8fHRoaXMuZ2V0SW5wdXQoXCJCXCIpLmNvbm5lY3Rpb24uY29ubmVjdChiLm91dHB1dENvbm5lY3Rpb24pKSxcbnRoaXMuYnVtcE5laWdoYm91cnMoKSxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSkpO3RoaXMucHJldkJsb2Nrc19bMF09dGhpcy5nZXRJbnB1dFRhcmdldEJsb2NrKFwiQVwiKTt0aGlzLnByZXZCbG9ja3NfWzFdPXRoaXMuZ2V0SW5wdXRUYXJnZXRCbG9jayhcIkJcIil9fTtCbG9ja2x5LkNvbnN0YW50cy5Mb2dpYy5MT0dJQ19DT01QQVJFX0VYVEVOU0lPTj1mdW5jdGlvbigpe3RoaXMubWl4aW4oQmxvY2tseS5Db25zdGFudHMuTG9naWMuTE9HSUNfQ09NUEFSRV9PTkNIQU5HRV9NSVhJTil9O0Jsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3RlcihcImxvZ2ljX2NvbXBhcmVcIixCbG9ja2x5LkNvbnN0YW50cy5Mb2dpYy5MT0dJQ19DT01QQVJFX0VYVEVOU0lPTik7XG5CbG9ja2x5LkNvbnN0YW50cy5Mb2dpYy5MT0dJQ19URVJOQVJZX09OQ0hBTkdFX01JWElOPXtwcmV2UGFyZW50Q29ubmVjdGlvbl86bnVsbCxvbmNoYW5nZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldElucHV0VGFyZ2V0QmxvY2soXCJUSEVOXCIpLGM9dGhpcy5nZXRJbnB1dFRhcmdldEJsb2NrKFwiRUxTRVwiKSxkPXRoaXMub3V0cHV0Q29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO2lmKChifHxjKSYmZClmb3IodmFyIGU9MDsyPmU7ZSsrKXt2YXIgZj0xPT1lP2I6YztmJiYhZi5vdXRwdXRDb25uZWN0aW9uLmNoZWNrVHlwZShkKSYmKEJsb2NrbHkuRXZlbnRzLnNldEdyb3VwKGEuZ3JvdXApLGQ9PT10aGlzLnByZXZQYXJlbnRDb25uZWN0aW9uXz8odGhpcy51bnBsdWcoKSxkLmdldFNvdXJjZUJsb2NrKCkuYnVtcE5laWdoYm91cnMoKSk6KGYudW5wbHVnKCksZi5idW1wTmVpZ2hib3VycygpKSxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSkpfXRoaXMucHJldlBhcmVudENvbm5lY3Rpb25fPVxuZH19O0Jsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3Rlck1peGluKFwibG9naWNfdGVybmFyeVwiLEJsb2NrbHkuQ29uc3RhbnRzLkxvZ2ljLkxPR0lDX1RFUk5BUllfT05DSEFOR0VfTUlYSU4pO0Jsb2NrbHkuQmxvY2tzLmxvb3BzPXt9O0Jsb2NrbHkuQ29uc3RhbnRzLkxvb3BzPXt9O0Jsb2NrbHkuQ29uc3RhbnRzLkxvb3BzLkhVRT0xMjA7XG5CbG9ja2x5LmRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXkoW3t0eXBlOlwiY29udHJvbHNfcmVwZWF0X2V4dFwiLG1lc3NhZ2UwOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRJTUVTXCIsY2hlY2s6XCJOdW1iZXJcIn1dLG1lc3NhZ2UxOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX0lOUFVUX0RPfSAlMVwiLGFyZ3MxOlt7dHlwZTpcImlucHV0X3N0YXRlbWVudFwiLG5hbWU6XCJET1wifV0scHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxuZXh0U3RhdGVtZW50Om51bGwsc3R5bGU6XCJsb29wX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9DT05UUk9MU19SRVBFQVRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX0hFTFBVUkx9XCJ9LHt0eXBlOlwiY29udHJvbHNfcmVwZWF0XCIsbWVzc2FnZTA6XCIle0JLWV9DT05UUk9MU19SRVBFQVRfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiZmllbGRfbnVtYmVyXCIsbmFtZTpcIlRJTUVTXCIsdmFsdWU6MTAsXG5taW46MCxwcmVjaXNpb246MX1dLG1lc3NhZ2UxOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX0lOUFVUX0RPfSAlMVwiLGFyZ3MxOlt7dHlwZTpcImlucHV0X3N0YXRlbWVudFwiLG5hbWU6XCJET1wifV0scHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxuZXh0U3RhdGVtZW50Om51bGwsc3R5bGU6XCJsb29wX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9DT05UUk9MU19SRVBFQVRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfQ09OVFJPTFNfUkVQRUFUX0hFTFBVUkx9XCJ9LHt0eXBlOlwiY29udHJvbHNfd2hpbGVVbnRpbFwiLG1lc3NhZ2UwOlwiJTEgJTJcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJNT0RFXCIsb3B0aW9uczpbW1wiJXtCS1lfQ09OVFJPTFNfV0hJTEVVTlRJTF9PUEVSQVRPUl9XSElMRX1cIixcIldISUxFXCJdLFtcIiV7QktZX0NPTlRST0xTX1dISUxFVU5USUxfT1BFUkFUT1JfVU5USUx9XCIsXCJVTlRJTFwiXV19LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiQk9PTFwiLGNoZWNrOlwiQm9vbGVhblwifV0sXG5tZXNzYWdlMTpcIiV7QktZX0NPTlRST0xTX1JFUEVBVF9JTlBVVF9ET30gJTFcIixhcmdzMTpbe3R5cGU6XCJpbnB1dF9zdGF0ZW1lbnRcIixuYW1lOlwiRE9cIn1dLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwibG9vcF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfQ09OVFJPTFNfV0hJTEVVTlRJTF9IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wiY29udHJvbHNfd2hpbGVVbnRpbF90b29sdGlwXCJdfSx7dHlwZTpcImNvbnRyb2xzX2ZvclwiLG1lc3NhZ2UwOlwiJXtCS1lfQ09OVFJPTFNfRk9SX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX3ZhcmlhYmxlXCIsbmFtZTpcIlZBUlwiLHZhcmlhYmxlOm51bGx9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiRlJPTVwiLGNoZWNrOlwiTnVtYmVyXCIsYWxpZ246XCJSSUdIVFwifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRPXCIsY2hlY2s6XCJOdW1iZXJcIixhbGlnbjpcIlJJR0hUXCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiQllcIixcbmNoZWNrOlwiTnVtYmVyXCIsYWxpZ246XCJSSUdIVFwifV0sbWVzc2FnZTE6XCIle0JLWV9DT05UUk9MU19SRVBFQVRfSU5QVVRfRE99ICUxXCIsYXJnczE6W3t0eXBlOlwiaW5wdXRfc3RhdGVtZW50XCIsbmFtZTpcIkRPXCJ9XSxpbnB1dHNJbmxpbmU6ITAscHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxuZXh0U3RhdGVtZW50Om51bGwsc3R5bGU6XCJsb29wX2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9DT05UUk9MU19GT1JfSEVMUFVSTH1cIixleHRlbnNpb25zOltcImNvbnRleHRNZW51X25ld0dldFZhcmlhYmxlQmxvY2tcIixcImNvbnRyb2xzX2Zvcl90b29sdGlwXCJdfSx7dHlwZTpcImNvbnRyb2xzX2ZvckVhY2hcIixtZXNzYWdlMDpcIiV7QktZX0NPTlRST0xTX0ZPUkVBQ0hfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiZmllbGRfdmFyaWFibGVcIixuYW1lOlwiVkFSXCIsdmFyaWFibGU6bnVsbH0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJMSVNUXCIsY2hlY2s6XCJBcnJheVwifV0sbWVzc2FnZTE6XCIle0JLWV9DT05UUk9MU19SRVBFQVRfSU5QVVRfRE99ICUxXCIsXG5hcmdzMTpbe3R5cGU6XCJpbnB1dF9zdGF0ZW1lbnRcIixuYW1lOlwiRE9cIn1dLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwibG9vcF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfQ09OVFJPTFNfRk9SRUFDSF9IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wiY29udGV4dE1lbnVfbmV3R2V0VmFyaWFibGVCbG9ja1wiLFwiY29udHJvbHNfZm9yRWFjaF90b29sdGlwXCJdfSx7dHlwZTpcImNvbnRyb2xzX2Zsb3dfc3RhdGVtZW50c1wiLG1lc3NhZ2UwOlwiJTFcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJGTE9XXCIsb3B0aW9uczpbW1wiJXtCS1lfQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX09QRVJBVE9SX0JSRUFLfVwiLFwiQlJFQUtcIl0sW1wiJXtCS1lfQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX09QRVJBVE9SX0NPTlRJTlVFfVwiLFwiQ09OVElOVUVcIl1dfV0scHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcImxvb3BfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX0NPTlRST0xTX0ZMT1dfU1RBVEVNRU5UU19IRUxQVVJMfVwiLFxuZXh0ZW5zaW9uczpbXCJjb250cm9sc19mbG93X3Rvb2x0aXBcIixcImNvbnRyb2xzX2Zsb3dfaW5fbG9vcF9jaGVja1wiXX1dKTtCbG9ja2x5LkNvbnN0YW50cy5Mb29wcy5XSElMRV9VTlRJTF9UT09MVElQUz17V0hJTEU6XCIle0JLWV9DT05UUk9MU19XSElMRVVOVElMX1RPT0xUSVBfV0hJTEV9XCIsVU5USUw6XCIle0JLWV9DT05UUk9MU19XSElMRVVOVElMX1RPT0xUSVBfVU5USUx9XCJ9O0Jsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3RlcihcImNvbnRyb2xzX3doaWxlVW50aWxfdG9vbHRpcFwiLEJsb2NrbHkuRXh0ZW5zaW9ucy5idWlsZFRvb2x0aXBGb3JEcm9wZG93bihcIk1PREVcIixCbG9ja2x5LkNvbnN0YW50cy5Mb29wcy5XSElMRV9VTlRJTF9UT09MVElQUykpO0Jsb2NrbHkuQ29uc3RhbnRzLkxvb3BzLkJSRUFLX0NPTlRJTlVFX1RPT0xUSVBTPXtCUkVBSzpcIiV7QktZX0NPTlRST0xTX0ZMT1dfU1RBVEVNRU5UU19UT09MVElQX0JSRUFLfVwiLENPTlRJTlVFOlwiJXtCS1lfQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX1RPT0xUSVBfQ09OVElOVUV9XCJ9O1xuQmxvY2tseS5FeHRlbnNpb25zLnJlZ2lzdGVyKFwiY29udHJvbHNfZmxvd190b29sdGlwXCIsQmxvY2tseS5FeHRlbnNpb25zLmJ1aWxkVG9vbHRpcEZvckRyb3Bkb3duKFwiRkxPV1wiLEJsb2NrbHkuQ29uc3RhbnRzLkxvb3BzLkJSRUFLX0NPTlRJTlVFX1RPT0xUSVBTKSk7XG5CbG9ja2x5LkNvbnN0YW50cy5Mb29wcy5DVVNUT01fQ09OVEVYVF9NRU5VX0NSRUFURV9WQVJJQUJMRVNfR0VUX01JWElOPXtjdXN0b21Db250ZXh0TWVudTpmdW5jdGlvbihhKXtpZighdGhpcy5pc0luRmx5b3V0KXt2YXIgYj10aGlzLmdldEZpZWxkKFwiVkFSXCIpLmdldFZhcmlhYmxlKCksYz1iLm5hbWU7aWYoIXRoaXMuaXNDb2xsYXBzZWQoKSYmbnVsbCE9Yyl7dmFyIGQ9e2VuYWJsZWQ6ITB9O2QudGV4dD1CbG9ja2x5Lk1zZy5WQVJJQUJMRVNfU0VUX0NSRUFURV9HRVQucmVwbGFjZShcIiUxXCIsYyk7Yj1CbG9ja2x5LlZhcmlhYmxlcy5nZW5lcmF0ZVZhcmlhYmxlRmllbGREb20oYik7Yz1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiYmxvY2tcIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ2YXJpYWJsZXNfZ2V0XCIpO2MuYXBwZW5kQ2hpbGQoYik7ZC5jYWxsYmFjaz1CbG9ja2x5LkNvbnRleHRNZW51LmNhbGxiYWNrRmFjdG9yeSh0aGlzLGMpO2EucHVzaChkKX19fX07XG5CbG9ja2x5LkV4dGVuc2lvbnMucmVnaXN0ZXJNaXhpbihcImNvbnRleHRNZW51X25ld0dldFZhcmlhYmxlQmxvY2tcIixCbG9ja2x5LkNvbnN0YW50cy5Mb29wcy5DVVNUT01fQ09OVEVYVF9NRU5VX0NSRUFURV9WQVJJQUJMRVNfR0VUX01JWElOKTtCbG9ja2x5LkV4dGVuc2lvbnMucmVnaXN0ZXIoXCJjb250cm9sc19mb3JfdG9vbHRpcFwiLEJsb2NrbHkuRXh0ZW5zaW9ucy5idWlsZFRvb2x0aXBXaXRoRmllbGRUZXh0KFwiJXtCS1lfQ09OVFJPTFNfRk9SX1RPT0xUSVB9XCIsXCJWQVJcIikpO0Jsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3RlcihcImNvbnRyb2xzX2ZvckVhY2hfdG9vbHRpcFwiLEJsb2NrbHkuRXh0ZW5zaW9ucy5idWlsZFRvb2x0aXBXaXRoRmllbGRUZXh0KFwiJXtCS1lfQ09OVFJPTFNfRk9SRUFDSF9UT09MVElQfVwiLFwiVkFSXCIpKTtcbkJsb2NrbHkuQ29uc3RhbnRzLkxvb3BzLkNPTlRST0xfRkxPV19JTl9MT09QX0NIRUNLX01JWElOPXtMT09QX1RZUEVTOltcImNvbnRyb2xzX3JlcGVhdFwiLFwiY29udHJvbHNfcmVwZWF0X2V4dFwiLFwiY29udHJvbHNfZm9yRWFjaFwiLFwiY29udHJvbHNfZm9yXCIsXCJjb250cm9sc193aGlsZVVudGlsXCJdLHN1cHByZXNzUHJlZml4U3VmZml4OiEwLGdldFN1cnJvdW5kTG9vcDpmdW5jdGlvbihhKXtkb3tpZigtMSE9QmxvY2tseS5Db25zdGFudHMuTG9vcHMuQ09OVFJPTF9GTE9XX0lOX0xPT1BfQ0hFQ0tfTUlYSU4uTE9PUF9UWVBFUy5pbmRleE9mKGEudHlwZSkpcmV0dXJuIGE7YT1hLmdldFN1cnJvdW5kUGFyZW50KCl9d2hpbGUoYSk7cmV0dXJuIG51bGx9LG9uY2hhbmdlOmZ1bmN0aW9uKGEpe2lmKHRoaXMud29ya3NwYWNlLmlzRHJhZ2dpbmcmJiF0aGlzLndvcmtzcGFjZS5pc0RyYWdnaW5nKCkmJmEudHlwZT09QmxvY2tseS5FdmVudHMuQkxPQ0tfTU9WRSYmYS5ibG9ja0lkPT10aGlzLmlkKXt2YXIgYj1cbkJsb2NrbHkuQ29uc3RhbnRzLkxvb3BzLkNPTlRST0xfRkxPV19JTl9MT09QX0NIRUNLX01JWElOLmdldFN1cnJvdW5kTG9vcCh0aGlzKTt0aGlzLnNldFdhcm5pbmdUZXh0KGI/bnVsbDpCbG9ja2x5Lk1zZy5DT05UUk9MU19GTE9XX1NUQVRFTUVOVFNfV0FSTklORyk7aWYoIXRoaXMuaXNJbkZseW91dCl7dmFyIGM9QmxvY2tseS5FdmVudHMuZ2V0R3JvdXAoKTtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cChhLmdyb3VwKTt0aGlzLnNldEVuYWJsZWQoYik7QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoYyl9fX19O0Jsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3Rlck1peGluKFwiY29udHJvbHNfZmxvd19pbl9sb29wX2NoZWNrXCIsQmxvY2tseS5Db25zdGFudHMuTG9vcHMuQ09OVFJPTF9GTE9XX0lOX0xPT1BfQ0hFQ0tfTUlYSU4pO0Jsb2NrbHkuQmxvY2tzLm1hdGg9e307QmxvY2tseS5Db25zdGFudHMuTWF0aD17fTtCbG9ja2x5LkNvbnN0YW50cy5NYXRoLkhVRT0yMzA7XG5CbG9ja2x5LmRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXkoW3t0eXBlOlwibWF0aF9udW1iZXJcIixtZXNzYWdlMDpcIiUxXCIsYXJnczA6W3t0eXBlOlwiZmllbGRfbnVtYmVyXCIsbmFtZTpcIk5VTVwiLHZhbHVlOjB9XSxvdXRwdXQ6XCJOdW1iZXJcIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9OVU1CRVJfSEVMUFVSTH1cIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX01BVEhfTlVNQkVSX1RPT0xUSVB9XCIsZXh0ZW5zaW9uczpbXCJwYXJlbnRfdG9vbHRpcF93aGVuX2lubGluZVwiXX0se3R5cGU6XCJtYXRoX2FyaXRobWV0aWNcIixtZXNzYWdlMDpcIiUxICUyICUzXCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiQVwiLGNoZWNrOlwiTnVtYmVyXCJ9LHt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiT1BcIixvcHRpb25zOltbXCIle0JLWV9NQVRIX0FERElUSU9OX1NZTUJPTH1cIixcIkFERFwiXSxbXCIle0JLWV9NQVRIX1NVQlRSQUNUSU9OX1NZTUJPTH1cIixcIk1JTlVTXCJdLFtcIiV7QktZX01BVEhfTVVMVElQTElDQVRJT05fU1lNQk9MfVwiLFxuXCJNVUxUSVBMWVwiXSxbXCIle0JLWV9NQVRIX0RJVklTSU9OX1NZTUJPTH1cIixcIkRJVklERVwiXSxbXCIle0JLWV9NQVRIX1BPV0VSX1NZTUJPTH1cIixcIlBPV0VSXCJdXX0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJCXCIsY2hlY2s6XCJOdW1iZXJcIn1dLGlucHV0c0lubGluZTohMCxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX01BVEhfQVJJVEhNRVRJQ19IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wibWF0aF9vcF90b29sdGlwXCJdfSx7dHlwZTpcIm1hdGhfc2luZ2xlXCIsbWVzc2FnZTA6XCIlMSAlMlwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIk9QXCIsb3B0aW9uczpbW1wiJXtCS1lfTUFUSF9TSU5HTEVfT1BfUk9PVH1cIixcIlJPT1RcIl0sW1wiJXtCS1lfTUFUSF9TSU5HTEVfT1BfQUJTT0xVVEV9XCIsXCJBQlNcIl0sW1wiLVwiLFwiTkVHXCJdLFtcImxuXCIsXCJMTlwiXSxbXCJsb2cxMFwiLFwiTE9HMTBcIl0sW1wiZV5cIixcIkVYUFwiXSxbXCIxMF5cIixcIlBPVzEwXCJdXX0sXG57dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIk5VTVwiLGNoZWNrOlwiTnVtYmVyXCJ9XSxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX01BVEhfU0lOR0xFX0hFTFBVUkx9XCIsZXh0ZW5zaW9uczpbXCJtYXRoX29wX3Rvb2x0aXBcIl19LHt0eXBlOlwibWF0aF90cmlnXCIsbWVzc2FnZTA6XCIlMSAlMlwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIk9QXCIsb3B0aW9uczpbW1wiJXtCS1lfTUFUSF9UUklHX1NJTn1cIixcIlNJTlwiXSxbXCIle0JLWV9NQVRIX1RSSUdfQ09TfVwiLFwiQ09TXCJdLFtcIiV7QktZX01BVEhfVFJJR19UQU59XCIsXCJUQU5cIl0sW1wiJXtCS1lfTUFUSF9UUklHX0FTSU59XCIsXCJBU0lOXCJdLFtcIiV7QktZX01BVEhfVFJJR19BQ09TfVwiLFwiQUNPU1wiXSxbXCIle0JLWV9NQVRIX1RSSUdfQVRBTn1cIixcIkFUQU5cIl1dfSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIk5VTVwiLGNoZWNrOlwiTnVtYmVyXCJ9XSxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsXG5oZWxwVXJsOlwiJXtCS1lfTUFUSF9UUklHX0hFTFBVUkx9XCIsZXh0ZW5zaW9uczpbXCJtYXRoX29wX3Rvb2x0aXBcIl19LHt0eXBlOlwibWF0aF9jb25zdGFudFwiLG1lc3NhZ2UwOlwiJTFcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJDT05TVEFOVFwiLG9wdGlvbnM6W1tcIlxcdTAzYzBcIixcIlBJXCJdLFtcImVcIixcIkVcIl0sW1wiXFx1MDNjNlwiLFwiR09MREVOX1JBVElPXCJdLFtcInNxcnQoMilcIixcIlNRUlQyXCJdLFtcInNxcnQoXFx1MDBiZClcIixcIlNRUlQxXzJcIl0sW1wiXFx1MjIxZVwiLFwiSU5GSU5JVFlcIl1dfV0sb3V0cHV0OlwiTnVtYmVyXCIsc3R5bGU6XCJtYXRoX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9NQVRIX0NPTlNUQU5UX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX01BVEhfQ09OU1RBTlRfSEVMUFVSTH1cIn0se3R5cGU6XCJtYXRoX251bWJlcl9wcm9wZXJ0eVwiLG1lc3NhZ2UwOlwiJTEgJTJcIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJOVU1CRVJfVE9fQ0hFQ0tcIixjaGVjazpcIk51bWJlclwifSxcbnt0eXBlOlwiZmllbGRfZHJvcGRvd25cIixuYW1lOlwiUFJPUEVSVFlcIixvcHRpb25zOltbXCIle0JLWV9NQVRIX0lTX0VWRU59XCIsXCJFVkVOXCJdLFtcIiV7QktZX01BVEhfSVNfT0REfVwiLFwiT0REXCJdLFtcIiV7QktZX01BVEhfSVNfUFJJTUV9XCIsXCJQUklNRVwiXSxbXCIle0JLWV9NQVRIX0lTX1dIT0xFfVwiLFwiV0hPTEVcIl0sW1wiJXtCS1lfTUFUSF9JU19QT1NJVElWRX1cIixcIlBPU0lUSVZFXCJdLFtcIiV7QktZX01BVEhfSVNfTkVHQVRJVkV9XCIsXCJORUdBVElWRVwiXSxbXCIle0JLWV9NQVRIX0lTX0RJVklTSUJMRV9CWX1cIixcIkRJVklTSUJMRV9CWVwiXV19XSxpbnB1dHNJbmxpbmU6ITAsb3V0cHV0OlwiQm9vbGVhblwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTUFUSF9JU19UT09MVElQfVwiLG11dGF0b3I6XCJtYXRoX2lzX2RpdmlzaWJsZWJ5X211dGF0b3JcIn0se3R5cGU6XCJtYXRoX2NoYW5nZVwiLG1lc3NhZ2UwOlwiJXtCS1lfTUFUSF9DSEFOR0VfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiZmllbGRfdmFyaWFibGVcIixcbm5hbWU6XCJWQVJcIix2YXJpYWJsZTpcIiV7QktZX01BVEhfQ0hBTkdFX1RJVExFX0lURU19XCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiREVMVEFcIixjaGVjazpcIk51bWJlclwifV0scHJldmlvdXNTdGF0ZW1lbnQ6bnVsbCxuZXh0U3RhdGVtZW50Om51bGwsc3R5bGU6XCJ2YXJpYWJsZV9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9DSEFOR0VfSEVMUFVSTH1cIixleHRlbnNpb25zOltcIm1hdGhfY2hhbmdlX3Rvb2x0aXBcIl19LHt0eXBlOlwibWF0aF9yb3VuZFwiLG1lc3NhZ2UwOlwiJTEgJTJcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJPUFwiLG9wdGlvbnM6W1tcIiV7QktZX01BVEhfUk9VTkRfT1BFUkFUT1JfUk9VTkR9XCIsXCJST1VORFwiXSxbXCIle0JLWV9NQVRIX1JPVU5EX09QRVJBVE9SX1JPVU5EVVB9XCIsXCJST1VORFVQXCJdLFtcIiV7QktZX01BVEhfUk9VTkRfT1BFUkFUT1JfUk9VTkRET1dOfVwiLFwiUk9VTkRET1dOXCJdXX0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJOVU1cIixcbmNoZWNrOlwiTnVtYmVyXCJ9XSxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX01BVEhfUk9VTkRfSEVMUFVSTH1cIix0b29sdGlwOlwiJXtCS1lfTUFUSF9ST1VORF9UT09MVElQfVwifSx7dHlwZTpcIm1hdGhfb25fbGlzdFwiLG1lc3NhZ2UwOlwiJTEgJTJcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJPUFwiLG9wdGlvbnM6W1tcIiV7QktZX01BVEhfT05MSVNUX09QRVJBVE9SX1NVTX1cIixcIlNVTVwiXSxbXCIle0JLWV9NQVRIX09OTElTVF9PUEVSQVRPUl9NSU59XCIsXCJNSU5cIl0sW1wiJXtCS1lfTUFUSF9PTkxJU1RfT1BFUkFUT1JfTUFYfVwiLFwiTUFYXCJdLFtcIiV7QktZX01BVEhfT05MSVNUX09QRVJBVE9SX0FWRVJBR0V9XCIsXCJBVkVSQUdFXCJdLFtcIiV7QktZX01BVEhfT05MSVNUX09QRVJBVE9SX01FRElBTn1cIixcIk1FRElBTlwiXSxbXCIle0JLWV9NQVRIX09OTElTVF9PUEVSQVRPUl9NT0RFfVwiLFwiTU9ERVwiXSxbXCIle0JLWV9NQVRIX09OTElTVF9PUEVSQVRPUl9TVERfREVWfVwiLFxuXCJTVERfREVWXCJdLFtcIiV7QktZX01BVEhfT05MSVNUX09QRVJBVE9SX1JBTkRPTX1cIixcIlJBTkRPTVwiXV19LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTElTVFwiLGNoZWNrOlwiQXJyYXlcIn1dLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9PTkxJU1RfSEVMUFVSTH1cIixtdXRhdG9yOlwibWF0aF9tb2Rlc19vZl9saXN0X211dGF0b3JcIixleHRlbnNpb25zOltcIm1hdGhfb3BfdG9vbHRpcFwiXX0se3R5cGU6XCJtYXRoX21vZHVsb1wiLG1lc3NhZ2UwOlwiJXtCS1lfTUFUSF9NT0RVTE9fVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiRElWSURFTkRcIixjaGVjazpcIk51bWJlclwifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIkRJVklTT1JcIixjaGVjazpcIk51bWJlclwifV0saW5wdXRzSW5saW5lOiEwLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTUFUSF9NT0RVTE9fVE9PTFRJUH1cIixcbmhlbHBVcmw6XCIle0JLWV9NQVRIX01PRFVMT19IRUxQVVJMfVwifSx7dHlwZTpcIm1hdGhfY29uc3RyYWluXCIsbWVzc2FnZTA6XCIle0JLWV9NQVRIX0NPTlNUUkFJTl9USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJWQUxVRVwiLGNoZWNrOlwiTnVtYmVyXCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiTE9XXCIsY2hlY2s6XCJOdW1iZXJcIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJISUdIXCIsY2hlY2s6XCJOdW1iZXJcIn1dLGlucHV0c0lubGluZTohMCxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX01BVEhfQ09OU1RSQUlOX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX01BVEhfQ09OU1RSQUlOX0hFTFBVUkx9XCJ9LHt0eXBlOlwibWF0aF9yYW5kb21faW50XCIsbWVzc2FnZTA6XCIle0JLWV9NQVRIX1JBTkRPTV9JTlRfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiRlJPTVwiLGNoZWNrOlwiTnVtYmVyXCJ9LFxue3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJUT1wiLGNoZWNrOlwiTnVtYmVyXCJ9XSxpbnB1dHNJbmxpbmU6ITAsb3V0cHV0OlwiTnVtYmVyXCIsc3R5bGU6XCJtYXRoX2Jsb2Nrc1wiLHRvb2x0aXA6XCIle0JLWV9NQVRIX1JBTkRPTV9JTlRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfTUFUSF9SQU5ET01fSU5UX0hFTFBVUkx9XCJ9LHt0eXBlOlwibWF0aF9yYW5kb21fZmxvYXRcIixtZXNzYWdlMDpcIiV7QktZX01BVEhfUkFORE9NX0ZMT0FUX1RJVExFX1JBTkRPTX1cIixvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcIm1hdGhfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX01BVEhfUkFORE9NX0ZMT0FUX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX01BVEhfUkFORE9NX0ZMT0FUX0hFTFBVUkx9XCJ9LHt0eXBlOlwibWF0aF9hdGFuMlwiLG1lc3NhZ2UwOlwiJXtCS1lfTUFUSF9BVEFOMl9USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJYXCIsY2hlY2s6XCJOdW1iZXJcIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLFxubmFtZTpcIllcIixjaGVjazpcIk51bWJlclwifV0saW5wdXRzSW5saW5lOiEwLG91dHB1dDpcIk51bWJlclwiLHN0eWxlOlwibWF0aF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfTUFUSF9BVEFOMl9UT09MVElQfVwiLGhlbHBVcmw6XCIle0JLWV9NQVRIX0FUQU4yX0hFTFBVUkx9XCJ9XSk7XG5CbG9ja2x5LkNvbnN0YW50cy5NYXRoLlRPT0xUSVBTX0JZX09QPXtBREQ6XCIle0JLWV9NQVRIX0FSSVRITUVUSUNfVE9PTFRJUF9BRER9XCIsTUlOVVM6XCIle0JLWV9NQVRIX0FSSVRITUVUSUNfVE9PTFRJUF9NSU5VU31cIixNVUxUSVBMWTpcIiV7QktZX01BVEhfQVJJVEhNRVRJQ19UT09MVElQX01VTFRJUExZfVwiLERJVklERTpcIiV7QktZX01BVEhfQVJJVEhNRVRJQ19UT09MVElQX0RJVklERX1cIixQT1dFUjpcIiV7QktZX01BVEhfQVJJVEhNRVRJQ19UT09MVElQX1BPV0VSfVwiLFJPT1Q6XCIle0JLWV9NQVRIX1NJTkdMRV9UT09MVElQX1JPT1R9XCIsQUJTOlwiJXtCS1lfTUFUSF9TSU5HTEVfVE9PTFRJUF9BQlN9XCIsTkVHOlwiJXtCS1lfTUFUSF9TSU5HTEVfVE9PTFRJUF9ORUd9XCIsTE46XCIle0JLWV9NQVRIX1NJTkdMRV9UT09MVElQX0xOfVwiLExPRzEwOlwiJXtCS1lfTUFUSF9TSU5HTEVfVE9PTFRJUF9MT0cxMH1cIixFWFA6XCIle0JLWV9NQVRIX1NJTkdMRV9UT09MVElQX0VYUH1cIixQT1cxMDpcIiV7QktZX01BVEhfU0lOR0xFX1RPT0xUSVBfUE9XMTB9XCIsXG5TSU46XCIle0JLWV9NQVRIX1RSSUdfVE9PTFRJUF9TSU59XCIsQ09TOlwiJXtCS1lfTUFUSF9UUklHX1RPT0xUSVBfQ09TfVwiLFRBTjpcIiV7QktZX01BVEhfVFJJR19UT09MVElQX1RBTn1cIixBU0lOOlwiJXtCS1lfTUFUSF9UUklHX1RPT0xUSVBfQVNJTn1cIixBQ09TOlwiJXtCS1lfTUFUSF9UUklHX1RPT0xUSVBfQUNPU31cIixBVEFOOlwiJXtCS1lfTUFUSF9UUklHX1RPT0xUSVBfQVRBTn1cIixTVU06XCIle0JLWV9NQVRIX09OTElTVF9UT09MVElQX1NVTX1cIixNSU46XCIle0JLWV9NQVRIX09OTElTVF9UT09MVElQX01JTn1cIixNQVg6XCIle0JLWV9NQVRIX09OTElTVF9UT09MVElQX01BWH1cIixBVkVSQUdFOlwiJXtCS1lfTUFUSF9PTkxJU1RfVE9PTFRJUF9BVkVSQUdFfVwiLE1FRElBTjpcIiV7QktZX01BVEhfT05MSVNUX1RPT0xUSVBfTUVESUFOfVwiLE1PREU6XCIle0JLWV9NQVRIX09OTElTVF9UT09MVElQX01PREV9XCIsU1REX0RFVjpcIiV7QktZX01BVEhfT05MSVNUX1RPT0xUSVBfU1REX0RFVn1cIixSQU5ET006XCIle0JLWV9NQVRIX09OTElTVF9UT09MVElQX1JBTkRPTX1cIn07XG5CbG9ja2x5LkV4dGVuc2lvbnMucmVnaXN0ZXIoXCJtYXRoX29wX3Rvb2x0aXBcIixCbG9ja2x5LkV4dGVuc2lvbnMuYnVpbGRUb29sdGlwRm9yRHJvcGRvd24oXCJPUFwiLEJsb2NrbHkuQ29uc3RhbnRzLk1hdGguVE9PTFRJUFNfQllfT1ApKTtcbkJsb2NrbHkuQ29uc3RhbnRzLk1hdGguSVNfRElWSVNJQkxFQllfTVVUQVRPUl9NSVhJTj17bXV0YXRpb25Ub0RvbTpmdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJtdXRhdGlvblwiKSxiPVwiRElWSVNJQkxFX0JZXCI9PXRoaXMuZ2V0RmllbGRWYWx1ZShcIlBST1BFUlRZXCIpO2Euc2V0QXR0cmlidXRlKFwiZGl2aXNvcl9pbnB1dFwiLGIpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe2E9XCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiZGl2aXNvcl9pbnB1dFwiKTt0aGlzLnVwZGF0ZVNoYXBlXyhhKX0sdXBkYXRlU2hhcGVfOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0SW5wdXQoXCJESVZJU09SXCIpO2E/Ynx8dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiRElWSVNPUlwiKS5zZXRDaGVjayhcIk51bWJlclwiKTpiJiZ0aGlzLnJlbW92ZUlucHV0KFwiRElWSVNPUlwiKX19O1xuQmxvY2tseS5Db25zdGFudHMuTWF0aC5JU19ESVZJU0lCTEVfTVVUQVRPUl9FWFRFTlNJT049ZnVuY3Rpb24oKXt0aGlzLmdldEZpZWxkKFwiUFJPUEVSVFlcIikuc2V0VmFsaWRhdG9yKGZ1bmN0aW9uKGEpe2E9XCJESVZJU0lCTEVfQllcIj09YTt0aGlzLmdldFNvdXJjZUJsb2NrKCkudXBkYXRlU2hhcGVfKGEpfSl9O0Jsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3Rlck11dGF0b3IoXCJtYXRoX2lzX2RpdmlzaWJsZWJ5X211dGF0b3JcIixCbG9ja2x5LkNvbnN0YW50cy5NYXRoLklTX0RJVklTSUJMRUJZX01VVEFUT1JfTUlYSU4sQmxvY2tseS5Db25zdGFudHMuTWF0aC5JU19ESVZJU0lCTEVfTVVUQVRPUl9FWFRFTlNJT04pO0Jsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3RlcihcIm1hdGhfY2hhbmdlX3Rvb2x0aXBcIixCbG9ja2x5LkV4dGVuc2lvbnMuYnVpbGRUb29sdGlwV2l0aEZpZWxkVGV4dChcIiV7QktZX01BVEhfQ0hBTkdFX1RPT0xUSVB9XCIsXCJWQVJcIikpO1xuQmxvY2tseS5Db25zdGFudHMuTWF0aC5MSVNUX01PREVTX01VVEFUT1JfTUlYSU49e3VwZGF0ZVR5cGVfOmZ1bmN0aW9uKGEpe1wiTU9ERVwiPT1hP3RoaXMub3V0cHV0Q29ubmVjdGlvbi5zZXRDaGVjayhcIkFycmF5XCIpOnRoaXMub3V0cHV0Q29ubmVjdGlvbi5zZXRDaGVjayhcIk51bWJlclwiKX0sbXV0YXRpb25Ub0RvbTpmdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJtdXRhdGlvblwiKTthLnNldEF0dHJpYnV0ZShcIm9wXCIsdGhpcy5nZXRGaWVsZFZhbHVlKFwiT1BcIikpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe3RoaXMudXBkYXRlVHlwZV8oYS5nZXRBdHRyaWJ1dGUoXCJvcFwiKSl9fTtCbG9ja2x5LkNvbnN0YW50cy5NYXRoLkxJU1RfTU9ERVNfTVVUQVRPUl9FWFRFTlNJT049ZnVuY3Rpb24oKXt0aGlzLmdldEZpZWxkKFwiT1BcIikuc2V0VmFsaWRhdG9yKGZ1bmN0aW9uKGEpe3RoaXMudXBkYXRlVHlwZV8oYSl9LmJpbmQodGhpcykpfTtcbkJsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3Rlck11dGF0b3IoXCJtYXRoX21vZGVzX29mX2xpc3RfbXV0YXRvclwiLEJsb2NrbHkuQ29uc3RhbnRzLk1hdGguTElTVF9NT0RFU19NVVRBVE9SX01JWElOLEJsb2NrbHkuQ29uc3RhbnRzLk1hdGguTElTVF9NT0RFU19NVVRBVE9SX0VYVEVOU0lPTik7QmxvY2tseS5CbG9ja3MucHJvY2VkdXJlcz17fTtcbkJsb2NrbHkuQmxvY2tzLnByb2NlZHVyZXNfZGVmbm9yZXR1cm49e2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmxvY2tseS5GaWVsZFRleHRJbnB1dChcIlwiLEJsb2NrbHkuUHJvY2VkdXJlcy5yZW5hbWUpO2Euc2V0U3BlbGxjaGVjayghMSk7dGhpcy5hcHBlbmREdW1teUlucHV0KCkuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9USVRMRSkuYXBwZW5kRmllbGQoYSxcIk5BTUVcIikuYXBwZW5kRmllbGQoXCJcIixcIlBBUkFNU1wiKTt0aGlzLnNldE11dGF0b3IobmV3IEJsb2NrbHkuTXV0YXRvcihbXCJwcm9jZWR1cmVzX211dGF0b3JhcmdcIl0pKTsodGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5jb21tZW50c3x8dGhpcy53b3Jrc3BhY2Uub3B0aW9ucy5wYXJlbnRXb3Jrc3BhY2UmJnRoaXMud29ya3NwYWNlLm9wdGlvbnMucGFyZW50V29ya3NwYWNlLm9wdGlvbnMuY29tbWVudHMpJiZCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX0RFRk5PUkVUVVJOX0NPTU1FTlQmJnRoaXMuc2V0Q29tbWVudFRleHQoQmxvY2tseS5Nc2cuUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9DT01NRU5UKTtcbnRoaXMuc2V0U3R5bGUoXCJwcm9jZWR1cmVfYmxvY2tzXCIpO3RoaXMuc2V0VG9vbHRpcChCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX0RFRk5PUkVUVVJOX1RPT0xUSVApO3RoaXMuc2V0SGVscFVybChCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX0RFRk5PUkVUVVJOX0hFTFBVUkwpO3RoaXMuYXJndW1lbnRzXz1bXTt0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXz1bXTt0aGlzLnNldFN0YXRlbWVudHNfKCEwKTt0aGlzLnN0YXRlbWVudENvbm5lY3Rpb25fPW51bGx9LHNldFN0YXRlbWVudHNfOmZ1bmN0aW9uKGEpe3RoaXMuaGFzU3RhdGVtZW50c18hPT1hJiYoYT8odGhpcy5hcHBlbmRTdGF0ZW1lbnRJbnB1dChcIlNUQUNLXCIpLmFwcGVuZEZpZWxkKEJsb2NrbHkuTXNnLlBST0NFRFVSRVNfREVGTk9SRVRVUk5fRE8pLHRoaXMuZ2V0SW5wdXQoXCJSRVRVUk5cIikmJnRoaXMubW92ZUlucHV0QmVmb3JlKFwiU1RBQ0tcIixcIlJFVFVSTlwiKSk6dGhpcy5yZW1vdmVJbnB1dChcIlNUQUNLXCIsITApLHRoaXMuaGFzU3RhdGVtZW50c189XG5hKX0sdXBkYXRlUGFyYW1zXzpmdW5jdGlvbigpe3ZhciBhPVwiXCI7dGhpcy5hcmd1bWVudHNfLmxlbmd0aCYmKGE9QmxvY2tseS5Nc2cuUFJPQ0VEVVJFU19CRUZPUkVfUEFSQU1TK1wiIFwiK3RoaXMuYXJndW1lbnRzXy5qb2luKFwiLCBcIikpO0Jsb2NrbHkuRXZlbnRzLmRpc2FibGUoKTt0cnl7dGhpcy5zZXRGaWVsZFZhbHVlKGEsXCJQQVJBTVNcIil9ZmluYWxseXtCbG9ja2x5LkV2ZW50cy5lbmFibGUoKX19LG11dGF0aW9uVG9Eb206ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcIm11dGF0aW9uXCIpO2EmJmIuc2V0QXR0cmlidXRlKFwibmFtZVwiLHRoaXMuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIikpO2Zvcih2YXIgYz0wO2M8dGhpcy5hcmd1bWVudFZhck1vZGVsc18ubGVuZ3RoO2MrKyl7dmFyIGQ9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcImFyZ1wiKSxlPXRoaXMuYXJndW1lbnRWYXJNb2RlbHNfW2NdO2Quc2V0QXR0cmlidXRlKFwibmFtZVwiLFxuZS5uYW1lKTtkLnNldEF0dHJpYnV0ZShcInZhcmlkXCIsZS5nZXRJZCgpKTthJiZ0aGlzLnBhcmFtSWRzXyYmZC5zZXRBdHRyaWJ1dGUoXCJwYXJhbUlkXCIsdGhpcy5wYXJhbUlkc19bY10pO2IuYXBwZW5kQ2hpbGQoZCl9dGhpcy5oYXNTdGF0ZW1lbnRzX3x8Yi5zZXRBdHRyaWJ1dGUoXCJzdGF0ZW1lbnRzXCIsXCJmYWxzZVwiKTtyZXR1cm4gYn0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXt0aGlzLmFyZ3VtZW50c189W107dGhpcy5hcmd1bWVudFZhck1vZGVsc189W107Zm9yKHZhciBiPTAsYztjPWEuY2hpbGROb2Rlc1tiXTtiKyspaWYoXCJhcmdcIj09Yy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgZD1jLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7Yz1jLmdldEF0dHJpYnV0ZShcInZhcmlkXCIpfHxjLmdldEF0dHJpYnV0ZShcInZhcklkXCIpO3RoaXMuYXJndW1lbnRzXy5wdXNoKGQpO2M9QmxvY2tseS5WYXJpYWJsZXMuZ2V0T3JDcmVhdGVWYXJpYWJsZVBhY2thZ2UodGhpcy53b3Jrc3BhY2UsYyxcbmQsXCJcIik7bnVsbCE9Yz90aGlzLmFyZ3VtZW50VmFyTW9kZWxzXy5wdXNoKGMpOmNvbnNvbGUubG9nKFwiRmFpbGVkIHRvIGNyZWF0ZSBhIHZhcmlhYmxlIHdpdGggbmFtZSBcIitkK1wiLCBpZ25vcmluZy5cIil9dGhpcy51cGRhdGVQYXJhbXNfKCk7QmxvY2tseS5Qcm9jZWR1cmVzLm11dGF0ZUNhbGxlcnModGhpcyk7dGhpcy5zZXRTdGF0ZW1lbnRzXyhcImZhbHNlXCIhPT1hLmdldEF0dHJpYnV0ZShcInN0YXRlbWVudHNcIikpfSxkZWNvbXBvc2U6ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcImJsb2NrXCIpO2Iuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwicHJvY2VkdXJlc19tdXRhdG9yY29udGFpbmVyXCIpO3ZhciBjPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJzdGF0ZW1lbnRcIik7Yy5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJTVEFDS1wiKTtiLmFwcGVuZENoaWxkKGMpO2Zvcih2YXIgZD0wO2Q8dGhpcy5hcmd1bWVudHNfLmxlbmd0aDtkKyspe3ZhciBlPVxuQmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcImJsb2NrXCIpO2Uuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwicHJvY2VkdXJlc19tdXRhdG9yYXJnXCIpO3ZhciBmPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJmaWVsZFwiKTtmLnNldEF0dHJpYnV0ZShcIm5hbWVcIixcIk5BTUVcIik7dmFyIGc9QmxvY2tseS51dGlscy54bWwuY3JlYXRlVGV4dE5vZGUodGhpcy5hcmd1bWVudHNfW2RdKTtmLmFwcGVuZENoaWxkKGcpO2UuYXBwZW5kQ2hpbGQoZik7Zj1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwibmV4dFwiKTtlLmFwcGVuZENoaWxkKGYpO2MuYXBwZW5kQ2hpbGQoZSk7Yz1mfWE9QmxvY2tseS5YbWwuZG9tVG9CbG9jayhiLGEpO1wicHJvY2VkdXJlc19kZWZyZXR1cm5cIj09dGhpcy50eXBlP2Euc2V0RmllbGRWYWx1ZSh0aGlzLmhhc1N0YXRlbWVudHNfLFwiU1RBVEVNRU5UU1wiKTphLnJlbW92ZUlucHV0KFwiU1RBVEVNRU5UX0lOUFVUXCIpO0Jsb2NrbHkuUHJvY2VkdXJlcy5tdXRhdGVDYWxsZXJzKHRoaXMpO1xucmV0dXJuIGF9LGNvbXBvc2U6ZnVuY3Rpb24oYSl7dGhpcy5hcmd1bWVudHNfPVtdO3RoaXMucGFyYW1JZHNfPVtdO3RoaXMuYXJndW1lbnRWYXJNb2RlbHNfPVtdO2Zvcih2YXIgYj1hLmdldElucHV0VGFyZ2V0QmxvY2soXCJTVEFDS1wiKTtiOyl7dmFyIGM9Yi5nZXRGaWVsZFZhbHVlKFwiTkFNRVwiKTt0aGlzLmFyZ3VtZW50c18ucHVzaChjKTtjPXRoaXMud29ya3NwYWNlLmdldFZhcmlhYmxlKGMsXCJcIik7dGhpcy5hcmd1bWVudFZhck1vZGVsc18ucHVzaChjKTt0aGlzLnBhcmFtSWRzXy5wdXNoKGIuaWQpO2I9Yi5uZXh0Q29ubmVjdGlvbiYmYi5uZXh0Q29ubmVjdGlvbi50YXJnZXRCbG9jaygpfXRoaXMudXBkYXRlUGFyYW1zXygpO0Jsb2NrbHkuUHJvY2VkdXJlcy5tdXRhdGVDYWxsZXJzKHRoaXMpO2E9YS5nZXRGaWVsZFZhbHVlKFwiU1RBVEVNRU5UU1wiKTtpZihudWxsIT09YSYmKGE9XCJUUlVFXCI9PWEsdGhpcy5oYXNTdGF0ZW1lbnRzXyE9YSkpaWYoYSl0aGlzLnNldFN0YXRlbWVudHNfKCEwKSxcbkJsb2NrbHkuTXV0YXRvci5yZWNvbm5lY3QodGhpcy5zdGF0ZW1lbnRDb25uZWN0aW9uXyx0aGlzLFwiU1RBQ0tcIiksdGhpcy5zdGF0ZW1lbnRDb25uZWN0aW9uXz1udWxsO2Vsc2V7YT10aGlzLmdldElucHV0KFwiU1RBQ0tcIikuY29ubmVjdGlvbjtpZih0aGlzLnN0YXRlbWVudENvbm5lY3Rpb25fPWEudGFyZ2V0Q29ubmVjdGlvbilhPWEudGFyZ2V0QmxvY2soKSxhLnVucGx1ZygpLGEuYnVtcE5laWdoYm91cnMoKTt0aGlzLnNldFN0YXRlbWVudHNfKCExKX19LGdldFByb2NlZHVyZURlZjpmdW5jdGlvbigpe3JldHVyblt0aGlzLmdldEZpZWxkVmFsdWUoXCJOQU1FXCIpLHRoaXMuYXJndW1lbnRzXywhMV19LGdldFZhcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmd1bWVudHNffSxnZXRWYXJNb2RlbHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hcmd1bWVudFZhck1vZGVsc199LHJlbmFtZVZhckJ5SWQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLndvcmtzcGFjZS5nZXRWYXJpYWJsZUJ5SWQoYSk7XG5pZihcIlwiPT1jLnR5cGUpe2M9Yy5uYW1lO2I9dGhpcy53b3Jrc3BhY2UuZ2V0VmFyaWFibGVCeUlkKGIpO2Zvcih2YXIgZD0hMSxlPTA7ZTx0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXy5sZW5ndGg7ZSsrKXRoaXMuYXJndW1lbnRWYXJNb2RlbHNfW2VdLmdldElkKCk9PWEmJih0aGlzLmFyZ3VtZW50c19bZV09Yi5uYW1lLHRoaXMuYXJndW1lbnRWYXJNb2RlbHNfW2VdPWIsZD0hMCk7ZCYmKHRoaXMuZGlzcGxheVJlbmFtZWRWYXJfKGMsYi5uYW1lKSxCbG9ja2x5LlByb2NlZHVyZXMubXV0YXRlQ2FsbGVycyh0aGlzKSl9fSx1cGRhdGVWYXJOYW1lOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLm5hbWUsYz0hMSxkPTA7ZDx0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXy5sZW5ndGg7ZCsrKWlmKHRoaXMuYXJndW1lbnRWYXJNb2RlbHNfW2RdLmdldElkKCk9PWEuZ2V0SWQoKSl7dmFyIGU9dGhpcy5hcmd1bWVudHNfW2RdO3RoaXMuYXJndW1lbnRzX1tkXT1iO2M9ITB9YyYmKHRoaXMuZGlzcGxheVJlbmFtZWRWYXJfKGUsXG5iKSxCbG9ja2x5LlByb2NlZHVyZXMubXV0YXRlQ2FsbGVycyh0aGlzKSl9LGRpc3BsYXlSZW5hbWVkVmFyXzpmdW5jdGlvbihhLGIpe3RoaXMudXBkYXRlUGFyYW1zXygpO2lmKHRoaXMubXV0YXRvciYmdGhpcy5tdXRhdG9yLmlzVmlzaWJsZSgpKWZvcih2YXIgYz10aGlzLm11dGF0b3Iud29ya3NwYWNlXy5nZXRBbGxCbG9ja3MoITEpLGQ9MCxlO2U9Y1tkXTtkKyspXCJwcm9jZWR1cmVzX211dGF0b3JhcmdcIj09ZS50eXBlJiZCbG9ja2x5Lk5hbWVzLmVxdWFscyhhLGUuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIikpJiZlLnNldEZpZWxkVmFsdWUoYixcIk5BTUVcIil9LGN1c3RvbUNvbnRleHRNZW51OmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzSW5GbHlvdXQpe3ZhciBiPXtlbmFibGVkOiEwfSxjPXRoaXMuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIik7Yi50ZXh0PUJsb2NrbHkuTXNnLlBST0NFRFVSRVNfQ1JFQVRFX0RPLnJlcGxhY2UoXCIlMVwiLGMpO3ZhciBkPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJtdXRhdGlvblwiKTtcbmQuc2V0QXR0cmlidXRlKFwibmFtZVwiLGMpO2ZvcihjPTA7Yzx0aGlzLmFyZ3VtZW50c18ubGVuZ3RoO2MrKyl7dmFyIGU9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcImFyZ1wiKTtlLnNldEF0dHJpYnV0ZShcIm5hbWVcIix0aGlzLmFyZ3VtZW50c19bY10pO2QuYXBwZW5kQ2hpbGQoZSl9Yz1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiYmxvY2tcIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsdGhpcy5jYWxsVHlwZV8pO2MuYXBwZW5kQ2hpbGQoZCk7Yi5jYWxsYmFjaz1CbG9ja2x5LkNvbnRleHRNZW51LmNhbGxiYWNrRmFjdG9yeSh0aGlzLGMpO2EucHVzaChiKTtpZighdGhpcy5pc0NvbGxhcHNlZCgpKWZvcihjPTA7Yzx0aGlzLmFyZ3VtZW50VmFyTW9kZWxzXy5sZW5ndGg7YysrKWI9e2VuYWJsZWQ6ITB9LGQ9dGhpcy5hcmd1bWVudFZhck1vZGVsc19bY10sYi50ZXh0PUJsb2NrbHkuTXNnLlZBUklBQkxFU19TRVRfQ1JFQVRFX0dFVC5yZXBsYWNlKFwiJTFcIixkLm5hbWUpLFxuZD1CbG9ja2x5LlZhcmlhYmxlcy5nZW5lcmF0ZVZhcmlhYmxlRmllbGREb20oZCksZT1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiYmxvY2tcIiksZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJ2YXJpYWJsZXNfZ2V0XCIpLGUuYXBwZW5kQ2hpbGQoZCksYi5jYWxsYmFjaz1CbG9ja2x5LkNvbnRleHRNZW51LmNhbGxiYWNrRmFjdG9yeSh0aGlzLGUpLGEucHVzaChiKX19LGNhbGxUeXBlXzpcInByb2NlZHVyZXNfY2FsbG5vcmV0dXJuXCJ9O1xuQmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19kZWZyZXR1cm49e2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmxvY2tseS5GaWVsZFRleHRJbnB1dChcIlwiLEJsb2NrbHkuUHJvY2VkdXJlcy5yZW5hbWUpO2Euc2V0U3BlbGxjaGVjayghMSk7dGhpcy5hcHBlbmREdW1teUlucHV0KCkuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuUFJPQ0VEVVJFU19ERUZSRVRVUk5fVElUTEUpLmFwcGVuZEZpZWxkKGEsXCJOQU1FXCIpLmFwcGVuZEZpZWxkKFwiXCIsXCJQQVJBTVNcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiUkVUVVJOXCIpLnNldEFsaWduKEJsb2NrbHkuQUxJR05fUklHSFQpLmFwcGVuZEZpZWxkKEJsb2NrbHkuTXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX1JFVFVSTik7dGhpcy5zZXRNdXRhdG9yKG5ldyBCbG9ja2x5Lk11dGF0b3IoW1wicHJvY2VkdXJlc19tdXRhdG9yYXJnXCJdKSk7KHRoaXMud29ya3NwYWNlLm9wdGlvbnMuY29tbWVudHN8fHRoaXMud29ya3NwYWNlLm9wdGlvbnMucGFyZW50V29ya3NwYWNlJiZcbnRoaXMud29ya3NwYWNlLm9wdGlvbnMucGFyZW50V29ya3NwYWNlLm9wdGlvbnMuY29tbWVudHMpJiZCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX0RFRlJFVFVSTl9DT01NRU5UJiZ0aGlzLnNldENvbW1lbnRUZXh0KEJsb2NrbHkuTXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX0NPTU1FTlQpO3RoaXMuc2V0U3R5bGUoXCJwcm9jZWR1cmVfYmxvY2tzXCIpO3RoaXMuc2V0VG9vbHRpcChCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX0RFRlJFVFVSTl9UT09MVElQKTt0aGlzLnNldEhlbHBVcmwoQmxvY2tseS5Nc2cuUFJPQ0VEVVJFU19ERUZSRVRVUk5fSEVMUFVSTCk7dGhpcy5hcmd1bWVudHNfPVtdO3RoaXMuYXJndW1lbnRWYXJNb2RlbHNfPVtdO3RoaXMuc2V0U3RhdGVtZW50c18oITApO3RoaXMuc3RhdGVtZW50Q29ubmVjdGlvbl89bnVsbH0sc2V0U3RhdGVtZW50c186QmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19kZWZub3JldHVybi5zZXRTdGF0ZW1lbnRzXyx1cGRhdGVQYXJhbXNfOkJsb2NrbHkuQmxvY2tzLnByb2NlZHVyZXNfZGVmbm9yZXR1cm4udXBkYXRlUGFyYW1zXyxcbm11dGF0aW9uVG9Eb206QmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19kZWZub3JldHVybi5tdXRhdGlvblRvRG9tLGRvbVRvTXV0YXRpb246QmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19kZWZub3JldHVybi5kb21Ub011dGF0aW9uLGRlY29tcG9zZTpCbG9ja2x5LkJsb2Nrcy5wcm9jZWR1cmVzX2RlZm5vcmV0dXJuLmRlY29tcG9zZSxjb21wb3NlOkJsb2NrbHkuQmxvY2tzLnByb2NlZHVyZXNfZGVmbm9yZXR1cm4uY29tcG9zZSxnZXRQcm9jZWR1cmVEZWY6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5nZXRGaWVsZFZhbHVlKFwiTkFNRVwiKSx0aGlzLmFyZ3VtZW50c18sITBdfSxnZXRWYXJzOkJsb2NrbHkuQmxvY2tzLnByb2NlZHVyZXNfZGVmbm9yZXR1cm4uZ2V0VmFycyxnZXRWYXJNb2RlbHM6QmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19kZWZub3JldHVybi5nZXRWYXJNb2RlbHMscmVuYW1lVmFyQnlJZDpCbG9ja2x5LkJsb2Nrcy5wcm9jZWR1cmVzX2RlZm5vcmV0dXJuLnJlbmFtZVZhckJ5SWQsXG51cGRhdGVWYXJOYW1lOkJsb2NrbHkuQmxvY2tzLnByb2NlZHVyZXNfZGVmbm9yZXR1cm4udXBkYXRlVmFyTmFtZSxkaXNwbGF5UmVuYW1lZFZhcl86QmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19kZWZub3JldHVybi5kaXNwbGF5UmVuYW1lZFZhcl8sY3VzdG9tQ29udGV4dE1lbnU6QmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19kZWZub3JldHVybi5jdXN0b21Db250ZXh0TWVudSxjYWxsVHlwZV86XCJwcm9jZWR1cmVzX2NhbGxyZXR1cm5cIn07XG5CbG9ja2x5LkJsb2Nrcy5wcm9jZWR1cmVzX211dGF0b3Jjb250YWluZXI9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmFwcGVuZER1bW15SW5wdXQoKS5hcHBlbmRGaWVsZChCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX01VVEFUT1JDT05UQUlORVJfVElUTEUpO3RoaXMuYXBwZW5kU3RhdGVtZW50SW5wdXQoXCJTVEFDS1wiKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJTVEFURU1FTlRfSU5QVVRcIikuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuUFJPQ0VEVVJFU19BTExPV19TVEFURU1FTlRTKS5hcHBlbmRGaWVsZChuZXcgQmxvY2tseS5GaWVsZENoZWNrYm94KFwiVFJVRVwiKSxcIlNUQVRFTUVOVFNcIik7dGhpcy5zZXRTdHlsZShcInByb2NlZHVyZV9ibG9ja3NcIik7dGhpcy5zZXRUb29sdGlwKEJsb2NrbHkuTXNnLlBST0NFRFVSRVNfTVVUQVRPUkNPTlRBSU5FUl9UT09MVElQKTt0aGlzLmNvbnRleHRNZW51PSExfX07XG5CbG9ja2x5LkJsb2Nrcy5wcm9jZWR1cmVzX211dGF0b3Jhcmc9e2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQmxvY2tseS5GaWVsZFRleHRJbnB1dChCbG9ja2x5LlByb2NlZHVyZXMuREVGQVVMVF9BUkcsdGhpcy52YWxpZGF0b3JfKTthLm9sZFNob3dFZGl0b3JGbl89YS5zaG93RWRpdG9yXzthLnNob3dFZGl0b3JfPWZ1bmN0aW9uKCl7dGhpcy5jcmVhdGVkVmFyaWFibGVzXz1bXTt0aGlzLm9sZFNob3dFZGl0b3JGbl8oKX07dGhpcy5hcHBlbmREdW1teUlucHV0KCkuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuUFJPQ0VEVVJFU19NVVRBVE9SQVJHX1RJVExFKS5hcHBlbmRGaWVsZChhLFwiTkFNRVwiKTt0aGlzLnNldFByZXZpb3VzU3RhdGVtZW50KCEwKTt0aGlzLnNldE5leHRTdGF0ZW1lbnQoITApO3RoaXMuc2V0U3R5bGUoXCJwcm9jZWR1cmVfYmxvY2tzXCIpO3RoaXMuc2V0VG9vbHRpcChCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX01VVEFUT1JBUkdfVE9PTFRJUCk7dGhpcy5jb250ZXh0TWVudT1cbiExO2Eub25GaW5pc2hFZGl0aW5nXz10aGlzLmRlbGV0ZUludGVybWVkaWF0ZVZhcnNfO2EuY3JlYXRlZFZhcmlhYmxlc189W107YS5vbkZpbmlzaEVkaXRpbmdfKFwieFwiKX0sdmFsaWRhdG9yXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFNvdXJjZUJsb2NrKCksYz1CbG9ja2x5Lk11dGF0b3IuZmluZFBhcmVudFdzKGIud29ya3NwYWNlKTthPWEucmVwbGFjZSgvW1xcc1xceGEwXSsvZyxcIiBcIikucmVwbGFjZSgvXiB8ICQvZyxcIlwiKTtpZighYSlyZXR1cm4gbnVsbDtmb3IodmFyIGQ9KGIud29ya3NwYWNlLnRhcmdldFdvcmtzcGFjZXx8Yi53b3Jrc3BhY2UpLmdldEFsbEJsb2NrcyghMSksZT1hLnRvTG93ZXJDYXNlKCksZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGRbZl0uaWQhPXRoaXMuZ2V0U291cmNlQmxvY2soKS5pZCl7dmFyIGc9ZFtmXS5nZXRGaWVsZFZhbHVlKFwiTkFNRVwiKTtpZihnJiZnLnRvTG93ZXJDYXNlKCk9PWUpcmV0dXJuIG51bGx9aWYoYi5pc0luRmx5b3V0KXJldHVybiBhO1xuKGI9Yy5nZXRWYXJpYWJsZShhLFwiXCIpKSYmYi5uYW1lIT1hJiZjLnJlbmFtZVZhcmlhYmxlQnlJZChiLmdldElkKCksYSk7Ynx8KGI9Yy5jcmVhdGVWYXJpYWJsZShhLFwiXCIpKSYmdGhpcy5jcmVhdGVkVmFyaWFibGVzXyYmdGhpcy5jcmVhdGVkVmFyaWFibGVzXy5wdXNoKGIpO3JldHVybiBhfSxkZWxldGVJbnRlcm1lZGlhdGVWYXJzXzpmdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5Lk11dGF0b3IuZmluZFBhcmVudFdzKHRoaXMuZ2V0U291cmNlQmxvY2soKS53b3Jrc3BhY2UpO2lmKGIpZm9yKHZhciBjPTA7Yzx0aGlzLmNyZWF0ZWRWYXJpYWJsZXNfLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMuY3JlYXRlZFZhcmlhYmxlc19bY107ZC5uYW1lIT1hJiZiLmRlbGV0ZVZhcmlhYmxlQnlJZChkLmdldElkKCkpfX19O1xuQmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19jYWxsbm9yZXR1cm49e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJUT1BST1dcIikuYXBwZW5kRmllbGQodGhpcy5pZCxcIk5BTUVcIik7dGhpcy5zZXRQcmV2aW91c1N0YXRlbWVudCghMCk7dGhpcy5zZXROZXh0U3RhdGVtZW50KCEwKTt0aGlzLnNldFN0eWxlKFwicHJvY2VkdXJlX2Jsb2Nrc1wiKTt0aGlzLnNldEhlbHBVcmwoQmxvY2tseS5Nc2cuUFJPQ0VEVVJFU19DQUxMTk9SRVRVUk5fSEVMUFVSTCk7dGhpcy5hcmd1bWVudHNfPVtdO3RoaXMuYXJndW1lbnRWYXJNb2RlbHNfPVtdO3RoaXMucXVhcmtDb25uZWN0aW9uc189e307dGhpcy5xdWFya0lkc189bnVsbDt0aGlzLnByZXZpb3VzRW5hYmxlZFN0YXRlXz0hMH0sZ2V0UHJvY2VkdXJlQ2FsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEZpZWxkVmFsdWUoXCJOQU1FXCIpfSxyZW5hbWVQcm9jZWR1cmU6ZnVuY3Rpb24oYSxiKXtCbG9ja2x5Lk5hbWVzLmVxdWFscyhhLFxudGhpcy5nZXRQcm9jZWR1cmVDYWxsKCkpJiYodGhpcy5zZXRGaWVsZFZhbHVlKGIsXCJOQU1FXCIpLHRoaXMuc2V0VG9vbHRpcCgodGhpcy5vdXRwdXRDb25uZWN0aW9uP0Jsb2NrbHkuTXNnLlBST0NFRFVSRVNfQ0FMTFJFVFVSTl9UT09MVElQOkJsb2NrbHkuTXNnLlBST0NFRFVSRVNfQ0FMTE5PUkVUVVJOX1RPT0xUSVApLnJlcGxhY2UoXCIlMVwiLGIpKSl9LHNldFByb2NlZHVyZVBhcmFtZXRlcnNfOmZ1bmN0aW9uKGEsYil7dmFyIGM9QmxvY2tseS5Qcm9jZWR1cmVzLmdldERlZmluaXRpb24odGhpcy5nZXRQcm9jZWR1cmVDYWxsKCksdGhpcy53b3Jrc3BhY2UpLGQ9YyYmYy5tdXRhdG9yJiZjLm11dGF0b3IuaXNWaXNpYmxlKCk7ZHx8KHRoaXMucXVhcmtDb25uZWN0aW9uc189e30sdGhpcy5xdWFya0lkc189bnVsbCk7aWYoYilpZihhLmpvaW4oXCJcXG5cIik9PXRoaXMuYXJndW1lbnRzXy5qb2luKFwiXFxuXCIpKXRoaXMucXVhcmtJZHNfPWI7ZWxzZXtpZihiLmxlbmd0aCE9YS5sZW5ndGgpdGhyb3cgUmFuZ2VFcnJvcihcInBhcmFtTmFtZXMgYW5kIHBhcmFtSWRzIG11c3QgYmUgdGhlIHNhbWUgbGVuZ3RoLlwiKTtcbnRoaXMuc2V0Q29sbGFwc2VkKCExKTt0aGlzLnF1YXJrSWRzX3x8KHRoaXMucXVhcmtDb25uZWN0aW9uc189e30sdGhpcy5xdWFya0lkc189W10pO2M9dGhpcy5yZW5kZXJlZDt0aGlzLnJlbmRlcmVkPSExO2Zvcih2YXIgZT0wO2U8dGhpcy5hcmd1bWVudHNfLmxlbmd0aDtlKyspe3ZhciBmPXRoaXMuZ2V0SW5wdXQoXCJBUkdcIitlKTtmJiYoZj1mLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbix0aGlzLnF1YXJrQ29ubmVjdGlvbnNfW3RoaXMucXVhcmtJZHNfW2VdXT1mLGQmJmYmJi0xPT1iLmluZGV4T2YodGhpcy5xdWFya0lkc19bZV0pJiYoZi5kaXNjb25uZWN0KCksZi5nZXRTb3VyY2VCbG9jaygpLmJ1bXBOZWlnaGJvdXJzKCkpKX10aGlzLmFyZ3VtZW50c189W10uY29uY2F0KGEpO3RoaXMuYXJndW1lbnRWYXJNb2RlbHNfPVtdO2ZvcihlPTA7ZTx0aGlzLmFyZ3VtZW50c18ubGVuZ3RoO2UrKylhPUJsb2NrbHkuVmFyaWFibGVzLmdldE9yQ3JlYXRlVmFyaWFibGVQYWNrYWdlKHRoaXMud29ya3NwYWNlLFxubnVsbCx0aGlzLmFyZ3VtZW50c19bZV0sXCJcIiksdGhpcy5hcmd1bWVudFZhck1vZGVsc18ucHVzaChhKTt0aGlzLnVwZGF0ZVNoYXBlXygpO2lmKHRoaXMucXVhcmtJZHNfPWIpZm9yKGU9MDtlPHRoaXMuYXJndW1lbnRzXy5sZW5ndGg7ZSsrKWI9dGhpcy5xdWFya0lkc19bZV0sYiBpbiB0aGlzLnF1YXJrQ29ubmVjdGlvbnNfJiYoZj10aGlzLnF1YXJrQ29ubmVjdGlvbnNfW2JdLEJsb2NrbHkuTXV0YXRvci5yZWNvbm5lY3QoZix0aGlzLFwiQVJHXCIrZSl8fGRlbGV0ZSB0aGlzLnF1YXJrQ29ubmVjdGlvbnNfW2JdKTsodGhpcy5yZW5kZXJlZD1jKSYmdGhpcy5yZW5kZXIoKX19LHVwZGF0ZVNoYXBlXzpmdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5hcmd1bWVudHNfLmxlbmd0aDthKyspe3ZhciBiPXRoaXMuZ2V0RmllbGQoXCJBUkdOQU1FXCIrYSk7aWYoYil7QmxvY2tseS5FdmVudHMuZGlzYWJsZSgpO3RyeXtiLnNldFZhbHVlKHRoaXMuYXJndW1lbnRzX1thXSl9ZmluYWxseXtCbG9ja2x5LkV2ZW50cy5lbmFibGUoKX19ZWxzZSBiPVxubmV3IEJsb2NrbHkuRmllbGRMYWJlbCh0aGlzLmFyZ3VtZW50c19bYV0pLHRoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkFSR1wiK2EpLnNldEFsaWduKEJsb2NrbHkuQUxJR05fUklHSFQpLmFwcGVuZEZpZWxkKGIsXCJBUkdOQU1FXCIrYSkuaW5pdCgpfWZvcig7dGhpcy5nZXRJbnB1dChcIkFSR1wiK2EpOyl0aGlzLnJlbW92ZUlucHV0KFwiQVJHXCIrYSksYSsrO2lmKGE9dGhpcy5nZXRJbnB1dChcIlRPUFJPV1wiKSl0aGlzLmFyZ3VtZW50c18ubGVuZ3RoP3RoaXMuZ2V0RmllbGQoXCJXSVRIXCIpfHwoYS5hcHBlbmRGaWVsZChCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX0NBTExfQkVGT1JFX1BBUkFNUyxcIldJVEhcIiksYS5pbml0KCkpOnRoaXMuZ2V0RmllbGQoXCJXSVRIXCIpJiZhLnJlbW92ZUZpZWxkKFwiV0lUSFwiKX0sbXV0YXRpb25Ub0RvbTpmdW5jdGlvbigpe3ZhciBhPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJtdXRhdGlvblwiKTthLnNldEF0dHJpYnV0ZShcIm5hbWVcIix0aGlzLmdldFByb2NlZHVyZUNhbGwoKSk7XG5mb3IodmFyIGI9MDtiPHRoaXMuYXJndW1lbnRzXy5sZW5ndGg7YisrKXt2YXIgYz1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiYXJnXCIpO2Muc2V0QXR0cmlidXRlKFwibmFtZVwiLHRoaXMuYXJndW1lbnRzX1tiXSk7YS5hcHBlbmRDaGlsZChjKX1yZXR1cm4gYX0sZG9tVG9NdXRhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1hLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7dGhpcy5yZW5hbWVQcm9jZWR1cmUodGhpcy5nZXRQcm9jZWR1cmVDYWxsKCksYik7Yj1bXTtmb3IodmFyIGM9W10sZD0wLGU7ZT1hLmNoaWxkTm9kZXNbZF07ZCsrKVwiYXJnXCI9PWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGIucHVzaChlLmdldEF0dHJpYnV0ZShcIm5hbWVcIikpLGMucHVzaChlLmdldEF0dHJpYnV0ZShcInBhcmFtSWRcIikpKTt0aGlzLnNldFByb2NlZHVyZVBhcmFtZXRlcnNfKGIsYyl9LGdldFZhck1vZGVsczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZ3VtZW50VmFyTW9kZWxzX30sb25jaGFuZ2U6ZnVuY3Rpb24oYSl7aWYodGhpcy53b3Jrc3BhY2UmJlxuIXRoaXMud29ya3NwYWNlLmlzRmx5b3V0JiZhLnJlY29yZFVuZG8paWYoYS50eXBlPT1CbG9ja2x5LkV2ZW50cy5CTE9DS19DUkVBVEUmJi0xIT1hLmlkcy5pbmRleE9mKHRoaXMuaWQpKXt2YXIgYj10aGlzLmdldFByb2NlZHVyZUNhbGwoKTtiPUJsb2NrbHkuUHJvY2VkdXJlcy5nZXREZWZpbml0aW9uKGIsdGhpcy53b3Jrc3BhY2UpOyFifHxiLnR5cGU9PXRoaXMuZGVmVHlwZV8mJkpTT04uc3RyaW5naWZ5KGIuYXJndW1lbnRzXyk9PUpTT04uc3RyaW5naWZ5KHRoaXMuYXJndW1lbnRzXyl8fChiPW51bGwpO2lmKCFiKXtCbG9ja2x5LkV2ZW50cy5zZXRHcm91cChhLmdyb3VwKTthPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJ4bWxcIik7Yj1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiYmxvY2tcIik7Yi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsdGhpcy5kZWZUeXBlXyk7dmFyIGM9dGhpcy5nZXRSZWxhdGl2ZVRvU3VyZmFjZVhZKCksZD1jLnkrMipCbG9ja2x5LlNOQVBfUkFESVVTO1xuYi5zZXRBdHRyaWJ1dGUoXCJ4XCIsYy54K0Jsb2NrbHkuU05BUF9SQURJVVMqKHRoaXMuUlRMPy0xOjEpKTtiLnNldEF0dHJpYnV0ZShcInlcIixkKTtjPXRoaXMubXV0YXRpb25Ub0RvbSgpO2IuYXBwZW5kQ2hpbGQoYyk7Yz1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiZmllbGRcIik7Yy5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJOQU1FXCIpO2MuYXBwZW5kQ2hpbGQoQmxvY2tseS51dGlscy54bWwuY3JlYXRlVGV4dE5vZGUodGhpcy5nZXRQcm9jZWR1cmVDYWxsKCkpKTtiLmFwcGVuZENoaWxkKGMpO2EuYXBwZW5kQ2hpbGQoYik7QmxvY2tseS5YbWwuZG9tVG9Xb3Jrc3BhY2UoYSx0aGlzLndvcmtzcGFjZSk7QmxvY2tseS5FdmVudHMuc2V0R3JvdXAoITEpfX1lbHNlIGEudHlwZT09QmxvY2tseS5FdmVudHMuQkxPQ0tfREVMRVRFPyhiPXRoaXMuZ2V0UHJvY2VkdXJlQ2FsbCgpLGI9QmxvY2tseS5Qcm9jZWR1cmVzLmdldERlZmluaXRpb24oYix0aGlzLndvcmtzcGFjZSksYnx8KEJsb2NrbHkuRXZlbnRzLnNldEdyb3VwKGEuZ3JvdXApLFxudGhpcy5kaXNwb3NlKCEwKSxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cCghMSkpKTphLnR5cGU9PUJsb2NrbHkuRXZlbnRzLkNIQU5HRSYmXCJkaXNhYmxlZFwiPT1hLmVsZW1lbnQmJihiPXRoaXMuZ2V0UHJvY2VkdXJlQ2FsbCgpLChiPUJsb2NrbHkuUHJvY2VkdXJlcy5nZXREZWZpbml0aW9uKGIsdGhpcy53b3Jrc3BhY2UpKSYmYi5pZD09YS5ibG9ja0lkJiYoKGI9QmxvY2tseS5FdmVudHMuZ2V0R3JvdXAoKSkmJmNvbnNvbGUubG9nKFwiU2F3IGFuIGV4aXN0aW5nIGdyb3VwIHdoaWxlIHJlc3BvbmRpbmcgdG8gYSBkZWZpbml0aW9uIGNoYW5nZVwiKSxCbG9ja2x5LkV2ZW50cy5zZXRHcm91cChhLmdyb3VwKSxhLm5ld1ZhbHVlPyh0aGlzLnByZXZpb3VzRW5hYmxlZFN0YXRlXz10aGlzLmlzRW5hYmxlZCgpLHRoaXMuc2V0RW5hYmxlZCghMSkpOnRoaXMuc2V0RW5hYmxlZCh0aGlzLnByZXZpb3VzRW5hYmxlZFN0YXRlXyksQmxvY2tseS5FdmVudHMuc2V0R3JvdXAoYikpKX0sY3VzdG9tQ29udGV4dE1lbnU6ZnVuY3Rpb24oYSl7aWYodGhpcy53b3Jrc3BhY2UuaXNNb3ZhYmxlKCkpe3ZhciBiPVxue2VuYWJsZWQ6ITB9O2IudGV4dD1CbG9ja2x5Lk1zZy5QUk9DRURVUkVTX0hJR0hMSUdIVF9ERUY7dmFyIGM9dGhpcy5nZXRQcm9jZWR1cmVDYWxsKCksZD10aGlzLndvcmtzcGFjZTtiLmNhbGxiYWNrPWZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS5Qcm9jZWR1cmVzLmdldERlZmluaXRpb24oYyxkKTthJiYoZC5jZW50ZXJPbkJsb2NrKGEuaWQpLGEuc2VsZWN0KCkpfTthLnB1c2goYil9fSxkZWZUeXBlXzpcInByb2NlZHVyZXNfZGVmbm9yZXR1cm5cIn07XG5CbG9ja2x5LkJsb2Nrcy5wcm9jZWR1cmVzX2NhbGxyZXR1cm49e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJUT1BST1dcIikuYXBwZW5kRmllbGQoXCJcIixcIk5BTUVcIik7dGhpcy5zZXRPdXRwdXQoITApO3RoaXMuc2V0U3R5bGUoXCJwcm9jZWR1cmVfYmxvY2tzXCIpO3RoaXMuc2V0SGVscFVybChCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX0NBTExSRVRVUk5fSEVMUFVSTCk7dGhpcy5hcmd1bWVudHNfPVtdO3RoaXMucXVhcmtDb25uZWN0aW9uc189e307dGhpcy5xdWFya0lkc189bnVsbDt0aGlzLnByZXZpb3VzRW5hYmxlZFN0YXRlXz0hMH0sZ2V0UHJvY2VkdXJlQ2FsbDpCbG9ja2x5LkJsb2Nrcy5wcm9jZWR1cmVzX2NhbGxub3JldHVybi5nZXRQcm9jZWR1cmVDYWxsLHJlbmFtZVByb2NlZHVyZTpCbG9ja2x5LkJsb2Nrcy5wcm9jZWR1cmVzX2NhbGxub3JldHVybi5yZW5hbWVQcm9jZWR1cmUsc2V0UHJvY2VkdXJlUGFyYW1ldGVyc186QmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19jYWxsbm9yZXR1cm4uc2V0UHJvY2VkdXJlUGFyYW1ldGVyc18sXG51cGRhdGVTaGFwZV86QmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19jYWxsbm9yZXR1cm4udXBkYXRlU2hhcGVfLG11dGF0aW9uVG9Eb206QmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19jYWxsbm9yZXR1cm4ubXV0YXRpb25Ub0RvbSxkb21Ub011dGF0aW9uOkJsb2NrbHkuQmxvY2tzLnByb2NlZHVyZXNfY2FsbG5vcmV0dXJuLmRvbVRvTXV0YXRpb24sZ2V0VmFyTW9kZWxzOkJsb2NrbHkuQmxvY2tzLnByb2NlZHVyZXNfY2FsbG5vcmV0dXJuLmdldFZhck1vZGVscyxvbmNoYW5nZTpCbG9ja2x5LkJsb2Nrcy5wcm9jZWR1cmVzX2NhbGxub3JldHVybi5vbmNoYW5nZSxjdXN0b21Db250ZXh0TWVudTpCbG9ja2x5LkJsb2Nrcy5wcm9jZWR1cmVzX2NhbGxub3JldHVybi5jdXN0b21Db250ZXh0TWVudSxkZWZUeXBlXzpcInByb2NlZHVyZXNfZGVmcmV0dXJuXCJ9O1xuQmxvY2tseS5CbG9ja3MucHJvY2VkdXJlc19pZnJldHVybj17aW5pdDpmdW5jdGlvbigpe3RoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkNPTkRJVElPTlwiKS5zZXRDaGVjayhcIkJvb2xlYW5cIikuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuQ09OVFJPTFNfSUZfTVNHX0lGKTt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJWQUxVRVwiKS5hcHBlbmRGaWVsZChCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX0RFRlJFVFVSTl9SRVRVUk4pO3RoaXMuc2V0SW5wdXRzSW5saW5lKCEwKTt0aGlzLnNldFByZXZpb3VzU3RhdGVtZW50KCEwKTt0aGlzLnNldE5leHRTdGF0ZW1lbnQoITApO3RoaXMuc2V0U3R5bGUoXCJwcm9jZWR1cmVfYmxvY2tzXCIpO3RoaXMuc2V0VG9vbHRpcChCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX0lGUkVUVVJOX1RPT0xUSVApO3RoaXMuc2V0SGVscFVybChCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX0lGUkVUVVJOX0hFTFBVUkwpO3RoaXMuaGFzUmV0dXJuVmFsdWVfPSEwfSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7dmFyIGE9XG5CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwibXV0YXRpb25cIik7YS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLE51bWJlcih0aGlzLmhhc1JldHVyblZhbHVlXykpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuaGFzUmV0dXJuVmFsdWVfPTE9PWEuZ2V0QXR0cmlidXRlKFwidmFsdWVcIik7dGhpcy5oYXNSZXR1cm5WYWx1ZV98fCh0aGlzLnJlbW92ZUlucHV0KFwiVkFMVUVcIiksdGhpcy5hcHBlbmREdW1teUlucHV0KFwiVkFMVUVcIikuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuUFJPQ0VEVVJFU19ERUZSRVRVUk5fUkVUVVJOKSl9LG9uY2hhbmdlOmZ1bmN0aW9uKGEpe2lmKHRoaXMud29ya3NwYWNlLmlzRHJhZ2dpbmcmJiF0aGlzLndvcmtzcGFjZS5pc0RyYWdnaW5nKCkpe2E9ITE7dmFyIGI9dGhpcztkb3tpZigtMSE9dGhpcy5GVU5DVElPTl9UWVBFUy5pbmRleE9mKGIudHlwZSkpe2E9ITA7YnJlYWt9Yj1iLmdldFN1cnJvdW5kUGFyZW50KCl9d2hpbGUoYik7XG5hPyhcInByb2NlZHVyZXNfZGVmbm9yZXR1cm5cIj09Yi50eXBlJiZ0aGlzLmhhc1JldHVyblZhbHVlXz8odGhpcy5yZW1vdmVJbnB1dChcIlZBTFVFXCIpLHRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIlZBTFVFXCIpLmFwcGVuZEZpZWxkKEJsb2NrbHkuTXNnLlBST0NFRFVSRVNfREVGUkVUVVJOX1JFVFVSTiksdGhpcy5oYXNSZXR1cm5WYWx1ZV89ITEpOlwicHJvY2VkdXJlc19kZWZyZXR1cm5cIiE9Yi50eXBlfHx0aGlzLmhhc1JldHVyblZhbHVlX3x8KHRoaXMucmVtb3ZlSW5wdXQoXCJWQUxVRVwiKSx0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJWQUxVRVwiKS5hcHBlbmRGaWVsZChCbG9ja2x5Lk1zZy5QUk9DRURVUkVTX0RFRlJFVFVSTl9SRVRVUk4pLHRoaXMuaGFzUmV0dXJuVmFsdWVfPSEwKSx0aGlzLnNldFdhcm5pbmdUZXh0KG51bGwpLHRoaXMuaXNJbkZseW91dHx8dGhpcy5zZXRFbmFibGVkKCEwKSk6KHRoaXMuc2V0V2FybmluZ1RleHQoQmxvY2tseS5Nc2cuUFJPQ0VEVVJFU19JRlJFVFVSTl9XQVJOSU5HKSxcbnRoaXMuaXNJbkZseW91dHx8dGhpcy5nZXRJbmhlcml0ZWREaXNhYmxlZCgpfHx0aGlzLnNldEVuYWJsZWQoITEpKX19LEZVTkNUSU9OX1RZUEVTOltcInByb2NlZHVyZXNfZGVmbm9yZXR1cm5cIixcInByb2NlZHVyZXNfZGVmcmV0dXJuXCJdfTtCbG9ja2x5LkJsb2Nrcy50ZXh0cz17fTtCbG9ja2x5LkNvbnN0YW50cy5UZXh0PXt9O0Jsb2NrbHkuQ29uc3RhbnRzLlRleHQuSFVFPTE2MDtcbkJsb2NrbHkuZGVmaW5lQmxvY2tzV2l0aEpzb25BcnJheShbe3R5cGU6XCJ0ZXh0XCIsbWVzc2FnZTA6XCIlMVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX2lucHV0XCIsbmFtZTpcIlRFWFRcIix0ZXh0OlwiXCJ9XSxvdXRwdXQ6XCJTdHJpbmdcIixzdHlsZTpcInRleHRfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX1RFWFRfVEVYVF9IRUxQVVJMfVwiLHRvb2x0aXA6XCIle0JLWV9URVhUX1RFWFRfVE9PTFRJUH1cIixleHRlbnNpb25zOltcInRleHRfcXVvdGVzXCIsXCJwYXJlbnRfdG9vbHRpcF93aGVuX2lubGluZVwiXX0se3R5cGU6XCJ0ZXh0X211bHRpbGluZVwiLG1lc3NhZ2UwOlwiJTEgJTJcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF9pbWFnZVwiLHNyYzpcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQXdBQUFBUkNBWUFBQURwUFUyaUFBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFBbHdTRmx6QUFBZGhnQUFIWVlCWGFJVGdRQUFBQmgwUlZoMFUyOW1kSGRoY21VQWNHRnBiblF1Ym1WMElEUXVNUzQyL1U0SjZBQUFBUDFKUkVGVU9FK1ZrczBLUVVFWWhqbVJJamE0QUJ0WjJkbTVBM3QzSWE2QVVtN0N5bFl1UVJhVWhaU2xMWkppUWJGQXlSblBOMzN5MDFIT1cwOHo4ODczenB3ek00RjNHV09DcnV2R0lFNC9yTGFWK05xMWhWR01CcXpocWx4Z0N5czR3SkE2NXhub2dNSHNRNWx1am5ZSFRlakJCQ0sybUU0YWJqQ2dNR2hOeEhnREZXakRTRzA3a2RmVmEycFpNZjRaeU1BZFdtcFpNZllPc0xpRE1ZTWpsTUIrSzYxM1FJU1JoVG5JVG5zWWc1eVVkMERFVG1Fb01sa0ZPZUlUL0E1OGl5SzVFMThCdVRCZmdZWGZ3Tkp2NFA5L29FQmVyTHlsT25SaHlnbUdkUHBUVEJaQVBrZGU2MWxiUWU0bW9XVXZZVVpZTGZVTmZ0SVk0endBNVgyWjlBWW5RckVBQUFBQVNVVk9SSzVDWUlJPVwiLHdpZHRoOjEyLFxuaGVpZ2h0OjE3LGFsdDpcIlxcdTAwYjZcIn0se3R5cGU6XCJmaWVsZF9tdWx0aWxpbmV0ZXh0XCIsbmFtZTpcIlRFWFRcIix0ZXh0OlwiXCJ9XSxvdXRwdXQ6XCJTdHJpbmdcIixzdHlsZTpcInRleHRfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX1RFWFRfVEVYVF9IRUxQVVJMfVwiLHRvb2x0aXA6XCIle0JLWV9URVhUX1RFWFRfVE9PTFRJUH1cIixleHRlbnNpb25zOltcInBhcmVudF90b29sdGlwX3doZW5faW5saW5lXCJdfSx7dHlwZTpcInRleHRfam9pblwiLG1lc3NhZ2UwOlwiXCIsb3V0cHV0OlwiU3RyaW5nXCIsc3R5bGU6XCJ0ZXh0X2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9URVhUX0pPSU5fSEVMUFVSTH1cIix0b29sdGlwOlwiJXtCS1lfVEVYVF9KT0lOX1RPT0xUSVB9XCIsbXV0YXRvcjpcInRleHRfam9pbl9tdXRhdG9yXCJ9LHt0eXBlOlwidGV4dF9jcmVhdGVfam9pbl9jb250YWluZXJcIixtZXNzYWdlMDpcIiV7QktZX1RFWFRfQ1JFQVRFX0pPSU5fVElUTEVfSk9JTn0gJTEgJTJcIixhcmdzMDpbe3R5cGU6XCJpbnB1dF9kdW1teVwifSxcbnt0eXBlOlwiaW5wdXRfc3RhdGVtZW50XCIsbmFtZTpcIlNUQUNLXCJ9XSxzdHlsZTpcInRleHRfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX1RFWFRfQ1JFQVRFX0pPSU5fVE9PTFRJUH1cIixlbmFibGVDb250ZXh0TWVudTohMX0se3R5cGU6XCJ0ZXh0X2NyZWF0ZV9qb2luX2l0ZW1cIixtZXNzYWdlMDpcIiV7QktZX1RFWFRfQ1JFQVRFX0pPSU5fSVRFTV9USVRMRV9JVEVNfVwiLHByZXZpb3VzU3RhdGVtZW50Om51bGwsbmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwidGV4dF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfVEVYVF9DUkVBVEVfSk9JTl9JVEVNX1RPT0xUSVB9XCIsZW5hYmxlQ29udGV4dE1lbnU6ITF9LHt0eXBlOlwidGV4dF9hcHBlbmRcIixtZXNzYWdlMDpcIiV7QktZX1RFWFRfQVBQRU5EX1RJVExFfVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX3ZhcmlhYmxlXCIsbmFtZTpcIlZBUlwiLHZhcmlhYmxlOlwiJXtCS1lfVEVYVF9BUFBFTkRfVkFSSUFCTEV9XCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVEVYVFwifV0sXG5wcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcInRleHRfYmxvY2tzXCIsZXh0ZW5zaW9uczpbXCJ0ZXh0X2FwcGVuZF90b29sdGlwXCJdfSx7dHlwZTpcInRleHRfbGVuZ3RoXCIsbWVzc2FnZTA6XCIle0JLWV9URVhUX0xFTkdUSF9USVRMRX1cIixhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJWQUxVRVwiLGNoZWNrOltcIlN0cmluZ1wiLFwiQXJyYXlcIl19XSxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcInRleHRfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX1RFWFRfTEVOR1RIX1RPT0xUSVB9XCIsaGVscFVybDpcIiV7QktZX1RFWFRfTEVOR1RIX0hFTFBVUkx9XCJ9LHt0eXBlOlwidGV4dF9pc0VtcHR5XCIsbWVzc2FnZTA6XCIle0JLWV9URVhUX0lTRU1QVFlfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVkFMVUVcIixjaGVjazpbXCJTdHJpbmdcIixcIkFycmF5XCJdfV0sb3V0cHV0OlwiQm9vbGVhblwiLHN0eWxlOlwidGV4dF9ibG9ja3NcIix0b29sdGlwOlwiJXtCS1lfVEVYVF9JU0VNUFRZX1RPT0xUSVB9XCIsXG5oZWxwVXJsOlwiJXtCS1lfVEVYVF9JU0VNUFRZX0hFTFBVUkx9XCJ9LHt0eXBlOlwidGV4dF9pbmRleE9mXCIsbWVzc2FnZTA6XCIle0JLWV9URVhUX0lOREVYT0ZfVElUTEV9XCIsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVkFMVUVcIixjaGVjazpcIlN0cmluZ1wifSx7dHlwZTpcImZpZWxkX2Ryb3Bkb3duXCIsbmFtZTpcIkVORFwiLG9wdGlvbnM6W1tcIiV7QktZX1RFWFRfSU5ERVhPRl9PUEVSQVRPUl9GSVJTVH1cIixcIkZJUlNUXCJdLFtcIiV7QktZX1RFWFRfSU5ERVhPRl9PUEVSQVRPUl9MQVNUfVwiLFwiTEFTVFwiXV19LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiRklORFwiLGNoZWNrOlwiU3RyaW5nXCJ9XSxvdXRwdXQ6XCJOdW1iZXJcIixzdHlsZTpcInRleHRfYmxvY2tzXCIsaGVscFVybDpcIiV7QktZX1RFWFRfSU5ERVhPRl9IRUxQVVJMfVwiLGlucHV0c0lubGluZTohMCxleHRlbnNpb25zOltcInRleHRfaW5kZXhPZl90b29sdGlwXCJdfSx7dHlwZTpcInRleHRfY2hhckF0XCIsbWVzc2FnZTA6XCIle0JLWV9URVhUX0NIQVJBVF9USVRMRX1cIixcbmFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlZBTFVFXCIsY2hlY2s6XCJTdHJpbmdcIn0se3R5cGU6XCJmaWVsZF9kcm9wZG93blwiLG5hbWU6XCJXSEVSRVwiLG9wdGlvbnM6W1tcIiV7QktZX1RFWFRfQ0hBUkFUX0ZST01fU1RBUlR9XCIsXCJGUk9NX1NUQVJUXCJdLFtcIiV7QktZX1RFWFRfQ0hBUkFUX0ZST01fRU5EfVwiLFwiRlJPTV9FTkRcIl0sW1wiJXtCS1lfVEVYVF9DSEFSQVRfRklSU1R9XCIsXCJGSVJTVFwiXSxbXCIle0JLWV9URVhUX0NIQVJBVF9MQVNUfVwiLFwiTEFTVFwiXSxbXCIle0JLWV9URVhUX0NIQVJBVF9SQU5ET019XCIsXCJSQU5ET01cIl1dfV0sb3V0cHV0OlwiU3RyaW5nXCIsc3R5bGU6XCJ0ZXh0X2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9URVhUX0NIQVJBVF9IRUxQVVJMfVwiLGlucHV0c0lubGluZTohMCxtdXRhdG9yOlwidGV4dF9jaGFyQXRfbXV0YXRvclwifV0pO1xuQmxvY2tseS5CbG9ja3MudGV4dF9nZXRTdWJzdHJpbmc9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLldIRVJFX09QVElPTlNfMT1bW0Jsb2NrbHkuTXNnLlRFWFRfR0VUX1NVQlNUUklOR19TVEFSVF9GUk9NX1NUQVJULFwiRlJPTV9TVEFSVFwiXSxbQmxvY2tseS5Nc2cuVEVYVF9HRVRfU1VCU1RSSU5HX1NUQVJUX0ZST01fRU5ELFwiRlJPTV9FTkRcIl0sW0Jsb2NrbHkuTXNnLlRFWFRfR0VUX1NVQlNUUklOR19TVEFSVF9GSVJTVCxcIkZJUlNUXCJdXTt0aGlzLldIRVJFX09QVElPTlNfMj1bW0Jsb2NrbHkuTXNnLlRFWFRfR0VUX1NVQlNUUklOR19FTkRfRlJPTV9TVEFSVCxcIkZST01fU1RBUlRcIl0sW0Jsb2NrbHkuTXNnLlRFWFRfR0VUX1NVQlNUUklOR19FTkRfRlJPTV9FTkQsXCJGUk9NX0VORFwiXSxbQmxvY2tseS5Nc2cuVEVYVF9HRVRfU1VCU1RSSU5HX0VORF9MQVNULFwiTEFTVFwiXV07dGhpcy5zZXRIZWxwVXJsKEJsb2NrbHkuTXNnLlRFWFRfR0VUX1NVQlNUUklOR19IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwidGV4dF9ibG9ja3NcIik7XG50aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJTVFJJTkdcIikuc2V0Q2hlY2soXCJTdHJpbmdcIikuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuVEVYVF9HRVRfU1VCU1RSSU5HX0lOUFVUX0lOX1RFWFQpO3RoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkFUMVwiKTt0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJBVDJcIik7QmxvY2tseS5Nc2cuVEVYVF9HRVRfU1VCU1RSSU5HX1RBSUwmJnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIlRBSUxcIikuYXBwZW5kRmllbGQoQmxvY2tseS5Nc2cuVEVYVF9HRVRfU1VCU1RSSU5HX1RBSUwpO3RoaXMuc2V0SW5wdXRzSW5saW5lKCEwKTt0aGlzLnNldE91dHB1dCghMCxcIlN0cmluZ1wiKTt0aGlzLnVwZGF0ZUF0XygxLCEwKTt0aGlzLnVwZGF0ZUF0XygyLCEwKTt0aGlzLnNldFRvb2x0aXAoQmxvY2tseS5Nc2cuVEVYVF9HRVRfU1VCU1RSSU5HX1RPT0xUSVApfSxtdXRhdGlvblRvRG9tOmZ1bmN0aW9uKCl7dmFyIGE9QmxvY2tseS51dGlscy54bWwuY3JlYXRlRWxlbWVudChcIm11dGF0aW9uXCIpLFxuYj10aGlzLmdldElucHV0KFwiQVQxXCIpLnR5cGU9PUJsb2NrbHkuSU5QVVRfVkFMVUU7YS5zZXRBdHRyaWJ1dGUoXCJhdDFcIixiKTtiPXRoaXMuZ2V0SW5wdXQoXCJBVDJcIikudHlwZT09QmxvY2tseS5JTlBVVF9WQUxVRTthLnNldEF0dHJpYnV0ZShcImF0MlwiLGIpO3JldHVybiBhfSxkb21Ub011dGF0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPVwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImF0MVwiKTthPVwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImF0MlwiKTt0aGlzLnVwZGF0ZUF0XygxLGIpO3RoaXMudXBkYXRlQXRfKDIsYSl9LHVwZGF0ZUF0XzpmdW5jdGlvbihhLGIpe3RoaXMucmVtb3ZlSW5wdXQoXCJBVFwiK2EpO3RoaXMucmVtb3ZlSW5wdXQoXCJPUkRJTkFMXCIrYSwhMCk7Yj8odGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiQVRcIithKS5zZXRDaGVjayhcIk51bWJlclwiKSxCbG9ja2x5Lk1zZy5PUkRJTkFMX05VTUJFUl9TVUZGSVgmJnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIk9SRElOQUxcIithKS5hcHBlbmRGaWVsZChCbG9ja2x5Lk1zZy5PUkRJTkFMX05VTUJFUl9TVUZGSVgpKTpcbnRoaXMuYXBwZW5kRHVtbXlJbnB1dChcIkFUXCIrYSk7Mj09YSYmQmxvY2tseS5Nc2cuVEVYVF9HRVRfU1VCU1RSSU5HX1RBSUwmJih0aGlzLnJlbW92ZUlucHV0KFwiVEFJTFwiLCEwKSx0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJUQUlMXCIpLmFwcGVuZEZpZWxkKEJsb2NrbHkuTXNnLlRFWFRfR0VUX1NVQlNUUklOR19UQUlMKSk7dmFyIGM9bmV3IEJsb2NrbHkuRmllbGREcm9wZG93bih0aGlzW1wiV0hFUkVfT1BUSU9OU19cIithXSxmdW5jdGlvbihjKXt2YXIgZT1cIkZST01fU1RBUlRcIj09Y3x8XCJGUk9NX0VORFwiPT1jO2lmKGUhPWIpe3ZhciBkPXRoaXMuZ2V0U291cmNlQmxvY2soKTtkLnVwZGF0ZUF0XyhhLGUpO2Quc2V0RmllbGRWYWx1ZShjLFwiV0hFUkVcIithKTtyZXR1cm4gbnVsbH19KTt0aGlzLmdldElucHV0KFwiQVRcIithKS5hcHBlbmRGaWVsZChjLFwiV0hFUkVcIithKTsxPT1hJiYodGhpcy5tb3ZlSW5wdXRCZWZvcmUoXCJBVDFcIixcIkFUMlwiKSx0aGlzLmdldElucHV0KFwiT1JESU5BTDFcIikmJlxudGhpcy5tb3ZlSW5wdXRCZWZvcmUoXCJPUkRJTkFMMVwiLFwiQVQyXCIpKX19O0Jsb2NrbHkuQmxvY2tzLnRleHRfY2hhbmdlQ2FzZT17aW5pdDpmdW5jdGlvbigpe3ZhciBhPVtbQmxvY2tseS5Nc2cuVEVYVF9DSEFOR0VDQVNFX09QRVJBVE9SX1VQUEVSQ0FTRSxcIlVQUEVSQ0FTRVwiXSxbQmxvY2tseS5Nc2cuVEVYVF9DSEFOR0VDQVNFX09QRVJBVE9SX0xPV0VSQ0FTRSxcIkxPV0VSQ0FTRVwiXSxbQmxvY2tseS5Nc2cuVEVYVF9DSEFOR0VDQVNFX09QRVJBVE9SX1RJVExFQ0FTRSxcIlRJVExFQ0FTRVwiXV07dGhpcy5zZXRIZWxwVXJsKEJsb2NrbHkuTXNnLlRFWFRfQ0hBTkdFQ0FTRV9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwidGV4dF9ibG9ja3NcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiVEVYVFwiKS5zZXRDaGVjayhcIlN0cmluZ1wiKS5hcHBlbmRGaWVsZChuZXcgQmxvY2tseS5GaWVsZERyb3Bkb3duKGEpLFwiQ0FTRVwiKTt0aGlzLnNldE91dHB1dCghMCxcIlN0cmluZ1wiKTt0aGlzLnNldFRvb2x0aXAoQmxvY2tseS5Nc2cuVEVYVF9DSEFOR0VDQVNFX1RPT0xUSVApfX07XG5CbG9ja2x5LkJsb2Nrcy50ZXh0X3RyaW09e2luaXQ6ZnVuY3Rpb24oKXt2YXIgYT1bW0Jsb2NrbHkuTXNnLlRFWFRfVFJJTV9PUEVSQVRPUl9CT1RILFwiQk9USFwiXSxbQmxvY2tseS5Nc2cuVEVYVF9UUklNX09QRVJBVE9SX0xFRlQsXCJMRUZUXCJdLFtCbG9ja2x5Lk1zZy5URVhUX1RSSU1fT1BFUkFUT1JfUklHSFQsXCJSSUdIVFwiXV07dGhpcy5zZXRIZWxwVXJsKEJsb2NrbHkuTXNnLlRFWFRfVFJJTV9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwidGV4dF9ibG9ja3NcIik7dGhpcy5hcHBlbmRWYWx1ZUlucHV0KFwiVEVYVFwiKS5zZXRDaGVjayhcIlN0cmluZ1wiKS5hcHBlbmRGaWVsZChuZXcgQmxvY2tseS5GaWVsZERyb3Bkb3duKGEpLFwiTU9ERVwiKTt0aGlzLnNldE91dHB1dCghMCxcIlN0cmluZ1wiKTt0aGlzLnNldFRvb2x0aXAoQmxvY2tseS5Nc2cuVEVYVF9UUklNX1RPT0xUSVApfX07XG5CbG9ja2x5LkJsb2Nrcy50ZXh0X3ByaW50PXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5qc29uSW5pdCh7bWVzc2FnZTA6QmxvY2tseS5Nc2cuVEVYVF9QUklOVF9USVRMRSxhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJURVhUXCJ9XSxwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcInRleHRfYmxvY2tzXCIsdG9vbHRpcDpCbG9ja2x5Lk1zZy5URVhUX1BSSU5UX1RPT0xUSVAsaGVscFVybDpCbG9ja2x5Lk1zZy5URVhUX1BSSU5UX0hFTFBVUkx9KX19O1xuQmxvY2tseS5CbG9ja3MudGV4dF9wcm9tcHRfZXh0PXtpbml0OmZ1bmN0aW9uKCl7dmFyIGE9W1tCbG9ja2x5Lk1zZy5URVhUX1BST01QVF9UWVBFX1RFWFQsXCJURVhUXCJdLFtCbG9ja2x5Lk1zZy5URVhUX1BST01QVF9UWVBFX05VTUJFUixcIk5VTUJFUlwiXV07dGhpcy5zZXRIZWxwVXJsKEJsb2NrbHkuTXNnLlRFWFRfUFJPTVBUX0hFTFBVUkwpO3RoaXMuc2V0U3R5bGUoXCJ0ZXh0X2Jsb2Nrc1wiKTt2YXIgYj10aGlzO2E9bmV3IEJsb2NrbHkuRmllbGREcm9wZG93bihhLGZ1bmN0aW9uKGEpe2IudXBkYXRlVHlwZV8oYSl9KTt0aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJURVhUXCIpLmFwcGVuZEZpZWxkKGEsXCJUWVBFXCIpO3RoaXMuc2V0T3V0cHV0KCEwLFwiU3RyaW5nXCIpO3RoaXMuc2V0VG9vbHRpcChmdW5jdGlvbigpe3JldHVyblwiVEVYVFwiPT1iLmdldEZpZWxkVmFsdWUoXCJUWVBFXCIpP0Jsb2NrbHkuTXNnLlRFWFRfUFJPTVBUX1RPT0xUSVBfVEVYVDpCbG9ja2x5Lk1zZy5URVhUX1BST01QVF9UT09MVElQX05VTUJFUn0pfSxcbnVwZGF0ZVR5cGVfOmZ1bmN0aW9uKGEpe3RoaXMub3V0cHV0Q29ubmVjdGlvbi5zZXRDaGVjayhcIk5VTUJFUlwiPT1hP1wiTnVtYmVyXCI6XCJTdHJpbmdcIil9LG11dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwibXV0YXRpb25cIik7YS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsdGhpcy5nZXRGaWVsZFZhbHVlKFwiVFlQRVwiKSk7cmV0dXJuIGF9LGRvbVRvTXV0YXRpb246ZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVUeXBlXyhhLmdldEF0dHJpYnV0ZShcInR5cGVcIikpfX07XG5CbG9ja2x5LkJsb2Nrcy50ZXh0X3Byb21wdD17aW5pdDpmdW5jdGlvbigpe3RoaXMubWl4aW4oQmxvY2tseS5Db25zdGFudHMuVGV4dC5RVU9URV9JTUFHRV9NSVhJTik7dmFyIGE9W1tCbG9ja2x5Lk1zZy5URVhUX1BST01QVF9UWVBFX1RFWFQsXCJURVhUXCJdLFtCbG9ja2x5Lk1zZy5URVhUX1BST01QVF9UWVBFX05VTUJFUixcIk5VTUJFUlwiXV0sYj10aGlzO3RoaXMuc2V0SGVscFVybChCbG9ja2x5Lk1zZy5URVhUX1BST01QVF9IRUxQVVJMKTt0aGlzLnNldFN0eWxlKFwidGV4dF9ibG9ja3NcIik7YT1uZXcgQmxvY2tseS5GaWVsZERyb3Bkb3duKGEsZnVuY3Rpb24oYSl7Yi51cGRhdGVUeXBlXyhhKX0pO3RoaXMuYXBwZW5kRHVtbXlJbnB1dCgpLmFwcGVuZEZpZWxkKGEsXCJUWVBFXCIpLmFwcGVuZEZpZWxkKHRoaXMubmV3UXVvdGVfKCEwKSkuYXBwZW5kRmllbGQobmV3IEJsb2NrbHkuRmllbGRUZXh0SW5wdXQoXCJcIiksXCJURVhUXCIpLmFwcGVuZEZpZWxkKHRoaXMubmV3UXVvdGVfKCExKSk7XG50aGlzLnNldE91dHB1dCghMCxcIlN0cmluZ1wiKTt0aGlzLnNldFRvb2x0aXAoZnVuY3Rpb24oKXtyZXR1cm5cIlRFWFRcIj09Yi5nZXRGaWVsZFZhbHVlKFwiVFlQRVwiKT9CbG9ja2x5Lk1zZy5URVhUX1BST01QVF9UT09MVElQX1RFWFQ6QmxvY2tseS5Nc2cuVEVYVF9QUk9NUFRfVE9PTFRJUF9OVU1CRVJ9KX0sdXBkYXRlVHlwZV86QmxvY2tseS5CbG9ja3MudGV4dF9wcm9tcHRfZXh0LnVwZGF0ZVR5cGVfLG11dGF0aW9uVG9Eb206QmxvY2tseS5CbG9ja3MudGV4dF9wcm9tcHRfZXh0Lm11dGF0aW9uVG9Eb20sZG9tVG9NdXRhdGlvbjpCbG9ja2x5LkJsb2Nrcy50ZXh0X3Byb21wdF9leHQuZG9tVG9NdXRhdGlvbn07XG5CbG9ja2x5LkJsb2Nrcy50ZXh0X2NvdW50PXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5qc29uSW5pdCh7bWVzc2FnZTA6QmxvY2tseS5Nc2cuVEVYVF9DT1VOVF9NRVNTQUdFMCxhcmdzMDpbe3R5cGU6XCJpbnB1dF92YWx1ZVwiLG5hbWU6XCJTVUJcIixjaGVjazpcIlN0cmluZ1wifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRFWFRcIixjaGVjazpcIlN0cmluZ1wifV0sb3V0cHV0OlwiTnVtYmVyXCIsaW5wdXRzSW5saW5lOiEwLHN0eWxlOlwidGV4dF9ibG9ja3NcIix0b29sdGlwOkJsb2NrbHkuTXNnLlRFWFRfQ09VTlRfVE9PTFRJUCxoZWxwVXJsOkJsb2NrbHkuTXNnLlRFWFRfQ09VTlRfSEVMUFVSTH0pfX07XG5CbG9ja2x5LkJsb2Nrcy50ZXh0X3JlcGxhY2U9e2luaXQ6ZnVuY3Rpb24oKXt0aGlzLmpzb25Jbml0KHttZXNzYWdlMDpCbG9ja2x5Lk1zZy5URVhUX1JFUExBQ0VfTUVTU0FHRTAsYXJnczA6W3t0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiRlJPTVwiLGNoZWNrOlwiU3RyaW5nXCJ9LHt0eXBlOlwiaW5wdXRfdmFsdWVcIixuYW1lOlwiVE9cIixjaGVjazpcIlN0cmluZ1wifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRFWFRcIixjaGVjazpcIlN0cmluZ1wifV0sb3V0cHV0OlwiU3RyaW5nXCIsaW5wdXRzSW5saW5lOiEwLHN0eWxlOlwidGV4dF9ibG9ja3NcIix0b29sdGlwOkJsb2NrbHkuTXNnLlRFWFRfUkVQTEFDRV9UT09MVElQLGhlbHBVcmw6QmxvY2tseS5Nc2cuVEVYVF9SRVBMQUNFX0hFTFBVUkx9KX19O1xuQmxvY2tseS5CbG9ja3MudGV4dF9yZXZlcnNlPXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5qc29uSW5pdCh7bWVzc2FnZTA6QmxvY2tseS5Nc2cuVEVYVF9SRVZFUlNFX01FU1NBR0UwLGFyZ3MwOlt7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlRFWFRcIixjaGVjazpcIlN0cmluZ1wifV0sb3V0cHV0OlwiU3RyaW5nXCIsaW5wdXRzSW5saW5lOiEwLHN0eWxlOlwidGV4dF9ibG9ja3NcIix0b29sdGlwOkJsb2NrbHkuTXNnLlRFWFRfUkVWRVJTRV9UT09MVElQLGhlbHBVcmw6QmxvY2tseS5Nc2cuVEVYVF9SRVZFUlNFX0hFTFBVUkx9KX19O1xuQmxvY2tseS5Db25zdGFudHMuVGV4dC5RVU9URV9JTUFHRV9NSVhJTj17UVVPVEVfSU1BR0VfTEVGVF9EQVRBVVJJOlwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBd0FBQUFLQ0FRQUFBQXFKWGR4QUFBQW4wbEVRVlFJMXozT01hNUJVUlNGNGYvY1FoQUtqVVFodVFtRk53R0pFVWkwUktONXJVN0ZIS2hwakVIM1RFTXRrZEJTQ1kxRUl2OHI3bkZYOWUyOVY3RUJBT3Z1N1JQandtV0dIL1Z1RjhDeU45L09BZHZxSVhZTHZ0UmFOang5bU1URHlvK05qQU4xSE5jbDlaUTVvUU1NM2RnRFVxRG8xbDhEenZ3bXRaTjdtbkQrUGttTGErNG1ocnhWQTlmUm93QldtVkJoRnk1Z1lFaktNZno5QXlsc2FSUmdHenZaQUFBQUFFbEZUa1N1UW1DQ1wiLFFVT1RFX0lNQUdFX1JJR0hUX0RBVEFVUkk6XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUF3QUFBQUtDQVFBQUFBcUpYZHhBQUFBcVVsRVFWUUkxejNLdlVwQ2NSaUE4ZWY5RTRKTkhoSTBhRkVhY20xbzBCc0kwU2x4OHdhOGdMYXVvRG5vQmhxN0RjZldoZ2dPTkRtSkpncUNQQTduZUo3cDkzNEVPT0tPbk04UTdQREVsby80eDRsRmIyRG11VWpjVXpTM1VSbkdpYjlxYVBOYnVYdkJPM3NHUEhKRFJHNmZHVmRNU2VXRFAycTk5RlFkRnJ6MjZHdTVUcTdkRk16VXZiWHk4S1hlQWo1N2NPa2xnQSt1MUI1QW9zbEx0R0lIUU1hQ1Zud0RuQURaSUZJclhzb1hyZ0FBQUFCSlJVNUVya0pnZ2c9PVwiLFxuUVVPVEVfSU1BR0VfV0lEVEg6MTIsUVVPVEVfSU1BR0VfSEVJR0hUOjEyLHF1b3RlRmllbGRfOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM7Yz10aGlzLmlucHV0TGlzdFtiXTtiKyspZm9yKHZhciBkPTAsZTtlPWMuZmllbGRSb3dbZF07ZCsrKWlmKGE9PWUubmFtZSl7Yy5pbnNlcnRGaWVsZEF0KGQsdGhpcy5uZXdRdW90ZV8oITApKTtjLmluc2VydEZpZWxkQXQoZCsyLHRoaXMubmV3UXVvdGVfKCExKSk7cmV0dXJufWNvbnNvbGUud2FybignZmllbGQgbmFtZWQgXCInK2ErJ1wiIG5vdCBmb3VuZCBpbiAnK3RoaXMudG9EZXZTdHJpbmcoKSl9LG5ld1F1b3RlXzpmdW5jdGlvbihhKXthPXRoaXMuUlRMPyFhOmE7cmV0dXJuIG5ldyBCbG9ja2x5LkZpZWxkSW1hZ2UoYT90aGlzLlFVT1RFX0lNQUdFX0xFRlRfREFUQVVSSTp0aGlzLlFVT1RFX0lNQUdFX1JJR0hUX0RBVEFVUkksdGhpcy5RVU9URV9JTUFHRV9XSURUSCx0aGlzLlFVT1RFX0lNQUdFX0hFSUdIVCxhP1wiXFx1MjAxY1wiOlwiXFx1MjAxZFwiKX19O1xuQmxvY2tseS5Db25zdGFudHMuVGV4dC5URVhUX1FVT1RFU19FWFRFTlNJT049ZnVuY3Rpb24oKXt0aGlzLm1peGluKEJsb2NrbHkuQ29uc3RhbnRzLlRleHQuUVVPVEVfSU1BR0VfTUlYSU4pO3RoaXMucXVvdGVGaWVsZF8oXCJURVhUXCIpfTtcbkJsb2NrbHkuQ29uc3RhbnRzLlRleHQuVEVYVF9KT0lOX01VVEFUT1JfTUlYSU49e211dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwibXV0YXRpb25cIik7YS5zZXRBdHRyaWJ1dGUoXCJpdGVtc1wiLHRoaXMuaXRlbUNvdW50Xyk7cmV0dXJuIGF9LGRvbVRvTXV0YXRpb246ZnVuY3Rpb24oYSl7dGhpcy5pdGVtQ291bnRfPXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKFwiaXRlbXNcIiksMTApO3RoaXMudXBkYXRlU2hhcGVfKCl9LGRlY29tcG9zZTpmdW5jdGlvbihhKXt2YXIgYj1hLm5ld0Jsb2NrKFwidGV4dF9jcmVhdGVfam9pbl9jb250YWluZXJcIik7Yi5pbml0U3ZnKCk7Zm9yKHZhciBjPWIuZ2V0SW5wdXQoXCJTVEFDS1wiKS5jb25uZWN0aW9uLGQ9MDtkPHRoaXMuaXRlbUNvdW50XztkKyspe3ZhciBlPWEubmV3QmxvY2soXCJ0ZXh0X2NyZWF0ZV9qb2luX2l0ZW1cIik7ZS5pbml0U3ZnKCk7Yy5jb25uZWN0KGUucHJldmlvdXNDb25uZWN0aW9uKTtcbmM9ZS5uZXh0Q29ubmVjdGlvbn1yZXR1cm4gYn0sY29tcG9zZTpmdW5jdGlvbihhKXt2YXIgYj1hLmdldElucHV0VGFyZ2V0QmxvY2soXCJTVEFDS1wiKTtmb3IoYT1bXTtiOylhLnB1c2goYi52YWx1ZUNvbm5lY3Rpb25fKSxiPWIubmV4dENvbm5lY3Rpb24mJmIubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKTtmb3IoYj0wO2I8dGhpcy5pdGVtQ291bnRfO2IrKyl7dmFyIGM9dGhpcy5nZXRJbnB1dChcIkFERFwiK2IpLmNvbm5lY3Rpb24udGFyZ2V0Q29ubmVjdGlvbjtjJiYtMT09YS5pbmRleE9mKGMpJiZjLmRpc2Nvbm5lY3QoKX10aGlzLml0ZW1Db3VudF89YS5sZW5ndGg7dGhpcy51cGRhdGVTaGFwZV8oKTtmb3IoYj0wO2I8dGhpcy5pdGVtQ291bnRfO2IrKylCbG9ja2x5Lk11dGF0b3IucmVjb25uZWN0KGFbYl0sdGhpcyxcIkFERFwiK2IpfSxzYXZlQ29ubmVjdGlvbnM6ZnVuY3Rpb24oYSl7YT1hLmdldElucHV0VGFyZ2V0QmxvY2soXCJTVEFDS1wiKTtmb3IodmFyIGI9MDthOyl7dmFyIGM9XG50aGlzLmdldElucHV0KFwiQUREXCIrYik7YS52YWx1ZUNvbm5lY3Rpb25fPWMmJmMuY29ubmVjdGlvbi50YXJnZXRDb25uZWN0aW9uO2IrKzthPWEubmV4dENvbm5lY3Rpb24mJmEubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKX19LHVwZGF0ZVNoYXBlXzpmdW5jdGlvbigpe3RoaXMuaXRlbUNvdW50XyYmdGhpcy5nZXRJbnB1dChcIkVNUFRZXCIpP3RoaXMucmVtb3ZlSW5wdXQoXCJFTVBUWVwiKTp0aGlzLml0ZW1Db3VudF98fHRoaXMuZ2V0SW5wdXQoXCJFTVBUWVwiKXx8dGhpcy5hcHBlbmREdW1teUlucHV0KFwiRU1QVFlcIikuYXBwZW5kRmllbGQodGhpcy5uZXdRdW90ZV8oITApKS5hcHBlbmRGaWVsZCh0aGlzLm5ld1F1b3RlXyghMSkpO2Zvcih2YXIgYT0wO2E8dGhpcy5pdGVtQ291bnRfO2ErKylpZighdGhpcy5nZXRJbnB1dChcIkFERFwiK2EpKXt2YXIgYj10aGlzLmFwcGVuZFZhbHVlSW5wdXQoXCJBRERcIithKS5zZXRBbGlnbihCbG9ja2x5LkFMSUdOX1JJR0hUKTswPT1hJiZiLmFwcGVuZEZpZWxkKEJsb2NrbHkuTXNnLlRFWFRfSk9JTl9USVRMRV9DUkVBVEVXSVRIKX1mb3IoO3RoaXMuZ2V0SW5wdXQoXCJBRERcIitcbmEpOyl0aGlzLnJlbW92ZUlucHV0KFwiQUREXCIrYSksYSsrfX07QmxvY2tseS5Db25zdGFudHMuVGV4dC5URVhUX0pPSU5fRVhURU5TSU9OPWZ1bmN0aW9uKCl7dGhpcy5taXhpbihCbG9ja2x5LkNvbnN0YW50cy5UZXh0LlFVT1RFX0lNQUdFX01JWElOKTt0aGlzLml0ZW1Db3VudF89Mjt0aGlzLnVwZGF0ZVNoYXBlXygpO3RoaXMuc2V0TXV0YXRvcihuZXcgQmxvY2tseS5NdXRhdG9yKFtcInRleHRfY3JlYXRlX2pvaW5faXRlbVwiXSkpfTtCbG9ja2x5LkV4dGVuc2lvbnMucmVnaXN0ZXIoXCJ0ZXh0X2FwcGVuZF90b29sdGlwXCIsQmxvY2tseS5FeHRlbnNpb25zLmJ1aWxkVG9vbHRpcFdpdGhGaWVsZFRleHQoXCIle0JLWV9URVhUX0FQUEVORF9UT09MVElQfVwiLFwiVkFSXCIpKTtcbkJsb2NrbHkuQ29uc3RhbnRzLlRleHQuVEVYVF9JTkRFWE9GX1RPT0xUSVBfRVhURU5TSU9OPWZ1bmN0aW9uKCl7dmFyIGE9dGhpczt0aGlzLnNldFRvb2x0aXAoZnVuY3Rpb24oKXtyZXR1cm4gQmxvY2tseS5Nc2cuVEVYVF9JTkRFWE9GX1RPT0xUSVAucmVwbGFjZShcIiUxXCIsYS53b3Jrc3BhY2Uub3B0aW9ucy5vbmVCYXNlZEluZGV4P1wiMFwiOlwiLTFcIil9KX07XG5CbG9ja2x5LkNvbnN0YW50cy5UZXh0LlRFWFRfQ0hBUkFUX01VVEFUT1JfTUlYSU49e211dGF0aW9uVG9Eb206ZnVuY3Rpb24oKXt2YXIgYT1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwibXV0YXRpb25cIik7YS5zZXRBdHRyaWJ1dGUoXCJhdFwiLCEhdGhpcy5pc0F0Xyk7cmV0dXJuIGF9LGRvbVRvTXV0YXRpb246ZnVuY3Rpb24oYSl7YT1cImZhbHNlXCIhPWEuZ2V0QXR0cmlidXRlKFwiYXRcIik7dGhpcy51cGRhdGVBdF8oYSl9LHVwZGF0ZUF0XzpmdW5jdGlvbihhKXt0aGlzLnJlbW92ZUlucHV0KFwiQVRcIiwhMCk7dGhpcy5yZW1vdmVJbnB1dChcIk9SRElOQUxcIiwhMCk7YSYmKHRoaXMuYXBwZW5kVmFsdWVJbnB1dChcIkFUXCIpLnNldENoZWNrKFwiTnVtYmVyXCIpLEJsb2NrbHkuTXNnLk9SRElOQUxfTlVNQkVSX1NVRkZJWCYmdGhpcy5hcHBlbmREdW1teUlucHV0KFwiT1JESU5BTFwiKS5hcHBlbmRGaWVsZChCbG9ja2x5Lk1zZy5PUkRJTkFMX05VTUJFUl9TVUZGSVgpKTtCbG9ja2x5Lk1zZy5URVhUX0NIQVJBVF9UQUlMJiZcbih0aGlzLnJlbW92ZUlucHV0KFwiVEFJTFwiLCEwKSx0aGlzLmFwcGVuZER1bW15SW5wdXQoXCJUQUlMXCIpLmFwcGVuZEZpZWxkKEJsb2NrbHkuTXNnLlRFWFRfQ0hBUkFUX1RBSUwpKTt0aGlzLmlzQXRfPWF9fTtcbkJsb2NrbHkuQ29uc3RhbnRzLlRleHQuVEVYVF9DSEFSQVRfRVhURU5TSU9OPWZ1bmN0aW9uKCl7dGhpcy5nZXRGaWVsZChcIldIRVJFXCIpLnNldFZhbGlkYXRvcihmdW5jdGlvbihhKXthPVwiRlJPTV9TVEFSVFwiPT1hfHxcIkZST01fRU5EXCI9PWE7YSE9dGhpcy5pc0F0XyYmdGhpcy5nZXRTb3VyY2VCbG9jaygpLnVwZGF0ZUF0XyhhKX0pO3RoaXMudXBkYXRlQXRfKCEwKTt2YXIgYT10aGlzO3RoaXMuc2V0VG9vbHRpcChmdW5jdGlvbigpe3ZhciBiPWEuZ2V0RmllbGRWYWx1ZShcIldIRVJFXCIpLGM9QmxvY2tseS5Nc2cuVEVYVF9DSEFSQVRfVE9PTFRJUDsoXCJGUk9NX1NUQVJUXCI9PWJ8fFwiRlJPTV9FTkRcIj09YikmJihiPVwiRlJPTV9TVEFSVFwiPT1iP0Jsb2NrbHkuTXNnLkxJU1RTX0lOREVYX0ZST01fU1RBUlRfVE9PTFRJUDpCbG9ja2x5Lk1zZy5MSVNUU19JTkRFWF9GUk9NX0VORF9UT09MVElQKSYmKGMrPVwiICBcIitiLnJlcGxhY2UoXCIlMVwiLGEud29ya3NwYWNlLm9wdGlvbnMub25lQmFzZWRJbmRleD9cblwiIzFcIjpcIiMwXCIpKTtyZXR1cm4gY30pfTtCbG9ja2x5LkV4dGVuc2lvbnMucmVnaXN0ZXIoXCJ0ZXh0X2luZGV4T2ZfdG9vbHRpcFwiLEJsb2NrbHkuQ29uc3RhbnRzLlRleHQuVEVYVF9JTkRFWE9GX1RPT0xUSVBfRVhURU5TSU9OKTtCbG9ja2x5LkV4dGVuc2lvbnMucmVnaXN0ZXIoXCJ0ZXh0X3F1b3Rlc1wiLEJsb2NrbHkuQ29uc3RhbnRzLlRleHQuVEVYVF9RVU9URVNfRVhURU5TSU9OKTtCbG9ja2x5LkV4dGVuc2lvbnMucmVnaXN0ZXJNdXRhdG9yKFwidGV4dF9qb2luX211dGF0b3JcIixCbG9ja2x5LkNvbnN0YW50cy5UZXh0LlRFWFRfSk9JTl9NVVRBVE9SX01JWElOLEJsb2NrbHkuQ29uc3RhbnRzLlRleHQuVEVYVF9KT0lOX0VYVEVOU0lPTik7QmxvY2tseS5FeHRlbnNpb25zLnJlZ2lzdGVyTXV0YXRvcihcInRleHRfY2hhckF0X211dGF0b3JcIixCbG9ja2x5LkNvbnN0YW50cy5UZXh0LlRFWFRfQ0hBUkFUX01VVEFUT1JfTUlYSU4sQmxvY2tseS5Db25zdGFudHMuVGV4dC5URVhUX0NIQVJBVF9FWFRFTlNJT04pO0Jsb2NrbHkuQmxvY2tzLnZhcmlhYmxlcz17fTtCbG9ja2x5LkNvbnN0YW50cy5WYXJpYWJsZXM9e307QmxvY2tseS5Db25zdGFudHMuVmFyaWFibGVzLkhVRT0zMzA7XG5CbG9ja2x5LmRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXkoW3t0eXBlOlwidmFyaWFibGVzX2dldFwiLG1lc3NhZ2UwOlwiJTFcIixhcmdzMDpbe3R5cGU6XCJmaWVsZF92YXJpYWJsZVwiLG5hbWU6XCJWQVJcIix2YXJpYWJsZTpcIiV7QktZX1ZBUklBQkxFU19ERUZBVUxUX05BTUV9XCJ9XSxvdXRwdXQ6bnVsbCxzdHlsZTpcInZhcmlhYmxlX2Jsb2Nrc1wiLGhlbHBVcmw6XCIle0JLWV9WQVJJQUJMRVNfR0VUX0hFTFBVUkx9XCIsdG9vbHRpcDpcIiV7QktZX1ZBUklBQkxFU19HRVRfVE9PTFRJUH1cIixleHRlbnNpb25zOltcImNvbnRleHRNZW51X3ZhcmlhYmxlU2V0dGVyR2V0dGVyXCJdfSx7dHlwZTpcInZhcmlhYmxlc19zZXRcIixtZXNzYWdlMDpcIiV7QktZX1ZBUklBQkxFU19TRVR9XCIsYXJnczA6W3t0eXBlOlwiZmllbGRfdmFyaWFibGVcIixuYW1lOlwiVkFSXCIsdmFyaWFibGU6XCIle0JLWV9WQVJJQUJMRVNfREVGQVVMVF9OQU1FfVwifSx7dHlwZTpcImlucHV0X3ZhbHVlXCIsbmFtZTpcIlZBTFVFXCJ9XSxwcmV2aW91c1N0YXRlbWVudDpudWxsLFxubmV4dFN0YXRlbWVudDpudWxsLHN0eWxlOlwidmFyaWFibGVfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX1ZBUklBQkxFU19TRVRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfVkFSSUFCTEVTX1NFVF9IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wiY29udGV4dE1lbnVfdmFyaWFibGVTZXR0ZXJHZXR0ZXJcIl19XSk7XG5CbG9ja2x5LkNvbnN0YW50cy5WYXJpYWJsZXMuQ1VTVE9NX0NPTlRFWFRfTUVOVV9WQVJJQUJMRV9HRVRURVJfU0VUVEVSX01JWElOPXtjdXN0b21Db250ZXh0TWVudTpmdW5jdGlvbihhKXtpZighdGhpcy5pc0luRmx5b3V0KXtpZihcInZhcmlhYmxlc19nZXRcIj09dGhpcy50eXBlKXZhciBiPVwidmFyaWFibGVzX3NldFwiLGM9QmxvY2tseS5Nc2cuVkFSSUFCTEVTX0dFVF9DUkVBVEVfU0VUO2Vsc2UgYj1cInZhcmlhYmxlc19nZXRcIixjPUJsb2NrbHkuTXNnLlZBUklBQkxFU19TRVRfQ1JFQVRFX0dFVDt2YXIgZD17ZW5hYmxlZDowPHRoaXMud29ya3NwYWNlLnJlbWFpbmluZ0NhcGFjaXR5KCl9LGU9dGhpcy5nZXRGaWVsZChcIlZBUlwiKS5nZXRUZXh0KCk7ZC50ZXh0PWMucmVwbGFjZShcIiUxXCIsZSk7Yz1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiZmllbGRcIik7Yy5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJWQVJcIik7Yy5hcHBlbmRDaGlsZChCbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVUZXh0Tm9kZShlKSk7XG5lPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJibG9ja1wiKTtlLnNldEF0dHJpYnV0ZShcInR5cGVcIixiKTtlLmFwcGVuZENoaWxkKGMpO2QuY2FsbGJhY2s9QmxvY2tseS5Db250ZXh0TWVudS5jYWxsYmFja0ZhY3RvcnkodGhpcyxlKTthLnB1c2goZCl9ZWxzZSBpZihcInZhcmlhYmxlc19nZXRcIj09dGhpcy50eXBlfHxcInZhcmlhYmxlc19nZXRfcmVwb3J0ZXJcIj09dGhpcy50eXBlKWI9e3RleHQ6QmxvY2tseS5Nc2cuUkVOQU1FX1ZBUklBQkxFLGVuYWJsZWQ6ITAsY2FsbGJhY2s6QmxvY2tseS5Db25zdGFudHMuVmFyaWFibGVzLlJFTkFNRV9PUFRJT05fQ0FMTEJBQ0tfRkFDVE9SWSh0aGlzKX0sZT10aGlzLmdldEZpZWxkKFwiVkFSXCIpLmdldFRleHQoKSxkPXt0ZXh0OkJsb2NrbHkuTXNnLkRFTEVURV9WQVJJQUJMRS5yZXBsYWNlKFwiJTFcIixlKSxlbmFibGVkOiEwLGNhbGxiYWNrOkJsb2NrbHkuQ29uc3RhbnRzLlZhcmlhYmxlcy5ERUxFVEVfT1BUSU9OX0NBTExCQUNLX0ZBQ1RPUlkodGhpcyl9LFxuYS51bnNoaWZ0KGIpLGEudW5zaGlmdChkKX19O0Jsb2NrbHkuQ29uc3RhbnRzLlZhcmlhYmxlcy5SRU5BTUVfT1BUSU9OX0NBTExCQUNLX0ZBQ1RPUlk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9YS53b3Jrc3BhY2UsYz1hLmdldEZpZWxkKFwiVkFSXCIpLmdldFZhcmlhYmxlKCk7QmxvY2tseS5WYXJpYWJsZXMucmVuYW1lVmFyaWFibGUoYixjKX19O0Jsb2NrbHkuQ29uc3RhbnRzLlZhcmlhYmxlcy5ERUxFVEVfT1BUSU9OX0NBTExCQUNLX0ZBQ1RPUlk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9YS53b3Jrc3BhY2UsYz1hLmdldEZpZWxkKFwiVkFSXCIpLmdldFZhcmlhYmxlKCk7Yi5kZWxldGVWYXJpYWJsZUJ5SWQoYy5nZXRJZCgpKTtiLnJlZnJlc2hUb29sYm94U2VsZWN0aW9uKCl9fTtCbG9ja2x5LkV4dGVuc2lvbnMucmVnaXN0ZXJNaXhpbihcImNvbnRleHRNZW51X3ZhcmlhYmxlU2V0dGVyR2V0dGVyXCIsQmxvY2tseS5Db25zdGFudHMuVmFyaWFibGVzLkNVU1RPTV9DT05URVhUX01FTlVfVkFSSUFCTEVfR0VUVEVSX1NFVFRFUl9NSVhJTik7QmxvY2tseS5Db25zdGFudHMuVmFyaWFibGVzRHluYW1pYz17fTtCbG9ja2x5LkNvbnN0YW50cy5WYXJpYWJsZXNEeW5hbWljLkhVRT0zMTA7XG5CbG9ja2x5LmRlZmluZUJsb2Nrc1dpdGhKc29uQXJyYXkoW3t0eXBlOlwidmFyaWFibGVzX2dldF9keW5hbWljXCIsbWVzc2FnZTA6XCIlMVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX3ZhcmlhYmxlXCIsbmFtZTpcIlZBUlwiLHZhcmlhYmxlOlwiJXtCS1lfVkFSSUFCTEVTX0RFRkFVTFRfTkFNRX1cIn1dLG91dHB1dDpudWxsLHN0eWxlOlwidmFyaWFibGVfZHluYW1pY19ibG9ja3NcIixoZWxwVXJsOlwiJXtCS1lfVkFSSUFCTEVTX0dFVF9IRUxQVVJMfVwiLHRvb2x0aXA6XCIle0JLWV9WQVJJQUJMRVNfR0VUX1RPT0xUSVB9XCIsZXh0ZW5zaW9uczpbXCJjb250ZXh0TWVudV92YXJpYWJsZUR5bmFtaWNTZXR0ZXJHZXR0ZXJcIl19LHt0eXBlOlwidmFyaWFibGVzX3NldF9keW5hbWljXCIsbWVzc2FnZTA6XCIle0JLWV9WQVJJQUJMRVNfU0VUfVwiLGFyZ3MwOlt7dHlwZTpcImZpZWxkX3ZhcmlhYmxlXCIsbmFtZTpcIlZBUlwiLHZhcmlhYmxlOlwiJXtCS1lfVkFSSUFCTEVTX0RFRkFVTFRfTkFNRX1cIn0se3R5cGU6XCJpbnB1dF92YWx1ZVwiLFxubmFtZTpcIlZBTFVFXCJ9XSxwcmV2aW91c1N0YXRlbWVudDpudWxsLG5leHRTdGF0ZW1lbnQ6bnVsbCxzdHlsZTpcInZhcmlhYmxlX2R5bmFtaWNfYmxvY2tzXCIsdG9vbHRpcDpcIiV7QktZX1ZBUklBQkxFU19TRVRfVE9PTFRJUH1cIixoZWxwVXJsOlwiJXtCS1lfVkFSSUFCTEVTX1NFVF9IRUxQVVJMfVwiLGV4dGVuc2lvbnM6W1wiY29udGV4dE1lbnVfdmFyaWFibGVEeW5hbWljU2V0dGVyR2V0dGVyXCJdfV0pO1xuQmxvY2tseS5Db25zdGFudHMuVmFyaWFibGVzRHluYW1pYy5DVVNUT01fQ09OVEVYVF9NRU5VX1ZBUklBQkxFX0dFVFRFUl9TRVRURVJfTUlYSU49e2N1c3RvbUNvbnRleHRNZW51OmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzSW5GbHlvdXQpe3ZhciBiPXRoaXMuZ2V0RmllbGRWYWx1ZShcIlZBUlwiKTt2YXIgYz10aGlzLndvcmtzcGFjZS5nZXRWYXJpYWJsZUJ5SWQoYikudHlwZTtpZihcInZhcmlhYmxlc19nZXRfZHluYW1pY1wiPT10aGlzLnR5cGUpe2I9XCJ2YXJpYWJsZXNfc2V0X2R5bmFtaWNcIjt2YXIgZD1CbG9ja2x5Lk1zZy5WQVJJQUJMRVNfR0VUX0NSRUFURV9TRVR9ZWxzZSBiPVwidmFyaWFibGVzX2dldF9keW5hbWljXCIsZD1CbG9ja2x5Lk1zZy5WQVJJQUJMRVNfU0VUX0NSRUFURV9HRVQ7dmFyIGU9e2VuYWJsZWQ6MDx0aGlzLndvcmtzcGFjZS5yZW1haW5pbmdDYXBhY2l0eSgpfSxmPXRoaXMuZ2V0RmllbGQoXCJWQVJcIikuZ2V0VGV4dCgpO2UudGV4dD1kLnJlcGxhY2UoXCIlMVwiLGYpO1xuZD1CbG9ja2x5LnV0aWxzLnhtbC5jcmVhdGVFbGVtZW50KFwiZmllbGRcIik7ZC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsXCJWQVJcIik7ZC5zZXRBdHRyaWJ1dGUoXCJ2YXJpYWJsZXR5cGVcIixjKTtkLmFwcGVuZENoaWxkKEJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZVRleHROb2RlKGYpKTtmPUJsb2NrbHkudXRpbHMueG1sLmNyZWF0ZUVsZW1lbnQoXCJibG9ja1wiKTtmLnNldEF0dHJpYnV0ZShcInR5cGVcIixiKTtmLmFwcGVuZENoaWxkKGQpO2UuY2FsbGJhY2s9QmxvY2tseS5Db250ZXh0TWVudS5jYWxsYmFja0ZhY3RvcnkodGhpcyxmKTthLnB1c2goZSl9ZWxzZSBpZihcInZhcmlhYmxlc19nZXRfZHluYW1pY1wiPT10aGlzLnR5cGV8fFwidmFyaWFibGVzX2dldF9yZXBvcnRlcl9keW5hbWljXCI9PXRoaXMudHlwZSliPXt0ZXh0OkJsb2NrbHkuTXNnLlJFTkFNRV9WQVJJQUJMRSxlbmFibGVkOiEwLGNhbGxiYWNrOkJsb2NrbHkuQ29uc3RhbnRzLlZhcmlhYmxlcy5SRU5BTUVfT1BUSU9OX0NBTExCQUNLX0ZBQ1RPUlkodGhpcyl9LFxuZj10aGlzLmdldEZpZWxkKFwiVkFSXCIpLmdldFRleHQoKSxlPXt0ZXh0OkJsb2NrbHkuTXNnLkRFTEVURV9WQVJJQUJMRS5yZXBsYWNlKFwiJTFcIixmKSxlbmFibGVkOiEwLGNhbGxiYWNrOkJsb2NrbHkuQ29uc3RhbnRzLlZhcmlhYmxlcy5ERUxFVEVfT1BUSU9OX0NBTExCQUNLX0ZBQ1RPUlkodGhpcyl9LGEudW5zaGlmdChiKSxhLnVuc2hpZnQoZSl9LG9uY2hhbmdlOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRGaWVsZFZhbHVlKFwiVkFSXCIpO2E9QmxvY2tseS5WYXJpYWJsZXMuZ2V0VmFyaWFibGUodGhpcy53b3Jrc3BhY2UsYSk7XCJ2YXJpYWJsZXNfZ2V0X2R5bmFtaWNcIj09dGhpcy50eXBlP3RoaXMub3V0cHV0Q29ubmVjdGlvbi5zZXRDaGVjayhhLnR5cGUpOnRoaXMuZ2V0SW5wdXQoXCJWQUxVRVwiKS5jb25uZWN0aW9uLnNldENoZWNrKGEudHlwZSl9fTtcbkJsb2NrbHkuQ29uc3RhbnRzLlZhcmlhYmxlc0R5bmFtaWMuUkVOQU1FX09QVElPTl9DQUxMQkFDS19GQUNUT1JZPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPWEud29ya3NwYWNlLGM9YS5nZXRGaWVsZChcIlZBUlwiKS5nZXRWYXJpYWJsZSgpO0Jsb2NrbHkuVmFyaWFibGVzLnJlbmFtZVZhcmlhYmxlKGIsYyl9fTtCbG9ja2x5LkNvbnN0YW50cy5WYXJpYWJsZXNEeW5hbWljLkRFTEVURV9PUFRJT05fQ0FMTEJBQ0tfRkFDVE9SWT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1hLndvcmtzcGFjZSxjPWEuZ2V0RmllbGQoXCJWQVJcIikuZ2V0VmFyaWFibGUoKTtiLmRlbGV0ZVZhcmlhYmxlQnlJZChjLmdldElkKCkpO2IucmVmcmVzaFRvb2xib3hTZWxlY3Rpb24oKX19O0Jsb2NrbHkuRXh0ZW5zaW9ucy5yZWdpc3Rlck1peGluKFwiY29udGV4dE1lbnVfdmFyaWFibGVEeW5hbWljU2V0dGVyR2V0dGVyXCIsQmxvY2tseS5Db25zdGFudHMuVmFyaWFibGVzRHluYW1pYy5DVVNUT01fQ09OVEVYVF9NRU5VX1ZBUklBQkxFX0dFVFRFUl9TRVRURVJfTUlYSU4pO1xuXG5yZXR1cm4gQmxvY2tseS5CbG9ja3M7XG59KSk7IFxuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7IC8vIEFNRFxuICAgIGRlZmluZShbJy4vY29yZS1icm93c2VyJywgJy4vbXNnL2VuJywgJy4vYmxvY2tzJywgJy4vamF2YXNjcmlwdCddLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsgLy8gTm9kZS5qc1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCcuL2NvcmUtYnJvd3NlcicpLCByZXF1aXJlKCcuL21zZy9lbicpLCByZXF1aXJlKCcuL2Jsb2NrcycpLCByZXF1aXJlKCcuL2phdmFzY3JpcHQnKSk7XG4gIH0gZWxzZSB7IC8vIEJyb3dzZXJcbiAgICByb290LkJsb2NrbHkgPSBmYWN0b3J5KHJvb3QuQmxvY2tseSwgcm9vdC5Fbiwgcm9vdC5CbG9ja2x5QmxvY2tzLCByb290LkJsb2NrbHlKUyk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oQmxvY2tseSwgRW4sIEJsb2NrbHlCbG9ja3MsIEJsb2NrbHlKUykge1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQmxvY2tseSBtb2R1bGUgZm9yIHRoZSBicm93c2VyLiBUaGlzIGluY2x1ZGVzIEJsb2NrbHkgY29yZVxuICogYW5kIGJ1aWx0IGluIGJsb2NrcywgdGhlIEphdmFTY3JpcHQgY29kZSBnZW5lcmF0b3IgYW5kIHRoZSBFbmdsaXNoIGJsb2NrXG4gKiBsb2NhbGl6YXRpb24gZmlsZXMuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cbid1c2Ugc3RyaWN0JztcblxuLy8gSW5jbHVkZSB0aGUgRU4gTG9jYWxlIGJ5IGRlZmF1bHQuXG5CbG9ja2x5LnNldExvY2FsZShFbik7XG5cbkJsb2NrbHkuQmxvY2tzID0gQmxvY2tseS5CbG9ja3MgfHwge307XG5PYmplY3Qua2V5cyhCbG9ja2x5QmxvY2tzKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gIEJsb2NrbHkuQmxvY2tzW2tdID0gQmxvY2tseUJsb2Nrc1trXTtcbn0pO1xuXG5CbG9ja2x5LkphdmFTY3JpcHQgPSBCbG9ja2x5SlM7XG5yZXR1cm4gQmxvY2tseTtcbn0pKTsgXG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsgLy8gQU1EXG4gICAgZGVmaW5lKFsnLi9ibG9ja2x5J10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JykgeyAvLyBOb2RlLmpzXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJy4vYmxvY2tseScpKTtcbiAgfSBlbHNlIHsgLy8gQnJvd3NlclxuICAgIHJvb3QuQmxvY2tseSA9IGZhY3Rvcnkocm9vdC5CbG9ja2x5KTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbihCbG9ja2x5KSB7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBCbG9ja2x5IGNvcmUgbW9kdWxlIGZvciB0aGUgYnJvd3Nlci4gSXQgaW5jbHVkZXMgYmxvY2tseS5qc1xuICogICAgICAgICAgICAgICBhbmQgYWRkcyBhIGhlbHBlciBtZXRob2QgZm9yIHNldHRpbmcgdGhlIGxvY2FsZS5cbiAqL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyBBZGQgYSBoZWxwZXIgbWV0aG9kIHRvIHNldCB0aGUgQmxvY2tseSBsb2NhbGUuXG5CbG9ja2x5LnNldExvY2FsZSA9IGZ1bmN0aW9uIChsb2NhbGUpIHtcbiAgQmxvY2tseS5Nc2cgPSBCbG9ja2x5Lk1zZyB8fCB7fTtcbiAgT2JqZWN0LmtleXMobG9jYWxlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgQmxvY2tseS5Nc2dba10gPSBsb2NhbGVba107XG4gIH0pO1xufTtcblxucmV0dXJuIEJsb2NrbHk7XG59KSk7IFxuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7IC8vIEFNRFxuICAgIGRlZmluZShbJy4vYnJvd3NlciddLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHsgLy8gTm9kZS5qc1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCcuL25vZGUnKSk7XG4gIH0gZWxzZSB7IC8vIEJyb3dzZXJcbiAgICByb290LkJsb2NrbHkgPSBmYWN0b3J5KHJvb3QuQmxvY2tseSk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oQmxvY2tseSkge1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQmxvY2tseSBtb2R1bGUuXG4gKi9cblxuLyogZXNsaW50LWRpc2FibGUgKi9cbid1c2Ugc3RyaWN0JztcbnJldHVybiBCbG9ja2x5O1xufSkpOyBcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG47KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgeyAvLyBBTURcbiAgICBkZWZpbmUoWycuL2NvcmUnXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7IC8vIE5vZGUuanNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnLi9jb3JlJykpO1xuICB9IGVsc2UgeyAvLyBCcm93c2VyXG4gICAgcm9vdC5CbG9ja2x5LkphdmFTY3JpcHQgPSBmYWN0b3J5KHJvb3QuQmxvY2tseSk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oQmxvY2tseSkge1xuLy8gRG8gbm90IGVkaXQgdGhpcyBmaWxlOyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBndWxwLlxuJ3VzZSBzdHJpY3QnO1xuXG5cbkJsb2NrbHkuSmF2YVNjcmlwdD1uZXcgQmxvY2tseS5HZW5lcmF0b3IoXCJKYXZhU2NyaXB0XCIpO0Jsb2NrbHkuSmF2YVNjcmlwdC5hZGRSZXNlcnZlZFdvcmRzKFwiYnJlYWssY2FzZSxjYXRjaCxjbGFzcyxjb25zdCxjb250aW51ZSxkZWJ1Z2dlcixkZWZhdWx0LGRlbGV0ZSxkbyxlbHNlLGV4cG9ydCxleHRlbmRzLGZpbmFsbHksZm9yLGZ1bmN0aW9uLGlmLGltcG9ydCxpbixpbnN0YW5jZW9mLG5ldyxyZXR1cm4sc3VwZXIsc3dpdGNoLHRoaXMsdGhyb3csdHJ5LHR5cGVvZix2YXIsdm9pZCx3aGlsZSx3aXRoLHlpZWxkLGVudW0saW1wbGVtZW50cyxpbnRlcmZhY2UsbGV0LHBhY2thZ2UscHJpdmF0ZSxwcm90ZWN0ZWQscHVibGljLHN0YXRpYyxhd2FpdCxudWxsLHRydWUsZmFsc2UsYXJndW1lbnRzLFwiK09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKEJsb2NrbHkudXRpbHMuZ2xvYmFsKS5qb2luKFwiLFwiKSk7XG5CbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQVRPTUlDPTA7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05FVz0xLjE7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUj0xLjI7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTEw9MjtCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfSU5DUkVNRU5UPTM7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0RFQ1JFTUVOVD0zO0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9CSVRXSVNFX05PVD00LjE7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX1VOQVJZX1BMVVM9NC4yO0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9VTkFSWV9ORUdBVElPTj00LjM7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0xPR0lDQUxfTk9UPTQuNDtCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfVFlQRU9GPTQuNTtCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfVk9JRD00LjY7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0RFTEVURT00Ljc7XG5CbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQVdBSVQ9NC44O0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9FWFBPTkVOVElBVElPTj01O0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9NVUxUSVBMSUNBVElPTj01LjE7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0RJVklTSU9OPTUuMjtCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTU9EVUxVUz01LjM7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX1NVQlRSQUNUSU9OPTYuMTtCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQURESVRJT049Ni4yO0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9CSVRXSVNFX1NISUZUPTc7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX1JFTEFUSU9OQUw9ODtCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfSU49ODtCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfSU5TVEFOQ0VPRj04O0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9FUVVBTElUWT05O0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9CSVRXSVNFX0FORD0xMDtcbkJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9CSVRXSVNFX1hPUj0xMTtCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQklUV0lTRV9PUj0xMjtCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTE9HSUNBTF9BTkQ9MTM7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0xPR0lDQUxfT1I9MTQ7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTkRJVElPTkFMPTE1O0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9BU1NJR05NRU5UPTE2O0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9ZSUVMRD0xNztCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQ09NTUE9MTg7QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkU9OTk7XG5CbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfT1ZFUlJJREVTPVtbQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTEwsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUl0sW0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9GVU5DVElPTl9DQUxMLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9GVU5DVElPTl9DQUxMXSxbQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTUVNQkVSXSxbQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRlVOQ1RJT05fQ0FMTF0sW0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9MT0dJQ0FMX05PVCxCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTE9HSUNBTF9OT1RdLFtCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTVVMVElQTElDQVRJT04sQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01VTFRJUExJQ0FUSU9OXSxbQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0FERElUSU9OLFxuQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0FERElUSU9OXSxbQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0xPR0lDQUxfQU5ELEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9MT0dJQ0FMX0FORF0sW0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9MT0dJQ0FMX09SLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9MT0dJQ0FMX09SXV07XG5CbG9ja2x5LkphdmFTY3JpcHQuaW5pdD1mdW5jdGlvbihhKXtCbG9ja2x5LkphdmFTY3JpcHQuZGVmaW5pdGlvbnNfPU9iamVjdC5jcmVhdGUobnVsbCk7QmxvY2tseS5KYXZhU2NyaXB0LmZ1bmN0aW9uTmFtZXNfPU9iamVjdC5jcmVhdGUobnVsbCk7QmxvY2tseS5KYXZhU2NyaXB0LnZhcmlhYmxlREJfP0Jsb2NrbHkuSmF2YVNjcmlwdC52YXJpYWJsZURCXy5yZXNldCgpOkJsb2NrbHkuSmF2YVNjcmlwdC52YXJpYWJsZURCXz1uZXcgQmxvY2tseS5OYW1lcyhCbG9ja2x5LkphdmFTY3JpcHQuUkVTRVJWRURfV09SRFNfKTtCbG9ja2x5LkphdmFTY3JpcHQudmFyaWFibGVEQl8uc2V0VmFyaWFibGVNYXAoYS5nZXRWYXJpYWJsZU1hcCgpKTtmb3IodmFyIGI9W10sYz1CbG9ja2x5LlZhcmlhYmxlcy5hbGxEZXZlbG9wZXJWYXJpYWJsZXMoYSksZD0wO2Q8Yy5sZW5ndGg7ZCsrKWIucHVzaChCbG9ja2x5LkphdmFTY3JpcHQudmFyaWFibGVEQl8uZ2V0TmFtZShjW2RdLEJsb2NrbHkuTmFtZXMuREVWRUxPUEVSX1ZBUklBQkxFX1RZUEUpKTtcbmE9QmxvY2tseS5WYXJpYWJsZXMuYWxsVXNlZFZhck1vZGVscyhhKTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWIucHVzaChCbG9ja2x5LkphdmFTY3JpcHQudmFyaWFibGVEQl8uZ2V0TmFtZShhW2RdLmdldElkKCksQmxvY2tseS5WQVJJQUJMRV9DQVRFR09SWV9OQU1FKSk7Yi5sZW5ndGgmJihCbG9ja2x5LkphdmFTY3JpcHQuZGVmaW5pdGlvbnNfLnZhcmlhYmxlcz1cInZhciBcIitiLmpvaW4oXCIsIFwiKStcIjtcIil9O1xuQmxvY2tseS5KYXZhU2NyaXB0LmZpbmlzaD1mdW5jdGlvbihhKXt2YXIgYj1bXSxjO2ZvcihjIGluIEJsb2NrbHkuSmF2YVNjcmlwdC5kZWZpbml0aW9uc18pYi5wdXNoKEJsb2NrbHkuSmF2YVNjcmlwdC5kZWZpbml0aW9uc19bY10pO2RlbGV0ZSBCbG9ja2x5LkphdmFTY3JpcHQuZGVmaW5pdGlvbnNfO2RlbGV0ZSBCbG9ja2x5LkphdmFTY3JpcHQuZnVuY3Rpb25OYW1lc187QmxvY2tseS5KYXZhU2NyaXB0LnZhcmlhYmxlREJfLnJlc2V0KCk7cmV0dXJuIGIuam9pbihcIlxcblxcblwiKStcIlxcblxcblxcblwiK2F9O0Jsb2NrbHkuSmF2YVNjcmlwdC5zY3J1Yk5ha2VkVmFsdWU9ZnVuY3Rpb24oYSl7cmV0dXJuIGErXCI7XFxuXCJ9O0Jsb2NrbHkuSmF2YVNjcmlwdC5xdW90ZV89ZnVuY3Rpb24oYSl7YT1hLnJlcGxhY2UoL1xcXFwvZyxcIlxcXFxcXFxcXCIpLnJlcGxhY2UoL1xcbi9nLFwiXFxcXFxcblwiKS5yZXBsYWNlKC8nL2csXCJcXFxcJ1wiKTtyZXR1cm5cIidcIithK1wiJ1wifTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5tdWx0aWxpbmVfcXVvdGVfPWZ1bmN0aW9uKGEpe3JldHVybiBhLnNwbGl0KC9cXG4vZykubWFwKEJsb2NrbHkuSmF2YVNjcmlwdC5xdW90ZV8pLmpvaW4oXCIgKyAnXFxcXG4nICtcXG5cIil9O1xuQmxvY2tseS5KYXZhU2NyaXB0LnNjcnViXz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9XCJcIjtpZighYS5vdXRwdXRDb25uZWN0aW9ufHwhYS5vdXRwdXRDb25uZWN0aW9uLnRhcmdldENvbm5lY3Rpb24pe3ZhciBlPWEuZ2V0Q29tbWVudFRleHQoKTtlJiYoZT1CbG9ja2x5LnV0aWxzLnN0cmluZy53cmFwKGUsQmxvY2tseS5KYXZhU2NyaXB0LkNPTU1FTlRfV1JBUC0zKSxkKz1CbG9ja2x5LkphdmFTY3JpcHQucHJlZml4TGluZXMoZStcIlxcblwiLFwiLy8gXCIpKTtmb3IodmFyIGY9MDtmPGEuaW5wdXRMaXN0Lmxlbmd0aDtmKyspYS5pbnB1dExpc3RbZl0udHlwZT09QmxvY2tseS5JTlBVVF9WQUxVRSYmKGU9YS5pbnB1dExpc3RbZl0uY29ubmVjdGlvbi50YXJnZXRCbG9jaygpKSYmKGU9QmxvY2tseS5KYXZhU2NyaXB0LmFsbE5lc3RlZENvbW1lbnRzKGUpKSYmKGQrPUJsb2NrbHkuSmF2YVNjcmlwdC5wcmVmaXhMaW5lcyhlLFwiLy8gXCIpKX1hPWEubmV4dENvbm5lY3Rpb24mJmEubmV4dENvbm5lY3Rpb24udGFyZ2V0QmxvY2soKTtcbmM9Yz9cIlwiOkJsb2NrbHkuSmF2YVNjcmlwdC5ibG9ja1RvQ29kZShhKTtyZXR1cm4gZCtiK2N9O1xuQmxvY2tseS5KYXZhU2NyaXB0LmdldEFkanVzdGVkPWZ1bmN0aW9uKGEsYixjLGQsZSl7Yz1jfHwwO2U9ZXx8QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkU7YS53b3Jrc3BhY2Uub3B0aW9ucy5vbmVCYXNlZEluZGV4JiZjLS07dmFyIGY9YS53b3Jrc3BhY2Uub3B0aW9ucy5vbmVCYXNlZEluZGV4P1wiMVwiOlwiMFwiO2E9MDxjP0Jsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLGIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0FERElUSU9OKXx8ZjowPmM/QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsYixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfU1VCVFJBQ1RJT04pfHxmOmQ/QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsYixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfVU5BUllfTkVHQVRJT04pfHxmOkJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLGIsZSl8fGY7aWYoQmxvY2tseS5pc051bWJlcihhKSlhPU51bWJlcihhKStjLGQmJlxuKGE9LWEpO2Vsc2V7aWYoMDxjKXthPWErXCIgKyBcIitjO3ZhciBnPUJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9BRERJVElPTn1lbHNlIDA+YyYmKGE9YStcIiAtIFwiKy1jLGc9QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX1NVQlRSQUNUSU9OKTtkJiYoYT1jP1wiLShcIithK1wiKVwiOlwiLVwiK2EsZz1CbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfVU5BUllfTkVHQVRJT04pO2c9TWF0aC5mbG9vcihnKTtlPU1hdGguZmxvb3IoZSk7ZyYmZT49ZyYmKGE9XCIoXCIrYStcIilcIil9cmV0dXJuIGF9O0Jsb2NrbHkuSmF2YVNjcmlwdC5jb2xvdXI9e307QmxvY2tseS5KYXZhU2NyaXB0LmNvbG91cl9waWNrZXI9ZnVuY3Rpb24oYSl7cmV0dXJuW0Jsb2NrbHkuSmF2YVNjcmlwdC5xdW90ZV8oYS5nZXRGaWVsZFZhbHVlKFwiQ09MT1VSXCIpKSxCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQVRPTUlDXX07QmxvY2tseS5KYXZhU2NyaXB0LmNvbG91cl9yYW5kb209ZnVuY3Rpb24oYSl7cmV0dXJuW0Jsb2NrbHkuSmF2YVNjcmlwdC5wcm92aWRlRnVuY3Rpb25fKFwiY29sb3VyUmFuZG9tXCIsW1wiZnVuY3Rpb24gXCIrQmxvY2tseS5KYXZhU2NyaXB0LkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfK1wiKCkge1wiLFwiICB2YXIgbnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5wb3coMiwgMjQpKTtcIixcIiAgcmV0dXJuICcjJyArICgnMDAwMDAnICsgbnVtLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTtcIixcIn1cIl0pK1wiKClcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRlVOQ1RJT05fQ0FMTF19O1xuQmxvY2tseS5KYXZhU2NyaXB0LmNvbG91cl9yZ2I9ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJSRURcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQ09NTUEpfHwwLGM9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJHUkVFTlwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9DT01NQSl8fDA7YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkJMVUVcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQ09NTUEpfHwwO3JldHVybltCbG9ja2x5LkphdmFTY3JpcHQucHJvdmlkZUZ1bmN0aW9uXyhcImNvbG91clJnYlwiLFtcImZ1bmN0aW9uIFwiK0Jsb2NrbHkuSmF2YVNjcmlwdC5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSXytcIihyLCBnLCBiKSB7XCIsXCIgIHIgPSBNYXRoLm1heChNYXRoLm1pbihOdW1iZXIociksIDEwMCksIDApICogMi41NTtcIixcIiAgZyA9IE1hdGgubWF4KE1hdGgubWluKE51bWJlcihnKSwgMTAwKSwgMCkgKiAyLjU1O1wiLFxuXCIgIGIgPSBNYXRoLm1heChNYXRoLm1pbihOdW1iZXIoYiksIDEwMCksIDApICogMi41NTtcIixcIiAgciA9ICgnMCcgKyAoTWF0aC5yb3VuZChyKSB8fCAwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcIixcIiAgZyA9ICgnMCcgKyAoTWF0aC5yb3VuZChnKSB8fCAwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcIixcIiAgYiA9ICgnMCcgKyAoTWF0aC5yb3VuZChiKSB8fCAwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtcIixcIiAgcmV0dXJuICcjJyArIHIgKyBnICsgYjtcIixcIn1cIl0pK1wiKFwiK2IrXCIsIFwiK2MrXCIsIFwiK2ErXCIpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5jb2xvdXJfYmxlbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJDT0xPVVIxXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTU1BKXx8XCInIzAwMDAwMCdcIixjPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiQ09MT1VSMlwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9DT01NQSl8fFwiJyMwMDAwMDAnXCI7YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlJBVElPXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTU1BKXx8LjU7cmV0dXJuW0Jsb2NrbHkuSmF2YVNjcmlwdC5wcm92aWRlRnVuY3Rpb25fKFwiY29sb3VyQmxlbmRcIixbXCJmdW5jdGlvbiBcIitCbG9ja2x5LkphdmFTY3JpcHQuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl8rXCIoYzEsIGMyLCByYXRpbykge1wiLFwiICByYXRpbyA9IE1hdGgubWF4KE1hdGgubWluKE51bWJlcihyYXRpbyksIDEpLCAwKTtcIixcIiAgdmFyIHIxID0gcGFyc2VJbnQoYzEuc3Vic3RyaW5nKDEsIDMpLCAxNik7XCIsXG5cIiAgdmFyIGcxID0gcGFyc2VJbnQoYzEuc3Vic3RyaW5nKDMsIDUpLCAxNik7XCIsXCIgIHZhciBiMSA9IHBhcnNlSW50KGMxLnN1YnN0cmluZyg1LCA3KSwgMTYpO1wiLFwiICB2YXIgcjIgPSBwYXJzZUludChjMi5zdWJzdHJpbmcoMSwgMyksIDE2KTtcIixcIiAgdmFyIGcyID0gcGFyc2VJbnQoYzIuc3Vic3RyaW5nKDMsIDUpLCAxNik7XCIsXCIgIHZhciBiMiA9IHBhcnNlSW50KGMyLnN1YnN0cmluZyg1LCA3KSwgMTYpO1wiLFwiICB2YXIgciA9IE1hdGgucm91bmQocjEgKiAoMSAtIHJhdGlvKSArIHIyICogcmF0aW8pO1wiLFwiICB2YXIgZyA9IE1hdGgucm91bmQoZzEgKiAoMSAtIHJhdGlvKSArIGcyICogcmF0aW8pO1wiLFwiICB2YXIgYiA9IE1hdGgucm91bmQoYjEgKiAoMSAtIHJhdGlvKSArIGIyICogcmF0aW8pO1wiLFwiICByID0gKCcwJyArIChyIHx8IDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1wiLFwiICBnID0gKCcwJyArIChnIHx8IDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1wiLFwiICBiID0gKCcwJyArIChiIHx8IDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1wiLFxuXCIgIHJldHVybiAnIycgKyByICsgZyArIGI7XCIsXCJ9XCJdKStcIihcIitiK1wiLCBcIitjK1wiLCBcIithK1wiKVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9GVU5DVElPTl9DQUxMXX07QmxvY2tseS5KYXZhU2NyaXB0Lmxpc3RzPXt9O0Jsb2NrbHkuSmF2YVNjcmlwdC5saXN0c19jcmVhdGVfZW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuW1wiW11cIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQVRPTUlDXX07QmxvY2tseS5KYXZhU2NyaXB0Lmxpc3RzX2NyZWF0ZV93aXRoPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1BcnJheShhLml0ZW1Db3VudF8pLGM9MDtjPGEuaXRlbUNvdW50XztjKyspYltjXT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkFERFwiK2MsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTU1BKXx8XCJudWxsXCI7cmV0dXJuW1wiW1wiK2Iuam9pbihcIiwgXCIpK1wiXVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9BVE9NSUNdfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5saXN0c19yZXBlYXQ9ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5KYXZhU2NyaXB0LnByb3ZpZGVGdW5jdGlvbl8oXCJsaXN0c1JlcGVhdFwiLFtcImZ1bmN0aW9uIFwiK0Jsb2NrbHkuSmF2YVNjcmlwdC5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSXytcIih2YWx1ZSwgbikge1wiLFwiICB2YXIgYXJyYXkgPSBbXTtcIixcIiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcIixcIiAgICBhcnJheVtpXSA9IHZhbHVlO1wiLFwiICB9XCIsXCIgIHJldHVybiBhcnJheTtcIixcIn1cIl0pLGM9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJJVEVNXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTU1BKXx8XCJudWxsXCI7YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIk5VTVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9DT01NQSl8fFwiMFwiO3JldHVybltiK1wiKFwiK2MrXCIsIFwiK2ErXCIpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5saXN0c19sZW5ndGg9ZnVuY3Rpb24oYSl7cmV0dXJuWyhCbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlZBTFVFXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUil8fFwiW11cIikrXCIubGVuZ3RoXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUl19O0Jsb2NrbHkuSmF2YVNjcmlwdC5saXN0c19pc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybltcIiFcIisoQmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJWQUxVRVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9NRU1CRVIpfHxcIltdXCIpK1wiLmxlbmd0aFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9MT0dJQ0FMX05PVF19O1xuQmxvY2tseS5KYXZhU2NyaXB0Lmxpc3RzX2luZGV4T2Y9ZnVuY3Rpb24oYSl7dmFyIGI9XCJGSVJTVFwiPT1hLmdldEZpZWxkVmFsdWUoXCJFTkRcIik/XCJpbmRleE9mXCI6XCJsYXN0SW5kZXhPZlwiLGM9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJGSU5EXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkUpfHxcIicnXCI7Yj0oQmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJWQUxVRVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9NRU1CRVIpfHxcIltdXCIpK1wiLlwiK2IrXCIoXCIrYytcIilcIjtyZXR1cm4gYS53b3Jrc3BhY2Uub3B0aW9ucy5vbmVCYXNlZEluZGV4P1tiK1wiICsgMVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9BRERJVElPTl06W2IsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5saXN0c19nZXRJbmRleD1mdW5jdGlvbihhKXt2YXIgYj1hLmdldEZpZWxkVmFsdWUoXCJNT0RFXCIpfHxcIkdFVFwiLGM9YS5nZXRGaWVsZFZhbHVlKFwiV0hFUkVcIil8fFwiRlJPTV9TVEFSVFwiLGQ9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJWQUxVRVwiLFwiUkFORE9NXCI9PWM/QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTU1BOkJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9NRU1CRVIpfHxcIltdXCI7c3dpdGNoKGMpe2Nhc2UgXCJGSVJTVFwiOmlmKFwiR0VUXCI9PWIpcmV0dXJuW2QrXCJbMF1cIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTUVNQkVSXTtpZihcIkdFVF9SRU1PVkVcIj09YilyZXR1cm5bZCtcIi5zaGlmdCgpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUl07aWYoXCJSRU1PVkVcIj09YilyZXR1cm4gZCtcIi5zaGlmdCgpO1xcblwiO2JyZWFrO2Nhc2UgXCJMQVNUXCI6aWYoXCJHRVRcIj09YilyZXR1cm5bZCtcIi5zbGljZSgtMSlbMF1cIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTUVNQkVSXTtcbmlmKFwiR0VUX1JFTU9WRVwiPT1iKXJldHVybltkK1wiLnBvcCgpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUl07aWYoXCJSRU1PVkVcIj09YilyZXR1cm4gZCtcIi5wb3AoKTtcXG5cIjticmVhaztjYXNlIFwiRlJPTV9TVEFSVFwiOmE9QmxvY2tseS5KYXZhU2NyaXB0LmdldEFkanVzdGVkKGEsXCJBVFwiKTtpZihcIkdFVFwiPT1iKXJldHVybltkK1wiW1wiK2ErXCJdXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUl07aWYoXCJHRVRfUkVNT1ZFXCI9PWIpcmV0dXJuW2QrXCIuc3BsaWNlKFwiK2ErXCIsIDEpWzBdXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdO2lmKFwiUkVNT1ZFXCI9PWIpcmV0dXJuIGQrXCIuc3BsaWNlKFwiK2ErXCIsIDEpO1xcblwiO2JyZWFrO2Nhc2UgXCJGUk9NX0VORFwiOmE9QmxvY2tseS5KYXZhU2NyaXB0LmdldEFkanVzdGVkKGEsXCJBVFwiLDEsITApO2lmKFwiR0VUXCI9PWIpcmV0dXJuW2QrXCIuc2xpY2UoXCIrYStcIilbMF1cIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRlVOQ1RJT05fQ0FMTF07XG5pZihcIkdFVF9SRU1PVkVcIj09YilyZXR1cm5bZCtcIi5zcGxpY2UoXCIrYStcIiwgMSlbMF1cIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRlVOQ1RJT05fQ0FMTF07aWYoXCJSRU1PVkVcIj09YilyZXR1cm4gZCtcIi5zcGxpY2UoXCIrYStcIiwgMSk7XCI7YnJlYWs7Y2FzZSBcIlJBTkRPTVwiOmQ9QmxvY2tseS5KYXZhU2NyaXB0LnByb3ZpZGVGdW5jdGlvbl8oXCJsaXN0c0dldFJhbmRvbUl0ZW1cIixbXCJmdW5jdGlvbiBcIitCbG9ja2x5LkphdmFTY3JpcHQuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl8rXCIobGlzdCwgcmVtb3ZlKSB7XCIsXCIgIHZhciB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGlzdC5sZW5ndGgpO1wiLFwiICBpZiAocmVtb3ZlKSB7XCIsXCIgICAgcmV0dXJuIGxpc3Quc3BsaWNlKHgsIDEpWzBdO1wiLFwiICB9IGVsc2Uge1wiLFwiICAgIHJldHVybiBsaXN0W3hdO1wiLFwiICB9XCIsXCJ9XCJdKStcIihcIitkK1wiLCBcIisoXCJHRVRcIiE9YikrXCIpXCI7aWYoXCJHRVRcIj09Ynx8XCJHRVRfUkVNT1ZFXCI9PWIpcmV0dXJuW2QsXG5CbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRlVOQ1RJT05fQ0FMTF07aWYoXCJSRU1PVkVcIj09YilyZXR1cm4gZCtcIjtcXG5cIn10aHJvdyBFcnJvcihcIlVuaGFuZGxlZCBjb21iaW5hdGlvbiAobGlzdHNfZ2V0SW5kZXgpLlwiKTt9O1xuQmxvY2tseS5KYXZhU2NyaXB0Lmxpc3RzX3NldEluZGV4PWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtpZihjLm1hdGNoKC9eXFx3KyQvKSlyZXR1cm5cIlwiO3ZhciBhPUJsb2NrbHkuSmF2YVNjcmlwdC52YXJpYWJsZURCXy5nZXREaXN0aW5jdE5hbWUoXCJ0bXBMaXN0XCIsQmxvY2tseS5WQVJJQUJMRV9DQVRFR09SWV9OQU1FKSxiPVwidmFyIFwiK2ErXCIgPSBcIitjK1wiO1xcblwiO2M9YTtyZXR1cm4gYn12YXIgYz1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkxJU1RcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTUVNQkVSKXx8XCJbXVwiLGQ9YS5nZXRGaWVsZFZhbHVlKFwiTU9ERVwiKXx8XCJHRVRcIixlPWEuZ2V0RmllbGRWYWx1ZShcIldIRVJFXCIpfHxcIkZST01fU1RBUlRcIixmPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiVE9cIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQVNTSUdOTUVOVCl8fFwibnVsbFwiO3N3aXRjaChlKXtjYXNlIFwiRklSU1RcIjppZihcIlNFVFwiPT1kKXJldHVybiBjK1xuXCJbMF0gPSBcIitmK1wiO1xcblwiO2lmKFwiSU5TRVJUXCI9PWQpcmV0dXJuIGMrXCIudW5zaGlmdChcIitmK1wiKTtcXG5cIjticmVhaztjYXNlIFwiTEFTVFwiOmlmKFwiU0VUXCI9PWQpcmV0dXJuIGE9YigpLGErKGMrXCJbXCIrYytcIi5sZW5ndGggLSAxXSA9IFwiK2YrXCI7XFxuXCIpO2lmKFwiSU5TRVJUXCI9PWQpcmV0dXJuIGMrXCIucHVzaChcIitmK1wiKTtcXG5cIjticmVhaztjYXNlIFwiRlJPTV9TVEFSVFwiOmU9QmxvY2tseS5KYXZhU2NyaXB0LmdldEFkanVzdGVkKGEsXCJBVFwiKTtpZihcIlNFVFwiPT1kKXJldHVybiBjK1wiW1wiK2UrXCJdID0gXCIrZitcIjtcXG5cIjtpZihcIklOU0VSVFwiPT1kKXJldHVybiBjK1wiLnNwbGljZShcIitlK1wiLCAwLCBcIitmK1wiKTtcXG5cIjticmVhaztjYXNlIFwiRlJPTV9FTkRcIjplPUJsb2NrbHkuSmF2YVNjcmlwdC5nZXRBZGp1c3RlZChhLFwiQVRcIiwxLCExLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9TVUJUUkFDVElPTik7YT1iKCk7aWYoXCJTRVRcIj09ZClyZXR1cm4gYSsoYytcIltcIitjK1wiLmxlbmd0aCAtIFwiK2UrXG5cIl0gPSBcIitmK1wiO1xcblwiKTtpZihcIklOU0VSVFwiPT1kKXJldHVybiBhKyhjK1wiLnNwbGljZShcIitjK1wiLmxlbmd0aCAtIFwiK2UrXCIsIDAsIFwiK2YrXCIpO1xcblwiKTticmVhaztjYXNlIFwiUkFORE9NXCI6YT1iKCk7ZT1CbG9ja2x5LkphdmFTY3JpcHQudmFyaWFibGVEQl8uZ2V0RGlzdGluY3ROYW1lKFwidG1wWFwiLEJsb2NrbHkuVkFSSUFCTEVfQ0FURUdPUllfTkFNRSk7YSs9XCJ2YXIgXCIrZStcIiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIFwiK2MrXCIubGVuZ3RoKTtcXG5cIjtpZihcIlNFVFwiPT1kKXJldHVybiBhKyhjK1wiW1wiK2UrXCJdID0gXCIrZitcIjtcXG5cIik7aWYoXCJJTlNFUlRcIj09ZClyZXR1cm4gYSsoYytcIi5zcGxpY2UoXCIrZStcIiwgMCwgXCIrZitcIik7XFxuXCIpfXRocm93IEVycm9yKFwiVW5oYW5kbGVkIGNvbWJpbmF0aW9uIChsaXN0c19zZXRJbmRleCkuXCIpO307XG5CbG9ja2x5LkphdmFTY3JpcHQubGlzdHMuZ2V0SW5kZXhfPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm5cIkZJUlNUXCI9PWI/XCIwXCI6XCJGUk9NX0VORFwiPT1iP2ErXCIubGVuZ3RoIC0gMSAtIFwiK2M6XCJMQVNUXCI9PWI/YStcIi5sZW5ndGggLSAxXCI6Y307XG5CbG9ja2x5LkphdmFTY3JpcHQubGlzdHNfZ2V0U3VibGlzdD1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkxJU1RcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTUVNQkVSKXx8XCJbXVwiLGM9YS5nZXRGaWVsZFZhbHVlKFwiV0hFUkUxXCIpLGQ9YS5nZXRGaWVsZFZhbHVlKFwiV0hFUkUyXCIpO2lmKFwiRklSU1RcIj09YyYmXCJMQVNUXCI9PWQpYis9XCIuc2xpY2UoMClcIjtlbHNlIGlmKGIubWF0Y2goL15cXHcrJC8pfHxcIkZST01fRU5EXCIhPWMmJlwiRlJPTV9TVEFSVFwiPT1kKXtzd2l0Y2goYyl7Y2FzZSBcIkZST01fU1RBUlRcIjp2YXIgZT1CbG9ja2x5LkphdmFTY3JpcHQuZ2V0QWRqdXN0ZWQoYSxcIkFUMVwiKTticmVhaztjYXNlIFwiRlJPTV9FTkRcIjplPUJsb2NrbHkuSmF2YVNjcmlwdC5nZXRBZGp1c3RlZChhLFwiQVQxXCIsMSwhMSxCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfU1VCVFJBQ1RJT04pO2U9YitcIi5sZW5ndGggLSBcIitlO2JyZWFrO2Nhc2UgXCJGSVJTVFwiOmU9XG5cIjBcIjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5oYW5kbGVkIG9wdGlvbiAobGlzdHNfZ2V0U3VibGlzdCkuXCIpO31zd2l0Y2goZCl7Y2FzZSBcIkZST01fU1RBUlRcIjphPUJsb2NrbHkuSmF2YVNjcmlwdC5nZXRBZGp1c3RlZChhLFwiQVQyXCIsMSk7YnJlYWs7Y2FzZSBcIkZST01fRU5EXCI6YT1CbG9ja2x5LkphdmFTY3JpcHQuZ2V0QWRqdXN0ZWQoYSxcIkFUMlwiLDAsITEsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX1NVQlRSQUNUSU9OKTthPWIrXCIubGVuZ3RoIC0gXCIrYTticmVhaztjYXNlIFwiTEFTVFwiOmE9YitcIi5sZW5ndGhcIjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5oYW5kbGVkIG9wdGlvbiAobGlzdHNfZ2V0U3VibGlzdCkuXCIpO31iPWIrXCIuc2xpY2UoXCIrZStcIiwgXCIrYStcIilcIn1lbHNle2U9QmxvY2tseS5KYXZhU2NyaXB0LmdldEFkanVzdGVkKGEsXCJBVDFcIik7YT1CbG9ja2x5LkphdmFTY3JpcHQuZ2V0QWRqdXN0ZWQoYSxcIkFUMlwiKTt2YXIgZj1CbG9ja2x5LkphdmFTY3JpcHQubGlzdHMuZ2V0SW5kZXhfLFxuZz17RklSU1Q6XCJGaXJzdFwiLExBU1Q6XCJMYXN0XCIsRlJPTV9TVEFSVDpcIkZyb21TdGFydFwiLEZST01fRU5EOlwiRnJvbUVuZFwifTtiPUJsb2NrbHkuSmF2YVNjcmlwdC5wcm92aWRlRnVuY3Rpb25fKFwic3Vic2VxdWVuY2VcIitnW2NdK2dbZF0sW1wiZnVuY3Rpb24gXCIrQmxvY2tseS5KYXZhU2NyaXB0LkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfK1wiKHNlcXVlbmNlXCIrKFwiRlJPTV9FTkRcIj09Y3x8XCJGUk9NX1NUQVJUXCI9PWM/XCIsIGF0MVwiOlwiXCIpKyhcIkZST01fRU5EXCI9PWR8fFwiRlJPTV9TVEFSVFwiPT1kP1wiLCBhdDJcIjpcIlwiKStcIikge1wiLFwiICB2YXIgc3RhcnQgPSBcIitmKFwic2VxdWVuY2VcIixjLFwiYXQxXCIpK1wiO1wiLFwiICB2YXIgZW5kID0gXCIrZihcInNlcXVlbmNlXCIsZCxcImF0MlwiKStcIiArIDE7XCIsXCIgIHJldHVybiBzZXF1ZW5jZS5zbGljZShzdGFydCwgZW5kKTtcIixcIn1cIl0pK1wiKFwiK2IrKFwiRlJPTV9FTkRcIj09Y3x8XCJGUk9NX1NUQVJUXCI9PWM/XCIsIFwiK2U6XCJcIikrKFwiRlJPTV9FTkRcIj09ZHx8XCJGUk9NX1NUQVJUXCI9PVxuZD9cIiwgXCIrYTpcIlwiKStcIilcIn1yZXR1cm5bYixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRlVOQ1RJT05fQ0FMTF19O1xuQmxvY2tseS5KYXZhU2NyaXB0Lmxpc3RzX3NvcnQ9ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTEwpfHxcIltdXCIsYz1cIjFcIj09PWEuZ2V0RmllbGRWYWx1ZShcIkRJUkVDVElPTlwiKT8xOi0xO2E9YS5nZXRGaWVsZFZhbHVlKFwiVFlQRVwiKTt2YXIgZD1CbG9ja2x5LkphdmFTY3JpcHQucHJvdmlkZUZ1bmN0aW9uXyhcImxpc3RzR2V0U29ydENvbXBhcmVcIixbXCJmdW5jdGlvbiBcIitCbG9ja2x5LkphdmFTY3JpcHQuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl8rXCIodHlwZSwgZGlyZWN0aW9uKSB7XCIsXCIgIHZhciBjb21wYXJlRnVuY3MgPSB7XCIsJyAgICBcIk5VTUVSSUNcIjogZnVuY3Rpb24oYSwgYikgeycsXCIgICAgICAgIHJldHVybiBOdW1iZXIoYSkgLSBOdW1iZXIoYik7IH0sXCIsJyAgICBcIlRFWFRcIjogZnVuY3Rpb24oYSwgYikgeycsXCIgICAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkgPiBiLnRvU3RyaW5nKCkgPyAxIDogLTE7IH0sXCIsXG4nICAgIFwiSUdOT1JFX0NBU0VcIjogZnVuY3Rpb24oYSwgYikgeycsXCIgICAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA+IGIudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpID8gMSA6IC0xOyB9LFwiLFwiICB9O1wiLFwiICB2YXIgY29tcGFyZSA9IGNvbXBhcmVGdW5jc1t0eXBlXTtcIixcIiAgcmV0dXJuIGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGNvbXBhcmUoYSwgYikgKiBkaXJlY3Rpb247IH1cIixcIn1cIl0pO3JldHVybltiK1wiLnNsaWNlKCkuc29ydChcIitkKycoXCInK2ErJ1wiLCAnK2MrXCIpKVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9GVU5DVElPTl9DQUxMXX07XG5CbG9ja2x5LkphdmFTY3JpcHQubGlzdHNfc3BsaXQ9ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJJTlBVVFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9NRU1CRVIpLGM9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJERUxJTVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9OT05FKXx8XCInJ1wiO2E9YS5nZXRGaWVsZFZhbHVlKFwiTU9ERVwiKTtpZihcIlNQTElUXCI9PWEpYnx8KGI9XCInJ1wiKSxhPVwic3BsaXRcIjtlbHNlIGlmKFwiSk9JTlwiPT1hKWJ8fChiPVwiW11cIiksYT1cImpvaW5cIjtlbHNlIHRocm93IEVycm9yKFwiVW5rbm93biBtb2RlOiBcIithKTtyZXR1cm5bYitcIi5cIithK1wiKFwiK2MrXCIpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5saXN0c19yZXZlcnNlPWZ1bmN0aW9uKGEpe3JldHVyblsoQmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTEwpfHxcIltdXCIpK1wiLnNsaWNlKCkucmV2ZXJzZSgpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdfTtCbG9ja2x5LkphdmFTY3JpcHQubG9naWM9e307XG5CbG9ja2x5LkphdmFTY3JpcHQuY29udHJvbHNfaWY9ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPVwiXCI7QmxvY2tseS5KYXZhU2NyaXB0LlNUQVRFTUVOVF9QUkVGSVgmJihjKz1CbG9ja2x5LkphdmFTY3JpcHQuaW5qZWN0SWQoQmxvY2tseS5KYXZhU2NyaXB0LlNUQVRFTUVOVF9QUkVGSVgsYSkpO2Rve3ZhciBkPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiSUZcIitiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9OT05FKXx8XCJmYWxzZVwiO3ZhciBlPUJsb2NrbHkuSmF2YVNjcmlwdC5zdGF0ZW1lbnRUb0NvZGUoYSxcIkRPXCIrYik7QmxvY2tseS5KYXZhU2NyaXB0LlNUQVRFTUVOVF9TVUZGSVgmJihlPUJsb2NrbHkuSmF2YVNjcmlwdC5wcmVmaXhMaW5lcyhCbG9ja2x5LkphdmFTY3JpcHQuaW5qZWN0SWQoQmxvY2tseS5KYXZhU2NyaXB0LlNUQVRFTUVOVF9TVUZGSVgsYSksQmxvY2tseS5KYXZhU2NyaXB0LklOREVOVCkrZSk7Yys9KDA8Yj9cIiBlbHNlIFwiOlwiXCIpK1wiaWYgKFwiK1xuZCtcIikge1xcblwiK2UrXCJ9XCI7KytifXdoaWxlKGEuZ2V0SW5wdXQoXCJJRlwiK2IpKTtpZihhLmdldElucHV0KFwiRUxTRVwiKXx8QmxvY2tseS5KYXZhU2NyaXB0LlNUQVRFTUVOVF9TVUZGSVgpZT1CbG9ja2x5LkphdmFTY3JpcHQuc3RhdGVtZW50VG9Db2RlKGEsXCJFTFNFXCIpLEJsb2NrbHkuSmF2YVNjcmlwdC5TVEFURU1FTlRfU1VGRklYJiYoZT1CbG9ja2x5LkphdmFTY3JpcHQucHJlZml4TGluZXMoQmxvY2tseS5KYXZhU2NyaXB0LmluamVjdElkKEJsb2NrbHkuSmF2YVNjcmlwdC5TVEFURU1FTlRfU1VGRklYLGEpLEJsb2NrbHkuSmF2YVNjcmlwdC5JTkRFTlQpK2UpLGMrPVwiIGVsc2Uge1xcblwiK2UrXCJ9XCI7cmV0dXJuIGMrXCJcXG5cIn07QmxvY2tseS5KYXZhU2NyaXB0LmNvbnRyb2xzX2lmZWxzZT1CbG9ja2x5LkphdmFTY3JpcHQuY29udHJvbHNfaWY7XG5CbG9ja2x5LkphdmFTY3JpcHQubG9naWNfY29tcGFyZT1mdW5jdGlvbihhKXt2YXIgYj17RVE6XCI9PVwiLE5FUTpcIiE9XCIsTFQ6XCI8XCIsTFRFOlwiPD1cIixHVDpcIj5cIixHVEU6XCI+PVwifVthLmdldEZpZWxkVmFsdWUoXCJPUFwiKV0sYz1cIj09XCI9PWJ8fFwiIT1cIj09Yj9CbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRVFVQUxJVFk6QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX1JFTEFUSU9OQUwsZD1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkFcIixjKXx8XCIwXCI7YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkJcIixjKXx8XCIwXCI7cmV0dXJuW2QrXCIgXCIrYitcIiBcIithLGNdfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5sb2dpY19vcGVyYXRpb249ZnVuY3Rpb24oYSl7dmFyIGI9XCJBTkRcIj09YS5nZXRGaWVsZFZhbHVlKFwiT1BcIik/XCImJlwiOlwifHxcIixjPVwiJiZcIj09Yj9CbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTE9HSUNBTF9BTkQ6QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0xPR0lDQUxfT1IsZD1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkFcIixjKTthPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiQlwiLGMpO2lmKGR8fGEpe3ZhciBlPVwiJiZcIj09Yj9cInRydWVcIjpcImZhbHNlXCI7ZHx8KGQ9ZSk7YXx8KGE9ZSl9ZWxzZSBhPWQ9XCJmYWxzZVwiO3JldHVybltkK1wiIFwiK2IrXCIgXCIrYSxjXX07XG5CbG9ja2x5LkphdmFTY3JpcHQubG9naWNfbmVnYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPUJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9MT0dJQ0FMX05PVDtyZXR1cm5bXCIhXCIrKEJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiQk9PTFwiLGIpfHxcInRydWVcIiksYl19O0Jsb2NrbHkuSmF2YVNjcmlwdC5sb2dpY19ib29sZWFuPWZ1bmN0aW9uKGEpe3JldHVybltcIlRSVUVcIj09YS5nZXRGaWVsZFZhbHVlKFwiQk9PTFwiKT9cInRydWVcIjpcImZhbHNlXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0FUT01JQ119O0Jsb2NrbHkuSmF2YVNjcmlwdC5sb2dpY19udWxsPWZ1bmN0aW9uKGEpe3JldHVybltcIm51bGxcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQVRPTUlDXX07XG5CbG9ja2x5LkphdmFTY3JpcHQubG9naWNfdGVybmFyeT1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIklGXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTkRJVElPTkFMKXx8XCJmYWxzZVwiLGM9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJUSEVOXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTkRJVElPTkFMKXx8XCJudWxsXCI7YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkVMU0VcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQ09ORElUSU9OQUwpfHxcIm51bGxcIjtyZXR1cm5bYitcIiA/IFwiK2MrXCIgOiBcIithLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9DT05ESVRJT05BTF19O0Jsb2NrbHkuSmF2YVNjcmlwdC5sb29wcz17fTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5jb250cm9sc19yZXBlYXRfZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0RmllbGQoXCJUSU1FU1wiKT9TdHJpbmcoTnVtYmVyKGEuZ2V0RmllbGRWYWx1ZShcIlRJTUVTXCIpKSk6QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJUSU1FU1wiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9BU1NJR05NRU5UKXx8XCIwXCIsYz1CbG9ja2x5LkphdmFTY3JpcHQuc3RhdGVtZW50VG9Db2RlKGEsXCJET1wiKTtjPUJsb2NrbHkuSmF2YVNjcmlwdC5hZGRMb29wVHJhcChjLGEpO2E9XCJcIjt2YXIgZD1CbG9ja2x5LkphdmFTY3JpcHQudmFyaWFibGVEQl8uZ2V0RGlzdGluY3ROYW1lKFwiY291bnRcIixCbG9ja2x5LlZBUklBQkxFX0NBVEVHT1JZX05BTUUpLGU9YjtiLm1hdGNoKC9eXFx3KyQvKXx8QmxvY2tseS5pc051bWJlcihiKXx8KGU9QmxvY2tseS5KYXZhU2NyaXB0LnZhcmlhYmxlREJfLmdldERpc3RpbmN0TmFtZShcInJlcGVhdF9lbmRcIixCbG9ja2x5LlZBUklBQkxFX0NBVEVHT1JZX05BTUUpLFxuYSs9XCJ2YXIgXCIrZStcIiA9IFwiK2IrXCI7XFxuXCIpO3JldHVybiBhKyhcImZvciAodmFyIFwiK2QrXCIgPSAwOyBcIitkK1wiIDwgXCIrZStcIjsgXCIrZCtcIisrKSB7XFxuXCIrYytcIn1cXG5cIil9O0Jsb2NrbHkuSmF2YVNjcmlwdC5jb250cm9sc19yZXBlYXQ9QmxvY2tseS5KYXZhU2NyaXB0LmNvbnRyb2xzX3JlcGVhdF9leHQ7XG5CbG9ja2x5LkphdmFTY3JpcHQuY29udHJvbHNfd2hpbGVVbnRpbD1mdW5jdGlvbihhKXt2YXIgYj1cIlVOVElMXCI9PWEuZ2V0RmllbGRWYWx1ZShcIk1PREVcIiksYz1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkJPT0xcIixiP0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9MT0dJQ0FMX05PVDpCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTk9ORSl8fFwiZmFsc2VcIixkPUJsb2NrbHkuSmF2YVNjcmlwdC5zdGF0ZW1lbnRUb0NvZGUoYSxcIkRPXCIpO2Q9QmxvY2tseS5KYXZhU2NyaXB0LmFkZExvb3BUcmFwKGQsYSk7YiYmKGM9XCIhXCIrYyk7cmV0dXJuXCJ3aGlsZSAoXCIrYytcIikge1xcblwiK2QrXCJ9XFxuXCJ9O1xuQmxvY2tseS5KYXZhU2NyaXB0LmNvbnRyb2xzX2Zvcj1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LkphdmFTY3JpcHQudmFyaWFibGVEQl8uZ2V0TmFtZShhLmdldEZpZWxkVmFsdWUoXCJWQVJcIiksQmxvY2tseS5WQVJJQUJMRV9DQVRFR09SWV9OQU1FKSxjPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiRlJPTVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9BU1NJR05NRU5UKXx8XCIwXCIsZD1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlRPXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0FTU0lHTk1FTlQpfHxcIjBcIixlPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiQllcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQVNTSUdOTUVOVCl8fFwiMVwiLGY9QmxvY2tseS5KYXZhU2NyaXB0LnN0YXRlbWVudFRvQ29kZShhLFwiRE9cIik7Zj1CbG9ja2x5LkphdmFTY3JpcHQuYWRkTG9vcFRyYXAoZixhKTtpZihCbG9ja2x5LmlzTnVtYmVyKGMpJiZCbG9ja2x5LmlzTnVtYmVyKGQpJiZcbkJsb2NrbHkuaXNOdW1iZXIoZSkpe3ZhciBnPU51bWJlcihjKTw9TnVtYmVyKGQpO2E9XCJmb3IgKFwiK2IrXCIgPSBcIitjK1wiOyBcIitiKyhnP1wiIDw9IFwiOlwiID49IFwiKStkK1wiOyBcIitiO2I9TWF0aC5hYnMoTnVtYmVyKGUpKTthPSgxPT1iP2ErKGc/XCIrK1wiOlwiLS1cIik6YSsoKGc/XCIgKz0gXCI6XCIgLT0gXCIpK2IpKSsoXCIpIHtcXG5cIitmK1wifVxcblwiKX1lbHNlIGE9XCJcIixnPWMsYy5tYXRjaCgvXlxcdyskLyl8fEJsb2NrbHkuaXNOdW1iZXIoYyl8fChnPUJsb2NrbHkuSmF2YVNjcmlwdC52YXJpYWJsZURCXy5nZXREaXN0aW5jdE5hbWUoYitcIl9zdGFydFwiLEJsb2NrbHkuVkFSSUFCTEVfQ0FURUdPUllfTkFNRSksYSs9XCJ2YXIgXCIrZytcIiA9IFwiK2MrXCI7XFxuXCIpLGM9ZCxkLm1hdGNoKC9eXFx3KyQvKXx8QmxvY2tseS5pc051bWJlcihkKXx8KGM9QmxvY2tseS5KYXZhU2NyaXB0LnZhcmlhYmxlREJfLmdldERpc3RpbmN0TmFtZShiK1wiX2VuZFwiLEJsb2NrbHkuVkFSSUFCTEVfQ0FURUdPUllfTkFNRSksYSs9XG5cInZhciBcIitjK1wiID0gXCIrZCtcIjtcXG5cIiksZD1CbG9ja2x5LkphdmFTY3JpcHQudmFyaWFibGVEQl8uZ2V0RGlzdGluY3ROYW1lKGIrXCJfaW5jXCIsQmxvY2tseS5WQVJJQUJMRV9DQVRFR09SWV9OQU1FKSxhKz1cInZhciBcIitkK1wiID0gXCIsYT1CbG9ja2x5LmlzTnVtYmVyKGUpP2ErKE1hdGguYWJzKGUpK1wiO1xcblwiKTphKyhcIk1hdGguYWJzKFwiK2UrXCIpO1xcblwiKSxhPWErKFwiaWYgKFwiK2crXCIgPiBcIitjK1wiKSB7XFxuXCIpKyhCbG9ja2x5LkphdmFTY3JpcHQuSU5ERU5UK2QrXCIgPSAtXCIrZCtcIjtcXG5cIiksYSs9XCJ9XFxuXCIsYSs9XCJmb3IgKFwiK2IrXCIgPSBcIitnK1wiOyBcIitkK1wiID49IDAgPyBcIitiK1wiIDw9IFwiK2MrXCIgOiBcIitiK1wiID49IFwiK2MrXCI7IFwiK2IrXCIgKz0gXCIrZCtcIikge1xcblwiK2YrXCJ9XFxuXCI7cmV0dXJuIGF9O1xuQmxvY2tseS5KYXZhU2NyaXB0LmNvbnRyb2xzX2ZvckVhY2g9ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5KYXZhU2NyaXB0LnZhcmlhYmxlREJfLmdldE5hbWUoYS5nZXRGaWVsZFZhbHVlKFwiVkFSXCIpLEJsb2NrbHkuVkFSSUFCTEVfQ0FURUdPUllfTkFNRSksYz1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkxJU1RcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQVNTSUdOTUVOVCl8fFwiW11cIixkPUJsb2NrbHkuSmF2YVNjcmlwdC5zdGF0ZW1lbnRUb0NvZGUoYSxcIkRPXCIpO2Q9QmxvY2tseS5KYXZhU2NyaXB0LmFkZExvb3BUcmFwKGQsYSk7YT1cIlwiO3ZhciBlPWM7Yy5tYXRjaCgvXlxcdyskLyl8fChlPUJsb2NrbHkuSmF2YVNjcmlwdC52YXJpYWJsZURCXy5nZXREaXN0aW5jdE5hbWUoYitcIl9saXN0XCIsQmxvY2tseS5WQVJJQUJMRV9DQVRFR09SWV9OQU1FKSxhKz1cInZhciBcIitlK1wiID0gXCIrYytcIjtcXG5cIik7Yz1CbG9ja2x5LkphdmFTY3JpcHQudmFyaWFibGVEQl8uZ2V0RGlzdGluY3ROYW1lKGIrXG5cIl9pbmRleFwiLEJsb2NrbHkuVkFSSUFCTEVfQ0FURUdPUllfTkFNRSk7ZD1CbG9ja2x5LkphdmFTY3JpcHQuSU5ERU5UK2IrXCIgPSBcIitlK1wiW1wiK2MrXCJdO1xcblwiK2Q7cmV0dXJuIGErKFwiZm9yICh2YXIgXCIrYytcIiBpbiBcIitlK1wiKSB7XFxuXCIrZCtcIn1cXG5cIil9O1xuQmxvY2tseS5KYXZhU2NyaXB0LmNvbnRyb2xzX2Zsb3dfc3RhdGVtZW50cz1mdW5jdGlvbihhKXt2YXIgYj1cIlwiO0Jsb2NrbHkuSmF2YVNjcmlwdC5TVEFURU1FTlRfUFJFRklYJiYoYis9QmxvY2tseS5KYXZhU2NyaXB0LmluamVjdElkKEJsb2NrbHkuSmF2YVNjcmlwdC5TVEFURU1FTlRfUFJFRklYLGEpKTtCbG9ja2x5LkphdmFTY3JpcHQuU1RBVEVNRU5UX1NVRkZJWCYmKGIrPUJsb2NrbHkuSmF2YVNjcmlwdC5pbmplY3RJZChCbG9ja2x5LkphdmFTY3JpcHQuU1RBVEVNRU5UX1NVRkZJWCxhKSk7aWYoQmxvY2tseS5KYXZhU2NyaXB0LlNUQVRFTUVOVF9QUkVGSVgpe3ZhciBjPUJsb2NrbHkuQ29uc3RhbnRzLkxvb3BzLkNPTlRST0xfRkxPV19JTl9MT09QX0NIRUNLX01JWElOLmdldFN1cnJvdW5kTG9vcChhKTtjJiYhYy5zdXBwcmVzc1ByZWZpeFN1ZmZpeCYmKGIrPUJsb2NrbHkuSmF2YVNjcmlwdC5pbmplY3RJZChCbG9ja2x5LkphdmFTY3JpcHQuU1RBVEVNRU5UX1BSRUZJWCxcbmMpKX1zd2l0Y2goYS5nZXRGaWVsZFZhbHVlKFwiRkxPV1wiKSl7Y2FzZSBcIkJSRUFLXCI6cmV0dXJuIGIrXCJicmVhaztcXG5cIjtjYXNlIFwiQ09OVElOVUVcIjpyZXR1cm4gYitcImNvbnRpbnVlO1xcblwifXRocm93IEVycm9yKFwiVW5rbm93biBmbG93IHN0YXRlbWVudC5cIik7fTtCbG9ja2x5LkphdmFTY3JpcHQubWF0aD17fTtCbG9ja2x5LkphdmFTY3JpcHQubWF0aF9udW1iZXI9ZnVuY3Rpb24oYSl7YT1OdW1iZXIoYS5nZXRGaWVsZFZhbHVlKFwiTlVNXCIpKTtyZXR1cm5bYSwwPD1hP0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9BVE9NSUM6QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX1VOQVJZX05FR0FUSU9OXX07XG5CbG9ja2x5LkphdmFTY3JpcHQubWF0aF9hcml0aG1ldGljPWZ1bmN0aW9uKGEpe3ZhciBiPXtBREQ6W1wiICsgXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0FERElUSU9OXSxNSU5VUzpbXCIgLSBcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfU1VCVFJBQ1RJT05dLE1VTFRJUExZOltcIiAqIFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9NVUxUSVBMSUNBVElPTl0sRElWSURFOltcIiAvIFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9ESVZJU0lPTl0sUE9XRVI6W251bGwsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTU1BXX1bYS5nZXRGaWVsZFZhbHVlKFwiT1BcIildLGM9YlswXTtiPWJbMV07dmFyIGQ9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJBXCIsYil8fFwiMFwiO2E9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJCXCIsYil8fFwiMFwiO3JldHVybiBjP1tkK2MrYSxiXTpbXCJNYXRoLnBvdyhcIitkK1wiLCBcIithK1wiKVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9GVU5DVElPTl9DQUxMXX07XG5CbG9ja2x5LkphdmFTY3JpcHQubWF0aF9zaW5nbGU9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRGaWVsZFZhbHVlKFwiT1BcIik7aWYoXCJORUdcIj09YilyZXR1cm4gYT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIk5VTVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9VTkFSWV9ORUdBVElPTil8fFwiMFwiLFwiLVwiPT1hWzBdJiYoYT1cIiBcIithKSxbXCItXCIrYSxCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfVU5BUllfTkVHQVRJT05dO2E9XCJTSU5cIj09Ynx8XCJDT1NcIj09Ynx8XCJUQU5cIj09Yj9CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIk5VTVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9ESVZJU0lPTil8fFwiMFwiOkJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiTlVNXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkUpfHxcIjBcIjtzd2l0Y2goYil7Y2FzZSBcIkFCU1wiOnZhciBjPVwiTWF0aC5hYnMoXCIrYStcIilcIjticmVhaztjYXNlIFwiUk9PVFwiOmM9XCJNYXRoLnNxcnQoXCIrXG5hK1wiKVwiO2JyZWFrO2Nhc2UgXCJMTlwiOmM9XCJNYXRoLmxvZyhcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJFWFBcIjpjPVwiTWF0aC5leHAoXCIrYStcIilcIjticmVhaztjYXNlIFwiUE9XMTBcIjpjPVwiTWF0aC5wb3coMTAsXCIrYStcIilcIjticmVhaztjYXNlIFwiUk9VTkRcIjpjPVwiTWF0aC5yb3VuZChcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJST1VORFVQXCI6Yz1cIk1hdGguY2VpbChcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJST1VORERPV05cIjpjPVwiTWF0aC5mbG9vcihcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJTSU5cIjpjPVwiTWF0aC5zaW4oXCIrYStcIiAvIDE4MCAqIE1hdGguUEkpXCI7YnJlYWs7Y2FzZSBcIkNPU1wiOmM9XCJNYXRoLmNvcyhcIithK1wiIC8gMTgwICogTWF0aC5QSSlcIjticmVhaztjYXNlIFwiVEFOXCI6Yz1cIk1hdGgudGFuKFwiK2ErXCIgLyAxODAgKiBNYXRoLlBJKVwifWlmKGMpcmV0dXJuW2MsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdO3N3aXRjaChiKXtjYXNlIFwiTE9HMTBcIjpjPVwiTWF0aC5sb2coXCIrYStcblwiKSAvIE1hdGgubG9nKDEwKVwiO2JyZWFrO2Nhc2UgXCJBU0lOXCI6Yz1cIk1hdGguYXNpbihcIithK1wiKSAvIE1hdGguUEkgKiAxODBcIjticmVhaztjYXNlIFwiQUNPU1wiOmM9XCJNYXRoLmFjb3MoXCIrYStcIikgLyBNYXRoLlBJICogMTgwXCI7YnJlYWs7Y2FzZSBcIkFUQU5cIjpjPVwiTWF0aC5hdGFuKFwiK2ErXCIpIC8gTWF0aC5QSSAqIDE4MFwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIG1hdGggb3BlcmF0b3I6IFwiK2IpO31yZXR1cm5bYyxCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRElWSVNJT05dfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5tYXRoX2NvbnN0YW50PWZ1bmN0aW9uKGEpe3JldHVybntQSTpbXCJNYXRoLlBJXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUl0sRTpbXCJNYXRoLkVcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTUVNQkVSXSxHT0xERU5fUkFUSU86W1wiKDEgKyBNYXRoLnNxcnQoNSkpIC8gMlwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9ESVZJU0lPTl0sU1FSVDI6W1wiTWF0aC5TUVJUMlwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9NRU1CRVJdLFNRUlQxXzI6W1wiTWF0aC5TUVJUMV8yXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUl0sSU5GSU5JVFk6W1wiSW5maW5pdHlcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQVRPTUlDXX1bYS5nZXRGaWVsZFZhbHVlKFwiQ09OU1RBTlRcIildfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5tYXRoX251bWJlcl9wcm9wZXJ0eT1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIk5VTUJFUl9UT19DSEVDS1wiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9NT0RVTFVTKXx8XCIwXCIsYz1hLmdldEZpZWxkVmFsdWUoXCJQUk9QRVJUWVwiKTtpZihcIlBSSU1FXCI9PWMpcmV0dXJuW0Jsb2NrbHkuSmF2YVNjcmlwdC5wcm92aWRlRnVuY3Rpb25fKFwibWF0aElzUHJpbWVcIixbXCJmdW5jdGlvbiBcIitCbG9ja2x5LkphdmFTY3JpcHQuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl8rXCIobikge1wiLFwiICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QcmltYWxpdHlfdGVzdCNOYWl2ZV9tZXRob2RzXCIsXCIgIGlmIChuID09IDIgfHwgbiA9PSAzKSB7XCIsXCIgICAgcmV0dXJuIHRydWU7XCIsXCIgIH1cIixcIiAgLy8gRmFsc2UgaWYgbiBpcyBOYU4sIG5lZ2F0aXZlLCBpcyAxLCBvciBub3Qgd2hvbGUuXCIsXCIgIC8vIEFuZCBmYWxzZSBpZiBuIGlzIGRpdmlzaWJsZSBieSAyIG9yIDMuXCIsXG5cIiAgaWYgKGlzTmFOKG4pIHx8IG4gPD0gMSB8fCBuICUgMSAhPSAwIHx8IG4gJSAyID09IDAgfHwgbiAlIDMgPT0gMCkge1wiLFwiICAgIHJldHVybiBmYWxzZTtcIixcIiAgfVwiLFwiICAvLyBDaGVjayBhbGwgdGhlIG51bWJlcnMgb2YgZm9ybSA2ayArLy0gMSwgdXAgdG8gc3FydChuKS5cIixcIiAgZm9yICh2YXIgeCA9IDY7IHggPD0gTWF0aC5zcXJ0KG4pICsgMTsgeCArPSA2KSB7XCIsXCIgICAgaWYgKG4gJSAoeCAtIDEpID09IDAgfHwgbiAlICh4ICsgMSkgPT0gMCkge1wiLFwiICAgICAgcmV0dXJuIGZhbHNlO1wiLFwiICAgIH1cIixcIiAgfVwiLFwiICByZXR1cm4gdHJ1ZTtcIixcIn1cIl0pK1wiKFwiK2IrXCIpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdO3N3aXRjaChjKXtjYXNlIFwiRVZFTlwiOnZhciBkPWIrXCIgJSAyID09IDBcIjticmVhaztjYXNlIFwiT0REXCI6ZD1iK1wiICUgMiA9PSAxXCI7YnJlYWs7Y2FzZSBcIldIT0xFXCI6ZD1iK1wiICUgMSA9PSAwXCI7YnJlYWs7Y2FzZSBcIlBPU0lUSVZFXCI6ZD1cbmIrXCIgPiAwXCI7YnJlYWs7Y2FzZSBcIk5FR0FUSVZFXCI6ZD1iK1wiIDwgMFwiO2JyZWFrO2Nhc2UgXCJESVZJU0lCTEVfQllcIjphPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiRElWSVNPUlwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9NT0RVTFVTKXx8XCIwXCIsZD1iK1wiICUgXCIrYStcIiA9PSAwXCJ9cmV0dXJuW2QsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0VRVUFMSVRZXX07XG5CbG9ja2x5LkphdmFTY3JpcHQubWF0aF9jaGFuZ2U9ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJERUxUQVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9BRERJVElPTil8fFwiMFwiO2E9QmxvY2tseS5KYXZhU2NyaXB0LnZhcmlhYmxlREJfLmdldE5hbWUoYS5nZXRGaWVsZFZhbHVlKFwiVkFSXCIpLEJsb2NrbHkuVkFSSUFCTEVfQ0FURUdPUllfTkFNRSk7cmV0dXJuIGErXCIgPSAodHlwZW9mIFwiK2ErXCIgPT0gJ251bWJlcicgPyBcIithK1wiIDogMCkgKyBcIitiK1wiO1xcblwifTtCbG9ja2x5LkphdmFTY3JpcHQubWF0aF9yb3VuZD1CbG9ja2x5LkphdmFTY3JpcHQubWF0aF9zaW5nbGU7QmxvY2tseS5KYXZhU2NyaXB0Lm1hdGhfdHJpZz1CbG9ja2x5LkphdmFTY3JpcHQubWF0aF9zaW5nbGU7XG5CbG9ja2x5LkphdmFTY3JpcHQubWF0aF9vbl9saXN0PWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0RmllbGRWYWx1ZShcIk9QXCIpO3N3aXRjaChiKXtjYXNlIFwiU1VNXCI6YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkxJU1RcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTUVNQkVSKXx8XCJbXVwiO2ErPVwiLnJlZHVjZShmdW5jdGlvbih4LCB5KSB7cmV0dXJuIHggKyB5O30pXCI7YnJlYWs7Y2FzZSBcIk1JTlwiOmE9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTU1BKXx8XCJbXVwiO2E9XCJNYXRoLm1pbi5hcHBseShudWxsLCBcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJNQVhcIjphPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiTElTVFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9DT01NQSl8fFwiW11cIjthPVwiTWF0aC5tYXguYXBwbHkobnVsbCwgXCIrYStcIilcIjticmVhaztjYXNlIFwiQVZFUkFHRVwiOmI9QmxvY2tseS5KYXZhU2NyaXB0LnByb3ZpZGVGdW5jdGlvbl8oXCJtYXRoTWVhblwiLFxuW1wiZnVuY3Rpb24gXCIrQmxvY2tseS5KYXZhU2NyaXB0LkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfK1wiKG15TGlzdCkge1wiLFwiICByZXR1cm4gbXlMaXN0LnJlZHVjZShmdW5jdGlvbih4LCB5KSB7cmV0dXJuIHggKyB5O30pIC8gbXlMaXN0Lmxlbmd0aDtcIixcIn1cIl0pO2E9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkUpfHxcIltdXCI7YT1iK1wiKFwiK2ErXCIpXCI7YnJlYWs7Y2FzZSBcIk1FRElBTlwiOmI9QmxvY2tseS5KYXZhU2NyaXB0LnByb3ZpZGVGdW5jdGlvbl8oXCJtYXRoTWVkaWFuXCIsW1wiZnVuY3Rpb24gXCIrQmxvY2tseS5KYXZhU2NyaXB0LkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfK1wiKG15TGlzdCkge1wiLFwiICB2YXIgbG9jYWxMaXN0ID0gbXlMaXN0LmZpbHRlcihmdW5jdGlvbiAoeCkge3JldHVybiB0eXBlb2YgeCA9PSAnbnVtYmVyJzt9KTtcIixcIiAgaWYgKCFsb2NhbExpc3QubGVuZ3RoKSByZXR1cm4gbnVsbDtcIixcblwiICBsb2NhbExpc3Quc29ydChmdW5jdGlvbihhLCBiKSB7cmV0dXJuIGIgLSBhO30pO1wiLFwiICBpZiAobG9jYWxMaXN0Lmxlbmd0aCAlIDIgPT0gMCkge1wiLFwiICAgIHJldHVybiAobG9jYWxMaXN0W2xvY2FsTGlzdC5sZW5ndGggLyAyIC0gMV0gKyBsb2NhbExpc3RbbG9jYWxMaXN0Lmxlbmd0aCAvIDJdKSAvIDI7XCIsXCIgIH0gZWxzZSB7XCIsXCIgICAgcmV0dXJuIGxvY2FsTGlzdFsobG9jYWxMaXN0Lmxlbmd0aCAtIDEpIC8gMl07XCIsXCIgIH1cIixcIn1cIl0pO2E9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJMSVNUXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkUpfHxcIltdXCI7YT1iK1wiKFwiK2ErXCIpXCI7YnJlYWs7Y2FzZSBcIk1PREVcIjpiPUJsb2NrbHkuSmF2YVNjcmlwdC5wcm92aWRlRnVuY3Rpb25fKFwibWF0aE1vZGVzXCIsW1wiZnVuY3Rpb24gXCIrQmxvY2tseS5KYXZhU2NyaXB0LkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfK1wiKHZhbHVlcykge1wiLFwiICB2YXIgbW9kZXMgPSBbXTtcIixcblwiICB2YXIgY291bnRzID0gW107XCIsXCIgIHZhciBtYXhDb3VudCA9IDA7XCIsXCIgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XCIsXCIgICAgdmFyIHZhbHVlID0gdmFsdWVzW2ldO1wiLFwiICAgIHZhciBmb3VuZCA9IGZhbHNlO1wiLFwiICAgIHZhciB0aGlzQ291bnQ7XCIsXCIgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb3VudHMubGVuZ3RoOyBqKyspIHtcIixcIiAgICAgIGlmIChjb3VudHNbal1bMF0gPT09IHZhbHVlKSB7XCIsXCIgICAgICAgIHRoaXNDb3VudCA9ICsrY291bnRzW2pdWzFdO1wiLFwiICAgICAgICBmb3VuZCA9IHRydWU7XCIsXCIgICAgICAgIGJyZWFrO1wiLFwiICAgICAgfVwiLFwiICAgIH1cIixcIiAgICBpZiAoIWZvdW5kKSB7XCIsXCIgICAgICBjb3VudHMucHVzaChbdmFsdWUsIDFdKTtcIixcIiAgICAgIHRoaXNDb3VudCA9IDE7XCIsXCIgICAgfVwiLFwiICAgIG1heENvdW50ID0gTWF0aC5tYXgodGhpc0NvdW50LCBtYXhDb3VudCk7XCIsXCIgIH1cIixcIiAgZm9yICh2YXIgaiA9IDA7IGogPCBjb3VudHMubGVuZ3RoOyBqKyspIHtcIixcblwiICAgIGlmIChjb3VudHNbal1bMV0gPT0gbWF4Q291bnQpIHtcIixcIiAgICAgICAgbW9kZXMucHVzaChjb3VudHNbal1bMF0pO1wiLFwiICAgIH1cIixcIiAgfVwiLFwiICByZXR1cm4gbW9kZXM7XCIsXCJ9XCJdKTthPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiTElTVFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9OT05FKXx8XCJbXVwiO2E9YitcIihcIithK1wiKVwiO2JyZWFrO2Nhc2UgXCJTVERfREVWXCI6Yj1CbG9ja2x5LkphdmFTY3JpcHQucHJvdmlkZUZ1bmN0aW9uXyhcIm1hdGhTdGFuZGFyZERldmlhdGlvblwiLFtcImZ1bmN0aW9uIFwiK0Jsb2NrbHkuSmF2YVNjcmlwdC5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSXytcIihudW1iZXJzKSB7XCIsXCIgIHZhciBuID0gbnVtYmVycy5sZW5ndGg7XCIsXCIgIGlmICghbikgcmV0dXJuIG51bGw7XCIsXCIgIHZhciBtZWFuID0gbnVtYmVycy5yZWR1Y2UoZnVuY3Rpb24oeCwgeSkge3JldHVybiB4ICsgeTt9KSAvIG47XCIsXCIgIHZhciB2YXJpYW5jZSA9IDA7XCIsXG5cIiAgZm9yICh2YXIgaiA9IDA7IGogPCBuOyBqKyspIHtcIixcIiAgICB2YXJpYW5jZSArPSBNYXRoLnBvdyhudW1iZXJzW2pdIC0gbWVhbiwgMik7XCIsXCIgIH1cIixcIiAgdmFyaWFuY2UgPSB2YXJpYW5jZSAvIG47XCIsXCIgIHJldHVybiBNYXRoLnNxcnQodmFyaWFuY2UpO1wiLFwifVwiXSk7YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkxJU1RcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTk9ORSl8fFwiW11cIjthPWIrXCIoXCIrYStcIilcIjticmVhaztjYXNlIFwiUkFORE9NXCI6Yj1CbG9ja2x5LkphdmFTY3JpcHQucHJvdmlkZUZ1bmN0aW9uXyhcIm1hdGhSYW5kb21MaXN0XCIsW1wiZnVuY3Rpb24gXCIrQmxvY2tseS5KYXZhU2NyaXB0LkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfK1wiKGxpc3QpIHtcIixcIiAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsaXN0Lmxlbmd0aCk7XCIsXCIgIHJldHVybiBsaXN0W3hdO1wiLFwifVwiXSk7YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcblwiTElTVFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9OT05FKXx8XCJbXVwiO2E9YitcIihcIithK1wiKVwiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIG9wZXJhdG9yOiBcIitiKTt9cmV0dXJuW2EsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdfTtCbG9ja2x5LkphdmFTY3JpcHQubWF0aF9tb2R1bG89ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJESVZJREVORFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9NT0RVTFVTKXx8XCIwXCI7YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkRJVklTT1JcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTU9EVUxVUyl8fFwiMFwiO3JldHVybltiK1wiICUgXCIrYSxCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTU9EVUxVU119O1xuQmxvY2tseS5KYXZhU2NyaXB0Lm1hdGhfY29uc3RyYWluPWZ1bmN0aW9uKGEpe3ZhciBiPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQ09NTUEpfHxcIjBcIixjPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiTE9XXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTU1BKXx8XCIwXCI7YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkhJR0hcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQ09NTUEpfHxcIkluZmluaXR5XCI7cmV0dXJuW1wiTWF0aC5taW4oTWF0aC5tYXgoXCIrYitcIiwgXCIrYytcIiksIFwiK2ErXCIpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5tYXRoX3JhbmRvbV9pbnQ9ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJGUk9NXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTU1BKXx8XCIwXCI7YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlRPXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTU1BKXx8XCIwXCI7cmV0dXJuW0Jsb2NrbHkuSmF2YVNjcmlwdC5wcm92aWRlRnVuY3Rpb25fKFwibWF0aFJhbmRvbUludFwiLFtcImZ1bmN0aW9uIFwiK0Jsb2NrbHkuSmF2YVNjcmlwdC5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSXytcIihhLCBiKSB7XCIsXCIgIGlmIChhID4gYikge1wiLFwiICAgIC8vIFN3YXAgYSBhbmQgYiB0byBlbnN1cmUgYSBpcyBzbWFsbGVyLlwiLFwiICAgIHZhciBjID0gYTtcIixcIiAgICBhID0gYjtcIixcIiAgICBiID0gYztcIixcIiAgfVwiLFwiICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGIgLSBhICsgMSkgKyBhKTtcIixcblwifVwiXSkrXCIoXCIrYitcIiwgXCIrYStcIilcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRlVOQ1RJT05fQ0FMTF19O0Jsb2NrbHkuSmF2YVNjcmlwdC5tYXRoX3JhbmRvbV9mbG9hdD1mdW5jdGlvbihhKXtyZXR1cm5bXCJNYXRoLnJhbmRvbSgpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdfTtCbG9ja2x5LkphdmFTY3JpcHQubWF0aF9hdGFuMj1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlhcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQ09NTUEpfHxcIjBcIjtyZXR1cm5bXCJNYXRoLmF0YW4yKFwiKyhCbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIllcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQ09NTUEpfHxcIjBcIikrXCIsIFwiK2IrXCIpIC8gTWF0aC5QSSAqIDE4MFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9ESVZJU0lPTl19O0Jsb2NrbHkuSmF2YVNjcmlwdC5wcm9jZWR1cmVzPXt9O1xuQmxvY2tseS5KYXZhU2NyaXB0LnByb2NlZHVyZXNfZGVmcmV0dXJuPWZ1bmN0aW9uKGEpe3ZhciBiPUJsb2NrbHkuSmF2YVNjcmlwdC52YXJpYWJsZURCXy5nZXROYW1lKGEuZ2V0RmllbGRWYWx1ZShcIk5BTUVcIiksQmxvY2tseS5QUk9DRURVUkVfQ0FURUdPUllfTkFNRSksYz1cIlwiO0Jsb2NrbHkuSmF2YVNjcmlwdC5TVEFURU1FTlRfUFJFRklYJiYoYys9QmxvY2tseS5KYXZhU2NyaXB0LmluamVjdElkKEJsb2NrbHkuSmF2YVNjcmlwdC5TVEFURU1FTlRfUFJFRklYLGEpKTtCbG9ja2x5LkphdmFTY3JpcHQuU1RBVEVNRU5UX1NVRkZJWCYmKGMrPUJsb2NrbHkuSmF2YVNjcmlwdC5pbmplY3RJZChCbG9ja2x5LkphdmFTY3JpcHQuU1RBVEVNRU5UX1NVRkZJWCxhKSk7YyYmKGM9QmxvY2tseS5KYXZhU2NyaXB0LnByZWZpeExpbmVzKGMsQmxvY2tseS5KYXZhU2NyaXB0LklOREVOVCkpO3ZhciBkPVwiXCI7QmxvY2tseS5KYXZhU2NyaXB0LklORklOSVRFX0xPT1BfVFJBUCYmKGQ9QmxvY2tseS5KYXZhU2NyaXB0LnByZWZpeExpbmVzKEJsb2NrbHkuSmF2YVNjcmlwdC5pbmplY3RJZChCbG9ja2x5LkphdmFTY3JpcHQuSU5GSU5JVEVfTE9PUF9UUkFQLFxuYSksQmxvY2tseS5KYXZhU2NyaXB0LklOREVOVCkpO3ZhciBlPUJsb2NrbHkuSmF2YVNjcmlwdC5zdGF0ZW1lbnRUb0NvZGUoYSxcIlNUQUNLXCIpLGY9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJSRVRVUk5cIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTk9ORSl8fFwiXCIsZz1cIlwiO2UmJmYmJihnPWMpO2YmJihmPUJsb2NrbHkuSmF2YVNjcmlwdC5JTkRFTlQrXCJyZXR1cm4gXCIrZitcIjtcXG5cIik7Zm9yKHZhciBrPVtdLGg9MDtoPGEuYXJndW1lbnRzXy5sZW5ndGg7aCsrKWtbaF09QmxvY2tseS5KYXZhU2NyaXB0LnZhcmlhYmxlREJfLmdldE5hbWUoYS5hcmd1bWVudHNfW2hdLEJsb2NrbHkuVkFSSUFCTEVfQ0FURUdPUllfTkFNRSk7Yz1cImZ1bmN0aW9uIFwiK2IrXCIoXCIray5qb2luKFwiLCBcIikrXCIpIHtcXG5cIitjK2QrZStnK2YrXCJ9XCI7Yz1CbG9ja2x5LkphdmFTY3JpcHQuc2NydWJfKGEsYyk7QmxvY2tseS5KYXZhU2NyaXB0LmRlZmluaXRpb25zX1tcIiVcIitiXT1jO3JldHVybiBudWxsfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5wcm9jZWR1cmVzX2RlZm5vcmV0dXJuPUJsb2NrbHkuSmF2YVNjcmlwdC5wcm9jZWR1cmVzX2RlZnJldHVybjtCbG9ja2x5LkphdmFTY3JpcHQucHJvY2VkdXJlc19jYWxscmV0dXJuPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1CbG9ja2x5LkphdmFTY3JpcHQudmFyaWFibGVEQl8uZ2V0TmFtZShhLmdldEZpZWxkVmFsdWUoXCJOQU1FXCIpLEJsb2NrbHkuUFJPQ0VEVVJFX0NBVEVHT1JZX05BTUUpLGM9W10sZD0wO2Q8YS5hcmd1bWVudHNfLmxlbmd0aDtkKyspY1tkXT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkFSR1wiK2QsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0NPTU1BKXx8XCJudWxsXCI7cmV0dXJuW2IrXCIoXCIrYy5qb2luKFwiLCBcIikrXCIpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC5wcm9jZWR1cmVzX2NhbGxub3JldHVybj1mdW5jdGlvbihhKXtyZXR1cm4gQmxvY2tseS5KYXZhU2NyaXB0LnByb2NlZHVyZXNfY2FsbHJldHVybihhKVswXStcIjtcXG5cIn07XG5CbG9ja2x5LkphdmFTY3JpcHQucHJvY2VkdXJlc19pZnJldHVybj1mdW5jdGlvbihhKXt2YXIgYj1cImlmIChcIisoQmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJDT05ESVRJT05cIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTk9ORSl8fFwiZmFsc2VcIikrXCIpIHtcXG5cIjtCbG9ja2x5LkphdmFTY3JpcHQuU1RBVEVNRU5UX1NVRkZJWCYmKGIrPUJsb2NrbHkuSmF2YVNjcmlwdC5wcmVmaXhMaW5lcyhCbG9ja2x5LkphdmFTY3JpcHQuaW5qZWN0SWQoQmxvY2tseS5KYXZhU2NyaXB0LlNUQVRFTUVOVF9TVUZGSVgsYSksQmxvY2tseS5KYXZhU2NyaXB0LklOREVOVCkpO2EuaGFzUmV0dXJuVmFsdWVfPyhhPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTk9ORSl8fFwibnVsbFwiLGIrPUJsb2NrbHkuSmF2YVNjcmlwdC5JTkRFTlQrXCJyZXR1cm4gXCIrYStcIjtcXG5cIik6Yis9QmxvY2tseS5KYXZhU2NyaXB0LklOREVOVCtcblwicmV0dXJuO1xcblwiO3JldHVybiBiK1wifVxcblwifTtCbG9ja2x5LkphdmFTY3JpcHQudGV4dHM9e307QmxvY2tseS5KYXZhU2NyaXB0LnRleHQ9ZnVuY3Rpb24oYSl7cmV0dXJuW0Jsb2NrbHkuSmF2YVNjcmlwdC5xdW90ZV8oYS5nZXRGaWVsZFZhbHVlKFwiVEVYVFwiKSksQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0FUT01JQ119O0Jsb2NrbHkuSmF2YVNjcmlwdC50ZXh0X211bHRpbGluZT1mdW5jdGlvbihhKXthPUJsb2NrbHkuSmF2YVNjcmlwdC5tdWx0aWxpbmVfcXVvdGVfKGEuZ2V0RmllbGRWYWx1ZShcIlRFWFRcIikpO2EuaW5jbHVkZXMoXCJcXG5cIikmJihhPVwiKFwiK2ErXCIpXCIpO3JldHVyblthLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9BVE9NSUNdfTtCbG9ja2x5LkphdmFTY3JpcHQudGV4dC5mb3JjZVN0cmluZ189ZnVuY3Rpb24oYSl7cmV0dXJuIEJsb2NrbHkuSmF2YVNjcmlwdC50ZXh0LmZvcmNlU3RyaW5nXy5zdHJSZWdFeHAudGVzdChhKT9hOlwiU3RyaW5nKFwiK2ErXCIpXCJ9O1xuQmxvY2tseS5KYXZhU2NyaXB0LnRleHQuZm9yY2VTdHJpbmdfLnN0clJlZ0V4cD0vXlxccyonKFteJ118XFxcXCcpKidcXHMqJC87XG5CbG9ja2x5LkphdmFTY3JpcHQudGV4dF9qb2luPWZ1bmN0aW9uKGEpe3N3aXRjaChhLml0ZW1Db3VudF8pe2Nhc2UgMDpyZXR1cm5bXCInJ1wiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9BVE9NSUNdO2Nhc2UgMTpyZXR1cm4gYT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIkFERDBcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTk9ORSl8fFwiJydcIixhPUJsb2NrbHkuSmF2YVNjcmlwdC50ZXh0LmZvcmNlU3RyaW5nXyhhKSxbYSxCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRlVOQ1RJT05fQ0FMTF07Y2FzZSAyOnZhciBiPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiQUREMFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9OT05FKXx8XCInJ1wiO2E9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJBREQxXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkUpfHxcIicnXCI7YT1CbG9ja2x5LkphdmFTY3JpcHQudGV4dC5mb3JjZVN0cmluZ18oYikrXG5cIiArIFwiK0Jsb2NrbHkuSmF2YVNjcmlwdC50ZXh0LmZvcmNlU3RyaW5nXyhhKTtyZXR1cm5bYSxCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQURESVRJT05dO2RlZmF1bHQ6Yj1BcnJheShhLml0ZW1Db3VudF8pO2Zvcih2YXIgYz0wO2M8YS5pdGVtQ291bnRfO2MrKyliW2NdPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiQUREXCIrYyxCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQ09NTUEpfHxcIicnXCI7YT1cIltcIitiLmpvaW4oXCIsXCIpK1wiXS5qb2luKCcnKVwiO3JldHVyblthLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9GVU5DVElPTl9DQUxMXX19O1xuQmxvY2tseS5KYXZhU2NyaXB0LnRleHRfYXBwZW5kPWZ1bmN0aW9uKGEpe3ZhciBiPUJsb2NrbHkuSmF2YVNjcmlwdC52YXJpYWJsZURCXy5nZXROYW1lKGEuZ2V0RmllbGRWYWx1ZShcIlZBUlwiKSxCbG9ja2x5LlZBUklBQkxFX0NBVEVHT1JZX05BTUUpO2E9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJURVhUXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkUpfHxcIicnXCI7cmV0dXJuIGIrXCIgKz0gXCIrQmxvY2tseS5KYXZhU2NyaXB0LnRleHQuZm9yY2VTdHJpbmdfKGEpK1wiO1xcblwifTtCbG9ja2x5LkphdmFTY3JpcHQudGV4dF9sZW5ndGg9ZnVuY3Rpb24oYSl7cmV0dXJuWyhCbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlZBTFVFXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTEwpfHxcIicnXCIpK1wiLmxlbmd0aFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9NRU1CRVJdfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC50ZXh0X2lzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuW1wiIVwiKyhCbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlZBTFVFXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUil8fFwiJydcIikrXCIubGVuZ3RoXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0xPR0lDQUxfTk9UXX07XG5CbG9ja2x5LkphdmFTY3JpcHQudGV4dF9pbmRleE9mPWZ1bmN0aW9uKGEpe3ZhciBiPVwiRklSU1RcIj09YS5nZXRGaWVsZFZhbHVlKFwiRU5EXCIpP1wiaW5kZXhPZlwiOlwibGFzdEluZGV4T2ZcIixjPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiRklORFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9OT05FKXx8XCInJ1wiO2I9KEJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiVkFMVUVcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTUVNQkVSKXx8XCInJ1wiKStcIi5cIitiK1wiKFwiK2MrXCIpXCI7cmV0dXJuIGEud29ya3NwYWNlLm9wdGlvbnMub25lQmFzZWRJbmRleD9bYitcIiArIDFcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfQURESVRJT05dOltiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9GVU5DVElPTl9DQUxMXX07XG5CbG9ja2x5LkphdmFTY3JpcHQudGV4dF9jaGFyQXQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRGaWVsZFZhbHVlKFwiV0hFUkVcIil8fFwiRlJPTV9TVEFSVFwiLGM9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJWQUxVRVwiLFwiUkFORE9NXCI9PWI/QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkU6QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUil8fFwiJydcIjtzd2l0Y2goYil7Y2FzZSBcIkZJUlNUXCI6cmV0dXJuW2MrXCIuY2hhckF0KDApXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdO2Nhc2UgXCJMQVNUXCI6cmV0dXJuW2MrXCIuc2xpY2UoLTEpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdO2Nhc2UgXCJGUk9NX1NUQVJUXCI6cmV0dXJuIGE9QmxvY2tseS5KYXZhU2NyaXB0LmdldEFkanVzdGVkKGEsXCJBVFwiKSxbYytcIi5jaGFyQXQoXCIrYStcIilcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRlVOQ1RJT05fQ0FMTF07Y2FzZSBcIkZST01fRU5EXCI6cmV0dXJuIGE9XG5CbG9ja2x5LkphdmFTY3JpcHQuZ2V0QWRqdXN0ZWQoYSxcIkFUXCIsMSwhMCksW2MrXCIuc2xpY2UoXCIrYStcIikuY2hhckF0KDApXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdO2Nhc2UgXCJSQU5ET01cIjpyZXR1cm5bQmxvY2tseS5KYXZhU2NyaXB0LnByb3ZpZGVGdW5jdGlvbl8oXCJ0ZXh0UmFuZG9tTGV0dGVyXCIsW1wiZnVuY3Rpb24gXCIrQmxvY2tseS5KYXZhU2NyaXB0LkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfK1wiKHRleHQpIHtcIixcIiAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0ZXh0Lmxlbmd0aCk7XCIsXCIgIHJldHVybiB0ZXh0W3hdO1wiLFwifVwiXSkrXCIoXCIrYytcIilcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRlVOQ1RJT05fQ0FMTF19dGhyb3cgRXJyb3IoXCJVbmhhbmRsZWQgb3B0aW9uICh0ZXh0X2NoYXJBdCkuXCIpO307XG5CbG9ja2x5LkphdmFTY3JpcHQudGV4dC5nZXRJbmRleF89ZnVuY3Rpb24oYSxiLGMpe3JldHVyblwiRklSU1RcIj09Yj9cIjBcIjpcIkZST01fRU5EXCI9PWI/YStcIi5sZW5ndGggLSAxIC0gXCIrYzpcIkxBU1RcIj09Yj9hK1wiLmxlbmd0aCAtIDFcIjpjfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC50ZXh0X2dldFN1YnN0cmluZz1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlNUUklOR1wiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9GVU5DVElPTl9DQUxMKXx8XCInJ1wiLGM9YS5nZXRGaWVsZFZhbHVlKFwiV0hFUkUxXCIpLGQ9YS5nZXRGaWVsZFZhbHVlKFwiV0hFUkUyXCIpO2lmKFwiRklSU1RcIiE9Y3x8XCJMQVNUXCIhPWQpaWYoYi5tYXRjaCgvXic/XFx3Kyc/JC8pfHxcIkZST01fRU5EXCIhPWMmJlwiTEFTVFwiIT1jJiZcIkZST01fRU5EXCIhPWQmJlwiTEFTVFwiIT1kKXtzd2l0Y2goYyl7Y2FzZSBcIkZST01fU1RBUlRcIjp2YXIgZT1CbG9ja2x5LkphdmFTY3JpcHQuZ2V0QWRqdXN0ZWQoYSxcIkFUMVwiKTticmVhaztjYXNlIFwiRlJPTV9FTkRcIjplPUJsb2NrbHkuSmF2YVNjcmlwdC5nZXRBZGp1c3RlZChhLFwiQVQxXCIsMSwhMSxCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfU1VCVFJBQ1RJT04pO2U9YitcIi5sZW5ndGggLSBcIitlO2JyZWFrO1xuY2FzZSBcIkZJUlNUXCI6ZT1cIjBcIjticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5oYW5kbGVkIG9wdGlvbiAodGV4dF9nZXRTdWJzdHJpbmcpLlwiKTt9c3dpdGNoKGQpe2Nhc2UgXCJGUk9NX1NUQVJUXCI6YT1CbG9ja2x5LkphdmFTY3JpcHQuZ2V0QWRqdXN0ZWQoYSxcIkFUMlwiLDEpO2JyZWFrO2Nhc2UgXCJGUk9NX0VORFwiOmE9QmxvY2tseS5KYXZhU2NyaXB0LmdldEFkanVzdGVkKGEsXCJBVDJcIiwwLCExLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9TVUJUUkFDVElPTik7YT1iK1wiLmxlbmd0aCAtIFwiK2E7YnJlYWs7Y2FzZSBcIkxBU1RcIjphPWIrXCIubGVuZ3RoXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuaGFuZGxlZCBvcHRpb24gKHRleHRfZ2V0U3Vic3RyaW5nKS5cIik7fWI9YitcIi5zbGljZShcIitlK1wiLCBcIithK1wiKVwifWVsc2V7ZT1CbG9ja2x5LkphdmFTY3JpcHQuZ2V0QWRqdXN0ZWQoYSxcIkFUMVwiKTthPUJsb2NrbHkuSmF2YVNjcmlwdC5nZXRBZGp1c3RlZChhLFwiQVQyXCIpO3ZhciBmPVxuQmxvY2tseS5KYXZhU2NyaXB0LnRleHQuZ2V0SW5kZXhfLGc9e0ZJUlNUOlwiRmlyc3RcIixMQVNUOlwiTGFzdFwiLEZST01fU1RBUlQ6XCJGcm9tU3RhcnRcIixGUk9NX0VORDpcIkZyb21FbmRcIn07Yj1CbG9ja2x5LkphdmFTY3JpcHQucHJvdmlkZUZ1bmN0aW9uXyhcInN1YnNlcXVlbmNlXCIrZ1tjXStnW2RdLFtcImZ1bmN0aW9uIFwiK0Jsb2NrbHkuSmF2YVNjcmlwdC5GVU5DVElPTl9OQU1FX1BMQUNFSE9MREVSXytcIihzZXF1ZW5jZVwiKyhcIkZST01fRU5EXCI9PWN8fFwiRlJPTV9TVEFSVFwiPT1jP1wiLCBhdDFcIjpcIlwiKSsoXCJGUk9NX0VORFwiPT1kfHxcIkZST01fU1RBUlRcIj09ZD9cIiwgYXQyXCI6XCJcIikrXCIpIHtcIixcIiAgdmFyIHN0YXJ0ID0gXCIrZihcInNlcXVlbmNlXCIsYyxcImF0MVwiKStcIjtcIixcIiAgdmFyIGVuZCA9IFwiK2YoXCJzZXF1ZW5jZVwiLGQsXCJhdDJcIikrXCIgKyAxO1wiLFwiICByZXR1cm4gc2VxdWVuY2Uuc2xpY2Uoc3RhcnQsIGVuZCk7XCIsXCJ9XCJdKStcIihcIitiKyhcIkZST01fRU5EXCI9PWN8fFwiRlJPTV9TVEFSVFwiPT1cbmM/XCIsIFwiK2U6XCJcIikrKFwiRlJPTV9FTkRcIj09ZHx8XCJGUk9NX1NUQVJUXCI9PWQ/XCIsIFwiK2E6XCJcIikrXCIpXCJ9cmV0dXJuW2IsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0ZVTkNUSU9OX0NBTExdfTtcbkJsb2NrbHkuSmF2YVNjcmlwdC50ZXh0X2NoYW5nZUNhc2U9ZnVuY3Rpb24oYSl7dmFyIGI9e1VQUEVSQ0FTRTpcIi50b1VwcGVyQ2FzZSgpXCIsTE9XRVJDQVNFOlwiLnRvTG93ZXJDYXNlKClcIixUSVRMRUNBU0U6bnVsbH1bYS5nZXRGaWVsZFZhbHVlKFwiQ0FTRVwiKV07YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlRFWFRcIixiP0Jsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9NRU1CRVI6QmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkUpfHxcIicnXCI7cmV0dXJuW2I/YStiOkJsb2NrbHkuSmF2YVNjcmlwdC5wcm92aWRlRnVuY3Rpb25fKFwidGV4dFRvVGl0bGVDYXNlXCIsW1wiZnVuY3Rpb24gXCIrQmxvY2tseS5KYXZhU2NyaXB0LkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfK1wiKHN0cikge1wiLFwiICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcXFxTKy9nLFwiLFwiICAgICAgZnVuY3Rpb24odHh0KSB7cmV0dXJuIHR4dFswXS50b1VwcGVyQ2FzZSgpICsgdHh0LnN1YnN0cmluZygxKS50b0xvd2VyQ2FzZSgpO30pO1wiLFxuXCJ9XCJdKStcIihcIithK1wiKVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9GVU5DVElPTl9DQUxMXX07QmxvY2tseS5KYXZhU2NyaXB0LnRleHRfdHJpbT1mdW5jdGlvbihhKXt2YXIgYj17TEVGVDpcIi5yZXBsYWNlKC9eW1xcXFxzXFxcXHhhMF0rLywgJycpXCIsUklHSFQ6XCIucmVwbGFjZSgvW1xcXFxzXFxcXHhhMF0rJC8sICcnKVwiLEJPVEg6XCIudHJpbSgpXCJ9W2EuZ2V0RmllbGRWYWx1ZShcIk1PREVcIildO3JldHVyblsoQmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJURVhUXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUil8fFwiJydcIikrYixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRlVOQ1RJT05fQ0FMTF19O0Jsb2NrbHkuSmF2YVNjcmlwdC50ZXh0X3ByaW50PWZ1bmN0aW9uKGEpe3JldHVyblwid2luZG93LmFsZXJ0KFwiKyhCbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlRFWFRcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTk9ORSl8fFwiJydcIikrXCIpO1xcblwifTtcbkJsb2NrbHkuSmF2YVNjcmlwdC50ZXh0X3Byb21wdF9leHQ9ZnVuY3Rpb24oYSl7dmFyIGI9XCJ3aW5kb3cucHJvbXB0KFwiKyhhLmdldEZpZWxkKFwiVEVYVFwiKT9CbG9ja2x5LkphdmFTY3JpcHQucXVvdGVfKGEuZ2V0RmllbGRWYWx1ZShcIlRFWFRcIikpOkJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiVEVYVFwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9OT05FKXx8XCInJ1wiKStcIilcIjtcIk5VTUJFUlwiPT1hLmdldEZpZWxkVmFsdWUoXCJUWVBFXCIpJiYoYj1cIk51bWJlcihcIitiK1wiKVwiKTtyZXR1cm5bYixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfRlVOQ1RJT05fQ0FMTF19O0Jsb2NrbHkuSmF2YVNjcmlwdC50ZXh0X3Byb21wdD1CbG9ja2x5LkphdmFTY3JpcHQudGV4dF9wcm9tcHRfZXh0O1xuQmxvY2tseS5KYXZhU2NyaXB0LnRleHRfY291bnQ9ZnVuY3Rpb24oYSl7dmFyIGI9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJURVhUXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUil8fFwiJydcIjthPUJsb2NrbHkuSmF2YVNjcmlwdC52YWx1ZVRvQ29kZShhLFwiU1VCXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkUpfHxcIicnXCI7cmV0dXJuW0Jsb2NrbHkuSmF2YVNjcmlwdC5wcm92aWRlRnVuY3Rpb25fKFwidGV4dENvdW50XCIsW1wiZnVuY3Rpb24gXCIrQmxvY2tseS5KYXZhU2NyaXB0LkZVTkNUSU9OX05BTUVfUExBQ0VIT0xERVJfK1wiKGhheXN0YWNrLCBuZWVkbGUpIHtcIixcIiAgaWYgKG5lZWRsZS5sZW5ndGggPT09IDApIHtcIixcIiAgICByZXR1cm4gaGF5c3RhY2subGVuZ3RoICsgMTtcIixcIiAgfSBlbHNlIHtcIixcIiAgICByZXR1cm4gaGF5c3RhY2suc3BsaXQobmVlZGxlKS5sZW5ndGggLSAxO1wiLFwiICB9XCIsXCJ9XCJdKStcIihcIitiK1wiLCBcIithK1wiKVwiLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9TVUJUUkFDVElPTl19O1xuQmxvY2tseS5KYXZhU2NyaXB0LnRleHRfcmVwbGFjZT1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlRFWFRcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTUVNQkVSKXx8XCInJ1wiLGM9QmxvY2tseS5KYXZhU2NyaXB0LnZhbHVlVG9Db2RlKGEsXCJGUk9NXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkUpfHxcIicnXCI7YT1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlRPXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX05PTkUpfHxcIicnXCI7cmV0dXJuW0Jsb2NrbHkuSmF2YVNjcmlwdC5wcm92aWRlRnVuY3Rpb25fKFwidGV4dFJlcGxhY2VcIixbXCJmdW5jdGlvbiBcIitCbG9ja2x5LkphdmFTY3JpcHQuRlVOQ1RJT05fTkFNRV9QTEFDRUhPTERFUl8rXCIoaGF5c3RhY2ssIG5lZWRsZSwgcmVwbGFjZW1lbnQpIHtcIiwnICBuZWVkbGUgPSBuZWVkbGUucmVwbGFjZSgvKFstKClcXFxcW1xcXFxde30rPyouJFxcXFxefCw6IzwhXFxcXFxcXFxdKS9nLFwiXFxcXFxcXFwkMVwiKScsXG4nICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXHgwOC9nLFwiXFxcXFxcXFx4MDhcIik7JyxcIiAgcmV0dXJuIGhheXN0YWNrLnJlcGxhY2UobmV3IFJlZ0V4cChuZWVkbGUsICdnJyksIHJlcGxhY2VtZW50KTtcIixcIn1cIl0pK1wiKFwiK2IrXCIsIFwiK2MrXCIsIFwiK2ErXCIpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUl19O0Jsb2NrbHkuSmF2YVNjcmlwdC50ZXh0X3JldmVyc2U9ZnVuY3Rpb24oYSl7cmV0dXJuWyhCbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlRFWFRcIixCbG9ja2x5LkphdmFTY3JpcHQuT1JERVJfTUVNQkVSKXx8XCInJ1wiKStcIi5zcGxpdCgnJykucmV2ZXJzZSgpLmpvaW4oJycpXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX01FTUJFUl19O0Jsb2NrbHkuSmF2YVNjcmlwdC52YXJpYWJsZXM9e307QmxvY2tseS5KYXZhU2NyaXB0LnZhcmlhYmxlc19nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuW0Jsb2NrbHkuSmF2YVNjcmlwdC52YXJpYWJsZURCXy5nZXROYW1lKGEuZ2V0RmllbGRWYWx1ZShcIlZBUlwiKSxCbG9ja2x5LlZBUklBQkxFX0NBVEVHT1JZX05BTUUpLEJsb2NrbHkuSmF2YVNjcmlwdC5PUkRFUl9BVE9NSUNdfTtCbG9ja2x5LkphdmFTY3JpcHQudmFyaWFibGVzX3NldD1mdW5jdGlvbihhKXt2YXIgYj1CbG9ja2x5LkphdmFTY3JpcHQudmFsdWVUb0NvZGUoYSxcIlZBTFVFXCIsQmxvY2tseS5KYXZhU2NyaXB0Lk9SREVSX0FTU0lHTk1FTlQpfHxcIjBcIjtyZXR1cm4gQmxvY2tseS5KYXZhU2NyaXB0LnZhcmlhYmxlREJfLmdldE5hbWUoYS5nZXRGaWVsZFZhbHVlKFwiVkFSXCIpLEJsb2NrbHkuVkFSSUFCTEVfQ0FURUdPUllfTkFNRSkrXCIgPSBcIitiK1wiO1xcblwifTtCbG9ja2x5LkphdmFTY3JpcHQudmFyaWFibGVzRHluYW1pYz17fTtCbG9ja2x5LkphdmFTY3JpcHQudmFyaWFibGVzX2dldF9keW5hbWljPUJsb2NrbHkuSmF2YVNjcmlwdC52YXJpYWJsZXNfZ2V0O0Jsb2NrbHkuSmF2YVNjcmlwdC52YXJpYWJsZXNfc2V0X2R5bmFtaWM9QmxvY2tseS5KYXZhU2NyaXB0LnZhcmlhYmxlc19zZXQ7XG5cbnJldHVybiBCbG9ja2x5LkphdmFTY3JpcHQ7XG59KSk7IFxuIiwiLyogZXNsaW50LWRpc2FibGUgKi9cbjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7IC8vIEFNRFxuICAgIGRlZmluZShbJy4uL2NvcmUnXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7IC8vIE5vZGUuanNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnLi4vY29yZScpKTtcbiAgfSBlbHNlIHsgLy8gQnJvd3NlclxuICAgIHJvb3QuQmxvY2tseS5Nc2cgPSBmYWN0b3J5KHJvb3QuQmxvY2tseSk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oQmxvY2tseSkge1xuXG4gICAgICB2YXIgQmxvY2tseSA9IHt9O0Jsb2NrbHkuTXNnPXt9Oy8vIFRoaXMgZmlsZSB3YXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQuICBEbyBub3QgbW9kaWZ5LlxuXG4ndXNlIHN0cmljdCc7XG5cbkJsb2NrbHkuTXNnW1wiQUREX0NPTU1FTlRcIl0gPSBcIkFkZCBDb21tZW50XCI7XG5CbG9ja2x5Lk1zZ1tcIkNBTk5PVF9ERUxFVEVfVkFSSUFCTEVfUFJPQ0VEVVJFXCJdID0gXCJDYW4ndCBkZWxldGUgdGhlIHZhcmlhYmxlICclMScgYmVjYXVzZSBpdCdzIHBhcnQgb2YgdGhlIGRlZmluaXRpb24gb2YgdGhlIGZ1bmN0aW9uICclMidcIjtcbkJsb2NrbHkuTXNnW1wiQ0hBTkdFX1ZBTFVFX1RJVExFXCJdID0gXCJDaGFuZ2UgdmFsdWU6XCI7XG5CbG9ja2x5Lk1zZ1tcIkNMRUFOX1VQXCJdID0gXCJDbGVhbiB1cCBCbG9ja3NcIjtcbkJsb2NrbHkuTXNnW1wiQ09MTEFQU0VEX1dBUk5JTkdTX1dBUk5JTkdcIl0gPSBcIkNvbGxhcHNlZCBibG9ja3MgY29udGFpbiB3YXJuaW5ncy5cIjtcbkJsb2NrbHkuTXNnW1wiQ09MTEFQU0VfQUxMXCJdID0gXCJDb2xsYXBzZSBCbG9ja3NcIjtcbkJsb2NrbHkuTXNnW1wiQ09MTEFQU0VfQkxPQ0tcIl0gPSBcIkNvbGxhcHNlIEJsb2NrXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9CTEVORF9DT0xPVVIxXCJdID0gXCJjb2xvdXIgMVwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfQkxFTkRfQ09MT1VSMlwiXSA9IFwiY29sb3VyIDJcIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX0JMRU5EX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vbWV5ZXJ3ZWIuY29tL2VyaWMvdG9vbHMvY29sb3ItYmxlbmQvIzo6OnJnYnBcIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX0JMRU5EX1JBVElPXCJdID0gXCJyYXRpb1wiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfQkxFTkRfVElUTEVcIl0gPSBcImJsZW5kXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9CTEVORF9UT09MVElQXCJdID0gXCJCbGVuZHMgdHdvIGNvbG91cnMgdG9nZXRoZXIgd2l0aCBhIGdpdmVuIHJhdGlvICgwLjAgLSAxLjApLlwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUElDS0VSX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbG9yXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9QSUNLRVJfVE9PTFRJUFwiXSA9IFwiQ2hvb3NlIGEgY29sb3VyIGZyb20gdGhlIHBhbGV0dGUuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9SQU5ET01fSEVMUFVSTFwiXSA9IFwiaHR0cDovL3JhbmRvbWNvbG91ci5jb21cIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX1JBTkRPTV9USVRMRVwiXSA9IFwicmFuZG9tIGNvbG91clwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUkFORE9NX1RPT0xUSVBcIl0gPSBcIkNob29zZSBhIGNvbG91ciBhdCByYW5kb20uXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTE9VUl9SR0JfQkxVRVwiXSA9IFwiYmx1ZVwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUkdCX0dSRUVOXCJdID0gXCJncmVlblwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUkdCX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vd3d3LmRlY2VtYmVyLmNvbS9odG1sL3NwZWMvY29sb3JwZXJjb21wYWN0Lmh0bWxcIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX1JHQl9SRURcIl0gPSBcInJlZFwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUkdCX1RJVExFXCJdID0gXCJjb2xvdXIgd2l0aFwiO1xuQmxvY2tseS5Nc2dbXCJDT0xPVVJfUkdCX1RPT0xUSVBcIl0gPSBcIkNyZWF0ZSBhIGNvbG91ciB3aXRoIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHJlZCwgZ3JlZW4sIGFuZCBibHVlLiBBbGwgdmFsdWVzIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxMDAuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZMT1dfU1RBVEVNRU5UU19IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9Mb29wcyNsb29wLXRlcm1pbmF0aW9uLWJsb2Nrc1wiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GTE9XX1NUQVRFTUVOVFNfT1BFUkFUT1JfQlJFQUtcIl0gPSBcImJyZWFrIG91dCBvZiBsb29wXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZMT1dfU1RBVEVNRU5UU19PUEVSQVRPUl9DT05USU5VRVwiXSA9IFwiY29udGludWUgd2l0aCBuZXh0IGl0ZXJhdGlvbiBvZiBsb29wXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZMT1dfU1RBVEVNRU5UU19UT09MVElQX0JSRUFLXCJdID0gXCJCcmVhayBvdXQgb2YgdGhlIGNvbnRhaW5pbmcgbG9vcC5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRkxPV19TVEFURU1FTlRTX1RPT0xUSVBfQ09OVElOVUVcIl0gPSBcIlNraXAgdGhlIHJlc3Qgb2YgdGhpcyBsb29wLCBhbmQgY29udGludWUgd2l0aCB0aGUgbmV4dCBpdGVyYXRpb24uXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZMT1dfU1RBVEVNRU5UU19XQVJOSU5HXCJdID0gXCJXYXJuaW5nOiBUaGlzIGJsb2NrIG1heSBvbmx5IGJlIHVzZWQgd2l0aGluIGEgbG9vcC5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRk9SRUFDSF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9Mb29wcyNmb3ItZWFjaFwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19GT1JFQUNIX1RJVExFXCJdID0gXCJmb3IgZWFjaCBpdGVtICUxIGluIGxpc3QgJTJcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRk9SRUFDSF9UT09MVElQXCJdID0gXCJGb3IgZWFjaCBpdGVtIGluIGEgbGlzdCwgc2V0IHRoZSB2YXJpYWJsZSAnJTEnIHRvIHRoZSBpdGVtLCBhbmQgdGhlbiBkbyBzb21lIHN0YXRlbWVudHMuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZPUl9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9Mb29wcyNjb3VudC13aXRoXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZPUl9USVRMRVwiXSA9IFwiY291bnQgd2l0aCAlMSBmcm9tICUyIHRvICUzIGJ5ICU0XCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZPUl9UT09MVElQXCJdID0gXCJIYXZlIHRoZSB2YXJpYWJsZSAnJTEnIHRha2Ugb24gdGhlIHZhbHVlcyBmcm9tIHRoZSBzdGFydCBudW1iZXIgdG8gdGhlIGVuZCBudW1iZXIsIGNvdW50aW5nIGJ5IHRoZSBzcGVjaWZpZWQgaW50ZXJ2YWwsIGFuZCBkbyB0aGUgc3BlY2lmaWVkIGJsb2Nrcy5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfRUxTRUlGX1RPT0xUSVBcIl0gPSBcIkFkZCBhIGNvbmRpdGlvbiB0byB0aGUgaWYgYmxvY2suXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX0VMU0VfVE9PTFRJUFwiXSA9IFwiQWRkIGEgZmluYWwsIGNhdGNoLWFsbCBjb25kaXRpb24gdG8gdGhlIGlmIGJsb2NrLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9JZkVsc2VcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfSUZfVE9PTFRJUFwiXSA9IFwiQWRkLCByZW1vdmUsIG9yIHJlb3JkZXIgc2VjdGlvbnMgdG8gcmVjb25maWd1cmUgdGhpcyBpZiBibG9jay5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfTVNHX0VMU0VcIl0gPSBcImVsc2VcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfTVNHX0VMU0VJRlwiXSA9IFwiZWxzZSBpZlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9NU0dfSUZcIl0gPSBcImlmXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX1RPT0xUSVBfMVwiXSA9IFwiSWYgYSB2YWx1ZSBpcyB0cnVlLCB0aGVuIGRvIHNvbWUgc3RhdGVtZW50cy5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfVE9PTFRJUF8yXCJdID0gXCJJZiBhIHZhbHVlIGlzIHRydWUsIHRoZW4gZG8gdGhlIGZpcnN0IGJsb2NrIG9mIHN0YXRlbWVudHMuIE90aGVyd2lzZSwgZG8gdGhlIHNlY29uZCBibG9jayBvZiBzdGF0ZW1lbnRzLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9UT09MVElQXzNcIl0gPSBcIklmIHRoZSBmaXJzdCB2YWx1ZSBpcyB0cnVlLCB0aGVuIGRvIHRoZSBmaXJzdCBibG9jayBvZiBzdGF0ZW1lbnRzLiBPdGhlcndpc2UsIGlmIHRoZSBzZWNvbmQgdmFsdWUgaXMgdHJ1ZSwgZG8gdGhlIHNlY29uZCBibG9jayBvZiBzdGF0ZW1lbnRzLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9UT09MVElQXzRcIl0gPSBcIklmIHRoZSBmaXJzdCB2YWx1ZSBpcyB0cnVlLCB0aGVuIGRvIHRoZSBmaXJzdCBibG9jayBvZiBzdGF0ZW1lbnRzLiBPdGhlcndpc2UsIGlmIHRoZSBzZWNvbmQgdmFsdWUgaXMgdHJ1ZSwgZG8gdGhlIHNlY29uZCBibG9jayBvZiBzdGF0ZW1lbnRzLiBJZiBub25lIG9mIHRoZSB2YWx1ZXMgYXJlIHRydWUsIGRvIHRoZSBsYXN0IGJsb2NrIG9mIHN0YXRlbWVudHMuXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1JFUEVBVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Gb3JfbG9vcFwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19SRVBFQVRfSU5QVVRfRE9cIl0gPSBcImRvXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1JFUEVBVF9USVRMRVwiXSA9IFwicmVwZWF0ICUxIHRpbWVzXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1JFUEVBVF9UT09MVElQXCJdID0gXCJEbyBzb21lIHN0YXRlbWVudHMgc2V2ZXJhbCB0aW1lcy5cIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfV0hJTEVVTlRJTF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9Mb29wcyNyZXBlYXRcIjtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfV0hJTEVVTlRJTF9PUEVSQVRPUl9VTlRJTFwiXSA9IFwicmVwZWF0IHVudGlsXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1dISUxFVU5USUxfT1BFUkFUT1JfV0hJTEVcIl0gPSBcInJlcGVhdCB3aGlsZVwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19XSElMRVVOVElMX1RPT0xUSVBfVU5USUxcIl0gPSBcIldoaWxlIGEgdmFsdWUgaXMgZmFsc2UsIHRoZW4gZG8gc29tZSBzdGF0ZW1lbnRzLlwiO1xuQmxvY2tseS5Nc2dbXCJDT05UUk9MU19XSElMRVVOVElMX1RPT0xUSVBfV0hJTEVcIl0gPSBcIldoaWxlIGEgdmFsdWUgaXMgdHJ1ZSwgdGhlbiBkbyBzb21lIHN0YXRlbWVudHMuXCI7XG5CbG9ja2x5Lk1zZ1tcIkRFTEVURV9BTExfQkxPQ0tTXCJdID0gXCJEZWxldGUgYWxsICUxIGJsb2Nrcz9cIjtcbkJsb2NrbHkuTXNnW1wiREVMRVRFX0JMT0NLXCJdID0gXCJEZWxldGUgQmxvY2tcIjtcbkJsb2NrbHkuTXNnW1wiREVMRVRFX1ZBUklBQkxFXCJdID0gXCJEZWxldGUgdGhlICclMScgdmFyaWFibGVcIjtcbkJsb2NrbHkuTXNnW1wiREVMRVRFX1ZBUklBQkxFX0NPTkZJUk1BVElPTlwiXSA9IFwiRGVsZXRlICUxIHVzZXMgb2YgdGhlICclMicgdmFyaWFibGU/XCI7XG5CbG9ja2x5Lk1zZ1tcIkRFTEVURV9YX0JMT0NLU1wiXSA9IFwiRGVsZXRlICUxIEJsb2Nrc1wiO1xuQmxvY2tseS5Nc2dbXCJESVNBQkxFX0JMT0NLXCJdID0gXCJEaXNhYmxlIEJsb2NrXCI7XG5CbG9ja2x5Lk1zZ1tcIkRVUExJQ0FURV9CTE9DS1wiXSA9IFwiRHVwbGljYXRlXCI7XG5CbG9ja2x5Lk1zZ1tcIkRVUExJQ0FURV9DT01NRU5UXCJdID0gXCJEdXBsaWNhdGUgQ29tbWVudFwiO1xuQmxvY2tseS5Nc2dbXCJFTkFCTEVfQkxPQ0tcIl0gPSBcIkVuYWJsZSBCbG9ja1wiO1xuQmxvY2tseS5Nc2dbXCJFWFBBTkRfQUxMXCJdID0gXCJFeHBhbmQgQmxvY2tzXCI7XG5CbG9ja2x5Lk1zZ1tcIkVYUEFORF9CTE9DS1wiXSA9IFwiRXhwYW5kIEJsb2NrXCI7XG5CbG9ja2x5Lk1zZ1tcIkVYVEVSTkFMX0lOUFVUU1wiXSA9IFwiRXh0ZXJuYWwgSW5wdXRzXCI7XG5CbG9ja2x5Lk1zZ1tcIkhFTFBcIl0gPSBcIkhlbHBcIjtcbkJsb2NrbHkuTXNnW1wiSU5MSU5FX0lOUFVUU1wiXSA9IFwiSW5saW5lIElucHV0c1wiO1xuQmxvY2tseS5Nc2dbXCJJT1NfQ0FOQ0VMXCJdID0gXCJDYW5jZWxcIjtcbkJsb2NrbHkuTXNnW1wiSU9TX0VSUk9SXCJdID0gXCJFcnJvclwiO1xuQmxvY2tseS5Nc2dbXCJJT1NfT0tcIl0gPSBcIk9LXCI7XG5CbG9ja2x5Lk1zZ1tcIklPU19QUk9DRURVUkVTX0FERF9JTlBVVFwiXSA9IFwiKyBBZGQgSW5wdXRcIjtcbkJsb2NrbHkuTXNnW1wiSU9TX1BST0NFRFVSRVNfQUxMT1dfU1RBVEVNRU5UU1wiXSA9IFwiQWxsb3cgc3RhdGVtZW50c1wiO1xuQmxvY2tseS5Nc2dbXCJJT1NfUFJPQ0VEVVJFU19EVVBMSUNBVEVfSU5QVVRTX0VSUk9SXCJdID0gXCJUaGlzIGZ1bmN0aW9uIGhhcyBkdXBsaWNhdGUgaW5wdXRzLlwiO1xuQmxvY2tseS5Nc2dbXCJJT1NfUFJPQ0VEVVJFU19JTlBVVFNcIl0gPSBcIklOUFVUU1wiO1xuQmxvY2tseS5Nc2dbXCJJT1NfVkFSSUFCTEVTX0FERF9CVVRUT05cIl0gPSBcIkFkZFwiO1xuQmxvY2tseS5Nc2dbXCJJT1NfVkFSSUFCTEVTX0FERF9WQVJJQUJMRVwiXSA9IFwiKyBBZGQgVmFyaWFibGVcIjtcbkJsb2NrbHkuTXNnW1wiSU9TX1ZBUklBQkxFU19ERUxFVEVfQlVUVE9OXCJdID0gXCJEZWxldGVcIjtcbkJsb2NrbHkuTXNnW1wiSU9TX1ZBUklBQkxFU19FTVBUWV9OQU1FX0VSUk9SXCJdID0gXCJZb3UgY2FuJ3QgdXNlIGFuIGVtcHR5IHZhcmlhYmxlIG5hbWUuXCI7XG5CbG9ja2x5Lk1zZ1tcIklPU19WQVJJQUJMRVNfUkVOQU1FX0JVVFRPTlwiXSA9IFwiUmVuYW1lXCI7XG5CbG9ja2x5Lk1zZ1tcIklPU19WQVJJQUJMRVNfVkFSSUFCTEVfTkFNRVwiXSA9IFwiVmFyaWFibGUgbmFtZVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfRU1QVFlfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTGlzdHMjY3JlYXRlLWVtcHR5LWxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfQ1JFQVRFX0VNUFRZX1RJVExFXCJdID0gXCJjcmVhdGUgZW1wdHkgbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfRU1QVFlfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyBhIGxpc3QsIG9mIGxlbmd0aCAwLCBjb250YWluaW5nIG5vIGRhdGEgcmVjb3Jkc1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfV0lUSF9DT05UQUlORVJfVElUTEVfQUREXCJdID0gXCJsaXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0NSRUFURV9XSVRIX0NPTlRBSU5FUl9UT09MVElQXCJdID0gXCJBZGQsIHJlbW92ZSwgb3IgcmVvcmRlciBzZWN0aW9ucyB0byByZWNvbmZpZ3VyZSB0aGlzIGxpc3QgYmxvY2suXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0NSRUFURV9XSVRIX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI2NyZWF0ZS1saXN0LXdpdGhcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfQ1JFQVRFX1dJVEhfSU5QVVRfV0lUSFwiXSA9IFwiY3JlYXRlIGxpc3Qgd2l0aFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfV0lUSF9JVEVNX1RPT0xUSVBcIl0gPSBcIkFkZCBhbiBpdGVtIHRvIHRoZSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19DUkVBVEVfV0lUSF9UT09MVElQXCJdID0gXCJDcmVhdGUgYSBsaXN0IHdpdGggYW55IG51bWJlciBvZiBpdGVtcy5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX0ZJUlNUXCJdID0gXCJmaXJzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfRlJPTV9FTkRcIl0gPSBcIiMgZnJvbSBlbmRcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX0ZST01fU1RBUlRcIl0gPSBcIiNcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX0dFVFwiXSA9IFwiZ2V0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9HRVRfUkVNT1ZFXCJdID0gXCJnZXQgYW5kIHJlbW92ZVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfTEFTVFwiXSA9IFwibGFzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfUkFORE9NXCJdID0gXCJyYW5kb21cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1JFTU9WRVwiXSA9IFwicmVtb3ZlXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UQUlMXCJdID0gXCJcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX0ZJUlNUXCJdID0gXCJSZXR1cm5zIHRoZSBmaXJzdCBpdGVtIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX0ZST01cIl0gPSBcIlJldHVybnMgdGhlIGl0ZW0gYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbiBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9MQVNUXCJdID0gXCJSZXR1cm5zIHRoZSBsYXN0IGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfUkFORE9NXCJdID0gXCJSZXR1cm5zIGEgcmFuZG9tIGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfUkVNT1ZFX0ZJUlNUXCJdID0gXCJSZW1vdmVzIGFuZCByZXR1cm5zIHRoZSBmaXJzdCBpdGVtIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfR0VUX1JFTU9WRV9GUk9NXCJdID0gXCJSZW1vdmVzIGFuZCByZXR1cm5zIHRoZSBpdGVtIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9HRVRfUkVNT1ZFX0xBU1RcIl0gPSBcIlJlbW92ZXMgYW5kIHJldHVybnMgdGhlIGxhc3QgaXRlbSBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX0dFVF9SRU1PVkVfUkFORE9NXCJdID0gXCJSZW1vdmVzIGFuZCByZXR1cm5zIGEgcmFuZG9tIGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9SRU1PVkVfRklSU1RcIl0gPSBcIlJlbW92ZXMgdGhlIGZpcnN0IGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfSU5ERVhfVE9PTFRJUF9SRU1PVkVfRlJPTVwiXSA9IFwiUmVtb3ZlcyB0aGUgaXRlbSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX1RPT0xUSVBfUkVNT1ZFX0xBU1RcIl0gPSBcIlJlbW92ZXMgdGhlIGxhc3QgaXRlbSBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9UT09MVElQX1JFTU9WRV9SQU5ET01cIl0gPSBcIlJlbW92ZXMgYSByYW5kb20gaXRlbSBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9TVUJMSVNUX0VORF9GUk9NX0VORFwiXSA9IFwidG8gIyBmcm9tIGVuZFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9FTkRfRlJPTV9TVEFSVFwiXSA9IFwidG8gI1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9FTkRfTEFTVFwiXSA9IFwidG8gbGFzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNnZXR0aW5nLWEtc3VibGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9TVEFSVF9GSVJTVFwiXSA9IFwiZ2V0IHN1Yi1saXN0IGZyb20gZmlyc3RcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX1NVQkxJU1RfU1RBUlRfRlJPTV9FTkRcIl0gPSBcImdldCBzdWItbGlzdCBmcm9tICMgZnJvbSBlbmRcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX1NVQkxJU1RfU1RBUlRfRlJPTV9TVEFSVFwiXSA9IFwiZ2V0IHN1Yi1saXN0IGZyb20gI1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19HRVRfU1VCTElTVF9UQUlMXCJdID0gXCJcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX1NVQkxJU1RfVE9PTFRJUFwiXSA9IFwiQ3JlYXRlcyBhIGNvcHkgb2YgdGhlIHNwZWNpZmllZCBwb3J0aW9uIG9mIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSU5ERVhfRlJPTV9FTkRfVE9PTFRJUFwiXSA9IFwiJTEgaXMgdGhlIGxhc3QgaXRlbS5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSU5ERVhfRlJPTV9TVEFSVF9UT09MVElQXCJdID0gXCIlMSBpcyB0aGUgZmlyc3QgaXRlbS5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSU5ERVhfT0ZfRklSU1RcIl0gPSBcImZpbmQgZmlyc3Qgb2NjdXJyZW5jZSBvZiBpdGVtXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0lOREVYX09GX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI2dldHRpbmctaXRlbXMtZnJvbS1hLWxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSU5ERVhfT0ZfTEFTVFwiXSA9IFwiZmluZCBsYXN0IG9jY3VycmVuY2Ugb2YgaXRlbVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19JTkRFWF9PRl9UT09MVElQXCJdID0gXCJSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZmlyc3QvbGFzdCBvY2N1cnJlbmNlIG9mIHRoZSBpdGVtIGluIHRoZSBsaXN0LiBSZXR1cm5zICUxIGlmIGl0ZW0gaXMgbm90IGZvdW5kLlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19JTkxJU1RcIl0gPSBcImluIGxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSVNFTVBUWV9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNpcy1lbXB0eVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19JU0VNUFRZX1RJVExFXCJdID0gXCIlMSBpcyBlbXB0eVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19JU0VNUFRZX1RPT0xUSVBcIl0gPSBcIlJldHVybnMgdHJ1ZSBpZiB0aGUgbGlzdCBpcyBlbXB0eS5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfTEVOR1RIX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI2xlbmd0aC1vZlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19MRU5HVEhfVElUTEVcIl0gPSBcImxlbmd0aCBvZiAlMVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19MRU5HVEhfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyB0aGUgbGVuZ3RoIG9mIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfUkVQRUFUX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI2NyZWF0ZS1saXN0LXdpdGhcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfUkVQRUFUX1RJVExFXCJdID0gXCJjcmVhdGUgbGlzdCB3aXRoIGl0ZW0gJTEgcmVwZWF0ZWQgJTIgdGltZXNcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfUkVQRUFUX1RPT0xUSVBcIl0gPSBcIkNyZWF0ZXMgYSBsaXN0IGNvbnNpc3Rpbmcgb2YgdGhlIGdpdmVuIHZhbHVlIHJlcGVhdGVkIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIHRpbWVzLlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19SRVZFUlNFX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI3JldmVyc2luZy1hLWxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfUkVWRVJTRV9NRVNTQUdFMFwiXSA9IFwicmV2ZXJzZSAlMVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19SRVZFUlNFX1RPT0xUSVBcIl0gPSBcIlJldmVyc2UgYSBjb3B5IG9mIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI2luLWxpc3QtLXNldFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfSU5QVVRfVE9cIl0gPSBcImFzXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NFVF9JTkRFWF9JTlNFUlRcIl0gPSBcImluc2VydCBhdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfU0VUXCJdID0gXCJzZXRcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfSU5TRVJUX0ZJUlNUXCJdID0gXCJJbnNlcnRzIHRoZSBpdGVtIGF0IHRoZSBzdGFydCBvZiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX0lOU0VSVF9GUk9NXCJdID0gXCJJbnNlcnRzIHRoZSBpdGVtIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9JTlNFUlRfTEFTVFwiXSA9IFwiQXBwZW5kIHRoZSBpdGVtIHRvIHRoZSBlbmQgb2YgYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9JTlNFUlRfUkFORE9NXCJdID0gXCJJbnNlcnRzIHRoZSBpdGVtIHJhbmRvbWx5IGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfU0VUX0ZJUlNUXCJdID0gXCJTZXRzIHRoZSBmaXJzdCBpdGVtIGluIGEgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU0VUX0lOREVYX1RPT0xUSVBfU0VUX0ZST01cIl0gPSBcIlNldHMgdGhlIGl0ZW0gYXQgdGhlIHNwZWNpZmllZCBwb3NpdGlvbiBpbiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NFVF9JTkRFWF9UT09MVElQX1NFVF9MQVNUXCJdID0gXCJTZXRzIHRoZSBsYXN0IGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfVE9PTFRJUF9TRVRfUkFORE9NXCJdID0gXCJTZXRzIGEgcmFuZG9tIGl0ZW0gaW4gYSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TT1JUX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xpc3RzI3NvcnRpbmctYS1saXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NPUlRfT1JERVJfQVNDRU5ESU5HXCJdID0gXCJhc2NlbmRpbmdcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU09SVF9PUkRFUl9ERVNDRU5ESU5HXCJdID0gXCJkZXNjZW5kaW5nXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NPUlRfVElUTEVcIl0gPSBcInNvcnQgJTEgJTIgJTNcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU09SVF9UT09MVElQXCJdID0gXCJTb3J0IGEgY29weSBvZiBhIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NPUlRfVFlQRV9JR05PUkVDQVNFXCJdID0gXCJhbHBoYWJldGljLCBpZ25vcmUgY2FzZVwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TT1JUX1RZUEVfTlVNRVJJQ1wiXSA9IFwibnVtZXJpY1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TT1JUX1RZUEVfVEVYVFwiXSA9IFwiYWxwaGFiZXRpY1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TUExJVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9MaXN0cyNzcGxpdHRpbmctc3RyaW5ncy1hbmQtam9pbmluZy1saXN0c1wiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TUExJVF9MSVNUX0ZST01fVEVYVFwiXSA9IFwibWFrZSBsaXN0IGZyb20gdGV4dFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TUExJVF9URVhUX0ZST01fTElTVFwiXSA9IFwibWFrZSB0ZXh0IGZyb20gbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TUExJVF9UT09MVElQX0pPSU5cIl0gPSBcIkpvaW4gYSBsaXN0IG9mIHRleHRzIGludG8gb25lIHRleHQsIHNlcGFyYXRlZCBieSBhIGRlbGltaXRlci5cIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfU1BMSVRfVE9PTFRJUF9TUExJVFwiXSA9IFwiU3BsaXQgdGV4dCBpbnRvIGEgbGlzdCBvZiB0ZXh0cywgYnJlYWtpbmcgYXQgZWFjaCBkZWxpbWl0ZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX1NQTElUX1dJVEhfREVMSU1JVEVSXCJdID0gXCJ3aXRoIGRlbGltaXRlclwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19CT09MRUFOX0ZBTFNFXCJdID0gXCJmYWxzZVwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19CT09MRUFOX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xvZ2ljI3ZhbHVlc1wiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19CT09MRUFOX1RPT0xUSVBcIl0gPSBcIlJldHVybnMgZWl0aGVyIHRydWUgb3IgZmFsc2UuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX0JPT0xFQU5fVFJVRVwiXSA9IFwidHJ1ZVwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19DT01QQVJFX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0luZXF1YWxpdHlfKG1hdGhlbWF0aWNzKVwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19DT01QQVJFX1RPT0xUSVBfRVFcIl0gPSBcIlJldHVybiB0cnVlIGlmIGJvdGggaW5wdXRzIGVxdWFsIGVhY2ggb3RoZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX0NPTVBBUkVfVE9PTFRJUF9HVFwiXSA9IFwiUmV0dXJuIHRydWUgaWYgdGhlIGZpcnN0IGlucHV0IGlzIGdyZWF0ZXIgdGhhbiB0aGUgc2Vjb25kIGlucHV0LlwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19DT01QQVJFX1RPT0xUSVBfR1RFXCJdID0gXCJSZXR1cm4gdHJ1ZSBpZiB0aGUgZmlyc3QgaW5wdXQgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzZWNvbmQgaW5wdXQuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX0NPTVBBUkVfVE9PTFRJUF9MVFwiXSA9IFwiUmV0dXJuIHRydWUgaWYgdGhlIGZpcnN0IGlucHV0IGlzIHNtYWxsZXIgdGhhbiB0aGUgc2Vjb25kIGlucHV0LlwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19DT01QQVJFX1RPT0xUSVBfTFRFXCJdID0gXCJSZXR1cm4gdHJ1ZSBpZiB0aGUgZmlyc3QgaW5wdXQgaXMgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzZWNvbmQgaW5wdXQuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX0NPTVBBUkVfVE9PTFRJUF9ORVFcIl0gPSBcIlJldHVybiB0cnVlIGlmIGJvdGggaW5wdXRzIGFyZSBub3QgZXF1YWwgdG8gZWFjaCBvdGhlci5cIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfTkVHQVRFX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL0xvZ2ljI25vdFwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19ORUdBVEVfVElUTEVcIl0gPSBcIm5vdCAlMVwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19ORUdBVEVfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyB0cnVlIGlmIHRoZSBpbnB1dCBpcyBmYWxzZS4gUmV0dXJucyBmYWxzZSBpZiB0aGUgaW5wdXQgaXMgdHJ1ZS5cIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfTlVMTFwiXSA9IFwibnVsbFwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19OVUxMX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL051bGxhYmxlX3R5cGVcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfTlVMTF9UT09MVElQXCJdID0gXCJSZXR1cm5zIG51bGwuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX09QRVJBVElPTl9BTkRcIl0gPSBcImFuZFwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19PUEVSQVRJT05fSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvTG9naWMjbG9naWNhbC1vcGVyYXRpb25zXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX09QRVJBVElPTl9PUlwiXSA9IFwib3JcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfT1BFUkFUSU9OX1RPT0xUSVBfQU5EXCJdID0gXCJSZXR1cm4gdHJ1ZSBpZiBib3RoIGlucHV0cyBhcmUgdHJ1ZS5cIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfT1BFUkFUSU9OX1RPT0xUSVBfT1JcIl0gPSBcIlJldHVybiB0cnVlIGlmIGF0IGxlYXN0IG9uZSBvZiB0aGUgaW5wdXRzIGlzIHRydWUuXCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX1RFUk5BUllfQ09ORElUSU9OXCJdID0gXCJ0ZXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIkxPR0lDX1RFUk5BUllfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvJTNGOlwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19URVJOQVJZX0lGX0ZBTFNFXCJdID0gXCJpZiBmYWxzZVwiO1xuQmxvY2tseS5Nc2dbXCJMT0dJQ19URVJOQVJZX0lGX1RSVUVcIl0gPSBcImlmIHRydWVcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfVEVSTkFSWV9UT09MVElQXCJdID0gXCJDaGVjayB0aGUgY29uZGl0aW9uIGluICd0ZXN0Jy4gSWYgdGhlIGNvbmRpdGlvbiBpcyB0cnVlLCByZXR1cm5zIHRoZSAnaWYgdHJ1ZScgdmFsdWU7IG90aGVyd2lzZSByZXR1cm5zIHRoZSAnaWYgZmFsc2UnIHZhbHVlLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FERElUSU9OX1NZTUJPTFwiXSA9IFwiK1wiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FSSVRITUVUSUNfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQXJpdGhtZXRpY1wiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FSSVRITUVUSUNfVE9PTFRJUF9BRERcIl0gPSBcIlJldHVybiB0aGUgc3VtIG9mIHRoZSB0d28gbnVtYmVycy5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9BUklUSE1FVElDX1RPT0xUSVBfRElWSURFXCJdID0gXCJSZXR1cm4gdGhlIHF1b3RpZW50IG9mIHRoZSB0d28gbnVtYmVycy5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9BUklUSE1FVElDX1RPT0xUSVBfTUlOVVNcIl0gPSBcIlJldHVybiB0aGUgZGlmZmVyZW5jZSBvZiB0aGUgdHdvIG51bWJlcnMuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQVJJVEhNRVRJQ19UT09MVElQX01VTFRJUExZXCJdID0gXCJSZXR1cm4gdGhlIHByb2R1Y3Qgb2YgdGhlIHR3byBudW1iZXJzLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FSSVRITUVUSUNfVE9PTFRJUF9QT1dFUlwiXSA9IFwiUmV0dXJuIHRoZSBmaXJzdCBudW1iZXIgcmFpc2VkIHRvIHRoZSBwb3dlciBvZiB0aGUgc2Vjb25kIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9BVEFOMl9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BdGFuMlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0FUQU4yX1RJVExFXCJdID0gXCJhdGFuMiBvZiBYOiUxIFk6JTJcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9BVEFOMl9UT09MVElQXCJdID0gXCJSZXR1cm4gdGhlIGFyY3RhbmdlbnQgb2YgcG9pbnQgKFgsIFkpIGluIGRlZ3JlZXMgZnJvbSAtMTgwIHRvIDE4MC5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9DSEFOR0VfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUHJvZ3JhbW1pbmdfaWRpb20jSW5jcmVtZW50aW5nX2FfY291bnRlclwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0NIQU5HRV9USVRMRVwiXSA9IFwiY2hhbmdlICUxIGJ5ICUyXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQ0hBTkdFX1RPT0xUSVBcIl0gPSBcIkFkZCBhIG51bWJlciB0byB2YXJpYWJsZSAnJTEnLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0NPTlNUQU5UX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01hdGhlbWF0aWNhbF9jb25zdGFudFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0NPTlNUQU5UX1RPT0xUSVBcIl0gPSBcIlJldHVybiBvbmUgb2YgdGhlIGNvbW1vbiBjb25zdGFudHM6IM+AICgzLjE0MeKApiksIGUgKDIuNzE44oCmKSwgz4YgKDEuNjE44oCmKSwgc3FydCgyKSAoMS40MTTigKYpLCBzcXJ0KMK9KSAoMC43MDfigKYpLCBvciDiiJ4gKGluZmluaXR5KS5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9DT05TVFJBSU5fSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2xhbXBpbmdfKGdyYXBoaWNzKVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0NPTlNUUkFJTl9USVRMRVwiXSA9IFwiY29uc3RyYWluICUxIGxvdyAlMiBoaWdoICUzXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfQ09OU1RSQUlOX1RPT0xUSVBcIl0gPSBcIkNvbnN0cmFpbiBhIG51bWJlciB0byBiZSBiZXR3ZWVuIHRoZSBzcGVjaWZpZWQgbGltaXRzIChpbmNsdXNpdmUpLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0RJVklTSU9OX1NZTUJPTFwiXSA9IFwiw7dcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9JU19ESVZJU0lCTEVfQllcIl0gPSBcImlzIGRpdmlzaWJsZSBieVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX0VWRU5cIl0gPSBcImlzIGV2ZW5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9JU19ORUdBVElWRVwiXSA9IFwiaXMgbmVnYXRpdmVcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9JU19PRERcIl0gPSBcImlzIG9kZFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX1BPU0lUSVZFXCJdID0gXCJpcyBwb3NpdGl2ZVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX1BSSU1FXCJdID0gXCJpcyBwcmltZVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX1RPT0xUSVBcIl0gPSBcIkNoZWNrIGlmIGEgbnVtYmVyIGlzIGFuIGV2ZW4sIG9kZCwgcHJpbWUsIHdob2xlLCBwb3NpdGl2ZSwgbmVnYXRpdmUsIG9yIGlmIGl0IGlzIGRpdmlzaWJsZSBieSBjZXJ0YWluIG51bWJlci4gUmV0dXJucyB0cnVlIG9yIGZhbHNlLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0lTX1dIT0xFXCJdID0gXCJpcyB3aG9sZVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX01PRFVMT19IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Nb2R1bG9fb3BlcmF0aW9uXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfTU9EVUxPX1RJVExFXCJdID0gXCJyZW1haW5kZXIgb2YgJTEgw7cgJTJcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9NT0RVTE9fVE9PTFRJUFwiXSA9IFwiUmV0dXJuIHRoZSByZW1haW5kZXIgZnJvbSBkaXZpZGluZyB0aGUgdHdvIG51bWJlcnMuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfTVVMVElQTElDQVRJT05fU1lNQk9MXCJdID0gXCLDl1wiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX05VTUJFUl9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9OdW1iZXJcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9OVU1CRVJfVE9PTFRJUFwiXSA9IFwiQSBudW1iZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX0hFTFBVUkxcIl0gPSBcIlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9PUEVSQVRPUl9BVkVSQUdFXCJdID0gXCJhdmVyYWdlIG9mIGxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfT1BFUkFUT1JfTUFYXCJdID0gXCJtYXggb2YgbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9PUEVSQVRPUl9NRURJQU5cIl0gPSBcIm1lZGlhbiBvZiBsaXN0XCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX09QRVJBVE9SX01JTlwiXSA9IFwibWluIG9mIGxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfT1BFUkFUT1JfTU9ERVwiXSA9IFwibW9kZXMgb2YgbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9PUEVSQVRPUl9SQU5ET01cIl0gPSBcInJhbmRvbSBpdGVtIG9mIGxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfT1BFUkFUT1JfU1REX0RFVlwiXSA9IFwic3RhbmRhcmQgZGV2aWF0aW9uIG9mIGxpc3RcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfT1BFUkFUT1JfU1VNXCJdID0gXCJzdW0gb2YgbGlzdFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9UT09MVElQX0FWRVJBR0VcIl0gPSBcIlJldHVybiB0aGUgYXZlcmFnZSAoYXJpdGhtZXRpYyBtZWFuKSBvZiB0aGUgbnVtZXJpYyB2YWx1ZXMgaW4gdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX1RPT0xUSVBfTUFYXCJdID0gXCJSZXR1cm4gdGhlIGxhcmdlc3QgbnVtYmVyIGluIHRoZSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9UT09MVElQX01FRElBTlwiXSA9IFwiUmV0dXJuIHRoZSBtZWRpYW4gbnVtYmVyIGluIHRoZSBsaXN0LlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX09OTElTVF9UT09MVElQX01JTlwiXSA9IFwiUmV0dXJuIHRoZSBzbWFsbGVzdCBudW1iZXIgaW4gdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX1RPT0xUSVBfTU9ERVwiXSA9IFwiUmV0dXJuIGEgbGlzdCBvZiB0aGUgbW9zdCBjb21tb24gaXRlbShzKSBpbiB0aGUgbGlzdC5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9PTkxJU1RfVE9PTFRJUF9SQU5ET01cIl0gPSBcIlJldHVybiBhIHJhbmRvbSBlbGVtZW50IGZyb20gdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX1RPT0xUSVBfU1REX0RFVlwiXSA9IFwiUmV0dXJuIHRoZSBzdGFuZGFyZCBkZXZpYXRpb24gb2YgdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfT05MSVNUX1RPT0xUSVBfU1VNXCJdID0gXCJSZXR1cm4gdGhlIHN1bSBvZiBhbGwgdGhlIG51bWJlcnMgaW4gdGhlIGxpc3QuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfUE9XRVJfU1lNQk9MXCJdID0gXCJeXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfUkFORE9NX0ZMT0FUX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JhbmRvbV9udW1iZXJfZ2VuZXJhdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JBTkRPTV9GTE9BVF9USVRMRV9SQU5ET01cIl0gPSBcInJhbmRvbSBmcmFjdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JBTkRPTV9GTE9BVF9UT09MVElQXCJdID0gXCJSZXR1cm4gYSByYW5kb20gZnJhY3Rpb24gYmV0d2VlbiAwLjAgKGluY2x1c2l2ZSkgYW5kIDEuMCAoZXhjbHVzaXZlKS5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9SQU5ET01fSU5UX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1JhbmRvbV9udW1iZXJfZ2VuZXJhdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JBTkRPTV9JTlRfVElUTEVcIl0gPSBcInJhbmRvbSBpbnRlZ2VyIGZyb20gJTEgdG8gJTJcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9SQU5ET01fSU5UX1RPT0xUSVBcIl0gPSBcIlJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gdGhlIHR3byBzcGVjaWZpZWQgbGltaXRzLCBpbmNsdXNpdmUuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfUk9VTkRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUm91bmRpbmdcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9ST1VORF9PUEVSQVRPUl9ST1VORFwiXSA9IFwicm91bmRcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9ST1VORF9PUEVSQVRPUl9ST1VORERPV05cIl0gPSBcInJvdW5kIGRvd25cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9ST1VORF9PUEVSQVRPUl9ST1VORFVQXCJdID0gXCJyb3VuZCB1cFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1JPVU5EX1RPT0xUSVBcIl0gPSBcIlJvdW5kIGEgbnVtYmVyIHVwIG9yIGRvd24uXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfU0lOR0xFX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NxdWFyZV9yb290XCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfU0lOR0xFX09QX0FCU09MVVRFXCJdID0gXCJhYnNvbHV0ZVwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1NJTkdMRV9PUF9ST09UXCJdID0gXCJzcXVhcmUgcm9vdFwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1NJTkdMRV9UT09MVElQX0FCU1wiXSA9IFwiUmV0dXJuIHRoZSBhYnNvbHV0ZSB2YWx1ZSBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TSU5HTEVfVE9PTFRJUF9FWFBcIl0gPSBcIlJldHVybiBlIHRvIHRoZSBwb3dlciBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TSU5HTEVfVE9PTFRJUF9MTlwiXSA9IFwiUmV0dXJuIHRoZSBuYXR1cmFsIGxvZ2FyaXRobSBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TSU5HTEVfVE9PTFRJUF9MT0cxMFwiXSA9IFwiUmV0dXJuIHRoZSBiYXNlIDEwIGxvZ2FyaXRobSBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TSU5HTEVfVE9PTFRJUF9ORUdcIl0gPSBcIlJldHVybiB0aGUgbmVnYXRpb24gb2YgYSBudW1iZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfU0lOR0xFX1RPT0xUSVBfUE9XMTBcIl0gPSBcIlJldHVybiAxMCB0byB0aGUgcG93ZXIgb2YgYSBudW1iZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfU0lOR0xFX1RPT0xUSVBfUk9PVFwiXSA9IFwiUmV0dXJuIHRoZSBzcXVhcmUgcm9vdCBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9TVUJUUkFDVElPTl9TWU1CT0xcIl0gPSBcIi1cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX0FDT1NcIl0gPSBcImFjb3NcIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX0FTSU5cIl0gPSBcImFzaW5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX0FUQU5cIl0gPSBcImF0YW5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX0NPU1wiXSA9IFwiY29zXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfVFJJR19IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Ucmlnb25vbWV0cmljX2Z1bmN0aW9uc1wiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1RSSUdfU0lOXCJdID0gXCJzaW5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX1RBTlwiXSA9IFwidGFuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfVFJJR19UT09MVElQX0FDT1NcIl0gPSBcIlJldHVybiB0aGUgYXJjY29zaW5lIG9mIGEgbnVtYmVyLlwiO1xuQmxvY2tseS5Nc2dbXCJNQVRIX1RSSUdfVE9PTFRJUF9BU0lOXCJdID0gXCJSZXR1cm4gdGhlIGFyY3NpbmUgb2YgYSBudW1iZXIuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfVFJJR19UT09MVElQX0FUQU5cIl0gPSBcIlJldHVybiB0aGUgYXJjdGFuZ2VudCBvZiBhIG51bWJlci5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX1RPT0xUSVBfQ09TXCJdID0gXCJSZXR1cm4gdGhlIGNvc2luZSBvZiBhIGRlZ3JlZSAobm90IHJhZGlhbikuXCI7XG5CbG9ja2x5Lk1zZ1tcIk1BVEhfVFJJR19UT09MVElQX1NJTlwiXSA9IFwiUmV0dXJuIHRoZSBzaW5lIG9mIGEgZGVncmVlIChub3QgcmFkaWFuKS5cIjtcbkJsb2NrbHkuTXNnW1wiTUFUSF9UUklHX1RPT0xUSVBfVEFOXCJdID0gXCJSZXR1cm4gdGhlIHRhbmdlbnQgb2YgYSBkZWdyZWUgKG5vdCByYWRpYW4pLlwiO1xuQmxvY2tseS5Nc2dbXCJORVdfQ09MT1VSX1ZBUklBQkxFXCJdID0gXCJDcmVhdGUgY29sb3VyIHZhcmlhYmxlLi4uXCI7XG5CbG9ja2x5Lk1zZ1tcIk5FV19OVU1CRVJfVkFSSUFCTEVcIl0gPSBcIkNyZWF0ZSBudW1iZXIgdmFyaWFibGUuLi5cIjtcbkJsb2NrbHkuTXNnW1wiTkVXX1NUUklOR19WQVJJQUJMRVwiXSA9IFwiQ3JlYXRlIHN0cmluZyB2YXJpYWJsZS4uLlwiO1xuQmxvY2tseS5Nc2dbXCJORVdfVkFSSUFCTEVcIl0gPSBcIkNyZWF0ZSB2YXJpYWJsZS4uLlwiO1xuQmxvY2tseS5Nc2dbXCJORVdfVkFSSUFCTEVfVElUTEVcIl0gPSBcIk5ldyB2YXJpYWJsZSBuYW1lOlwiO1xuQmxvY2tseS5Nc2dbXCJORVdfVkFSSUFCTEVfVFlQRV9USVRMRVwiXSA9IFwiTmV3IHZhcmlhYmxlIHR5cGU6XCI7XG5CbG9ja2x5Lk1zZ1tcIk9SRElOQUxfTlVNQkVSX1NVRkZJWFwiXSA9IFwiXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfQUxMT1dfU1RBVEVNRU5UU1wiXSA9IFwiYWxsb3cgc3RhdGVtZW50c1wiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0JFRk9SRV9QQVJBTVNcIl0gPSBcIndpdGg6XCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfQ0FMTE5PUkVUVVJOX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N1YnJvdXRpbmVcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19DQUxMTk9SRVRVUk5fVE9PTFRJUFwiXSA9IFwiUnVuIHRoZSB1c2VyLWRlZmluZWQgZnVuY3Rpb24gJyUxJy5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19DQUxMUkVUVVJOX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N1YnJvdXRpbmVcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19DQUxMUkVUVVJOX1RPT0xUSVBcIl0gPSBcIlJ1biB0aGUgdXNlci1kZWZpbmVkIGZ1bmN0aW9uICclMScgYW5kIHVzZSBpdHMgb3V0cHV0LlwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0NBTExfQkVGT1JFX1BBUkFNU1wiXSA9IFwid2l0aDpcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19DUkVBVEVfRE9cIl0gPSBcIkNyZWF0ZSAnJTEnXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGTk9SRVRVUk5fQ09NTUVOVFwiXSA9IFwiRGVzY3JpYmUgdGhpcyBmdW5jdGlvbi4uLlwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRk5PUkVUVVJOX0RPXCJdID0gXCJcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TdWJyb3V0aW5lXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGTk9SRVRVUk5fUFJPQ0VEVVJFXCJdID0gXCJkbyBzb21ldGhpbmdcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9USVRMRVwiXSA9IFwidG9cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9UT09MVElQXCJdID0gXCJDcmVhdGVzIGEgZnVuY3Rpb24gd2l0aCBubyBvdXRwdXQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGUkVUVVJOX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N1YnJvdXRpbmVcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZSRVRVUk5fUkVUVVJOXCJdID0gXCJyZXR1cm5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZSRVRVUk5fVE9PTFRJUFwiXSA9IFwiQ3JlYXRlcyBhIGZ1bmN0aW9uIHdpdGggYW4gb3V0cHV0LlwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRl9EVVBMSUNBVEVfV0FSTklOR1wiXSA9IFwiV2FybmluZzogVGhpcyBmdW5jdGlvbiBoYXMgZHVwbGljYXRlIHBhcmFtZXRlcnMuXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfSElHSExJR0hUX0RFRlwiXSA9IFwiSGlnaGxpZ2h0IGZ1bmN0aW9uIGRlZmluaXRpb25cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19JRlJFVFVSTl9IRUxQVVJMXCJdID0gXCJodHRwOi8vYzIuY29tL2NnaS93aWtpP0d1YXJkQ2xhdXNlXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfSUZSRVRVUk5fVE9PTFRJUFwiXSA9IFwiSWYgYSB2YWx1ZSBpcyB0cnVlLCB0aGVuIHJldHVybiBhIHNlY29uZCB2YWx1ZS5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19JRlJFVFVSTl9XQVJOSU5HXCJdID0gXCJXYXJuaW5nOiBUaGlzIGJsb2NrIG1heSBiZSB1c2VkIG9ubHkgd2l0aGluIGEgZnVuY3Rpb24gZGVmaW5pdGlvbi5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19NVVRBVE9SQVJHX1RJVExFXCJdID0gXCJpbnB1dCBuYW1lOlwiO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX01VVEFUT1JBUkdfVE9PTFRJUFwiXSA9IFwiQWRkIGFuIGlucHV0IHRvIHRoZSBmdW5jdGlvbi5cIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19NVVRBVE9SQ09OVEFJTkVSX1RJVExFXCJdID0gXCJpbnB1dHNcIjtcbkJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19NVVRBVE9SQ09OVEFJTkVSX1RPT0xUSVBcIl0gPSBcIkFkZCwgcmVtb3ZlLCBvciByZW9yZGVyIGlucHV0cyB0byB0aGlzIGZ1bmN0aW9uLlwiO1xuQmxvY2tseS5Nc2dbXCJSRURPXCJdID0gXCJSZWRvXCI7XG5CbG9ja2x5Lk1zZ1tcIlJFTU9WRV9DT01NRU5UXCJdID0gXCJSZW1vdmUgQ29tbWVudFwiO1xuQmxvY2tseS5Nc2dbXCJSRU5BTUVfVkFSSUFCTEVcIl0gPSBcIlJlbmFtZSB2YXJpYWJsZS4uLlwiO1xuQmxvY2tseS5Nc2dbXCJSRU5BTUVfVkFSSUFCTEVfVElUTEVcIl0gPSBcIlJlbmFtZSBhbGwgJyUxJyB2YXJpYWJsZXMgdG86XCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQVBQRU5EX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjdGV4dC1tb2RpZmljYXRpb25cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9BUFBFTkRfVElUTEVcIl0gPSBcInRvICUxIGFwcGVuZCB0ZXh0ICUyXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQVBQRU5EX1RPT0xUSVBcIl0gPSBcIkFwcGVuZCBzb21lIHRleHQgdG8gdmFyaWFibGUgJyUxJy5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFOR0VDQVNFX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjYWRqdXN0aW5nLXRleHQtY2FzZVwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQU5HRUNBU0VfT1BFUkFUT1JfTE9XRVJDQVNFXCJdID0gXCJ0byBsb3dlciBjYXNlXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBTkdFQ0FTRV9PUEVSQVRPUl9USVRMRUNBU0VcIl0gPSBcInRvIFRpdGxlIENhc2VcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFOR0VDQVNFX09QRVJBVE9SX1VQUEVSQ0FTRVwiXSA9IFwidG8gVVBQRVIgQ0FTRVwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQU5HRUNBU0VfVE9PTFRJUFwiXSA9IFwiUmV0dXJuIGEgY29weSBvZiB0aGUgdGV4dCBpbiBhIGRpZmZlcmVudCBjYXNlLlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQVJBVF9GSVJTVFwiXSA9IFwiZ2V0IGZpcnN0IGxldHRlclwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQVJBVF9GUk9NX0VORFwiXSA9IFwiZ2V0IGxldHRlciAjIGZyb20gZW5kXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ0hBUkFUX0ZST01fU1RBUlRcIl0gPSBcImdldCBsZXR0ZXIgI1wiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQVJBVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I2V4dHJhY3RpbmctdGV4dFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQVJBVF9MQVNUXCJdID0gXCJnZXQgbGFzdCBsZXR0ZXJcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFSQVRfUkFORE9NXCJdID0gXCJnZXQgcmFuZG9tIGxldHRlclwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NIQVJBVF9UQUlMXCJdID0gXCJcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFSQVRfVElUTEVcIl0gPSBcImluIHRleHQgJTEgJTJcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9DSEFSQVRfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyB0aGUgbGV0dGVyIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24uXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ09VTlRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCNjb3VudGluZy1zdWJzdHJpbmdzXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ09VTlRfTUVTU0FHRTBcIl0gPSBcImNvdW50ICUxIGluICUyXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ09VTlRfVE9PTFRJUFwiXSA9IFwiQ291bnQgaG93IG1hbnkgdGltZXMgc29tZSB0ZXh0IG9jY3VycyB3aXRoaW4gc29tZSBvdGhlciB0ZXh0LlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NSRUFURV9KT0lOX0lURU1fVE9PTFRJUFwiXSA9IFwiQWRkIGFuIGl0ZW0gdG8gdGhlIHRleHQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ1JFQVRFX0pPSU5fVElUTEVfSk9JTlwiXSA9IFwiam9pblwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0NSRUFURV9KT0lOX1RPT0xUSVBcIl0gPSBcIkFkZCwgcmVtb3ZlLCBvciByZW9yZGVyIHNlY3Rpb25zIHRvIHJlY29uZmlndXJlIHRoaXMgdGV4dCBibG9jay5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9HRVRfU1VCU1RSSU5HX0VORF9GUk9NX0VORFwiXSA9IFwidG8gbGV0dGVyICMgZnJvbSBlbmRcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9HRVRfU1VCU1RSSU5HX0VORF9GUk9NX1NUQVJUXCJdID0gXCJ0byBsZXR0ZXIgI1wiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0dFVF9TVUJTVFJJTkdfRU5EX0xBU1RcIl0gPSBcInRvIGxhc3QgbGV0dGVyXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfR0VUX1NVQlNUUklOR19IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I2V4dHJhY3RpbmctYS1yZWdpb24tb2YtdGV4dFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0dFVF9TVUJTVFJJTkdfSU5QVVRfSU5fVEVYVFwiXSA9IFwiaW4gdGV4dFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0dFVF9TVUJTVFJJTkdfU1RBUlRfRklSU1RcIl0gPSBcImdldCBzdWJzdHJpbmcgZnJvbSBmaXJzdCBsZXR0ZXJcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9HRVRfU1VCU1RSSU5HX1NUQVJUX0ZST01fRU5EXCJdID0gXCJnZXQgc3Vic3RyaW5nIGZyb20gbGV0dGVyICMgZnJvbSBlbmRcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9HRVRfU1VCU1RSSU5HX1NUQVJUX0ZST01fU1RBUlRcIl0gPSBcImdldCBzdWJzdHJpbmcgZnJvbSBsZXR0ZXIgI1wiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0dFVF9TVUJTVFJJTkdfVEFJTFwiXSA9IFwiXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfR0VUX1NVQlNUUklOR19UT09MVElQXCJdID0gXCJSZXR1cm5zIGEgc3BlY2lmaWVkIHBvcnRpb24gb2YgdGhlIHRleHQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfSU5ERVhPRl9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I2ZpbmRpbmctdGV4dFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0lOREVYT0ZfT1BFUkFUT1JfRklSU1RcIl0gPSBcImZpbmQgZmlyc3Qgb2NjdXJyZW5jZSBvZiB0ZXh0XCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfSU5ERVhPRl9PUEVSQVRPUl9MQVNUXCJdID0gXCJmaW5kIGxhc3Qgb2NjdXJyZW5jZSBvZiB0ZXh0XCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfSU5ERVhPRl9USVRMRVwiXSA9IFwiaW4gdGV4dCAlMSAlMiAlM1wiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0lOREVYT0ZfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0L2xhc3Qgb2NjdXJyZW5jZSBvZiB0aGUgZmlyc3QgdGV4dCBpbiB0aGUgc2Vjb25kIHRleHQuIFJldHVybnMgJTEgaWYgdGV4dCBpcyBub3QgZm91bmQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfSVNFTVBUWV9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9UZXh0I2NoZWNraW5nLWZvci1lbXB0eS10ZXh0XCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfSVNFTVBUWV9USVRMRVwiXSA9IFwiJTEgaXMgZW1wdHlcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9JU0VNUFRZX1RPT0xUSVBcIl0gPSBcIlJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgdGV4dCBpcyBlbXB0eS5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9KT0lOX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjdGV4dC1jcmVhdGlvblwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0pPSU5fVElUTEVfQ1JFQVRFV0lUSFwiXSA9IFwiY3JlYXRlIHRleHQgd2l0aFwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0pPSU5fVE9PTFRJUFwiXSA9IFwiQ3JlYXRlIGEgcGllY2Ugb2YgdGV4dCBieSBqb2luaW5nIHRvZ2V0aGVyIGFueSBudW1iZXIgb2YgaXRlbXMuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfTEVOR1RIX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjdGV4dC1tb2RpZmljYXRpb25cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9MRU5HVEhfVElUTEVcIl0gPSBcImxlbmd0aCBvZiAlMVwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX0xFTkdUSF9UT09MVElQXCJdID0gXCJSZXR1cm5zIHRoZSBudW1iZXIgb2YgbGV0dGVycyAoaW5jbHVkaW5nIHNwYWNlcykgaW4gdGhlIHByb3ZpZGVkIHRleHQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUFJJTlRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCNwcmludGluZy10ZXh0XCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUFJJTlRfVElUTEVcIl0gPSBcInByaW50ICUxXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUFJJTlRfVE9PTFRJUFwiXSA9IFwiUHJpbnQgdGhlIHNwZWNpZmllZCB0ZXh0LCBudW1iZXIgb3Igb3RoZXIgdmFsdWUuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUFJPTVBUX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjZ2V0dGluZy1pbnB1dC1mcm9tLXRoZS11c2VyXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUFJPTVBUX1RPT0xUSVBfTlVNQkVSXCJdID0gXCJQcm9tcHQgZm9yIHVzZXIgZm9yIGEgbnVtYmVyLlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1BST01QVF9UT09MVElQX1RFWFRcIl0gPSBcIlByb21wdCBmb3IgdXNlciBmb3Igc29tZSB0ZXh0LlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1BST01QVF9UWVBFX05VTUJFUlwiXSA9IFwicHJvbXB0IGZvciBudW1iZXIgd2l0aCBtZXNzYWdlXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUFJPTVBUX1RZUEVfVEVYVFwiXSA9IFwicHJvbXB0IGZvciB0ZXh0IHdpdGggbWVzc2FnZVwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1JFUExBQ0VfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCNyZXBsYWNpbmctc3Vic3RyaW5nc1wiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1JFUExBQ0VfTUVTU0FHRTBcIl0gPSBcInJlcGxhY2UgJTEgd2l0aCAlMiBpbiAlM1wiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1JFUExBQ0VfVE9PTFRJUFwiXSA9IFwiUmVwbGFjZSBhbGwgb2NjdXJhbmNlcyBvZiBzb21lIHRleHQgd2l0aGluIHNvbWUgb3RoZXIgdGV4dC5cIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9SRVZFUlNFX0hFTFBVUkxcIl0gPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvYmxvY2tseS93aWtpL1RleHQjcmV2ZXJzaW5nLXRleHRcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9SRVZFUlNFX01FU1NBR0UwXCJdID0gXCJyZXZlcnNlICUxXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfUkVWRVJTRV9UT09MVElQXCJdID0gXCJSZXZlcnNlcyB0aGUgb3JkZXIgb2YgdGhlIGNoYXJhY3RlcnMgaW4gdGhlIHRleHQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfVEVYVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TdHJpbmdfKGNvbXB1dGVyX3NjaWVuY2UpXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfVEVYVF9UT09MVElQXCJdID0gXCJBIGxldHRlciwgd29yZCwgb3IgbGluZSBvZiB0ZXh0LlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1RSSU1fSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVGV4dCN0cmltbWluZy1yZW1vdmluZy1zcGFjZXNcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9UUklNX09QRVJBVE9SX0JPVEhcIl0gPSBcInRyaW0gc3BhY2VzIGZyb20gYm90aCBzaWRlcyBvZlwiO1xuQmxvY2tseS5Nc2dbXCJURVhUX1RSSU1fT1BFUkFUT1JfTEVGVFwiXSA9IFwidHJpbSBzcGFjZXMgZnJvbSBsZWZ0IHNpZGUgb2ZcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9UUklNX09QRVJBVE9SX1JJR0hUXCJdID0gXCJ0cmltIHNwYWNlcyBmcm9tIHJpZ2h0IHNpZGUgb2ZcIjtcbkJsb2NrbHkuTXNnW1wiVEVYVF9UUklNX1RPT0xUSVBcIl0gPSBcIlJldHVybiBhIGNvcHkgb2YgdGhlIHRleHQgd2l0aCBzcGFjZXMgcmVtb3ZlZCBmcm9tIG9uZSBvciBib3RoIGVuZHMuXCI7XG5CbG9ja2x5Lk1zZ1tcIlRPREFZXCJdID0gXCJUb2RheVwiO1xuQmxvY2tseS5Nc2dbXCJVTkRPXCJdID0gXCJVbmRvXCI7XG5CbG9ja2x5Lk1zZ1tcIlVOTkFNRURfS0VZXCJdID0gXCJ1bm5hbWVkXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19ERUZBVUxUX05BTUVcIl0gPSBcIml0ZW1cIjtcbkJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX0dFVF9DUkVBVEVfU0VUXCJdID0gXCJDcmVhdGUgJ3NldCAlMSdcIjtcbkJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX0dFVF9IRUxQVVJMXCJdID0gXCJodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Jsb2NrbHkvd2lraS9WYXJpYWJsZXMjZ2V0XCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19HRVRfVE9PTFRJUFwiXSA9IFwiUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhpcyB2YXJpYWJsZS5cIjtcbkJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX1NFVFwiXSA9IFwic2V0ICUxIHRvICUyXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19TRVRfQ1JFQVRFX0dFVFwiXSA9IFwiQ3JlYXRlICdnZXQgJTEnXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19TRVRfSEVMUFVSTFwiXSA9IFwiaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9ibG9ja2x5L3dpa2kvVmFyaWFibGVzI3NldFwiO1xuQmxvY2tseS5Nc2dbXCJWQVJJQUJMRVNfU0VUX1RPT0xUSVBcIl0gPSBcIlNldHMgdGhpcyB2YXJpYWJsZSB0byBiZSBlcXVhbCB0byB0aGUgaW5wdXQuXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFX0FMUkVBRFlfRVhJU1RTXCJdID0gXCJBIHZhcmlhYmxlIG5hbWVkICclMScgYWxyZWFkeSBleGlzdHMuXCI7XG5CbG9ja2x5Lk1zZ1tcIlZBUklBQkxFX0FMUkVBRFlfRVhJU1RTX0ZPUl9BTk9USEVSX1RZUEVcIl0gPSBcIkEgdmFyaWFibGUgbmFtZWQgJyUxJyBhbHJlYWR5IGV4aXN0cyBmb3IgYW5vdGhlciB0eXBlOiAnJTInLlwiO1xuQmxvY2tseS5Nc2dbXCJXT1JLU1BBQ0VfQVJJQV9MQUJFTFwiXSA9IFwiQmxvY2tseSBXb3Jrc3BhY2VcIjtcbkJsb2NrbHkuTXNnW1wiV09SS1NQQUNFX0NPTU1FTlRfREVGQVVMVF9URVhUXCJdID0gXCJTYXkgc29tZXRoaW5nLi4uXCI7XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0ZPUkVBQ0hfSU5QVVRfRE9cIl0gPSBCbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1JFUEVBVF9JTlBVVF9ET1wiXTtcbkJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfRk9SX0lOUFVUX0RPXCJdID0gQmxvY2tseS5Nc2dbXCJDT05UUk9MU19SRVBFQVRfSU5QVVRfRE9cIl07XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX0VMU0VJRl9USVRMRV9FTFNFSUZcIl0gPSBCbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX01TR19FTFNFSUZcIl07XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX0VMU0VfVElUTEVfRUxTRVwiXSA9IEJsb2NrbHkuTXNnW1wiQ09OVFJPTFNfSUZfTVNHX0VMU0VcIl07XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX0lGX1RJVExFX0lGXCJdID0gQmxvY2tseS5Nc2dbXCJDT05UUk9MU19JRl9NU0dfSUZcIl07XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX0lGX01TR19USEVOXCJdID0gQmxvY2tseS5Nc2dbXCJDT05UUk9MU19SRVBFQVRfSU5QVVRfRE9cIl07XG5CbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1dISUxFVU5USUxfSU5QVVRfRE9cIl0gPSBCbG9ja2x5Lk1zZ1tcIkNPTlRST0xTX1JFUEVBVF9JTlBVVF9ET1wiXTtcbkJsb2NrbHkuTXNnW1wiTElTVFNfQ1JFQVRFX1dJVEhfSVRFTV9USVRMRVwiXSA9IEJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX0RFRkFVTFRfTkFNRVwiXTtcbkJsb2NrbHkuTXNnW1wiTElTVFNfR0VUX0lOREVYX0hFTFBVUkxcIl0gPSBCbG9ja2x5Lk1zZ1tcIkxJU1RTX0lOREVYX09GX0hFTFBVUkxcIl07XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9JTkRFWF9JTlBVVF9JTl9MSVNUXCJdID0gQmxvY2tseS5Nc2dbXCJMSVNUU19JTkxJU1RcIl07XG5CbG9ja2x5Lk1zZ1tcIkxJU1RTX0dFVF9TVUJMSVNUX0lOUFVUX0lOX0xJU1RcIl0gPSBCbG9ja2x5Lk1zZ1tcIkxJU1RTX0lOTElTVFwiXTtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSU5ERVhfT0ZfSU5QVVRfSU5fTElTVFwiXSA9IEJsb2NrbHkuTXNnW1wiTElTVFNfSU5MSVNUXCJdO1xuQmxvY2tseS5Nc2dbXCJMSVNUU19TRVRfSU5ERVhfSU5QVVRfSU5fTElTVFwiXSA9IEJsb2NrbHkuTXNnW1wiTElTVFNfSU5MSVNUXCJdO1xuQmxvY2tseS5Nc2dbXCJNQVRIX0NIQU5HRV9USVRMRV9JVEVNXCJdID0gQmxvY2tseS5Nc2dbXCJWQVJJQUJMRVNfREVGQVVMVF9OQU1FXCJdO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRlJFVFVSTl9DT01NRU5UXCJdID0gQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRk5PUkVUVVJOX0NPTU1FTlRcIl07XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGUkVUVVJOX0RPXCJdID0gQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRk5PUkVUVVJOX0RPXCJdO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRlJFVFVSTl9QUk9DRURVUkVcIl0gPSBCbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfREVGTk9SRVRVUk5fUFJPQ0VEVVJFXCJdO1xuQmxvY2tseS5Nc2dbXCJQUk9DRURVUkVTX0RFRlJFVFVSTl9USVRMRVwiXSA9IEJsb2NrbHkuTXNnW1wiUFJPQ0VEVVJFU19ERUZOT1JFVFVSTl9USVRMRVwiXTtcbkJsb2NrbHkuTXNnW1wiVEVYVF9BUFBFTkRfVkFSSUFCTEVcIl0gPSBCbG9ja2x5Lk1zZ1tcIlZBUklBQkxFU19ERUZBVUxUX05BTUVcIl07XG5CbG9ja2x5Lk1zZ1tcIlRFWFRfQ1JFQVRFX0pPSU5fSVRFTV9USVRMRV9JVEVNXCJdID0gQmxvY2tseS5Nc2dbXCJWQVJJQUJMRVNfREVGQVVMVF9OQU1FXCJdO1xuXG5CbG9ja2x5Lk1zZ1tcIk1BVEhfSFVFXCJdID0gXCIyMzBcIjtcbkJsb2NrbHkuTXNnW1wiTE9PUFNfSFVFXCJdID0gXCIxMjBcIjtcbkJsb2NrbHkuTXNnW1wiTElTVFNfSFVFXCJdID0gXCIyNjBcIjtcbkJsb2NrbHkuTXNnW1wiTE9HSUNfSFVFXCJdID0gXCIyMTBcIjtcbkJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX0hVRVwiXSA9IFwiMzMwXCI7XG5CbG9ja2x5Lk1zZ1tcIlRFWFRTX0hVRVwiXSA9IFwiMTYwXCI7XG5CbG9ja2x5Lk1zZ1tcIlBST0NFRFVSRVNfSFVFXCJdID0gXCIyOTBcIjtcbkJsb2NrbHkuTXNnW1wiQ09MT1VSX0hVRVwiXSA9IFwiMjBcIjtcbkJsb2NrbHkuTXNnW1wiVkFSSUFCTEVTX0RZTkFNSUNfSFVFXCJdID0gXCIzMTBcIjtcbnJldHVybiBCbG9ja2x5Lk1zZztcbn0pKTsgXG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgQmxvY2tseSBmcm9tICdibG9ja2x5JztcblxuY29uc3QgQkxPQ0tMWV9DT05GSUcgPSB7XG4gICAgdG9vbGJveDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b29sYm94XCIpXG59O1xuXG5mdW5jdGlvbiBtYWluKCk6IHZvaWQge1xuICAgIGluaXQoKTtcbn1cblxuXG5mdW5jdGlvbiBpbml0KCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKFwiaG1tXCIpO1xuICAgIGNvbnN0IHdvcmtzcGFjZSA9IEJsb2NrbHkuaW5qZWN0KCdibG9ja2x5RGl2JywgQkxPQ0tMWV9DT05GSUcpO1xuXG4gICAgcmVzaXplQmxvY2tseSh3b3Jrc3BhY2UpO1xufVxuXG5cbmZ1bmN0aW9uIHJlc2l6ZUJsb2NrbHkod29ya3NwYWNlKTogdm9pZCB7XG4gICAgY29uc3QgYmxvY2tseURpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmxvY2tseURpdlwiKTtcbiAgICBjb25zdCBibG9ja2x5QXJlYSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmxvY2tseUFyZWFcIik7XG4gICAgY29uc3Qgb25yZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gQ29tcHV0ZSB0aGUgYWJzb2x1dGUgY29vcmRpbmF0ZXMgYW5kIGRpbWVuc2lvbnMgb2YgYmxvY2tseUFyZWEuXG4gICAgICAgIGxldCBlbGVtZW50ID0gYmxvY2tseUFyZWE7XG4gICAgICAgIGxldCB4ID0gMDtcbiAgICAgICAgbGV0IHkgPSAwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICB4ICs9IGVsZW1lbnQub2Zmc2V0TGVmdDtcbiAgICAgICAgICAgIHkgKz0gZWxlbWVudC5vZmZzZXRUb3A7XG4gICAgICAgICAgICBlbGVtZW50ID0gPEhUTUxFbGVtZW50PmVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICAgICAgICB9IHdoaWxlIChlbGVtZW50KTtcblxuICAgICAgICAvLyBQb3NpdGlvbiBibG9ja2x5RGl2IG92ZXIgYmxvY2tseUFyZWEuXG4gICAgICAgIGJsb2NrbHlEaXYuc3R5bGUubGVmdCA9IHggKyAncHgnO1xuICAgICAgICBibG9ja2x5RGl2LnN0eWxlLnRvcCA9IHkgKyAncHgnO1xuXG4gICAgICAgIGJsb2NrbHlEaXYuc3R5bGUud2lkdGggPSBibG9ja2x5QXJlYS5vZmZzZXRXaWR0aCArICdweCc7XG4gICAgICAgIGJsb2NrbHlEaXYuc3R5bGUuaGVpZ2h0ID0gYmxvY2tseUFyZWEub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICBCbG9ja2x5LnN2Z1Jlc2l6ZSh3b3Jrc3BhY2UpO1xuICAgIH07XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9ucmVzaXplLCBmYWxzZSk7XG4gICAgb25yZXNpemUoKTtcbiAgICBCbG9ja2x5LnN2Z1Jlc2l6ZSh3b3Jrc3BhY2UpO1xufVxuXG5cblxud2luZG93Lm9ubG9hZCA9IG1haW47XG4iXSwic291cmNlUm9vdCI6IiJ9